"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[9669],{413546:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},i=n(770348);var o={popFirstFile:function(e){a.default.dispatch({type:i.ActionTypes.UPLOAD_ATTACHMENT_POP_FILE,channelId:e})},addFiles:function(e){var t=e.files,n=e.channelId,r=e.showLargeMessageDialog,o=e.draftType;a.default.dispatch({type:i.ActionTypes.UPLOAD_ATTACHMENT_ADD_FILES,channelId:n,files:t,showLargeMessageDialog:r,draftType:o})},addFile:function(e){var t=e.file,n=e.channelId,r=e.showLargeMessageDialog,o=e.draftType;a.default.dispatch({type:i.ActionTypes.UPLOAD_ATTACHMENT_ADD_FILES,channelId:n,files:[t],showLargeMessageDialog:r,draftType:o})},remove:function(e,t,n){a.default.dirtyDispatch({type:i.ActionTypes.UPLOAD_ATTACHMENT_REMOVE_FILE,channelId:e,id:t,draftType:n})},removeFiles:function(e,t,n){a.default.dispatch({
type:i.ActionTypes.UPLOAD_ATTACHMENT_REMOVE_FILES,channelId:e,attachmentIds:t,draftType:n})},clearAll:function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.UPLOAD_ATTACHMENT_CLEAR_ALL_FILES,channelId:e,draftType:t})},update:function(e,t,n,r){var o=r.description,u=r.filename,l=r.spoiler;a.default.dispatch({type:i.ActionTypes.UPLOAD_ATTACHMENT_UPDATE_FILE,channelId:e,id:t,filename:u,description:o,spoiler:l,draftType:n})},setUploads:function(e){var t=e.uploads,n=e.channelId,r=e.draftType;a.default.dirtyDispatch({type:i.ActionTypes.UPLOAD_ATTACHMENT_SET_UPLOADS,channelId:n,uploads:t,draftType:r})},setFile:function(e){var t=e.file,n=e.channelId,r=e.id,o=e.draftType;a.default.dirtyDispatch({type:i.ActionTypes.UPLOAD_ATTACHMENT_SET_FILE,channelId:n,id:r,file:t,draftType:o})}};t.default=o},169549:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=r.useRef(null);null===e.current&&(e.current=new AbortController);r.useEffect((function(){return function(){
var t;null===(t=e.current)||void 0===t||t.abort()}}),[]);return e.current.signal};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=i?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},298169:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.numberParts=void 0;t.numberParts={__proto__:null,bg:{group:" ",decimal:","},cs:{group:" ",decimal:","},da:{group:".",decimal:","},de:{group:".",decimal:","},el:{group:".",decimal:","},"en-GB":{group:",",decimal:"."},"en-US":{group:",",decimal:"."},"es-ES":{
group:".",decimal:","},fi:{group:" ",decimal:","},fr:{group:" ",decimal:","},hi:{group:",",decimal:"."},hr:{group:".",decimal:","},hu:{group:" ",decimal:","},it:{group:".",decimal:","},ja:{group:",",decimal:"."},ko:{group:",",decimal:"."},lt:{group:" ",decimal:","},nl:{group:".",decimal:","},no:{group:" ",decimal:","},pl:{group:" ",decimal:","},"pt-BR":{group:".",decimal:","},ro:{group:".",decimal:","},ru:{group:" ",decimal:","},"sv-SE":{group:" ",decimal:","},th:{group:",",decimal:"."},tr:{group:".",decimal:","},uk:{group:" ",decimal:","},vi:{group:".",decimal:","},"zh-CN":{group:",",decimal:"."},"zh-TW":{group:",",decimal:"."}}},481414:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.getBuiltInCommands=t.BUILT_IN_SECTIONS=t.BUILT_IN_COMMANDS_ORIGINAL=t.BUILT_IN_COMMANDS=void 0
;var r,a=N(n(441143)),i=N(n(730381)),o=n(723360),u=N(n(616213)),l=N(n(709403)),s=N(n(415275)),d=N(n(786345)),c=n(81069),p=n(506309),f=N(n(614293)),m=n(192751),y=n(192110),_=n(819235),T=n(894826),g=N(n(644263)),I=N(n(689389)),v=N(n(663303)),A=N(n(728429)),M=n(65621),C=n(484278),O=n(770348),h=n(397769),E=N(n(247001));function N(e){return e&&e.__esModule?e:{default:e}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function D(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){D(i,r,a,o,u,"next",e)}function u(e){D(i,r,a,o,u,"throw",e)}o(void 0)}))}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
var P=n(258938).Z,U=function(e,t){var n;return null===(n=e.find((function(e){return e.name===t})))||void 0===n?void 0:n.value},L=((r={})[C.BuiltInSectionId.BUILT_IN]={id:C.BuiltInSectionId.BUILT_IN,type:M.ApplicationCommandSectionType.BUILT_IN,get name(){return E.default.Messages.COMMAND_SECTION_BUILT_IN_NAME}},r[C.BuiltInSectionId.FRECENCY]={id:C.BuiltInSectionId.FRECENCY,type:M.ApplicationCommandSectionType.BUILT_IN,get name(){return E.default.Messages.FREQUENTLY_USED}},r);t.BUILT_IN_SECTIONS=L;var w,x,B=[].concat(function(e){if(Array.isArray(e))return R(e)}(x=P)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(x)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(x)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{id:"-1",name:"shrug",displayName:"shrug",type:c.ApplicationCommandType.CHAT,inputType:M.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:C.BuiltInSectionId.BUILT_IN,get description(){return E.default.Messages.COMMAND_SHRUG_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_SHRUG_DESCRIPTION},options:[{name:"message",displayName:"message",type:c.ApplicationCommandOptionType.STRING,get description(){return E.default.Messages.COMMAND_SHRUG_MESSAGE_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_SHRUG_MESSAGE_DESCRIPTION}}],execute:function(e){var t;return{content:((null!==(t=U(e,"message"))&&void 0!==t?t:"")+" ¯\\_(ツ)_/¯").trim()}}},{id:"-2",name:"tableflip",displayName:"tableflip",type:c.ApplicationCommandType.CHAT,inputType:M.ApplicationCommandInputType.BUILT_IN_TEXT,
applicationId:C.BuiltInSectionId.BUILT_IN,get description(){return E.default.Messages.COMMAND_TABLEFLIP_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_TABLEFLIP_DESCRIPTION},options:[{name:"message",displayName:"message",type:c.ApplicationCommandOptionType.STRING,get description(){return E.default.Messages.COMMAND_TABLEFLIP_MESSAGE_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_TABLEFLIP_MESSAGE_DESCRIPTION}}],execute:function(e){var t;return{content:((null!==(t=U(e,"message"))&&void 0!==t?t:"")+" (╯°□°）╯︵ ┻━┻").trim()}}},{id:"-3",name:"unflip",displayName:"unflip",type:c.ApplicationCommandType.CHAT,inputType:M.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:C.BuiltInSectionId.BUILT_IN,get description(){return E.default.Messages.COMMAND_TABLEUNFLIP_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_TABLEUNFLIP_DESCRIPTION},options:[{name:"message",displayName:"message",
type:c.ApplicationCommandOptionType.STRING,get description(){return E.default.Messages.COMMAND_TABLEUNFLIP_MESSAGE_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_TABLEUNFLIP_MESSAGE_DESCRIPTION}}],execute:function(e){var t;return{content:((null!==(t=U(e,"message"))&&void 0!==t?t:"")+" ┬─┬ ノ( ゜-゜ノ)").trim()}}},{id:"-4",name:"tts",displayName:"tts",type:c.ApplicationCommandType.CHAT,inputType:M.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:C.BuiltInSectionId.BUILT_IN,get description(){return E.default.Messages.COMMAND_TTS_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_TTS_DESCRIPTION},options:[{name:"message",displayName:"message",type:c.ApplicationCommandOptionType.STRING,get description(){return E.default.Messages.COMMAND_TTS_MESSAGE_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_TTS_MESSAGE_DESCRIPTION},required:!0}],predicate:function(e){var t=e.channel
;return!t.isPrivate()&&T.EnableTTSCommand.getSetting()&&I.default.can(O.Permissions.SEND_TTS_MESSAGES,t)},execute:function(e){var t;return{content:null!==(t=U(e,"message"))&&void 0!==t?t:"",tts:!0}}},{id:"-5",name:"me",displayName:"me",type:c.ApplicationCommandType.CHAT,inputType:M.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:C.BuiltInSectionId.BUILT_IN,get description(){return E.default.Messages.COMMAND_ME_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_ME_DESCRIPTION},options:[{name:"message",displayName:"message",type:c.ApplicationCommandOptionType.STRING,get description(){return E.default.Messages.COMMAND_ME_MESSAGE_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_ME_MESSAGE_DESCRIPTION},required:!0}],execute:function(e){var t;return{content:"_"+(null!==(t=U(e,"message"))&&void 0!==t?t:"")+"_"}}},{id:"-6",name:"spoiler",displayName:"spoiler",type:c.ApplicationCommandType.CHAT,
inputType:M.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:C.BuiltInSectionId.BUILT_IN,get description(){return E.default.Messages.COMMAND_SPOILER_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_SPOILER_DESCRIPTION},options:[{name:"message",displayName:"message",type:c.ApplicationCommandOptionType.STRING,get description(){return E.default.Messages.COMMAND_SPOILER_MESSAGE_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_SPOILER_MESSAGE_DESCRIPTION},required:!0}],execute:function(e){var t,n=null!==(t=U(e,"message"))&&void 0!==t?t:"";return{content:(0,O.MARKDOWN_SPOILER_WRAPPER)(n).trim()}}},{id:"-7",name:"nick",displayName:"nick",type:c.ApplicationCommandType.CHAT,inputType:M.ApplicationCommandInputType.BUILT_IN,applicationId:C.BuiltInSectionId.BUILT_IN,get description(){return E.default.Messages.COMMAND_NICK_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_NICK_DESCRIPTION},options:[{name:"new_nick",
displayName:"new_nick",type:c.ApplicationCommandOptionType.STRING,get description(){return E.default.Messages.COMMAND_NICK_NEWNICK_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_NICK_NEWNICK_DESCRIPTION}}],predicate:function(e){var t=e.channel;return!t.isPrivate()&&(I.default.can(O.Permissions.CHANGE_NICKNAME,t)||I.default.can(O.Permissions.MANAGE_NICKNAMES,t))},execute:function(e,t){var n,r=t.guild,a=t.channel;if(null!=r){var i=null!==(n=U(e,"new_nick"))&&void 0!==n?n:"";u.default.changeNickname(r.id,a.id,O.ME,i||"")}}},{id:"-10",name:"thread",displayName:"thread",type:c.ApplicationCommandType.CHAT,inputType:M.ApplicationCommandInputType.BUILT_IN,applicationId:C.BuiltInSectionId.BUILT_IN,get description(){return E.default.Messages.COMMAND_THREAD_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_THREAD_DESCRIPTION},options:[{name:"name",displayName:"name",type:c.ApplicationCommandOptionType.STRING,get description(){
return E.default.Messages.COMMAND_THREAD_NAME_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_THREAD_NAME_DESCRIPTION},required:!0},{name:"message",displayName:"message",type:c.ApplicationCommandOptionType.STRING,get description(){return E.default.Messages.COMMAND_THREAD_MESSAGE_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_THREAD_MESSAGE_DESCRIPTION},required:!0}],predicate:function(e){var t=e.channel;return(0,_.computeCanStartPublicThread)(t)},execute:(w=b(regeneratorRuntime.mark((function e(t,n){var r,a,i,u,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.channel;u=null!==(r=U(t,"name"))&&void 0!==r?r:"";l=null!==(a=U(t,"message"))&&void 0!==a?a:"";e.next=5;return(0,y.createThread)(i,u,o.ChannelTypes.PUBLIC_THREAD,(0,m.getAutoArchiveDuration)(i,null),"Slash Command");case 5:s=e.sent;d.default.sendMessage(s.id,f.default.parse(s,l));case 7:case"end":return e.stop()}}),e)}))),function(e,t){
return w.apply(this,arguments)})},{id:"-11",name:"kick",displayName:"kick",type:c.ApplicationCommandType.CHAT,inputType:M.ApplicationCommandInputType.BUILT_IN,applicationId:C.BuiltInSectionId.BUILT_IN,get description(){return E.default.Messages.COMMAND_KICK_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_KICK_DESCRIPTION},options:[{name:"user",displayName:"user",type:c.ApplicationCommandOptionType.USER,get description(){return E.default.Messages.COMMAND_KICK_USER_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_KICK_USER_DESCRIPTION},required:!0},{name:"reason",displayName:"reason",type:c.ApplicationCommandOptionType.STRING,get description(){return E.default.Messages.COMMAND_KICK_REASON_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_KICK_REASON_DESCRIPTION},required:!1}],predicate:function(e){var t=e.guild;return I.default.can(O.Permissions.KICK_MEMBERS,t)},execute:function(e,t){var n,r=t.guild,a=t.channel
;if(null!=r){var i=null!==(n=U(e,"user"))&&void 0!==n?n:"";if(I.default.canManageUser(O.Permissions.KICK_MEMBERS,i,r)){var o=function(){var t=b(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(o=A.default.getUser(i))){t.next=3;break}throw new Error;case 3:t.next=5;return s.default.kickUser(r.id,i,null!==(n=U(e,"reason"))&&void 0!==n?n:"");case 5:d.default.sendBotMessage(a.id,E.default.Messages.COMMAND_KICK_CONFIRMATION.format({user:v.default.hidePersonalInformation?o.username:o.tag}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o().catch((function(){d.default.sendBotMessage(a.id,E.default.Messages.COMMAND_KICK_ERROR)}))}else d.default.sendBotMessage(a.id,E.default.Messages.COMMAND_KICK_UNABLE)}}},{id:"-12",name:"ban",displayName:"ban",type:c.ApplicationCommandType.CHAT,inputType:M.ApplicationCommandInputType.BUILT_IN,
applicationId:C.BuiltInSectionId.BUILT_IN,get description(){return E.default.Messages.COMMAND_BAN_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_BAN_DESCRIPTION},options:[{name:"user",displayName:"user",type:c.ApplicationCommandOptionType.USER,get description(){return E.default.Messages.COMMAND_BAN_USER_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_BAN_USER_DESCRIPTION},required:!0},{name:"delete_messages",displayName:"delete_messages",type:c.ApplicationCommandOptionType.STRING,get description(){return E.default.Messages.COMMAND_BAN_DELETE_MESSAGES_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_BAN_DELETE_MESSAGES_DESCRIPTION},required:!0,get choices(){return[{name:E.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_NONE,displayName:E.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_NONE,value:"0"},{name:E.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_24HR,
displayName:E.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_24HR,value:"1"},{name:E.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_7D,displayName:E.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_7D,value:"7"}]}},{name:"reason",displayName:"reason",type:c.ApplicationCommandOptionType.STRING,get description(){return E.default.Messages.COMMAND_BAN_REASON_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_BAN_REASON_DESCRIPTION},required:!1}],predicate:function(e){var t=e.guild;return I.default.can(O.Permissions.BAN_MEMBERS,t)},execute:function(e,t){var n,r=t.guild,a=t.channel;if(null!=r){var i=null!==(n=U(e,"user"))&&void 0!==n?n:"";if(I.default.canManageUser(O.Permissions.BAN_MEMBERS,i,r)){var o=function(){var t=b(regeneratorRuntime.mark((function t(){var n,o,u,l,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==i){t.next=2;break}throw new Error;case 2:u=null!==(n=U(e,"delete_messages"))&&void 0!==n?n:""
;l=null!==(o=U(e,"reason"))&&void 0!==o?o:"";c=A.default.getUser(i);t.next=7;return s.default.banUser(r.id,i,u,l);case 7:d.default.sendBotMessage(a.id,E.default.Messages.COMMAND_BAN_CONFIRMATION.format({user:null!=c?v.default.hidePersonalInformation?c.username:c.tag:i}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o().catch((function(){d.default.sendBotMessage(a.id,E.default.Messages.COMMAND_BAN_ERROR)}))}else d.default.sendBotMessage(a.id,E.default.Messages.COMMAND_BAN_UNABLE)}}},{id:"-13",name:"timeout",displayName:"timeout",type:c.ApplicationCommandType.CHAT,inputType:M.ApplicationCommandInputType.BUILT_IN,applicationId:C.BuiltInSectionId.BUILT_IN,get description(){return E.default.Messages.COMMAND_TIMEOUT_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_TIMEOUT_DESCRIPTION},options:[{name:"user",displayName:"user",type:c.ApplicationCommandOptionType.USER,get description(){
return E.default.Messages.COMMAND_TIMEOUT_USER_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_TIMEOUT_USER_DESCRIPTION},required:!0},{name:"duration",displayName:"duration",type:c.ApplicationCommandOptionType.STRING,get description(){return E.default.Messages.COMMAND_TIMEOUT_DURATION_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_TIMEOUT_DURATION_DESCRIPTION},required:!0,get choices(){return(0,h.getDisableCommunicationDurationOptions)().map((function(e){return S({},e,{name:e.label,displayName:e.label})}))}},{name:"reason",displayName:"reason",type:c.ApplicationCommandOptionType.STRING,get description(){return E.default.Messages.COMMAND_TIMEOUT_REASON_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_TIMEOUT_REASON_DESCRIPTION},required:!1}],predicate:function(e){var t=e.guild;return I.default.can(O.Permissions.MODERATE_MEMBERS,t)},execute:function(e,t){var n=t.guild,r=t.channel;if(null!=n){var a=U(e,"user");if((0,
p.canToggleCommunicationDisableOnUser)(n.id,a)){var o=function(){var t=b(regeneratorRuntime.mark((function t(){var o,u,l,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=null!==(o=U(e,"duration"))&&void 0!==o?o:"";c=null!==(u=U(e,"reason"))&&void 0!==u?u:"";if(null!=(p=A.default.getUser(a))){t.next=5;break}throw new Error;case 5:t.next=7;return s.default.setCommunicationDisabledUntil(n.id,a,(0,i.default)().add(l,"s").toISOString(),l,c);case 7:d.default.sendBotMessage(r.id,E.default.Messages.COMMAND_TIMEOUT_CONFIRMATION.format({user:v.default.hidePersonalInformation?p.username:p.tag,duration:l}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o().catch((function(){d.default.sendBotMessage(r.id,E.default.Messages.COMMAND_TIMEOUT_ERROR)}))}else d.default.sendBotMessage(r.id,E.default.Messages.COMMAND_TIMEOUT_UNABLE)}}},{id:"-14",name:"msg",displayName:"msg",type:c.ApplicationCommandType.CHAT,
inputType:M.ApplicationCommandInputType.BUILT_IN,applicationId:C.BuiltInSectionId.BUILT_IN,get description(){return E.default.Messages.COMMAND_MSG_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_MSG_DESCRIPTION},options:[{name:"user",displayName:"user",type:c.ApplicationCommandOptionType.USER,get description(){return E.default.Messages.COMMAND_MSG_USER_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_MSG_USER_DESCRIPTION},required:!0},{name:"message",displayName:"message",type:c.ApplicationCommandOptionType.STRING,get description(){return E.default.Messages.COMMAND_MSG_MESSAGE_DESCRIPTION},get displayDescription(){return E.default.Messages.COMMAND_MSG_MESSAGE_DESCRIPTION},required:!0}],execute:function(e,t){var n,r=t.channel,i=U(e,"user"),o=null!==(n=U(e,"message"))&&void 0!==n?n:"",u=function(){var e=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return l.default.openPrivateChannel(i).then((function(e){var t=g.default.getChannel(e);(0,a.default)(null!=t,"Newly created PrivateChannel is null");d.default.sendMessage(t.id,f.default.parse(t,o))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();u().catch((function(){d.default.sendBotMessage(r.id,E.default.Messages.COMMAND_MSG_ERROR)}))}}]);t.BUILT_IN_COMMANDS=B;var j=B.filter((function(e){return["giphy","tenor","tts","me","tableflip","unflip","shrug","spoiler","nick"].includes(e.name)}));t.BUILT_IN_COMMANDS_ORIGINAL=j;t.getBuiltInCommands=function(e,t,n){var r=t?B:j;return r=r.filter((function(t){return t.type===e&&(!n||t.inputType===M.ApplicationCommandInputType.BUILT_IN_TEXT||t.inputType===M.ApplicationCommandInputType.BUILT_IN_INTEGRATION)}))}},166806:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.useTopCommands=function(e){r.useEffect((function(){i.FrecencyUserSettingsActionCreators.loadIfNecessary()}),[]);var t=(0,
a.useStateFromStores)([o.default],(function(){return o.default.getTopCommandsWithoutLoadingLatest()}));return r.useMemo((function(){return(0,o.getFilteredTopCommands)(t,e)}),[t,e])};t.useTopRealCommands=function(e){r.useEffect((function(){i.FrecencyUserSettingsActionCreators.loadIfNecessary()}),[]);var t=(0,a.useStateFromStores)([o.default],(function(){return o.default.getTopCommandsWithoutLoadingLatest()}));return r.useMemo((function(){var n=(0,o.getFilteredTopCommands)(t,e);return(0,o.getTopRealCommands)(n)}),[t,e])};var r=l(n(667294)),a=n(536211),i=n(828593),o=l(n(290760));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}},290760:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getFilteredTopCommands=function(e,t){return e.filter((function(e){return!e.includes(":")||null!=t.guild&&t.guild.id===e.split(":")[1]})).map((function(e){return e.split(":")[0]}))};t.getTopRealCommands=function(e){for(var t,n=new Set,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=r()).done;){
var a=t.value.split(d.SUB_COMMAND_KEY_SEPARATOR)[0];Number(a)>0&&n.add(a);if(n.size>=d.DISCOVERY_COMMAND_FRECENCY_GATEWAY_LIMIT)break}return i=n,function(e){if(Array.isArray(e))return T(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||_(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var i};var r,a=f(n(496486)),i=f(n(536211)),o=f(n(636602)),u=n(81069),l=f(n(71319)),s=f(n(960441)),d=n(484278),c=n(770348),p=n(840433);function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function _(e,t){if(e){
if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g={pendingUsages:[]},I=new l.default({computeBonus:function(){return 1},computeWeight:function(e){return e<=3?100:e<=15?70:e<=30?50:e<=45?30:e<=80?10:0},lookupKey:function(e){return e},afterCompute:function(){},numFrequentlyItems:500});function v(e,t){return Number(t.id)<0?t.id:null!=e.guild&&null!=t.guildId?t.id+":"+e.guild.id:t.id}function A(){var e,t,n=null!==(e=null===(t=s.default.frecencyWithoutFetchingLatest.applicationCommandFrecency)||void 0===t?void 0:t.applicationCommands)&&void 0!==e?e:{};I.overwriteHistory(a.default.mapValues(n,(function(e){return y({},e,{
recentUses:e.recentUses.map(Number).filter((function(e){return e>0}))})})),g.pendingUsages)}var M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(g=e);this.syncWith([s.default],A)};n.getState=function(){return g};n.hasPendingUsage=function(){return g.pendingUsages.length>0};n.getCommandFrecencyWithoutLoadingLatest=function(){return I};n.getScoreWithoutLoadingLatest=function(e,t){var n;return null!==(n=I.getScore(v(e,t)))&&void 0!==n?n:0};n.getTopCommandsWithoutLoadingLatest=function(){return I.frequently};n.__getLocalVars=function(){return{state:g,commandFrecency:I}};return t}(i.default.PersistedStore);M.displayName="ApplicationCommandFrecencyStore";M.persistKey="ApplicationCommandFrecencyV2";var C=new M(o.default,((r={})[c.ActionTypes.APPLICATION_COMMAND_USED]=function(e){var t=e.command,n=e.context
;if(t.type!==u.ApplicationCommandType.CHAT)return!1;var r=v(n,t);g.pendingUsages.push({key:r,timestamp:Date.now()});I.track(r);I.compute()},r[c.ActionTypes.USER_SETTINGS_PROTO_UPDATE]=function(e){var t=e.settings.type,n=e.wasSaved;if(t!==p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS||!n)return!1;g.pendingUsages=[]},r));t.default=C},422374:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.slashCommandLocalizationEnabled=function(){return(0,a.isIOS)()&&i.default.getCurrentConfig({}).enabled};var r,a=n(864489),i=(r=n(752765))&&r.__esModule?r:{default:r}},24922:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.filterEmpty=f;t.getBoolean=m;t.getChannelId=y;t.getOptionalBoolean=function(e,t){return null==e[t]?null:m(e,t)};t.getOptionalChannelId=function(e,t){return null==e[t]?null:y(e,t)};t.getOptionalRoleId=function(e,t){return null==e[t]?null:T(e,t)};t.getOptionalString=function(e,t){return null==e[t]?null:g(e,t)};t.getOptionalUserId=function(e,t){
return null==e[t]?null:_(e,t)};t.getRoleId=T;t.getString=g;t.getUserId=_;t.normalizeNumericString=function(e,t){if(e!==i){var n;i=e;var o=null!==(n=u.numberParts[e])&&void 0!==n?n:u.numberParts["en-US"],s=o.group,d=o.decimal;r=new RegExp(l.default.escape(s),"g");a=new RegExp(l.default.escape(d),"g")}return t.replace(r,"").replace(a,".")};var r,a,i,o=d(n(441143)),u=n(298169),l=d(n(827513)),s=n(484278);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{
done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){return null==e?[]:e.filter((function(t,n){return"text"!==t.type||(n>0&&n<e.length-1?""!==t.text:""!==t.text.trim())}))}function m(e,t){var n,r=f(e[t]);(0,o.default)(1===r.length,"Contains multiple values");(0,o.default)("text"===(null===(n=r[0])||void 0===n?void 0:n.type),"First value is not text");return r[0].text===s.TRUE_OPTION_NAME}function y(e,t){var n,r=f(e[t]);(0,o.default)(1===r.length,"Contains multiple values");(0,o.default)("channelMention"===(null===(n=r[0])||void 0===n?void 0:n.type),"First value is not a channel mention");return r[0].channelId}function _(e,t){var n,r=f(e[t]);(0,o.default)(1===r.length,"Contains multiple values");(0,
o.default)("userMention"===(null===(n=r[0])||void 0===n?void 0:n.type),"First value is not a user mention");return r[0].userId}function T(e,t){var n,r=f(e[t]);(0,o.default)(1===r.length,"Contains multiple values");(0,o.default)("roleMention"===(null===(n=r[0])||void 0===n?void 0:n.type),"First value is not a role mention");return r[0].roleId}function g(e,t){for(var n,r="",a=c(e[t]);!(n=a()).done;){var i=n.value;switch(i.type){case"text":case"textMention":r+=i.text;break;case"userMention":r+="<@!"+i.userId+">";break;case"channelMention":r+="<#"+i.channelId+">";break;case"roleMention":r+="<@&"+i.roleId+">";break;case"emoji":r+=i.surrogate;break;case"customEmoji":r+="<"+(i.animated?"a":"")+":"+i.name.replace(/:/g,"").split("~")[0]+":"+i.emojiId+">"}}return r}},681407:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.scoreCommand=Q;t.useSearchManager=function(e,t,n,r,i){var u=void 0===i?{}:i,s=u.canOnlyUseTextCommands,c=u.canUseFrecency,p=(0,
o.useStateFromStores)([z],(function(){return z.getChannelState(e.id,t)}),[e.id,t]),f=p.discoveryInitialized,m=p.topCursor,y=p.scrollDownCursor,g=p.applicationSections,I=p.applicationCommands,C=p.filteredSectionId,O=a.useCallback((function(n){l.default.dirtyDispatch({type:E.ActionTypes.APPLICATION_COMMAND_SEARCH_STORE_UPDATE,channelId:e.id,commandType:t,state:n})}),[e.id,t]),N=a.useRef(!1),S=(0,d.default)(),D=a.useCallback((function(n,r,a){void 0===a&&(a=!0);if(!N.current){N.current=!0;var i=V(e.guild_id);B(e.id,R({type:t,roleIds:i},n),a?S:void 0).then((function(e){N.current=!1;r(e)}))}}),[e.id,e.guild_id,t,S]),b=a.useMemo((function(){return{channel:e,guild:null!=e.guild_id?_.default.getGuild(e.guild_id):null}}),[e]),P=(0,A.useTopRealCommands)(b),L=(0,o.useStateFromStores)([T.default],(function(){return Y(T.default,null!=s&&s,e)}),[s,e]);a.useEffect((function(){if(!f){O({discoveryInitialized:!0});if(L){var t=e.isDM()?{applicationId:e.getRecipientId()}:{limit:r,
includeApplications:null==g,commandIds:f?void 0:P,cursor:m};D(t,(function(t){if(null!=t){var n={applicationCommands:k([],t.applicationCommands),topCursor:t.prevCursor,scrollDownCursor:t.nextCursor};if(e.isDM()||null!=t.applications){var r;n.applicationSections=G(e,null!==(r=t.applications)&&void 0!==r?r:[])}O(n)}}),!1)}}}),[e,r,L,g,f,m,D,P,O]);var w=a.useCallback((function(){null!=y&&D({limit:r,cursor:y},(function(e){if(null!=e){var t=!1===e.repaired?k([],e.applicationCommands):k(null!=I?I:[],e.applicationCommands);O({applicationCommands:t,scrollDownCursor:e.nextCursor})}}))}),[r,D,y,I,O]),x=a.useCallback((function(t){if(!N.current&&t!==C)if(null!=t){O({filteredSectionId:t,scrollDownCursor:null});t in v.BUILT_IN_SECTIONS||e.isDM()||D({applicationId:t},(function(e){null!=e&&O({applicationCommands:k([],e.applicationCommands)})}))}else O({filteredSectionId:null,discoveryInitialized:e.isDM()})}),[e,D,O,C]);$();a.useEffect((function(){return function(){var n
;null!=(null===(n=z.channelStates.get(e.id))||void 0===n?void 0:n[t].filteredSectionId)&&x(null)}}),[]);var F=a.useMemo((function(){return j(b,t,s)}),[b,t,s]),W=(0,A.useTopCommands)(b),q=a.useMemo((function(){return c?(L&&null!=I?I:[]).concat(F).filter((function(e){return W.includes(e.id)})).sort((function(e,t){var n=M.default.getScoreWithoutLoadingLatest(b,e);return M.default.getScoreWithoutLoadingLatest(b,t)-n})).slice(0,h.DISCOVERY_COMMANDS_FRECENCY_LIMIT):[]}),[c,L,F,b,W,I]),K=a.useMemo((function(){var e,t=[];q.length>0&&(t=t.concat(v.BUILT_IN_SECTIONS[h.BuiltInSectionId.FRECENCY]));L&&null!=g&&(t=t.concat(g));(null===(e=t[t.length-1])||void 0===e?void 0:e.id)!==h.BuiltInSectionId.BUILT_IN&&(t=t.concat(v.BUILT_IN_SECTIONS[h.BuiltInSectionId.BUILT_IN]));return t}),[L,g,q]),Q=L&&(!f||N.current||null!=y),X=a.useMemo((function(){if(!Q)return[];for(var e=[],r=0;r<n;r++)e.push(H(r,t));return e}),[Q,n,t]),Z=a.useMemo((function(){var e=[],t=[];K.forEach((function(n){if(null==C||n.id===C){
var r;if((r=n.id===h.BuiltInSectionId.BUILT_IN?Q?[]:U(F):n.id===h.BuiltInSectionId.FRECENCY?U(q):(null!=I?I:[]).filter((function(e){return e.applicationId===n.id}))).length>0||n.id===C){e.push(n);t.push({section:n,data:r})}}}));if(t.length>0&&X.length>0){var n;(n=t[t.length-1].data).push.apply(n,U(X))}return{activeSections:e,commandsByActiveSection:t}}),[K,q,I,F,X,Q,C]),J=Z.activeSections,ee=Z.commandsByActiveSection,te=a.useMemo((function(){var e=[];e=e.concat(q);L&&null!=I&&(e=e.concat(I));return e=e.concat(F)}),[L,q,I,F]);return{filterSection:x,scrollDown:w,loading:N,filteredSectionId:C,hasMoreAfter:Q,commands:te,sectionDescriptors:K,activeSections:J,commandsByActiveSection:ee,placeholders:X}};t.useSearchStoreOpenState=$
;var r,a=D(n(667294)),i=N(n(23279)),o=D(n(536211)),u=N(n(118915)),l=N(n(636602)),s=n(81069),d=N(n(169549)),c=N(n(359342)),p=n(828593),f=N(n(686305)),m=N(n(759027)),y=N(n(644263)),_=N(n(30098)),T=N(n(689389)),g=N(n(211136)),I=N(n(728429)),v=n(481414),A=n(166806),M=N(n(290760)),C=n(65621),O=n(153823),h=n(484278),E=n(770348);function N(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}function b(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=L(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function P(e,t){P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return P(e,t)}function U(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function B(e,t,n){var r;if(null==n?void 0:n.aborted)return Promise.resolve(null);var a={type:t.type,role_ids:null===(r=t.roleIds)||void 0===r?void 0:r.join(",")};"applicationId"in t&&(a.application_id=t.applicationId);if("query"in t){a.query=t.query;a.limit=t.limit;a.include_applications=t.includeApplications}if("cursor"in t){
a.limit=t.limit;a.cursor=t.cursor;null!=t.commandIds&&t.commandIds.length>0&&(a.command_ids=t.commandIds.join(","));a.include_applications=t.includeApplications}var i=function(){var r,a=(r=regeneratorRuntime.mark((function r(a){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return new Promise((function(e){setTimeout(e,a)}));case 2:return r.abrupt("return",B(e,t,n));case 3:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var i=r.apply(e,t);function o(e){x(i,n,a,o,u,"next",e)}function u(e){x(i,n,a,o,u,"throw",e)}o(void 0)}))});return function(e){return a.apply(this,arguments)}}();return u.default.get({url:E.Endpoints.APPLICATION_COMMANDS_SEARCH(e),query:a,signal:n}).then((function(e){var t,n,r;return 202===e.status?i(5e3):{applicationCommands:e.body.application_commands,applications:e.body.applications,nextCursor:null===(t=e.body.cursor)||void 0===t?void 0:t.next,
prevCursor:null===(n=e.body.cursor)||void 0===n?void 0:n.previous,repaired:null===(r=e.body.cursor)||void 0===r?void 0:r.repaired}}),(function(e){return(null==n?void 0:n.aborted)?null:429===e.status?i(1e3*e.body.retry_after):null}))}var j=function(e,t,n){var r=e.channel,a=e.guild;return null!=r?(0,v.getBuiltInCommands)(t,!0,n).filter((function(e){return null==e.predicate||e.predicate({channel:r,guild:a})})):[]};function k(e,t){if(0===t.length)return e;var n=U(e),r=(0,O.buildApplicationCommands)(t).filter((function(e){var t=n.findIndex((function(t){return t.id===e.id}));if(t>=0){n[t]=e;return!1}return!0}));return[].concat(U(n),U(r))}function G(e,t){var n;if(e.isDM()){var r=I.default.getUser(e.getRecipientId());n=[{type:C.ApplicationCommandSectionType.DM,id:r.id,name:r.username,icon:r.avatar,bot:r}]}else n=t.map((function(e){return{type:C.ApplicationCommandSectionType.GUILD,id:e.id,name:e.name,icon:e.icon,bot:null!=e.bot?new m.default(e.bot):void 0}}))
;return n.concat(v.BUILT_IN_SECTIONS[h.BuiltInSectionId.BUILT_IN])}var H=function(e,t){return{type:t,inputType:C.ApplicationCommandInputType.PLACEHOLDER,id:"placeholder-"+e,name:"",displayName:"",description:"",displayDescription:"",applicationId:""}},F=[v.BUILT_IN_SECTIONS[h.BuiltInSectionId.BUILT_IN]];function W(e){var t,n=e.guildId,r=g.default.getChannelId();if(null!=r&&(null===(t=y.default.getChannel(r))||void 0===t?void 0:t.guild_id)!==n)return!1;z.componentIsOpen?z.shouldReset=!0:z.channelStates.clear()}function q(){z.shouldReset=!1;z.componentIsOpen=!1;z.channelStates.clear()}var z=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).displayName="ApplicationCommandSearchStore";t.channelStates=new Map;t.componentIsOpen=!1;t.shouldReset=!1;return t}var n=t.prototype;n.initialize=function(){
var e=this;this.syncWith([T.default],(function(){e.shouldReset=!0}))};n.getChannelState=function(e,t){if(!z.channelStates.has(e)){var n,r=function(){return{discoveryInitialized:!1,topCursor:null,scrollDownCursor:null,applicationSections:null,applicationCommands:null,filteredSectionId:null,pendingQueries:new Map,queries:new Map,queriedApplicationId:null}};z.channelStates.set(e,((n={})[s.ApplicationCommandType.CHAT]=r(),n[s.ApplicationCommandType.MESSAGE]=r(),n[s.ApplicationCommandType.USER]=r(),n))}return z.channelStates.get(e)[t]};n.getApplicationSections=function(e,t){var n;return null!==(n=this.getChannelState(e,t).applicationSections)&&void 0!==n?n:F};n.getQueryCommands=function(e,t,n){var r,a,i,o=this.getChannelState(e,t),u=o.queries,l=o.pendingQueries;return null!==(r=null===(a=u.get(n))||void 0===a?void 0:a.commands)&&void 0!==r?r:null===(i=l.get(n))||void 0===i?void 0:i.commands};n.hasQueryResults=function(e,t,n){return this.getChannelState(e,t).queries.has(n)}
;n.__getLocalVars=function(){return{getValidBuiltInCommands:j,getPlaceholderCommand:H,DEFAULT_SECTIONS:F,store:z,canUseApplicationCommands:Y,getViewingAsRoleIds:V,doQuery:Z}};return t}(o.default.Store))(l.default,((r={})[E.ActionTypes.LOGOUT]=q,r[E.ActionTypes.CHANNEL_SELECT]=function(e){return null!=e.channelId&&q()},r[E.ActionTypes.APPLICATION_COMMAND_SEARCH_STORE_UPDATE]=function(e){var t=e.channelId,n=e.commandType,r=e.state,a=z.channelStates.get(t);if(null!=a){var i=a[n],o=R({},i,{},r);a[n]=o;null==i.applicationCommands&&null!=o.applicationCommands&&o.pendingQueries.forEach((function(e,t){X({context:e.context,commandType:e.commandType,query:t,limit:e.limit,canOnlyUseTextCommands:!1})}))}},r[E.ActionTypes.APPLICATION_COMMAND_SEARCH_STORE_QUERY]=function(e){var t=e.context,n=e.commandType,r=e.query,a=e.limit,i=e.applicationId,o=null!=c.default.getPendingReply(t.channel.id);X({context:t,commandType:n,query:r,limit:a,canOnlyUseTextCommands:o,applicationId:i})||o||Z({context:t,
commandType:n,query:r,limit:a,applicationId:i})},r[E.ActionTypes.CREATE_PENDING_REPLY]=function(e){var t=e.channel;if(!z.channelStates.delete(t.id))return!1},r[E.ActionTypes.DELETE_PENDING_REPLY]=function(e){var t=e.channelId;if(!z.channelStates.delete(t))return!1},r[E.ActionTypes.CHANNEL_UPDATES]=function(e){for(var t,n=b(e.updates);!(t=n()).done;){var r=t.value;if(null!=r.channel.guild_id&&W({guildId:r.channel.guild_id}))return!0}return!1},r[E.ActionTypes.GUILD_APPLICATION_COMMAND_INDEX_UPDATE]=W,r[E.ActionTypes.VIEW_AS_ROLES_UPDATE]=W,r[E.ActionTypes.VIEW_AS_ROLES_STOP]=W,r[E.ActionTypes.APPLICATION_COMMAND_SEARCH_STORE_UI_UPDATE]=function(e){var t=e.isOpen;z.componentIsOpen=t;if(z.shouldReset){z.shouldReset=!1;return q()}return!1},r)),K=z;t.default=K;var Y=function(e,t,n){return!t&&(!n.isMultiUserDM()&&!n.isSystemDM()&&(n.isDM()?null!=n.rawRecipients.find((function(e){return e.bot})):e.can(E.Permissions.USE_APPLICATION_COMMANDS,n)))},V=function(e){if(null!=e){
var t=f.default.getViewingRoles(e);if(null!=t){var n=Object.keys(t);0===n.length&&n.push(e);return n}}};function $(){a.useEffect((function(){l.default.dirtyDispatch({type:E.ActionTypes.APPLICATION_COMMAND_SEARCH_STORE_UI_UPDATE,isOpen:!0});return function(){l.default.dirtyDispatch({type:E.ActionTypes.APPLICATION_COMMAND_SEARCH_STORE_UI_UPDATE,isOpen:!1})}}),[])}function Q(e,t,n){var r=n.name,a=n.serverLocalizedName;if(r.startsWith(e))return 5;if(null==a?void 0:a.startsWith(e))return 5;if(r.startsWith(t[0])){if(r.split(" ").slice(1).join(" ").startsWith(t.slice(1).join(" ")))return 4}if(null==a?void 0:a.startsWith(t[0])){if(a.split(" ").slice(1).join(" ").startsWith(t.slice(1).join(" ")))return 4}if(r.includes(e))return 3;if(null==a?void 0:a.includes(e))return 3;for(var i,o=!1,u=b(null!==(l=n.options)&&void 0!==l?l:[]);!(i=u()).done;){var l,s=i.value,d=s.name,c=s.serverLocalizedName;if(d.startsWith(e))return 2;if((r+" "+d).startsWith(e))return 2
;if(null!=a&&(a+" "+d).startsWith(e))return 2;if(null!=c){if(c.startsWith(e))return 2;if((r+" "+c).startsWith(e))return 2;if(null!=a&&(a+" "+c).startsWith(e))return 2}(d.includes(e)||(null==c?void 0:c.includes(e)))&&(o=!0)}return o?1:0}function X(e){var t,n=e.context,r=e.commandType,a=e.query,i=e.limit,o=e.canOnlyUseTextCommands,u=e.applicationCommands,l=e.applications,s=e.applicationId,d=void 0===s?null:s,c=z.getChannelState(n.channel.id,r);if(c.queriedApplicationId!==d){c.queries.clear();c.pendingQueries.clear();c.queriedApplicationId=d}else if(c.queries.has(a))return!0;null!=l&&(c.applicationSections=G(n.channel,l));if(o)t=[];else{var f;t=n.channel.isDM()?null!==(f=c.applicationCommands)&&void 0!==f?f:[]:k([],null!=u?u:[])}var m=j(n,r,o),y=Y(T.default,o,n.channel)&&(n.channel.isDM()?null==c.applicationCommands:null==u),_=[],g=!1;if(y)for(var I=a.length-1;I>0;I-=1){var v=a.slice(0,I),A=c.queries.get(v);if(null!=A){g=A.done;A.commands.forEach((function(e){null==t.find((function(t){
return t.id===e.id}))&&null==m.find((function(t){return t.id===e.id}))&&_.push(e)}));break}}g&&(y=!1);var C=[],O=a.split(" ");[].concat(U(t),_,U(m)).forEach((function(e){var t=Q(a,O,e);t>0&&C.push(R({},e,{score:t}))}));p.FrecencyUserSettingsActionCreators.loadIfNecessary();C.sort((function(e,t){if(e.score!==t.score)return t.score-e.score;var r=M.default.getScoreWithoutLoadingLatest(n,e),a=M.default.getScoreWithoutLoadingLatest(n,t);return r!==a?a-r:e.displayName.localeCompare(t.displayName)}));if(y)for(var h=C.length;h<i;h+=1)C.push(R({},H(h,r),{score:0}));if(y){c.pendingQueries.set(a,{context:n,commandType:r,limit:i,commands:C.slice(0,i)});c.queries.delete(a)}else{c.pendingQueries.delete(a);c.queries.set(a,{commands:C.slice(0,i),done:g||t.length<i})}return g}var Z=(0,i.default)((function(e){var t=e.context,n=e.commandType,r=e.query,a=e.limit,i=e.applicationId;if(Y(T.default,!1,t.channel)){var o=z.getChannelState(t.channel.id,n)
;t.channel.isDM()?o.discoveryInitialized||null!=o.applicationCommands||B(t.channel.id,{type:n,applicationId:t.channel.getRecipientId()}).then((function(e){var r;null!=e&&l.default.dispatch({type:E.ActionTypes.APPLICATION_COMMAND_SEARCH_STORE_UPDATE,channelId:t.channel.id,commandType:n,state:{applicationCommands:k([],null!==(r=e.applicationCommands)&&void 0!==r?r:[]),applicationSections:G(t.channel,[])}})})):B(t.channel.id,{type:n,roleIds:V(t.channel.guild_id),query:r,limit:a,applicationId:i,includeApplications:!o.discoveryInitialized&&null==o.applicationSections}).then((function(e){if(null!=e&&z.channelStates.has(t.channel.id)){X({context:t,commandType:n,query:r,limit:a,canOnlyUseTextCommands:!1,applicationCommands:e.applicationCommands,applications:e.applications,applicationId:i});z.emitChange()}}))}}),250,{leading:!0,trailing:!0,maxWait:750})},153823:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.allChannelsSentinel=function(e){return(0,
r.default)(e).subtract(1).toString()};t.applicationPermissionsList=function(e){return null==e?void 0:e.reduce((function(e,t){null!=t.applicationCommandPermissions&&e.push({id:t.id,permissions:t.applicationCommandPermissions});return e}),[])};t.buildApplicationCommands=function(e){return i.default.flatMap(e,(function(e){(0,a.default)(null!=e.id,"Missing command id");return C({rootCommand:e,command:e,applicationId:e.application_id,subCommandPath:void 0,localizeDisplayNames:(0,c.slashCommandLocalizationEnabled)()})}))};t.buildCommand=v;t.canUseContextMenuCommand=function(e,t,n,r){var a;if(null==r)return!1;var i=r.type===o.ChannelTypes.DM;return(i&&e>0||(null!==(a=null==n?void 0:n[t])&&void 0!==a?a:0)>0)&&(0,s.isTextChannel)(r.type)&&!r.isArchivedThread()&&(i||d.default.can(u.default.combine(y.Permissions.USE_APPLICATION_COMMANDS,y.Permissions.SEND_MESSAGES),r))};t.getApplicationCommandOptionQueryOptions=function(e){
var t=e.type===l.ApplicationCommandOptionType.STRING,n=e.type===l.ApplicationCommandOptionType.CHANNEL,r=e.type===l.ApplicationCommandOptionType.USER||e.type===l.ApplicationCommandOptionType.MENTIONABLE,a=e.type===l.ApplicationCommandOptionType.ROLE||e.type===l.ApplicationCommandOptionType.MENTIONABLE;return{canMentionEveryone:t||a,canMentionHere:t,canMentionChannels:t||n,canMentionUsers:t||r,canMentionRoles:t||a,canMentionAnyGuildUser:r,canMentionNonMentionableRoles:a}};t.getApplicationCommandSectionName=function(e){return null!=e.bot?e.bot.username:e.name};t.getMatchingGroupCommands=function(e,t,n,r){var a=[];(0,i.default)(e).forEach((function(e){t.test(e.displayName)&&(null==e.predicate||e.predicate(n))&&a.push(e)}));return a.slice(0,r)};t.isSnowflake=function(e){return m.ID_REGEX.test(e.trim())};var r=_(n(224736)),a=_(n(441143)),i=_(n(496486)),o=n(723360),u=_(n(267258)),l=n(81069),s=n(567186),d=_(n(689389)),c=n(422374),p=n(65621),f=n(484278),m=n(770348),y=n(478036);function _(e){
return e&&e.__esModule?e:{default:e}}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function g(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function v(e){var t,n,r=e.rootCommand,a=e.command,i=e.applicationId,o=e.subCommandPath,s=e.localizeDisplayNames;if(null!=r.permissions&&r.permissions.length>0){n={};r.permissions.forEach((function(e){n[e.id]=e}))}var d=(null!=o?o:[]).map((function(e){return e.name})),c=(null!=o?o:[]).map((function(e){return e.displayName}));return{version:r.version,guildId:r.guild_id,id:[r.id].concat(g(d)).join(f.SUB_COMMAND_KEY_SEPARATOR),name:[r.name].concat(g(d)).join(" "),serverLocalizedName:a.name_localized,applicationId:i,type:null!==(t=r.type)&&void 0!==t?t:l.ApplicationCommandType.CHAT,inputType:p.ApplicationCommandInputType.BOT,description:a.description,options:A(a.options,s),rootCommand:r,subCommandPath:o,defaultMemberPermissions:null==r.default_member_permissions?void 0:u.default.deserialize(r.default_member_permissions),defaultPermission:r.default_permission,dmPermission:r.dm_permission,permissions:n,listed:!1!==r.listed,displayName:[O(r,s)].concat(g(c)).join(" "),
displayDescription:h(a,s)}}function A(e,t){return null==e?void 0:e.map((function(e){var n=T({},e,{choices:M(e.choices,t),options:A(e.options,t),serverLocalizedName:e.name_localized,displayName:O(e,t),displayDescription:h(e,t)});return e.type===l.ApplicationCommandOptionType.CHANNEL&&null!=e.channel_types?T({},n,{channelTypes:e.channel_types}):e.type!==l.ApplicationCommandOptionType.NUMBER&&e.type!==l.ApplicationCommandOptionType.INTEGER||null==e.min_value&&null==e.max_value?n:T({},n,{minValue:e.min_value,maxValue:e.max_value})}))}function M(e,t){return null==e?void 0:e.map((function(e){return T({},e,{displayName:O(e,t)})}))}function C(e){var t=e.rootCommand,n=e.command,r=e.applicationId,a=e.subCommandPath,i=e.localizeDisplayNames;if(n.hasOwnProperty("id")){if(null==(n=n).options||0===n.options.length)return[v({rootCommand:t,command:n,applicationId:r,subCommandPath:a,localizeDisplayNames:i})]
}else if((n=n).type!==l.ApplicationCommandOptionType.SUB_COMMAND&&n.type!==l.ApplicationCommandOptionType.SUB_COMMAND_GROUP&&(null==n.options||0===n.options.length))return[v({rootCommand:t,command:n,applicationId:r,subCommandPath:a,localizeDisplayNames:i})];var o=[];if(null==n.options)return o;for(var u=n.options.filter((function(e){return e.type===l.ApplicationCommandOptionType.SUB_COMMAND_GROUP})),s=0;s<u.length;s++)o.push.apply(o,g(C({rootCommand:t,command:u[s],applicationId:r,subCommandPath:(null!=a?a:[]).concat([{name:u[s].name,type:l.ApplicationCommandOptionType.SUB_COMMAND_GROUP,displayName:O(u[s],i)}]),localizeDisplayNames:i})));for(var d=n.options.filter((function(e){return e.type===l.ApplicationCommandOptionType.SUB_COMMAND})),c=0;c<d.length;c++)o.push(v({rootCommand:t,command:d[c],applicationId:r,subCommandPath:(null!=a?a:[]).concat([{name:d[c].name,type:l.ApplicationCommandOptionType.SUB_COMMAND,displayName:O(d[c],i)}]),localizeDisplayNames:i}))
;0===u.length&&0===d.length&&o.push(v({rootCommand:t,command:n,applicationId:r,subCommandPath:a,localizeDisplayNames:i}));return o}function O(e,t){if(t){var n;return null!==(n=e.name_localized)&&void 0!==n?n:e.name}return e.name}function h(e,t){if(t){var n;return null!==(n=e.description_localized)&&void 0!==n?n:e.description}return e.description}},752765:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2022-02_ios_slash_command_localization",label:"iOS Slash Command Localization",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled fetching localized slash commands",config:{enabled:!0}}]});t.default=r},462936:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,r,a){return G.apply(this,arguments)};t.retryCommandMessage=void 0
;var r=b(n(441143)),a=b(n(636602)),i=b(n(786345)),o=b(n(413546)),u=n(81069),l=D(n(79267)),s=b(n(844784)),d=D(n(741464)),c=n(632341),p=D(n(551048)),f=b(n(887174)),m=n(687549),y=b(n(433385)),_=b(n(30098)),T=b(n(680873)),g=b(n(871778)),I=b(n(728429)),v=n(71246),A=n(536487),M=b(n(373265)),C=D(n(24922)),O=b(n(681407)),h=n(65621),E=n(484278),N=n(770348);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}function b(e){return e&&e.__esModule?e:{default:e}}function R(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=U(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;a=e}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function U(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){w(i,r,a,o,u,"next",e)}function u(e){w(i,r,a,o,u,"throw",e)}o(void 0)}))}}var B=function(e,t){var n;return null==e||null===(n=e.find((function(e){return e.displayName===t})))||void 0===n?void 0:n.value},j=function(e,t,n,r){var a;void 0===r&&(r=function(e){return e});if(e.name===(null===(a=n.autocomplete)||void 0===a?void 0:a.name))return t;if(""===t)return null
;var i=M.default.getAutocompleteLastChoices(n.channel.id,e.name);if(null!=i){var o;return null!==(o=B(i,t))&&void 0!==o?o:r(t)}return r(t)},k=function(e){var t=e.toLowerCase()===E.TRUE_OPTION_NAME.toLowerCase(),n=e.toLowerCase()===E.FALSE_OPTION_NAME.toLowerCase();return t||n?t:null};function G(){return(G=x(regeneratorRuntime.mark((function e(t,n,i,l,d){var c,p,y,_,I,v,M,O,E,S,D,b,P,U,L,w,x,G,W,q,z,K,Y,V,$,Q,X,Z;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=i.autocomplete){e.next=5;break}a.default.dispatch({type:"APPLICATION_COMMAND_USED",context:i,command:t});if(!i.channel.isArchivedThread()){e.next=5;break}e.next=5;return f.default.unarchiveThread(i.channel,!1);case 5:I=[];v=[];if(null==t.options){e.next=53;break}M=R(t.options);case 9:if((O=M()).done){e.next=53;break}if((D=O.value).type!==u.ApplicationCommandOptionType.SUB_COMMAND&&D.type!==u.ApplicationCommandOptionType.SUB_COMMAND_GROUP&&D.name in n){e.next=13;break}
return e.abrupt("continue",51);case 13:b=(null===(E=i.autocomplete)||void 0===E?void 0:E.name)===D.name||void 0;P=null;if(D.type!==u.ApplicationCommandOptionType.STRING){e.next=21;break}w=null!==(U=null===(L=C.getOptionalString(n,D.name))||void 0===L?void 0:L.trim())&&void 0!==U?U:"";P=null!=D.choices?B(D.choices,w):D.autocomplete?j(D,w,i):w;(0,r.default)(null!=i.autocomplete||null!=P,'Option "'+D.name+'" expects a value');null!=P&&I.push({type:D.type,name:D.name,value:P,focused:b});return e.abrupt("continue",51);case 21:if(D.type!==u.ApplicationCommandOptionType.ATTACHMENT){e.next=25;break}if("continue"!==function(){var e=T.default.getUpload(i.channel.id,D.name,m.DraftType.ChannelMessage);if(null==e)return"continue";var t=T.default.getUploads(i.channel.id,m.DraftType.ChannelMessage).findIndex((function(t){return e.id===t.id}));v.push(e);P=t;I.push({type:D.type,name:D.name,value:P,focused:b});return"continue"}()){e.next=25;break}return e.abrupt("continue",51);case 25:
x=C.filterEmpty(n[D.name]);(0,r.default)(null!=i.autocomplete||1===x.length,'Option "'+D.name+'" expects a single option type');if(null!=x[0]||b){e.next=29;break}return e.abrupt("continue",51);case 29:G=null!==(S=x[0])&&void 0!==S?S:{type:"text",text:""};e.t0=D.type;e.next=e.t0===u.ApplicationCommandOptionType.CHANNEL?33:e.t0===u.ApplicationCommandOptionType.ROLE?35:e.t0===u.ApplicationCommandOptionType.USER?37:e.t0===u.ApplicationCommandOptionType.MENTIONABLE?39:e.t0===u.ApplicationCommandOptionType.BOOLEAN?41:e.t0===u.ApplicationCommandOptionType.INTEGER?43:e.t0===u.ApplicationCommandOptionType.NUMBER?45:47;break;case 33:"channelMention"===G.type?P=G.channelId:"text"===G.type&&(P=G.text.trim());return e.abrupt("break",49);case 35:"roleMention"===G.type?P=G.roleId:"text"===G.type?P=G.text.trim():"textMention"===G.type&&"@everyone"===G.text&&(P=null===(W=i.guild)||void 0===W?void 0:W.id);return e.abrupt("break",49);case 37:
"userMention"===G.type?P=G.userId:"text"===G.type&&(P=G.text.trim());return e.abrupt("break",49);case 39:"userMention"===G.type?P=G.userId:"roleMention"===G.type?P=G.roleId:"text"===G.type?P=G.text.trim():"textMention"===G.type&&"@everyone"===G.text&&(P=null===(q=i.guild)||void 0===q?void 0:q.id);return e.abrupt("break",49);case 41:"text"===G.type&&(P=k(G.text.trim()));return e.abrupt("break",49);case 43:if("text"===G.type){z=G.text.trim();P=null!=D.choices?Number(B(D.choices,z)):D.autocomplete?j(D,z,i,Number):Number(C.normalizeNumericString(g.default.locale,z))}return e.abrupt("break",49);case 45:if("text"===G.type){K=G.text.trim();P=null!=D.choices?Number(B(D.choices,K)):D.autocomplete?j(D,K,i,Number):Number(C.normalizeNumericString(g.default.locale,K))}return e.abrupt("break",49);case 47:(0,r.default)("Unsupported option type: "+D.type);return e.abrupt("continue",51);case 49:(0,r.default)(null!=i.autocomplete||null!=P,'Unexpected value for option "'+D.name+'"');null!=P&&I.push({
type:D.type,name:D.name,value:P,focused:b});case 51:e.next=9;break;case 53:if(null!=t.subCommandPath)for(Y=t.subCommandPath.length-1;Y>=0;Y-=1){V=t.subCommandPath[Y],$=V.name,Q=V.type;I=[{type:Q,name:$,options:I}]}if(null==t.execute){e.next=57;break}s.default.trackWithMetadata(N.AnalyticEvents.APPLICATION_COMMAND_USED,{command_id:t.id,application_id:t.applicationId,command_type:t.type});return e.abrupt("return",t.execute(I,i));case 57:if(t.inputType!==h.ApplicationCommandInputType.BUILT_IN&&t.inputType!==h.ApplicationCommandInputType.BUILT_IN_TEXT&&t.inputType!==h.ApplicationCommandInputType.BUILT_IN_INTEGRATION){e.next=59;break}return e.abrupt("return");case 59:X={version:t.version,id:null!==(c=null===(p=t.rootCommand)||void 0===p?void 0:p.id)&&void 0!==c?c:t.id,guild_id:t.guildId,name:null!==(y=null===(_=t.rootCommand)||void 0===_?void 0:_.name)&&void 0!==y?y:t.name,type:t.type,options:I,application_command:t.rootCommand};Z=function(){H(n)};null!=l&&(X.target_id=l)
;if(null!=i.autocomplete)(0,A.performAutocomplete)(t,i,X);else{o.default.clearAll(i.channel.id,m.DraftType.ChannelMessage);F({applicationId:t.applicationId,data:X,context:i,attachments:v,maxSizeCallback:d,onMessageSuccess:Z})}case 63:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(e){var t=Object.values(e).flatMap((function(e){return e.map((function(e){return"emoji"===e.type?{name:e.name.replaceAll(":","")}:"customEmoji"===e.type?y.default.getCustomEmojiById(e.emojiId):null})).filter(v.isNotNullish)}));t.length>0&&a.default.dispatch({type:N.ActionTypes.EMOJI_TRACK_USAGE,emojiUsed:t})};t.retryCommandMessage=function(e,t,n){if(e.isCommandType()){var r=t.guild_id;null!=e.interactionData&&F({applicationId:n,data:e.interactionData,context:{channel:t,guild:null!=r?_.default.getGuild(r):null}})}};var F=function(e){
var t=e.applicationId,n=e.data,r=e.context,o=e.attachments,s=e.maxSizeCallback,f=e.onMessageSuccess,m=r.channel,y=r.guild,_=m.id,T=null==y?void 0:y.id,g=function(e,t,n){if(null!=e.guild){var r,a=null===(r=O.default.getApplicationSections(e.channel.id,n))||void 0===r?void 0:r.find((function(e){return e.id===t}));if(null!=a){var i;return null!=a.bot?[a.bot,null]:[{id:a.id,username:a.name,discriminator:"0000",avatar:null,bot:!0},{id:a.id,name:a.name,icon:null!==(i=a.icon)&&void 0!==i?i:void 0}]}}var o=I.default.getUser(t);if(null!=o)return[o,null];return[null,null]}(r,t,n.type),v=P(g,2),A=v[0],M=v[1],C=n.type===u.ApplicationCommandType.CHAT?N.MessageTypes.CHAT_INPUT_COMMAND:N.MessageTypes.CONTEXT_MENU_COMMAND,h=(0,p.default)({channelId:_,content:"",tts:!1,type:C,messageReference:void 0,allowedMentions:void 0,author:null!=A?A:void 0});h.application=null!=M?M:void 0;h.interaction={id:n.id,name:n.name,type:u.InteractionTypes.APPLICATION_COMMAND,user:(0,
p.userRecordToServer)(I.default.getCurrentUser())};h.interaction_data=n;var E={applicationId:t,channelId:_,guildId:T,data:n,nonce:h.id,attachments:o,maxSizeCallback:s};i.default.receiveMessage(_,h,!0,{applicationId:t});d.addQueued(E.nonce,{messageId:h.id,onCreate:function(e){null!=h.interaction&&(h.interaction.id=e)},onFailure:function(e,t){return function(e,t){null==t&&null!=e&&i.default.sendClydeError(_,e);a.default.dirtyDispatch({type:N.ActionTypes.MESSAGE_SEND_FAILED,messageId:h.id,channelId:_,reason:t})}(e,t)},data:{interactionType:u.InteractionTypes.APPLICATION_COMMAND,channelId:_}});l.default.enqueue({type:l.MessageDataType.COMMAND,message:E},(function(e){(0,c.handleInteractionResponse)(E.nonce,e);e.ok&&null!=f&&f()}))}},258938:(e,t,n)=>{({value:!0});t.Z=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=g(n(496486)),o=g(n(709403)),u=g(n(786345)),l=n(81069),s=n(678928),d=g(n(290629)),c=g(n(728429)),p=n(645758),f=n(194322),m=n(65621),y=n(484278),_=n(770348),T=g(n(247001));function g(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3
;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];t.children=u}if(t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){M(i,r,a,o,u,"next",e)}function u(e){M(i,r,a,o,u,"throw",e)}o(void 0)}))}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){switch(e){case _.ChannelTextAreaIntegrations.GIPHY.title:case _.ChannelTextAreaIntegrations.TENOR.title:return T.default.Messages.COMMAND_GIPHY_DESCRIPTION;default:return""}}var E,N=[].concat(function(e){if(Array.isArray(e))return O(e)}(E=(0,
i.default)(_.ChannelTextAreaIntegrations).values().map((function(e){return{id:e.commandId,name:e.command,displayName:e.command,type:l.ApplicationCommandType.CHAT,inputType:m.ApplicationCommandInputType.BUILT_IN_INTEGRATION,applicationId:y.BuiltInSectionId.BUILT_IN,get description(){return h(e.title)},get displayDescription(){return h(e.title)},options:e.type===_.ChannelTextAreaIntegrationTypes.GIF?[{name:"query",displayName:"query",type:l.ApplicationCommandOptionType.STRING,get description(){return T.default.Messages.COMMAND_GIPHY_QUERY_DESCRIPTION},get displayDescription(){return T.default.Messages.COMMAND_GIPHY_QUERY_DESCRIPTION},required:!0}]:[],integrationType:e.type,integrationTitle:e.title}})).value())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(E)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{id:"-15",name:"leave",displayName:"leave",type:l.ApplicationCommandType.CHAT,inputType:m.ApplicationCommandInputType.BUILT_IN,applicationId:y.BuiltInSectionId.BUILT_IN,get description(){return T.default.Messages.LEAVE_GROUP_DM},get displayDescription(){return T.default.Messages.LEAVE_GROUP_DM},predicate:function(e){return e.channel.isGroupDM()},execute:function(e,t){var r=t.channel,i=(0,s.computeChannelName)(r,c.default,d.default),l=T.default.Messages.LEAVE_GROUP_DM_TITLE.format({name:i}),m=T.default.Messages.LEAVE_GROUP_DM_BODY.format({name:i});if(r.isManaged()){l=T.default.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name:i});m=T.default.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({
name:i})}(0,f.openModalLazy)(C(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,502197));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,v({header:l,confirmText:T.default.Messages.LEAVE_GROUP_DM,cancelText:T.default.Messages.CANCEL,onConfirm:y},e),A(p.Text,{variant:"text-md/normal"},void 0,m))}));case 5:case"end":return e.stop()}}),e)}))));function y(){return _.apply(this,arguments)}function _(){return(_=C(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.closePrivateChannel(r.id);case 3:e.next=8;break;case 5:e.prev=5;e.t0=e.catch(0);u.default.sendBotMessage(r.id,T.default.Messages.LEAVE_GROUP_DM_ERROR);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}}}]);t.Z=N},456206:(e,t,n)=>{
Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=o(n(810919)),i=o(n(767846));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=l(a.default,{dotRadius:4,themed:!0}),d=function(){return l("div",{className:i.default.loadingWrapper},void 0,s)};d.displayName="ApplicationCommandLoadingMenuItem";var c=d;t.default=c},506309:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.canToggleCommunicationDisableOnUser=p;t.default=function(e,t){return(0,r.useStateFromStores)([o.default,a.default,i.default],(function(){return p(e,t,[o.default,a.default,i.default])}),[e,t])};var r=n(536211),a=s(n(30098)),i=s(n(689389)),o=s(n(728429)),u=s(n(656016)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,u=!1;try{
for(n=n.call(e);!(o=(r=n.next()).done);o=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;a=e}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){var r=d(void 0===n?[o.default,a.default,i.default]:n,3),s=r[0],c=r[1],p=r[2],f=c.getGuild(e),m=s.getUser(t);return null!=f&&null!=m&&(!m.isNonUserBot()&&(!(f.isOwner(m)||u.default.can({
permission:l.Permissions.ADMINISTRATOR,user:m,context:f}))&&p.canManageUser(l.Permissions.MODERATE_MEMBERS,m,f)))}},192751:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.getAutoArchiveDuration=function(e,t){var n;return null!==(n=null!=t?t:null==e?void 0:e.defaultAutoArchiveDuration)&&void 0!==n?n:i.DEFAULT_AUTO_ARCHIVE_DURATION};t.getAutoArchiveDurationText=function(e){var t,n=l().find((function(t){return t.value===e}));return null!==(t=null==n?void 0:n.label)&&void 0!==t?t:a.default.duration(e,"minutes").humanize()};t.getAutoArchiveDurations=void 0;t.getAutoArchiveOptions=l;var r=u(n(288306)),a=u(n(730381)),i=n(64072),o=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(){return[{label:o.default.Messages.AUTO_ARCHIVE_DURATION_1_HOUR,value:60},{label:o.default.Messages.AUTO_ARCHIVE_DURATION_24_HOURS,value:1440},{label:o.default.Messages.AUTO_ARCHIVE_DURATION_3_DAYS,value:4320},{label:o.default.Messages.AUTO_ARCHIVE_DURATION_1_WEEK,value:10080}]}
var s=(0,r.default)((function(){return l().map((function(e){return e.value}))}));t.getAutoArchiveDurations=s},192110:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.PrivateThreadMode=void 0;t.createThread=function(e,t,n,r,a){return S(e,(function(){return i.default.post({url:I.Endpoints.CHANNEL_THREADS(e.id),body:{name:t,type:n,auto_archive_duration:r,location:a}})}))};t.getDefaultThreadName=E;t.getIsPrivate=h;t.useCreateForumPostCommon=function(e){var t=e.parentChannel,n=e.name,r=e.appliedTags,o=e.onThreadCreated,u=e.upload;return a.useCallback(function(){var e=O(regeneratorRuntime.mark((function e(a,s,c){var p,m,y,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p=(0,_.getAutoArchiveDuration)(t,null);m=I.Endpoints.CHANNEL_THREADS(t.id)+"?use_nested_fields=true";y={name:n,auto_archive_duration:p,applied_tags:r,message:{content:a,sticker_ids:s}};e.next=5;return S(t,(function(){return null!=c&&c.length>0?u(m,y,c):i.default.post({url:m,body:y
})}));case 5:T=e.sent;l.default.clearDraft(t.id,f.DraftType.ThreadSettings);l.default.clearDraft(t.id,f.DraftType.FirstThreadMessage);d.default.clearAll(t.id,f.DraftType.FirstThreadMessage);null==o||o(T);return e.abrupt("return",T);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[t,n,o,r,u])};t.useCreateThreadCommon=function(e){var t=e.parentChannel,n=e.parentMessageId,r=e.threadSettings,o=e.privateThreadMode,u=e.location,s=e.onThreadCreated,c=e.useDefaultThreadName,m=e.uploadHandler;return a.useCallback(function(){var e=O(regeneratorRuntime.mark((function e(a,y,T){var g,A,M,C,O,D,b,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A=null==n||!1;M=h(r,o);if(""===(C=null!==(g=r.name)&&void 0!==g?g:"")&&c){O=E(t,n);C=""!==O?O:v.default.Messages.THREAD}D=(0,_.getAutoArchiveDuration)(t);b=p.default.getChannel(n);e.next=8;return S(t,(function(){
var e=null!=n?I.Endpoints.CHANNEL_MESSAGE_THREADS(t.id,n):I.Endpoints.CHANNEL_THREADS(t.id);return i.default.post({url:e,body:{name:C,type:M?I.ChannelTypes.PRIVATE_THREAD:t.type===I.ChannelTypes.GUILD_ANNOUNCEMENT?I.ChannelTypes.ANNOUNCEMENT_THREAD:I.ChannelTypes.PUBLIC_THREAD,auto_archive_duration:D,location:u}})}));case 8:if((R=e.sent)!==b){l.default.clearDraft(t.id,f.DraftType.ThreadSettings);l.default.clearDraft(t.id,f.DraftType.FirstThreadMessage);d.default.clearAll(t.id,f.DraftType.FirstThreadMessage);null==s||s(R);(A||a.length>0||null!=y&&y.length>0||null!=T&&T.length>0)&&N(R,a,y,T,m)}case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[t,n,r,s,o,u,c,m])};t.usePrivateThreadMode=function(e){var t=(0,T.useCanStartPublicThread)(e),n=(0,T.useCanStartPrivateThread)(e),a=(0,T.useCouldStartPrivateThreadWithFeature)(e);return n?t?r.Enabled:r.PrivateOnly:a?r.DisabledWithUpsell:r.Disabled};var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=A(n(118915)),o=A(n(636602)),u=A(n(190040)),l=A(n(186705)),s=A(n(786345)),d=A(n(413546)),c=A(n(614293)),p=A(n(644263)),f=n(687549),m=A(n(201292)),y=n(249875),_=n(192751),T=n(819235),g=A(n(521595)),I=n(770348),v=A(n(247001));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function C(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){C(i,r,a,o,u,"next",e)}function u(e){C(i,r,a,o,u,"throw",e)}o(void 0)}))}}t.PrivateThreadMode=r;!function(e){e[e.Disabled=1]="Disabled";e[e.Enabled=2]="Enabled";e[e.PrivateOnly=3]="PrivateOnly";e[e.DisabledWithUpsell=4]="DisabledWithUpsell"}(r||(t.PrivateThreadMode=r={}));function h(e,t){return t===r.PrivateOnly||null!==(n=e.isPrivate)&&void 0!==n&&n;var n}function E(e,t){var n,r,a,i=null==t?null:m.default.getMessage(e.id,t),o=null!==(n=null==i||null===(r=i.embeds)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.rawTitle)&&void 0!==n?n:"";if(""!==o)return o.length>40?o.substring(0,40)+"...":o;for(var u,l=c.default.unparse(null!==(u=null==i?void 0:i.content)&&void 0!==u?u:"",e.id,!0),s=(0,g.default)(l.split("\n")[0],!0).split(/(?:\s|[!@#$%^&*()_\-+={}[\]:";'<>?,./])+/),d=s[0],p=1;p<s.length;p++){var f=d+" "+s[p];if(f.length>40)break;d=f}d.length>40&&(d=d.substring(0,40)+"...");return d}
function N(e,t,n,r,a){if(!(null!=a&&null!=r&&r.length>0))return null!=n&&n.length>0?s.default.sendStickers(e.id,n,t):s.default.sendMessage(e.id,c.default.parse(e,t));a(e,r,t,n)}function S(e,t){return D.apply(this,arguments)}function D(){return(D=O(regeneratorRuntime.mark((function e(t,n){var r,a,i,l,s,d,c,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.isForumChannel();e.prev=1;e.next=4;return n();case 4:if(null==(r=e.sent).body)u.default.show({title:v.default.Messages.ERROR,body:v.default.Messages.ERROR_OCCURRED_TRY_AGAIN});else{o.default.dispatch({type:I.ActionTypes.SLOWMODE_RESET_COOLDOWN,slowmodeType:y.SlowmodeType.CreateThread,channelId:t.id});o.default.dispatch({type:I.ActionTypes.THREAD_CREATE_LOCAL,channelId:r.body.id})}e.next=33;break;case 8:e.prev=8;e.t0=e.catch(1);if((null===(i=e.t0.body)||void 0===i?void 0:i.code)!==I.AbortCodes.TOO_MANY_THREADS){e.next=14;break}u.default.show({
title:a?v.default.Messages.CANNOT_CREATE_FORUM_POST:v.default.Messages.CANNOT_CREATE_THREAD,body:a?v.default.Messages.TOO_MANY_FORUM_POSTS_MESSAGE:v.default.Messages.TOO_MANY_THREADS_MESSAGE});e.next=32;break;case 14:if((null===(l=e.t0.body)||void 0===l?void 0:l.code)!==I.AbortCodes.TOO_MANY_ANNOUNCEMENT_THREADS){e.next=18;break}u.default.show({title:v.default.Messages.CANNOT_CREATE_THREAD,body:v.default.Messages.TOO_MANY_ANNOUNCEMENT_THREADS_MESSAGE});e.next=32;break;case 18:if((null===(s=e.t0.body)||void 0===s?void 0:s.code)!==I.AbortCodes.SLOWMODE_RATE_LIMITED){e.next=23;break}(m=null!==(f=e.t0.body.retry_after)&&void 0!==f?f:0)>0&&o.default.dispatch({type:I.ActionTypes.SLOWMODE_SET_COOLDOWN,channelId:t.id,slowmodeType:y.SlowmodeType.CreateThread,cooldownMs:1e3*m});e.next=32;break;case 23:if(429!==e.t0.status){e.next=27;break}u.default.show({title:a?v.default.Messages.CANNOT_CREATE_FORUM_POST:v.default.Messages.CANNOT_CREATE_THREAD,body:v.default.Messages.RATE_LIMITED});e.next=32
;break;case 27:if((null===(d=e.t0.body)||void 0===d?void 0:d.code)!==I.AbortCodes.AUTOMOD_MESSAGE_BLOCKED&&(null===(c=e.t0.body)||void 0===c?void 0:c.code)!==I.AbortCodes.AUTOMOD_TITLE_BLOCKED){e.next=31;break}throw e.t0;case 31:u.default.show({title:v.default.Messages.ERROR,body:v.default.Messages.ERROR_OCCURRED_TRY_AGAIN});case 32:throw e.t0;case 33:return e.abrupt("return",new Promise((function(e,t){null==r.body&&t();p.default.addConditionalChangeListener((function(){var t=p.default.getChannel(r.body.id);if(null!=t){o.default.wait((function(){e(t)}));return!1}}))})));case 34:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}},521595:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){e=e.replace(/[\\"#:/@<>]/g,"");t&&(e=e.trim());return e}},159872:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=I(n(441143)),o=n(536211),u=n(681407),l=n(65621),s=n(153823),d=I(n(462936)),c=n(396229),p=I(n(456206)),f=n(145122),m=I(n(644263)),y=I(n(30098)),_=n(484278),T=I(n(247001)),g=I(n(929945));function I(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){
for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];t.children=u}if(t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=A(p.default,{}),C=function(e,t,n,r,p){var I=a.useRef(!1),v=a.useRef(0),C=(0,o.useStateFromStoresObject)([m.default,y.default],(function(){var e=m.default.getChannel(n);return{channel:e,guild:y.default.getGuild(null!=r?r:null==e?void 0:e.guild_id)}})),O=C.channel,h=C.guild,E=(0,u.useSearchManager)(O,e,_.CONTEXT_MENU_PLACEHOLDER_COUNT,_.CONTEXT_MENU_COMMANDS_QUERY_LIMIT),N=E.hasMoreAfter,S=E.scrollDown,D=E.sectionDescriptors,b=E.commands,R=E.placeholders,P=a.useMemo((function(){var e=b.concat(R),t={};D.forEach((function(e){t[e.id]=e}));return{visibleCommands:e,sections:t}}),[b,D,R]),U=P.visibleCommands,L=P.sections,w=a.useMemo((function(){return(0,s.canUseContextMenuCommand)(U.length,e,null==h?void 0:h.applicationCommandCounts,O)
}),[O,e,null==h?void 0:h.applicationCommandCounts,U.length]);a.useEffect((function(){if(w!==I.current){w&&(null==p||p());I.current=w}}),[w,p]);a.useEffect((function(){x(v.current)}),[U]);var x=a.useCallback((function(e){N&&e+500>34*U.length-40&&S();v.current=e}),[N,S,U]),B=a.useCallback((function(e){if(e.inputType===l.ApplicationCommandInputType.PLACEHOLDER)return A(f.MenuItem,{id:"menu-command-"+e.id,render:function(){return M}},"menu-command-"+e.id);(0,i.default)(null!=O,"menu item should not show if channel is null");var n=L[e.applicationId],r=null!=n?(0,c.getIconComponent)(n):void 0;return A(f.MenuItem,{id:e.id,label:e.name,showIconFirst:!0,icon:function(){return null!=r?A(r,{channel:O,section:n,width:18,height:18,selectable:!1}):null},action:function(){(0,i.default)(!O.isArchivedThread(),"Context menu commands cannot be run on archived threads.");(0,d.default)(e,{},{channel:O,guild:h},t)}},e.id)}),[O,h,t,L]);return w&&A(f.MenuItem,{id:"apps",label:T.default.Messages.APPS,
onChildrenScroll:x,childRowHeight:34,listClassName:g.default.list},void 0,U.map(B))};t.default=C},96763:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];t.children=u}if(t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,p=e.foreground,f=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return i.createElement("svg",s({},(0,o.default)(f),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:p,fill:c,fillRule:"evenodd",clipRule:"evenodd",
d:"M5 2C3.34315 2 2 3.34315 2 5V19C2 20.6569 3.34315 22 5 22H19C20.6569 22 22 20.6569 22 19V5C22 3.34315 20.6569 2 19 2H5ZM8.79741 7.72V16H6.74541V7.72H8.79741ZM13.2097 7.72C16.0897 7.72 17.5897 9.388 17.5897 11.848C17.5897 14.308 16.0537 16 13.2577 16H10.3537V7.72H13.2097ZM13.1497 14.404C14.6137 14.404 15.5257 13.636 15.5257 11.86C15.5257 10.12 14.5537 9.316 13.1497 9.316H12.4057V14.404H13.1497Z"}))}c.displayName="CopyID"}}]);
//# sourceMappingURL=aa252789762779db1632.js.map