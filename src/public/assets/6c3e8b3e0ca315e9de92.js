(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[59859,31671,87840,11315,40856,64101,13557,83082],{478717:(e,t,n)=>{var r={"./2017-11-16.mp4":684795,"./2019-12-17.mp4":662325,"./channel-following.png":15176,"./discovery.jpg":788557,"./discriminator.mp4":22625,"./g250k-cl.mp4":603628,"./header.mp4":879334,"./hypesquad-hack-week/header.png":133650,"./hypesquad-hack-week/paladins-loot.png":631896,"./ko-new-year.jpg":931806,"./league-rp-cl.mp4":425058,"./polish-week.png":428915,"./special-template/desktop-cta.png":561323,"./special-template/desktop-cta.svg":949223,"./special-template/header-left.svg":412466,"./special-template/header-right.svg":226586,"./special-template/mobile-cta.svg":373135,"./special-template/update-badge.svg":361850,"./stickers-launch/2020_PMM_STICKERS_Mrkt_BlogHdr_2500x1000.png":15808,"./stickers-launch/2020_PMM_STICKERS_Mrkt_DesktopHero_Left_180x220.png":227227,"./stickers-launch/2020_PMM_STICKERS_Mrkt_DesktopHero_Right_180x220.png":999455,
"./stickers-launch/2020_PMM_STICKERS_Mrkt_Desktop_Changelog_658X220.png":678811,"./stickers-launch/2020_PMM_STICKERS_Mrkt_Desktop_FooterCTA_238x220.png":236340,"./stickers-launch/2020_PMM_STICKERS_Mrkt_MobileHero_375x190.png":359546,"./stickers-launch/2020_PMM_STICKERS_Mrkt_Mobile_FooterCTA_343x78.png":35448,"./store.jpg":404252};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return r[e]}a.keys=function(){return Object.keys(r)};a.resolve=o;e.exports=a;a.id=478717},259477:(e,t,n)=>{"use strict";n(984752);n(303798);n(373265);n(572935);n(970483);n(825724);n(124778);n(86298);n(408643);n(179401);n(962935);n(677520);n(735592);n(84402);n(304242);n(173101);n(943819);n(828339);n(523754);n(816962);n(330321);n(266079);n(507794);n(930409);n(255186);n(915574);n(800921);n(864062);n(523946);n(805799);n(359342);n(86031);n(146411);n(897191);n(258079);n(187360);n(217964);n(82572);n(19566);n(782270)
;n(612548);n(730451);n(698099);n(864061);n(979674);n(282619);n(421010);n(960441);n(737931);n(887328);n(748762);n(607209);n(423046);n(743237);n(27245);n(881454);n(908463);n(493897);n(778548);n(882832);n(484024);n(644263);n(752996);n(917515);n(513266);n(8549);n(776115);n(909243);n(687549);n(433385);n(956704);n(126208);n(330445);n(23535);n(202904);n(528429);n(250650);n(140868);n(517286);n(311492);n(737483);n(876874);n(680804);n(30098);n(832721);n(178504);n(958698);n(729748);n(226720);n(319111);n(361585);n(635014);n(847819);n(201292);n(144050);n(386716);n(950446);n(689389);n(662183);n(186798);n(788739);n(958281);n(220592);n(893160);n(191391);n(290629);n(205982);n(211136);n(790597);n(690445);n(121441);n(887609);n(397228);n(758602);n(359973);n(859024);n(946447);n(563621);n(257867);n(728429);n(189434);n(387692);n(535711);n(735653);n(905505);n(125150);n(417501);n(487372);n(106605);n(432310);n(693399);n(527501);n(81636)},588136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.setHomeLink=function(e){a.default.dirtyDispatch({type:o.ActionTypes.APP_VIEW_SET_HOME_LINK,link:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},392654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={fetch:function(){r.default.get({url:o.Endpoints.OAUTH2_TOKENS,oldFormErrors:!0}).then((function(e){return a.default.dispatch({type:o.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:e.body})}),(function(){return a.default.dispatch({type:o.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:[]})}))},delete:function(e){var t=this;r.default.delete({url:o.Endpoints.OAUTH2_TOKEN(e),oldFormErrors:!0}).then((function(){t.fetch()}))}};t.default=u},360307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setCertifiedDevices=function(e,t){a.default.dispatch({type:o.ActionTypes.CERTIFIED_DEVICES_SET,
applicationId:e,devices:t})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},241165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={lockChangeLog:function(e){a.default.dispatch({type:o.ActionTypes.CHANGE_LOG_LOCK,key:e})},unlockChangeLog:function(e){a.default.dispatch({type:o.ActionTypes.CHANGE_LOG_LOCK,key:e})},showChangeLog:function(e){a.default.dispatch({type:o.ActionTypes.CHANGE_LOG_OPEN,query:e})},hideChangeLog:function(){a.default.dispatch({type:o.ActionTypes.CHANGE_LOG_CLOSE})}};t.default=i},55701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.hideEnablePublicGuildUpsellNotice=function(e){a.default.dispatch({type:o.ActionTypes.PUBLIC_UPSELL_NOTICE_DISMISS,guildId:e})};t.hideMaxMemberCountChannelNotice=function(e){a.default.dispatch({type:o.ActionTypes.MAX_MEMBER_COUNT_NOTICE_DISMISS,guildId:e})}
;t.hidePremiumGuildGracePeriodNotice=function(e){a.default.dispatch({type:o.ActionTypes.BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS,guildId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},642230:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchConsents=function(){return r.default.get({url:o.Endpoints.SETTINGS_CONSENT,oldFormErrors:!0}).then(s,(function(e){return Promise.reject(new Error(e.body.message))}))};t.setConsents=function(e,t){return r.default.post({url:o.Endpoints.SETTINGS_CONSENT,body:{grant:e,revoke:t},oldFormErrors:!0}).then(s,d)};var r=u(n(118915)),a=u(n(636602)),o=n(770348),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e){null!=e&&null!=e.body&&a.default.dispatch({
type:o.ActionTypes.UPDATE_CONSENTS,consents:l({},e.body)});return e.body}function d(e){var t;t=e.status>=500&&e.status<=599?i.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED:null!=e&&null!=e.body&&null!=e.body.message?e.body.message:i.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED;throw new Error(t)}},319076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.dismiss=function(e){a.default.dispatch({type:o.ActionTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS,skuId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},988754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.uninstallBranchPrompt=function(e,t,u){!function(e,t){var i=a.default.getGame(e);if(null==i){new r.default("DispatchUninstallActionCreators").log("Application not found for game "+e);return}(0,o.openModalLazy)(d(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return n.e(78530).then(n.bind(n,478530));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return a(l({game:i,onConfirmUninstall:t},e))}));case 5:case"end":return e.stop()}}),e)}))))}(e,(function(){return(0,i.uninstallApplication)(e,t,u)}))};var r=u(n(791548)),a=u(n(288356)),o=n(194322),i=n(27555);function u(e){return e&&e.__esModule?e:{default:e}}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},785460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sortList=function(e,t){
a.default.dispatch({type:o.ActionTypes.LIBRARY_TABLE_SORT_UPDATE,key:e,direction:t})};t.updateActiveRowKey=function(e,t){void 0===t&&(t=!1);a.default.dispatch({type:o.ActionTypes.LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE,key:e,isKeyboardEvent:t})};t.updateLibraryFilter=function(e){a.default.dispatch({type:o.ActionTypes.LIBRARY_APPLICATION_FILTER_UPDATE,query:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},229474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchGuildAffinities=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}t.fetchGuildAffinities=function(){return r.default.get({url:o.Endpoints.GUILD_AFFINITIES,oldFormErrors:!0}).then((function(e){var t=e.body.guild_affinities;a.default.dispatch({type:o.ActionTypes.LOAD_GUILD_AFFINITIES_SUCCESS,guildAffinities:t})}),(function(){a.default.dispatch({type:o.ActionTypes.LOAD_GUILD_AFFINITIES_FAILURE})}))}},951864:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(118915)),o=l(n(636602)),i=n(327269),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[u.HypeSquadHouses.HOUSE_1]=1,r[u.HypeSquadHouses.HOUSE_2]=2,r[u.HypeSquadHouses.HOUSE_3]=3,r),d={joinHypeSquadOnline:function(e){return a.default.post({url:u.Endpoints.HYPESQUAD_ONLINE,body:{house_id:s[e.houseID]},oldFormErrors:!0}).then((function(){return o.default.dispatch({type:u.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS,houseID:e.houseID})})).catch((function(e){throw new i.V6OrEarlierAPIError(e)}))},leaveHypeSquadOnline:function(){return a.default.delete({url:u.Endpoints.HYPESQUAD_ONLINE,oldFormErrors:!0}).then((function(){return o.default.dispatch({type:u.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS})})).catch((function(e){throw new i.V6OrEarlierAPIError(e)}))}};t.default=d},72690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={move:function(e,t){a.default.dispatch({type:o.ActionTypes.INCOMING_CALL_MOVE,x:e,y:t})}};t.default=i},668471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addInstallLocation=function(e){a.default.queryDirectory(e,(function(t,n){null==t&&null!=n&&r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_ADD,path:e,metadata:n})}))};t.fetchMetadata=function(e){for(var t,n={},i=0,l=function(){var u=t.value;if(null==u||"string"!=typeof u)return"continue";a.default.queryDirectory(u,(function(t,a){++i;null==t&&null!=a&&(n[u]=a);i===e.length&&r.default.dirtyDispatch({type:o.ActionTypes.INSTALLATION_LOCATION_FETCH_METADATA,metadataPayload:n})}))},s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=s()).done;)l()};t.removeInstallLocation=function(e){r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_REMOVE,path:e})};t.updateInstallLocation=function(e,t){var n=t.label,a=t.isDefault;r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_UPDATE,path:e,label:n,isDefault:a})};var r=i(n(636602)),a=i(n(643868)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},511066:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={addKeybind:function(e){a.default.dispatch({type:o.ActionTypes.KEYBINDS_ADD_KEYBIND,keybind:e})},setKeybind:function(e){a.default.dispatch({type:o.ActionTypes.KEYBINDS_SET_KEYBIND,keybind:e})},deleteKeybind:function(e){a.default.dispatch({type:o.ActionTypes.KEYBINDS_DELETE_KEYBIND,id:e})},enableAll:function(e){a.default.dirtyDispatch({type:o.ActionTypes.KEYBINDS_ENABLE_ALL_KEYBINDS,enable:e})}};t.default=i},671694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createTestModeLibraryApplications=function(e){return c.apply(this,arguments)};t.fetchLibrary=function(){return f.apply(this,arguments)};t.setActiveLaunchOptionId=function(e,t,n){a.default.dispatch({type:u.ActionTypes.LIBRARY_APPLICATION_ACTIVE_LAUNCH_OPTION_UPDATE,applicationId:e,
branchId:t,launchOptionId:n})};var r=l(n(118915)),a=l(n(636602)),o=l(n(329297)),i=n(204785),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function f(){return(f=d(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return(0,i.httpGetWithCountryCodeQuery)({url:u.Endpoints.LIBRARY,oldFormErrors:!0},!1);case 3:t=e.sent;a.default.dispatch({type:u.ActionTypes.LIBRARY_FETCH_SUCCESS,libraryApplications:t.body});e.next=10;break;case 7:e.prev=7;e.t0=e.catch(0);a.default.dispatch({type:u.ActionTypes.LIBRARY_FETCH_FAIL,error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])
})))).apply(this,arguments)}function c(){return(c=d(regeneratorRuntime.mark((function e(t){var n,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=t.primarySkuId)){e.next=3;break}return e.abrupt("return");case 3:e.next=5;return r.default.get({url:u.Endpoints.APPLICATION_BRANCH_LIST(t.id),oldFormErrors:!0}).then((function(e){return e.body}));case 5:i=e.sent;l=i.map((function(e){return o.default.createForTestMode({id:t.id,skuId:n,branch:e})}));a.default.dispatch({type:u.ActionTypes.LIBRARY_APPLICATIONS_TEST_MODE_ENABLED,libraryApplications:l});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},297279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchActivityStatistics=function(){return f.apply(this,arguments)};var r=u(n(118915)),a=u(n(636602)),o=u(n(194198)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,u,"next",e)}function u(e){l(o,r,a,i,u,"throw",e)}i(void 0)}))}}var d=216e5;function f(){return(f=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(t=o.default.lastFetched)&&Date.now()-t<d)){e.next=3;break}return e.abrupt("return");case 3:e.prev=3;e.next=6;return r.default.get({url:i.Endpoints.USER_ACTIVITY_STATISTICS,oldFormErrors:!0});case 6:n=e.sent;a.default.dispatch({type:i.ActionTypes.USER_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:n.body});e.next=13;break;case 10:e.prev=10;e.t0=e.catch(3);return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}},24794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.connect=l;t.createLobby=function(e,t,n){
return r.default.post({url:o.Endpoints.LOBBIES,body:u({application_id:t},n),retries:1,oldFormErrors:!0}).then((function(t){var n=t.body;return l(e,n.id,n.secret)}))};t.deleteLobby=function(e){return r.default.delete({url:o.Endpoints.LOBBY(e),body:{},retries:1,oldFormErrors:!0}).then(o.NOOP)};t.disconnect=function(e){a.default.dispatch({type:o.ActionTypes.LOBBY_DISCONNECT,lobbyId:e})};t.search=function(e){return r.default.post({url:o.Endpoints.LOBBY_SEARCH,body:e,oldFormErrors:!0}).then((function(e){return e.body}))};t.send=function(e,t){return r.default.post({url:o.Endpoints.LOBBY_SEND(e),body:{data:t},oldFormErrors:!0}).then(o.NOOP)};t.updateLobby=function(e,t){return r.default.patch({url:o.Endpoints.LOBBY(e),body:u({},t),retries:1,oldFormErrors:!0}).then(o.NOOP)};t.updateLobbyMember=function(e,t,n){return r.default.patch({url:o.Endpoints.LOBBY_MEMBER(e,t),body:u({},n),retries:1,oldFormErrors:!0}).then(o.NOOP)};t.voiceConnect=function(e){a.default.dispatch({
type:o.ActionTypes.LOBBY_VOICE_CONNECT,lobbyId:e})};t.voiceDisconnect=function(e){a.default.dispatch({type:o.ActionTypes.LOBBY_VOICE_DISCONNECT,lobbyId:e})};var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}function l(e,t,n){return new Promise((function(r,i){a.default.dispatch({type:o.ActionTypes.LOBBY_CONNECT,socketId:e,lobbyId:t,lobbySecret:n,resolve:r,reject:i})}))}},720409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.close=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_CLOSE,id:e})};t.hide=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_HIDE,id:e})};t.moveTo=function(e,t){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_MOVE,id:e,position:t})}
;t.open=function(e,t,n){void 0===n&&(n={});a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_OPEN,id:e,component:t,props:n})};t.show=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_SHOW,id:e})};t.switchPIPFocus=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_UPDATE_SELECTED_WINDOW,id:e})};t.updateRect=function(e,t){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_UPDATE_RECT,id:e,rect:t})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},304440:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.selectSection=function(e){a.default.dispatch({type:o.ActionTypes.PREMIUM_MARKETING_SURFACE_SELECT_SECTION,sectionId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},597362:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={clearRemoteDisconnectVoiceChannelId:function(){
a.default.dispatch({type:o.ActionTypes.CLEAR_REMOTE_DISCONNECT_VOICE_CHANNEL_ID})}};t.default=i},221185:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={fetchRegions:function(e){r.default.get({url:o.Endpoints.REGIONS(e),retries:1,oldFormErrors:!0}).then((function(t){return a.default.dispatch({type:o.ActionTypes.LOAD_REGIONS,regions:t.body,guildId:e})}),(function(){return a.default.dispatch({type:o.ActionTypes.LOAD_REGIONS,regions:[],guildId:e})}))},changeCallRegion:function(e,t){r.default.patch({url:o.Endpoints.CALL(e),body:{region:t},oldFormErrors:!0})}};t.default=u},105988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l={setEnabled:function(e){this.update({enabled:e})},update:function(e){for(var t,n=i(Object.keys(e));!(t=n()).done;){var r=t.value;a.default.dispatch({type:o.ActionTypes.STREAMER_MODE_UPDATE,key:r,value:e[r]})}}};t.default=l},446637:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.authorizeAndSetTestModeApplication=function(e,t){return _.apply(this,arguments)};t.reset=function(){r.default.dispatch({type:f.ActionTypes.DEVELOPER_TEST_MODE_RESET})};t.resetError=function(){r.default.dispatch({type:f.ActionTypes.DEVELOPER_TEST_MODE_RESET_ERROR})};var r=v(n(636602)),a=v(n(331119)),o=v(n(288356)),i=n(685677),u=v(n(608417)),l=v(n(234161)),s=p(n(671694)),d=p(n(723420)),f=n(770348);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(){return(_=m(regeneratorRuntime.mark((function e(t,n){var c,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.default.dispatch({applicationId:t,type:f.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_START});e.prev=1;e.next=4;return d.fetchSKUsForApplication(t,!1);case 4:if(null!=e.sent){e.next=7;break}throw new Error("Did not get a successful response from endpoint.");case 7:if(null!=(c=o.default.getGame(t))){e.next=14;break}e.t0=a.default;e.next=12;return l.default.fetchApplication(t);case 12:e.t1=e.sent;c=e.t0.createFromServer.call(e.t0,e.t1);case 14:if(!(p=(0,
i.hasFlag)(c.flags,f.ApplicationFlags.EMBEDDED))||null!=n&&u.default.URL_REGEX.test(n)){e.next=17;break}throw new Error("Invalid Origin URL for embedded application");case 17:p||s.createTestModeLibraryApplications(c);r.default.dispatch({type:f.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS,applicationId:t,originURL:p?n:null});return e.abrupt("return",c);case 22:e.prev=22;e.t2=e.catch(1);r.default.dispatch({type:f.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL,applicationId:t,error:e.t2.message});return e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,null,[[1,22]])})))).apply(this,arguments)}},94047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(423046)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={setUserAchievement:function(e,t,n){var i=a.default.getId();return r.default.put({url:o.Endpoints.USER_ACHIEVEMENTS_FOR_USER(i,e,t),body:{percent_complete:n},oldFormErrors:!0})
},fetchForApplication:function(e){return r.default.get({url:o.Endpoints.USER_ACHIEVEMENTS(e),retries:1,oldFormErrors:!0}).then((function(e){return e.body}))}};t.default=u},306902:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.markView=function(e){a.default.dispatch({type:o.ActionTypes.VIEW_HISTORY_MARK_VIEW,key:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},184608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=P;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=g(n(294184)),i=g(n(441143)),u=g(n(237923)),l=g(n(314234)),s=g(n(956117)),d=g(n(279950)),f=n(354479),c=n(688388),p=n(626863),v=n(770348),y=n(697984),m=g(n(247001)),_=g(n(241618)),h=g(n(380203));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return I.apply(this,arguments)}var T={canSend:!1,hint:null,success:null,error:null},A=(0,f.uid)(),C=A+"-decription",M=A+"-error";function N(e,t){switch(t.type){case"RESET":return T;case"SUCCESS":return I({},T,{success:t.text});case"HINT":return I({},T,{canSend:!0,hint:t.text});case"ERROR":return I({},e,{canSend:!0,error:t.text})}}function P(){var e,t=a.createRef(),n=a.createRef(),r=O(a.useReducer(N,T),2),f=r[0],g=r[1],E=f.canSend,b=f.hint,I=f.success,P=f.error;a.useEffect((function(){if(null!=I){(0,i.default)(null!=t.current,"Input is submitting when not mounted");t.current.value="";t.current.focus()}}),[I,t]);return S("form",{onSubmit:function(e){e.preventDefault();(0,i.default)(null!=t.current,"Input is submitted when not mounted");var n=t.current.value.trim(),r=(0,p.validateDiscordTag)(n);null==r?u.default.sendRequest(n,{location:"Add Friend"}).then((function(){return g({type:"SUCCESS",text:m.default.Messages.ADD_FRIEND_SUCCESS.format({discordTag:n})})}),(function(e){return g({
type:"ERROR",text:(0,p.humanizeAbortCode)(e.body.code,n)})})):g({type:"ERROR",text:r})},autoComplete:"off"},void 0,S(c.FormText,{id:C,type:c.FormText.Types.DESCRIPTION},void 0,m.default.Messages.ADD_FRIEND_DESCRIPTION),S(l.default,{focusTarget:t,ringTarget:n,ringClassName:_.default.ring},void 0,a.createElement("div",{ref:n,className:(0,o.default)(_.default.addFriendInputWrapper,(e={},e[_.default.success]=I,e[_.default.error]=P,e))},S(d.default,{id:A,inputRef:t,className:_.default.addFriendInput,inputClassName:_.default.input,onKeyPress:function(e){var n=e.currentTarget.value;if(e.key!==y.KeyboardEventKey.Enter&&n.includes("#")){(0,i.default)(null!=t.current,"Input is handling keypress when not mounted");var r=n.indexOf("#"),a=t.current.selectionStart,o=e.key===y.KeyboardEventKey.Backspace||e.key===y.KeyboardEventKey.ArrowRight||e.key===y.KeyboardEventKey.ArrowLeft,u=e.which>=48&&e.which<=57;(null!=a&&a>r&&/^(.+?#\d{4})$/.test(n)&&!o||null!=a&&a>r&&!u&&!o)&&e.preventDefault()}},
onChange:function(e){if(e.length<=0)g({type:"RESET"});else{var t=O(e.split("#"),2)[1];g({type:"HINT",text:e+v.PLACEHOLDER_TAG.slice(null!=t?t.length+1:0)})}},maxLength:37,autoFocus:!0,autoComplete:"off",name:"add-friend","data-lpignore":!0,placeholder:m.default.Messages.ADD_FRIEND_PLACEHOLDER,"aria-label":m.default.Messages.ADD_FRIEND_PLACEHOLDER,"aria-invalid":null!=P||void 0,"aria-describedby":null!=P?M:C}),null!=b&&S("div",{className:_.default.addFriendHint,"aria-hidden":!0},void 0,b),S(s.default,{size:s.default.Sizes.SMALL,disabled:!E,type:"submit"},void 0,m.default.Messages.ADD_FRIEND_BUTTON))),null!=P&&S(c.FormText,{role:"alert",id:M,type:c.FormText.Types.ERROR,className:h.default.marginTop8},void 0,P),null!=I&&S(c.FormText,{role:"status",type:c.FormText.Types.SUCCESS,className:h.default.marginTop8},void 0,I))}P.displayName="AddFriendInput"},593878:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=v(n(479049)),o=v(n(131795)),i=v(n(536211)),u=v(n(680804)),l=v(n(919935)),s=v(n(290629)),d=v(n(931411)),f=n(864489),c=v(n(922629)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=new Set(["Blink","Gecko","WebKit"]),h=p.NOOP;if(f.isPlatformEmbedded)h=function(e){return c.default.setBadge(e)
};else if(_.has(o.default.layout)){var g=new a.default({animation:"none"});h=function(e){try{g.badge(-1===e?"•":e)}catch(e){}}}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).cancelBounce=null;return t}var n=t.prototype;n.componentDidMount=function(){this.componentDidUpdate()};n.componentDidUpdate=function(){var e=this.props,t=e.badge,n=e.hasIncomingCalls;h(t);if(n&&null==this.cancelBounce)this.cancelBounce=c.default.bounceDock("critical");else if(!n&&null!=this.cancelBounce){this.cancelBounce();this.cancelBounce=null}};n.componentWillUnmount=function(){h(0);if(null!=this.cancelBounce){this.cancelBounce();this.cancelBounce=null}};n.render=function(){return null};return t}(r.PureComponent);E.displayName="AppBadge";var S=function(){return null}
;h!==p.NOOP&&(S=i.default.connectStores([u.default,d.default,s.default,l.default],(function(){var e=u.default.getTotalMentionCount(),t=s.default.getPendingCount(),n=u.default.hasAnyUnread(),r=l.default.getDisableUnreadBadge(),a=e+t;0===a&&n&&!r&&(a=-1);return{badge:a,hasIncomingCalls:d.default.hasIncomingCalls()}}))(E));var O=S;t.default=O},969940:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=_(n(213192)),o=_(n(536211)),i=_(n(740207)),u=_(n(226800)),l=_(n(680804)),s=_(n(635014)),d=_(n(919935)),f=_(n(893160)),c=_(n(290629)),p=_(n(397228)),v=n(864489),y=_(n(922629)),m=n(770348);function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=(0,a.default)({DEFAULT:null,UNREAD:null,CONNECTED:null,SPEAKING:null,MUTED:null,DEAFENED:null}),S=(0,v.isOSX)()?null:E.DEFAULT,O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).getIcon=function(){var e=t.props,n=e.deafened,r=e.muted,a=e.speaking,o=e.connected,i=e.unread,u=S;if((0,v.isOSX)()&&!o)return u;if((0,v.isLinux)()||!o){
i&&(u=E.UNREAD);return u}return u=n?E.DEAFENED:r?E.MUTED:a?E.SPEAKING:E.CONNECTED};return t}var n=t.prototype;n.componentDidMount=function(){y.default.setSystemTrayIcon(this.getIcon())};n.componentDidUpdate=function(){y.default.setSystemTrayIcon(this.getIcon())};n.componentWillUnmount=function(){y.default.setSystemTrayIcon(S)};n.render=function(){return null};return t}(r.PureComponent);O.displayName="AppTray";var b=function(){return null};if(v.isPlatformEmbedded){y.default.on("SYSTEM_TRAY_TOGGLE_MUTE",(function(){return i.default.toggleSelfMute()}));y.default.on("SYSTEM_TRAY_TOGGLE_DEAFEN",(function(){return i.default.toggleSelfDeaf()}));y.default.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",(function(){u.default.open(m.UserSettingsSections.VOICE)}));b=o.default.connectStores([f.default,s.default,p.default,l.default,c.default,d.default],(function(){var e=l.default.getTotalMentionCount(),t=l.default.hasAnyUnread(),n=c.default.getPendingCount(),r=!d.default.getDisableUnreadBadge()&&!!(t||e+n>0)
;return{connected:f.default.isConnected(),speaking:p.default.isCurrentUserSpeaking(),muted:s.default.isSelfMute()||s.default.isSelfMutedTemporarily(),deafened:s.default.isSelfDeaf(),unread:r}}))(O)}var I=b;t.default=I},421651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,d.useStateFromStores)([j.default],(function(){return j.default.hasNotice()})),t=(0,d.useStateFromStores)([p.default],(function(){return p.default.darkSidebar?te.ThemeTypes.DARK:void 0})),n=function(){var e=ue(a.useState((function(){return window.location.pathname.startsWith(te.Routes.GUILD_MEMBER_VERIFICATION(""))})),2),t=e[0],n=e[1];a.useEffect((function(){return D.default.addRouteChangeListener((function(e){n(e.pathname.startsWith(te.Routes.GUILD_MEMBER_VERIFICATION("")))}))}),[]);return t}(),r=function(){var e=ue(a.useState((function(){return window.location.pathname.startsWith(te.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(""))})),2),t=e[0],n=e[1]
;a.useEffect((function(){return D.default.addRouteChangeListener((function(e){n(e.pathname.startsWith(te.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB("")))}))}),[]);return t}(),o=function(){var e,t=(0,u.useLocation)();return!0===(null===(e=(0,i.matchPath)(t.pathname,te.Routes.GUILD_BOOSTING_MARKETING(":guildId")))||void 0===e?void 0:e.isExact)}(),y=n||r||o,_=(0,f.isMessageRequestsEnabled)(),h=(0,d.useStateFromStores)([A.default],(function(){return A.default.getIsOpen()})),g=(0,u.useRouteMatch)([te.Routes.CHANNEL(te.ME,":channelId"),te.Routes.CHANNEL(":guildId",":channelId?",":messageId?")]),E=a.useCallback((function(){return T.default.openSidebar()}),[]);return a.createElement(a.Fragment,null,xe,de("div",{className:ae.default.container},void 0,h&&de(O.default,{className:ae.default.guilds,themeOverride:t}),de(m.default.Provider,{value:(null==g?void 0:g.params.guildId)===te.ME||null==g?void 0:g.params.guildId},void 0,de("div",{className:ae.default.base},void 0,s.isMobile?null:Be,de("div",{
className:ae.default.content},void 0,a.createElement(Fe,{hasNotice:e,sidebarTheme:t,hideSidebar:y||!h}),de(c.default.Provider,{value:E},void 0,de(u.Switch,{},void 0,de(v.default,{path:te.Routes.ACTIVITY,disableTrack:!0},void 0,de(u.Redirect,{to:te.Routes.ME})),de(v.default,{path:te.Routes.APPLICATION_LIBRARY,render:be,impressionName:l.ImpressionNames.APPLICATION_LIBRARY,disableTrack:!0}),de(v.default,{path:te.Routes.APPLICATION_STORE,render:Te,impressionName:l.ImpressionNames.APPLICATION_STORE,disableTrack:!0}),_&&de(v.default,{path:te.Routes.MESSAGE_REQUESTS,render:we,disableTrack:!0}),de(v.default,{path:te.Routes.ME,exact:!0,render:Ce,impressionName:l.ImpressionNames.FRIENDS,disableTrack:!0}),de(v.default,{path:[te.Routes.CHANNEL(te.ME,":channelId"),te.Routes.CHANNEL(":guildId",":channelId?",":messageId?")],render:he,impressionName:l.ImpressionNames.GUILD_CHANNEL,disableTrack:!0}),de(v.default,{path:te.Routes.GUILD_DISCOVERY,render:function(e){var t=e.location;return ge(t.search)},
impressionName:l.ImpressionNames.GUILD_DISCOVERY,disableTrack:!0}),de(v.default,{path:te.Routes.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),render:Ee,impressionName:l.ImpressionNames.GUILD_MEMBER_VERIFICATION,disableTrack:!0}),de(v.default,{path:te.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),render:Se,impressionName:l.ImpressionNames.HUB_EMAIL_SIGNUP,impressionProperties:function(e){return{has_invite:void 0!==e.computedMatch.params.inviteCode}}}),de(v.default,{path:te.Routes.PREMIUM_MARKETING_SURFACE,render:Pe,impressionName:l.ImpressionNames.PREMIUM_MARKETING_SURFACE,disableTrack:!0}),de(v.default,{path:te.Routes.FEATURE(":feature"),exact:!0,render:De,disableTrack:!0})))))),He))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ie(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=oe(n(294184)),i=n(505977),u=n(473727),l=n(47354),s=n(171236),d=n(536211),f=n(973400),c=oe(n(837086)),p=oe(n(235879)),v=oe(n(400225)),y=oe(n(825724)),m=oe(n(252566)),_=oe(n(928205)),h=oe(n(545130)),g=oe(n(710483)),E=oe(n(594807)),S=oe(n(14638)),O=oe(n(212635)),b=oe(n(529295)),I=oe(n(152892)),T=oe(n(152577)),A=oe(n(31427)),C=oe(n(249603)),M=oe(n(220796)),N=oe(n(547403)),P=oe(n(917133)),R=oe(n(740258)),w=oe(n(136798)),D=oe(n(329697)),L=oe(n(644263)),k=oe(n(211136)),j=oe(n(296005)),U=oe(n(847015)),G=n(71246),F=n(518802),x=oe(n(721536)),B=oe(n(701391)),H=oe(n(41234)),V=oe(n(25202)),W=oe(n(272356)),Y=oe(n(284382)),K=oe(n(115370)),z=oe(n(63818)),$=oe(n(629195)),q=oe(n(869333)),Q=oe(n(605807)),X=oe(n(57663)),Z=oe(n(916205)),J=oe(n(52505)),ee=oe(n(883901)),te=n(770348),ne=n(173652),re=oe(n(247001)),ae=oe(n(734733));function oe(e){return e&&e.__esModule?e:{default:e}}function ie(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ie=function(e){
return e?n:t})(e)}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function se(){se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return se.apply(this,arguments)}function de(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var fe=de(x.default,{}),ce=function(e){var t=e.match,n=(0,d.useStateFromStores)([L.default,k.default],(function(){var e=k.default.getChannelId();return L.default.getChannel(e)})),r=t.params,a=r.guildId,o=r.channelId;if(null!=a&&null!=o&&(0,ne.isStaticChannelRoute)(o))switch(o){case ne.StaticChannelRoute.ROLE_SUBSCRIPTIONS:return de(E.default,{
guildId:a});case ne.StaticChannelRoute.MEMBER_APPLICATIONS:return de(g.default,{guildId:a});case ne.StaticChannelRoute.GUILD_HOME:return de(_.default,{guildId:a});case ne.StaticChannelRoute.CHANNEL_BROWSER:return de(M.default,{guildId:a});default:(0,G.assertNever)(o)}if((null==n?void 0:n.type)===te.ChannelTypes.GUILD_STORE){var i=t.params.messageId;return de(B.default,{channel:n,inputSkuId:i},n.id)}return fe};ce.displayName="ChannelRenderer";var pe=de(q.default,{}),ve=de(R.default,{}),ye=de(W.default,{}),me=a.memo((function(){var e=(0,w.default)(),t=e.guildId,n=e.channelId,r=(0,d.useStateFromStores)([k.default],(function(){return null!=n?n:k.default.getChannelId(t)}));return window.location.pathname.startsWith(te.Routes.GUILD_DISCOVERY)?pe:window.location.pathname.startsWith(te.Routes.PREMIUM_MARKETING_SURFACE)?ve:null!=t?de(S.default,{selectedChannelId:r,guildId:t},t):ye}));function _e(e){var t=(0,w.default)((function(e){return e.guildId}));return a.createElement(Z.default,se({},e,{
guildId:t}))}_e.displayName="ConnectedActivityPanelGameCard";var he=function(e){return a.createElement(ce,e)};he.displayName="renderChannel";var ge=function(e){var t=null!=e&&e.length>0&&e.startsWith("?")?e.split("?")[1]:null;return de($.default,{searchRoute:t})};ge.displayName="renderGuildDiscovery";var Ee=function(e){var t=e.match;return null!=t.params.guildId?de(h.default,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},Se=function(e){var t=e.match;return null!=t.params.guildId?de(b.default,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},Oe=de(K.default,{}),be=function(){return Oe};be.displayName="renderApplicationLibrary";var Ie=de(z.default,{}),Te=function(){return Ie};Te.displayName="renderLazyApplicationStore";var Ae=de(N.default,{}),Ce=function(){return Ae};Ce.displayName="renderPeople";var Me=de(U.default,{}),Ne=de(P.default,{}),Pe=function(){return a.createElement(a.Fragment,null,Me,Ne)},Re=de(I.default,{}),we=function(){return Re}
;we.displayName="renderMessageRequestPage";var De=function(e){switch(e.match.params.feature){case"addFriends":return de(N.default,{initialSection:te.FriendsSections.ADD_FRIEND});case"pendingFriends":return de(N.default,{initialSection:te.FriendsSections.PENDING});default:return de(u.Redirect,{to:te.Routes.ME})}};var Le=de(me,{}),ke=de(J.default,{}),je=de(ee.default,{}),Ue=de(X.default,{}),Ge=de(H.default,{});function Fe(e){var t,n=e.hasNotice,r=e.sidebarTheme,a=e.hideSidebar,i=(0,d.useStateFromStores)([y.default],(function(){return y.default.isFullscreenInContext()}));return a?null:de("div",{className:(0,o.default)(ae.default.sidebar,(0,F.getThemeClass)(r),(t={},t[ae.default.hasNotice]=n,t[ae.default.fullWidth]=s.isMobile,t[ae.default.hidden]=i,t))},void 0,Le,de("section",{className:ae.default.panels,"aria-label":re.default.Messages.ACCOUNT_A11Y_LABEL},void 0,ke,de(Y.default,{section:te.AnalyticsSections.ACTIVITY_PANEL},void 0,de(_e,{className:ae.default.activityPanel})),de(Y.default,{
section:te.AnalyticsSections.RTC_CONNECTION_PANEL},void 0,je),de(Y.default,{section:te.AnalyticsSections.ACCOUNT_PANEL},void 0,Ue)),Ge)}Fe.displayName="ChannelSidebar";var xe=de(C.default,{}),Be=de(V.default,{}),He=de(Q.default,{})},818685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=H;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=n(536211),o=k(n(234161)),i=k(n(200738)),u=n(844784),l=k(n(504010)),s=n(939027),d=k(n(825724)),f=k(n(791548)),c=k(n(967523)),p=k(n(330321)),v=k(n(217964)),y=k(n(87428)),m=n(894826),_=k(n(644263)),h=k(n(288356)),g=k(n(23535)),E=k(n(876874)),S=k(n(30098)),O=k(n(635014)),b=k(n(689389)),I=k(n(893160)),T=k(n(834162)),A=k(n(211136)),C=k(n(790597)),M=k(n(690445)),N=k(n(728429)),P=k(n(311256)),R=k(n(106605)),w=k(n(308920)),D=n(71246),L=n(770348);function k(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(){F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return F.apply(this,arguments)}function x(e,t){x=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return x(e,t)}var B=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;x(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.selectedChannelId,n=e.connected,r=e.isNSFWChannel,a=e.channelParentId,o=e.isTextInVoice,i=e.canSendMessage;if(n&&null!=t){(0,u.trackWithMetadata)(L.AnalyticEvents.CHANNEL_OPENED,{channel_is_nsfw:r,parent_id:a,can_send_message:i});o&&(0,u.trackWithMetadata)(L.AnalyticEvents.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:r})}};n.componentDidUpdate=function(e){var t=this.props,n=t.voiceChannelId,r=t.voiceChannelIdJoined,a=t.voiceChannelGuildId,i=t.voiceChannelType,c=t.voiceChannelBitrate,g=t.videoEnabled,E=t.isScreenSharing,O=t.runningGame,b=t.runningGamePid,A=t.selectedChannelId,M=t.selectedGuildId,N=t.channelParentId,P=t.connected,R=t.homeLink,k=t.friendsTabSection,j=t.isNSFWChannel,U=t.isMemberPending,G=t.hasPreviewEnabled,x=t.rtcConnectionId,B=t.postableChannelCount,H=t.isTextInVoice,V=t.canSendMessage
;if(e.voiceChannelId!==n&&null!=e.voiceChannelId){var W=T.default.getCurrentGame(),Y=null!=W?W.name:"",K=v.default.getStageInstanceByChannel(e.voiceChannelId),z=p.default.getActiveEventByChannel(e.voiceChannelId);w.default.track(L.AnalyticEvents.LEAVE_VOICE_CHANNEL,F({channel_id:e.voiceChannelId,channel_type:e.voiceChannelType,channel_bitrate:e.voiceChannelBitrate,guild_id:e.voiceChannelGuildId,rtc_connection_id:e.rtcConnectionId,game_name:Y,duration:I.default.getDuration(),game_platform:this.props.gamePlatform,game_id:this.props.gameId,media_session_id:e.mediaSessionId,stage_instance_id:null==K?void 0:K.id,guild_scheduled_event_id:null==z?void 0:z.id},(0,u.getVoiceStateMetadata)(e.voiceChannelGuildId,e.voiceChannelId,e.videoEnabled),{},I.default.getVoiceStateStats(),{},d.default.getSelectedParticipantStats(e.voiceChannelId)))}if(e.voiceChannelIdJoined!==r&&null!=r){var $=T.default.getCurrentGame(),q=null!=$?$.name:"";if(null!=r&&null!=n){
var Q=v.default.getStageInstanceByChannel(n),X=p.default.getActiveEventByChannel(n);w.default.track(L.AnalyticEvents.JOIN_VOICE_CHANNEL,F({channel_id:n,channel_type:i,channel_bitrate:c,guild_id:a,rtc_connection_id:x,game_name:q,game_platform:this.props.gamePlatform,game_id:this.props.gameId,stage_instance_id:null==Q?void 0:Q.id,guild_scheduled_event_id:null==X?void 0:X.id},(0,u.getCustomStatusMetadata)(a,n),{},(0,u.getVoiceStateMetadata)(a,n,g)))}}if(e.runningGame!==O&&null!=O&&!O.isLauncher){var Z=h.default.getGameByName(O.name);w.default.track(L.AnalyticEvents.LAUNCH_GAME,{game:O.name,game_id:null==Z?null:Z.id,verified:null!=Z,elevated:O.elevated,game_platform:L.ActivityGamePlatforms.DESKTOP,distributor:O.distributor});if(null!=O.name&&null!=b&&h.default.shouldReport(O.name)){var J=O.name,ee=b;o.default.identifyGame(ee,J).then((function(e){return o.default.reportUnverifiedGame(e)})).catch((function(e){return new f.default("AutoAnalytics").error("Cannot identify game",e)}))}}
if((e.videoEnabled!==g||e.isScreenSharing!==E)&&null!=n){var te="none",ne=[E?"screen":null,g?"camera":null].filter(D.isNotNullish),re=null;if(E){te="screen";re=(0,s.getDesktopSourceMetadata)()}else g&&(te="camera");w.default.track(L.AnalyticEvents.VIDEO_INPUT_TOGGLED,F({video_input_type:te,video_toggle_source:__OVERLAY__?"overlay":"app",enabled_inputs:ne,preview_enabled:m.AlwaysPreviewVideo.getSetting()},re,{},this.getGameMetadata(),{},(0,u.collectVoiceAnalyticsMetadata)(n)))}if(P&&null!=M&&(M!==e.selectedGuildId||!e.connected||U&&!e.isMemberPending)){var ae,oe,ie=F({},U?{is_pending:U,preview_enabled:G}:{},{postable_channels:B,premium_progress_bar_enabled:null!==(ae=null===(oe=S.default.getGuild(C.default.getGuildId()))||void 0===oe?void 0:oe.premiumProgressBarEnabled)&&void 0!==ae&&ae,viewing_starred:y.default.isGuildCollapsed(M)});(0,u.trackWithMetadata)(L.AnalyticEvents.GUILD_VIEWED,ie)
}else!P||null!=M||R!==L.Routes.FRIENDS||e.connected&&k===e.friendsTabSection&&R===e.homeLink||w.default.track(L.AnalyticEvents.FRIENDS_LIST_VIEWED,F({tab_opened:k},(0,l.default)()));if(P&&null!=A&&(!e.connected||A!==e.selectedChannelId||M!==e.selectedGuildId)){var ue=(0,u.collectThreadMetadata)(_.default.getChannel(A),!0);(0,u.trackWithMetadata)(L.AnalyticEvents.CHANNEL_OPENED,F({channel_is_nsfw:j,parent_id:N,can_send_message:V},ue));H&&(0,u.trackWithMetadata)(L.AnalyticEvents.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:j})}};n.getGameMetadata=function(){return{game_platform:this.props.gamePlatform,game_name:this.props.gameName,game_exe_name:this.props.gameExeName,game_id:this.props.gameId}};n.render=function(){return null};return t}(r.PureComponent);B.displayName="AutoAnalytics";function H(){var e,t=U((0,a.useStateFromStoresArray)([A.default],(function(){return[A.default.getVoiceChannelId(),A.default.getChannelId()]}),[]),2),n=t[0],o=t[1],u=(0,a.useStateFromStores)([_.default],(function(){
return _.default.getChannel(o)}),[o]),l=(0,a.useStateFromStores)([d.default],(function(){return null!=(null==u?void 0:u.id)&&d.default.getChatOpen(u.id)}),[u]),s=null==u?void 0:u.nsfw,f=null!==(e=null==u?void 0:u.parent_id)&&void 0!==e?e:void 0,p=(0,a.useStateFromStores)([_.default],(function(){return _.default.getChannel(n)}),[n]),v=(0,a.useStateFromStores)([C.default],(function(){return C.default.getGuildId()}),[]),y=(0,a.useStateFromStores)([S.default],(function(){return S.default.getGuild(v)}),[v]),m=(0,a.useStateFromStores)([N.default],(function(){return N.default.getCurrentUser()}),[]),h=(0,a.useStateFromStores)([E.default],(function(){var e,t;return null!=m&&null!=v&&(null!==(e=null===(t=E.default.getMember(v,m.id))||void 0===t?void 0:t.isPending)&&void 0!==e&&e)}),[m,v]),w=(0,a.useStateFromStores)([R.default],(function(){return R.default.getState().section}),[]),D=(0,a.useStateFromStores)([P.default],(function(){return P.default.getHomeLink()}),[]),k=(0,
a.useStateFromStores)([g.default],(function(){return g.default.isConnected()}),[]),j=U((0,a.useStateFromStoresArray)([O.default],(function(){return[O.default.isVideoEnabled(),O.default.isScreenSharing()]}),[]),2),G=j[0],F=j[1],x=(0,a.useStateFromStores)([I.default],(function(){return I.default.getChannelId()}),[]),H=(0,a.useStateFromStores)([M.default],(function(){return M.default.getPrimaryActivity()}),[]),V=(0,a.useStateFromStores)([T.default],(function(){return T.default.getCurrentGame()}),[]),W=(0,a.useStateFromStores)([I.default],(function(){return I.default.getMediaSessionId()}),[]),Y=(0,a.useStateFromStores)([I.default],(function(){return I.default.getRTCConnectionId()}),[]),K=(0,c.default)(v),z=(0,a.useStateFromStores)([b.default],(function(){return b.default.can(L.Permissions.SEND_MESSAGES,u)})),$={selectedChannelId:o,channelParentId:f,isNSFWChannel:s,selectedGuildId:v,friendsTabSection:w,homeLink:D,connected:k,videoEnabled:G,isScreenSharing:F,
voiceChannelId:null==p?void 0:p.id,voiceChannelIdJoined:x,voiceChannelGuildId:null==p?void 0:p.getGuildId(),voiceChannelType:null==p?void 0:p.type,voiceChannelBitrate:null==p?void 0:p.bitrate,runningGame:V,runningGamePid:null!=V?V.pid:null,gamePlatform:(0,i.default)(H),gameName:null!=H?H.name:null,gameId:null!=H?H.application_id:null,gameExeName:null!=V?V.exeName:null,hasPreviewEnabled:null==y?void 0:y.features.has(L.GuildFeatures.PREVIEW_ENABLED),isMemberPending:h,mediaSessionId:W,rtcConnectionId:Y,postableChannelCount:K,isTextInVoice:l,canSendMessage:z};return r.createElement(B,$)}H.displayName="ConnectedAutoAnalytics"},721536:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=Re(n(667294)),o=Ne(n(294184)),i=Ne(n(441143)),u=n(370405),l=n(473727),s=n(536211),d=n(378158),f=Ne(n(864345)),c=n(854976),p=n(608286),v=Ne(n(825724)),y=Ne(n(803121)),m=Ne(n(678928)),_=n(573285),h=n(329117),g=Ne(n(63608)),E=Ne(n(324935)),S=Ne(n(57697)),O=Ne(n(689626)),b=Ne(n(141776)),I=Ne(n(540330)),T=Ne(n(542322)),A=Ne(n(818378)),C=Ne(n(764423)),M=Ne(n(463024)),N=n(451115),P=Ne(n(92332)),R=Ne(n(992634)),w=Ne(n(241813)),D=n(57449),L=Ne(n(930409)),k=n(139982),j=n(391869),U=Ne(n(225379)),G=n(637356),F=Ne(n(551619)),x=Ne(n(861370)),B=Ne(n(556250)),H=Ne(n(73942)),V=Ne(n(627900)),W=Ne(n(252283)),Y=n(887299),K=n(910992),z=n(518180),$=n(508079),q=Ne(n(131629)),Q=n(567186),X=Re(n(502546)),Z=Ne(n(644263)),J=n(687549),ee=Ne(n(250650)),te=Ne(n(137438)),ne=Ne(n(30098)),re=Ne(n(788739)),ae=Ne(n(205982)),oe=Ne(n(211136)),ie=Ne(n(728429)),ue=Ne(n(387692)),le=Ne(n(956117)),se=Ne(n(80828)),de=n(194322),fe=Ne(n(528175)),ce=n(71246),pe=n(518802),ve=Ne(n(914789)),ye=Re(n(174851)),me=Ne(n(416274)),_e=Ne(n(448702)),he=Ne(n(43233)),ge=Ne(n(200574)),Ee=Ne(n(424670)),Se=Ne(n(805918)),Oe=Ne(n(300399)),be=n(770348),Ie=n(859089),Te=n(460703),Ae=n(808961),Ce=Ne(n(247001)),Me=Ne(n(149563))
;function Ne(e){return e&&e.__esModule?e:{default:e}}function Pe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Pe=function(e){return e?n:t})(e)}function Re(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Pe(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(){Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Le.apply(this,arguments)}function ke(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function je(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ke(o,r,a,i,u,"next",e)}function u(e){ke(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Ue(e,t){Ue=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ue(e,t)}function Ge(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Fe=Ge(se.default,{}),xe=(0,h.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(46422)]).then(n.bind(n,646422))},webpackId:646422,renderLoader:function(){return Ge("div",{className:Me.default.loader},void 0,Fe)},name:"ForumChannel"
}),Be=new Set([be.ChannelTypes.GUILD_TEXT]),He=Ge(_e.default,{}),Ve=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Ue(e,t)}(t,e);function t(){for(var t,r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];(t=e.call.apply(e,[this].concat(u))||this).state={topicExpanded:!1,threadSidebarWidth:void 0,isThreadSidebarFloating:!1};t.handleTitleParentClick=function(){var e=t.props.parentChannel;null!=e&&(0,j.transitionToChannel)(e.id)};t._handleContextMenu=function(e,n){switch(n.type){case be.ChannelTypes.GUILD_VOICE:case be.ChannelTypes.GUILD_ANNOUNCEMENT:case be.ChannelTypes.GUILD_TEXT:case be.ChannelTypes.GUILD_FORUM:t.openChannelContextMenu(e,n);break;case be.ChannelTypes.ANNOUNCEMENT_THREAD:case be.ChannelTypes.PUBLIC_THREAD:case be.ChannelTypes.PRIVATE_THREAD:t.openThreadContextMenu(e,n);break;case be.ChannelTypes.DM:t.openDMContextMenu(e,n)}};t.handleContextMenu=function(e){(0,
i.default)(null!=t.props.channel,"Missing channel in Channel.handleContextMenu");t._handleContextMenu(e,t.props.channel)};t.handleParentContextMenu=function(e){(0,i.default)(null!=t.props.parentChannel,"Missing parentChannel in Channel.handleParentContextMenu");t._handleContextMenu(e,t.props.parentChannel)};t.handleThreadSidebarResize=function(e,n){t.setState({threadSidebarWidth:e,isThreadSidebarFloating:n})};t.openUserProfile=function(){var e=t.props.channel;(0,i.default)(null!=e,"Missing channel in Channel.openUserProfile");(0,K.openUserProfileModal)({userId:e.getRecipientId(),guildId:e.guild_id,channelId:e.id,analyticsLocation:{section:be.AnalyticsSections.CHANNEL_HEADER}})};t.renderStreamQualityLiveIndicatorToolbarItem=function(){var e=t.props.selectedParticipant;return(null==e?void 0:e.type)!==Ie.ParticipantTypes.STREAM?null:Ge(S.default,{size:fe.default.Sizes.LARGE,participant:e,showQuality:!0},"live-indicator")};t.renderHeaderToolbar=function(){
var e=t.props,n=e.channel,r=e.parentChannel,a=e.isLurking;(0,i.default)(null!=n,"Missing channel in Channel.renderHeaderToolbar");var o=[];if(n.isSystemDM())return o;switch(n.type){case be.ChannelTypes.GUILD_STAGE_VOICE:case be.ChannelTypes.GUILD_VOICE:return o;case be.ChannelTypes.DM:o.push(t.renderStreamQualityLiveIndicatorToolbarItem());o.push(Ge(P.default,{channel:n},"calls"));o.push(Ge(C.default,{channel:n},"pins"));o.push(Ge(R.default,{channel:n,tooltip:Ce.default.Messages.GROUP_DM_ADD_FRIENDS},"invite"));break;case be.ChannelTypes.GROUP_DM:o.push(t.renderStreamQualityLiveIndicatorToolbarItem());o.push(Ge(P.default,{channel:n},"calls"));o.push(Ge(C.default,{channel:n},"pins"));if(!n.isManaged()){var u=Ce.default.Messages.GROUP_DM_ADD_FRIENDS;o.push(Ge(R.default,{channel:n,tooltip:u},"invite"))}o.push(Ge(T.default,{channelId:n.id},"members"));break;case be.ChannelTypes.ANNOUNCEMENT_THREAD:case be.ChannelTypes.PRIVATE_THREAD:case be.ChannelTypes.PUBLIC_THREAD:
null!=r&&(r.isForumChannel()||o.push(Ge(B.default,{channel:r},"browser")));n.isArchivedThread()||o.push(Ge(H.default,{channel:n},"notifications"));o.push(Ge(C.default,{channel:n},"pins"));n.isArchivedThread()||o.push(Ge(T.default,{channelId:n.id},"members"));o.push(Ge(V.default,{channel:n},"threads-overflow"));break;case be.ChannelTypes.GUILD_ANNOUNCEMENT:case be.ChannelTypes.GUILD_TEXT:o.push(Ge(B.default,{channel:n},"browser"));a||o.push(Ge(A.default,{channel:n},"notifications"));o.push(Ge(C.default,{channel:n},"pins"));o.push(Ge(T.default,{channelId:n.id},"members"));break;case be.ChannelTypes.GUILD_FORUM:a||o.push(Ge(A.default,{channel:n},"notifications"));o.push(Ge(T.default,{channelId:n.id},"members"));break;case be.ChannelTypes.GUILD_DIRECTORY:o.push(Ge(T.default,{channelId:n.id},"members"))}return o};t.renderMobileToolbar=function(){var e=t.props.channel;(0,i.default)(null!=e,"Missing channel in Channel.renderHeaderToolbar");var n=[];if(e.isSystemDM())return n;switch(e.type){
case be.ChannelTypes.GUILD_STAGE_VOICE:case be.ChannelTypes.GUILD_VOICE:case be.ChannelTypes.DM:break;case be.ChannelTypes.GROUP_DM:n.push(Ge(T.default,{channelId:e.id},"members"));break;case be.ChannelTypes.ANNOUNCEMENT_THREAD:case be.ChannelTypes.PRIVATE_THREAD:case be.ChannelTypes.PUBLIC_THREAD:e.isArchivedThread()||n.push(Ge(T.default,{channelId:e.id},"members"));break;case be.ChannelTypes.GUILD_ANNOUNCEMENT:case be.ChannelTypes.GUILD_TEXT:case be.ChannelTypes.GUILD_FORUM:case be.ChannelTypes.GUILD_DIRECTORY:n.push(Ge(T.default,{channelId:e.id},"members"))}return n};t.renderFollowButton=function(){var e=t.props,r=e.showFollowButton,o=e.channel;return r?Ge(le.default,{size:le.default.Sizes.MIN,color:le.default.Colors.PRIMARY,className:Me.default.followButton,onClick:function(){return(0,de.openModalLazy)(je(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(35753)]).then(n.bind(n,735753));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,Le({channel:o},e))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,Ce.default.Messages.FOLLOW):null};t.renderHeaderBar=function(){var e=t.props,n=e.channel,r=e.channelName,a=e.parentChannel,u=e.guild,l=e.guildId,s=e.showCall,d=e.hasVideo,f=e.isMobile;(0,i.default)(null!=n,"Missing channel in Channel.renderHeaderBar");(0,i.default)(null!=r,"Should not be null if channel is not null.");var c=n.isDM()&&!n.isSystemDM()?t.openUserProfile:void 0,p=null!=(null==a?void 0:a.guild_id)&&null!=(null==a?void 0:a.id)?t.handleTitleParentClick:void 0;return Ge(M.default,{guildId:l,channelId:n.id,hideSearch:n.isDirectory(),toolbar:t.renderHeaderToolbar(),mobileToolbar:t.renderMobileToolbar(),className:(0,o.default)(Me.default.title,d&&s?(0,pe.getThemeClass)(be.ThemeTypes.DARK):null),transparent:s,
"aria-label":Ce.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL},"header-"+n.id,(0,N.renderTitle)({channel:n,channelName:r,parentChannel:a,guild:u,hasVideo:d,isMobile:f,handleContextMenu:t.handleContextMenu,handleParentContextMenu:t.handleParentContextMenu,handleClick:c,handleParentClick:p,renderFollowButton:t.renderFollowButton}),Ge(N.HeaderGuildBreadcrumb,{channel:n,guild:u}),(0,N.renderTopic)(n,u))};return t}var r=t.prototype;r.componentDidMount=function(){(0,Y.trackAppUIViewed)("guild_channel")};r.componentDidUpdate=function(e){null!=this.props.channel&&null!=e.channel&&this.props.channel.id!==e.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1});this.openChannelModal()};r.openChannelContextMenu=function(e,t){var r=this.props.guild;(0,i.default)(null!=t,"Missing channel in Channel.openChannelContextMenu");(0,i.default)(null!=r,"Missing guild in Channel.openChannelContextMenu");(0,d.openContextMenuLazy)(e,je(regeneratorRuntime.mark((function e(){var o,i
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(14560),n.e(32318)]).then(n.bind(n,532318));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,Le({},e,{channel:t,guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))};r.openThreadContextMenu=function(e,t){(0,i.default)(null!=t,"Missing channel in Channel.openChannelContextMenu");(0,d.openContextMenuLazy)(e,je(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,Le({},e,{channel:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.openDMContextMenu=function(e,t){(0,i.default)(null!=t,"Missing channel in Channel.openDMContextMenu");var r=ie.default.getUser(t.getRecipientId());(0,
i.default)(null!=r,"Missing user in Channel.openDMContextMenu");(0,d.openContextMenuLazy)(e,je(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(48811),n.e(81085)]).then(n.bind(n,81085));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,Le({},e,{user:r,channelSelected:!0,channel:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.renderCall=function(){var e=this.props,t=e.channel,n=e.showCall,r=e.nsfwAllowed,a=e.nsfwAgree;(0,i.default)(null!=t,"Missing channel in Channel.renderCall");if((null==t?void 0:t.isNSFW())&&(!r||!a))return null;if(!n)return null;switch(t.type){case be.ChannelTypes.GUILD_STAGE_VOICE:return Ge(F.default,{channel:t},t.id);case be.ChannelTypes.GUILD_VOICE:case be.ChannelTypes.DM:case be.ChannelTypes.GROUP_DM:var o=this.props.height-200;return Ge(y.default,{channel:t,
renderExternalHeader:this.renderHeaderBar,maxHeight:o},"call-"+t.id);default:return null}};r.renderChat=function(){var e=this.props,t=e.channel,n=e.nsfwAgree,r=e.guild,a=e.nsfwAllowed,o=e.needSubscriptionToAccess;(0,i.default)(null!=t,"Missing channel in Channel.renderChat");if(o){(0,i.default)(null!=r,"premium channels must exist within a guild");return Ge(I.default,{channelId:t.id,guildId:r.id})}if(t.isNSFW()&&(!a||!n))return Ge(Oe.default,{guild:r});if(t.isVocal())return null;if(t.isDirectory()){(0,i.default)(null!=r,"directory channels must exist within a guild");return Ge(g.default,{channel:t,guild:r})}if(t.type===be.ChannelTypes.GUILD_FORUM){(0,i.default)(null!=r,"forum channels must exist within a guild");return Ge(xe,{channel:t,guild:r},t.id)}var u=Be.has(t.type)&&this.props.enableChatInputActivityButton?_.ChatInputTypes.NORMAL_WITH_ACTIVITY:_.ChatInputTypes.NORMAL;return Ge(ve.default,{channel:t,guild:r,chatInputType:u},null!=r?r.id:"home")};r.renderSidebar=function(){
var e=this.props,t=e.searchId,n=e.channel,r=e.parentChannel,a=e.guild,o=e.needSubscriptionToAccess,u=e.section;(0,i.default)(null!=n,"Missing channel in Channel.renderSidebar");if(o)return null;if(u===be.ChannelSections.MEMBERS)switch(n.type){case be.ChannelTypes.GROUP_DM:return Ge(ge.default,{channel:n},"private-channel-recipients-"+n.id);case be.ChannelTypes.GUILD_DIRECTORY:case be.ChannelTypes.GUILD_FORUM:case be.ChannelTypes.GUILD_ANNOUNCEMENT:case be.ChannelTypes.GUILD_TEXT:return Ge(me.default,{channel:n},"channel-members-"+n.id);case be.ChannelTypes.ANNOUNCEMENT_THREAD:if(null!=r)return Ge(me.default,{channel:r},"channel-members-"+r.id);break;case be.ChannelTypes.PUBLIC_THREAD:case be.ChannelTypes.PRIVATE_THREAD:if(!n.isArchivedThread()&&null!=a)return Ge(Ee.default,{channel:n,guild:a},"channel-members-"+n.id)}else if(u===be.ChannelSections.SEARCH&&null!=t)return Ge(U.default,{searchId:t});return null};r.openChannelModal=function(){
var e=this.props,t=e.channel,r=e.guildId,o=e.hasModalOpen,i=e.showWelcomeModal,u=e.isLurking,l=e.isUnavailable,s=e.showRealNameModal;if(null==t||null==r||l||o)return null;s&&(0,de.openModalLazy)(je(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74302)]).then(n.bind(n,474302));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Le({},e,{guildId:r}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){return O.default.viewPrompt(Te.GuildPrompts.REAL_NAME_PROMPT,r)},modalKey:"Guild Hub Real Name Modal"});i&&(0,de.openModalLazy)(je(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(58095).then(n.bind(n,365760));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Le({},e,{
guildId:r}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){return(0,$.welcomeScreenViewed)(r,u)},modalKey:"Guild Welcome Screen Modal"});return null};r.renderThreadSidebar=function(){var e,t=this.props,n=t.channel,r=t.section,a=t.threadSidebarState,o=t.nsfwAgree,i=t.nsfwAllowed,u=t.width;if(r!==be.ChannelSections.SIDEBAR_CHAT||null==a)return null;if((null==n?void 0:n.isNSFW())&&(!i||!o))return null;switch(a.type){case X.SidebarType.CREATE:if(null==n?void 0:n.isForumChannel())return null;e=Ge(x.default,{parentChannelId:a.parentChannelId,parentMessageId:a.parentMessageId,location:a.location});break;case X.SidebarType.VIEW_THREAD:e=Ge((null==n?void 0:n.isForumChannel())?E.default:W.default,{channelId:a.channelId});break;case X.SidebarType.VIEW_CHANNEL:return null;default:(0,ce.assertNever)(a)}var l=(null==n?void 0:n.type)===be.ChannelTypes.GUILD_FORUM?528:450,s=u-be.CHANNEL_SIDEBAR_WIDTH-l;return Ge(ye.default,{
sidebarType:(null==n?void 0:n.type)===be.ChannelTypes.GUILD_FORUM?ye.ChatSidebarType.PostSidebar:ye.ChatSidebarType.ThreadSidebar,maxWidth:s,onWidthChange:this.handleThreadSidebarResize},void 0,e)};r.render=function(){var e,t,n=this.props,r=n.channel,i=n.channelName,l=n.showCall,s=n.isUnavailable,d=n.layout,f=n.section,c=n.textInVoiceEnabled,p=this.state,v=p.threadSidebarWidth,y=p.isThreadSidebarFloating;if(s)return He;if(null==r)return Ge(he.default,{channelId:this.props.channelId});var m=f===be.ChannelSections.SIDEBAR_CHAT,_=!r.isForumChannel()&&(!r.isGuildVoice()||c);return a.createElement(a.Fragment,null,Ge(u.Helmet,{title:i}),Ge("div",{className:(0,o.default)(Me.default.chat,(e={},e[Me.default.threadSidebarOpen]=m,e[Me.default.threadSidebarFloating]=m&&y,e))},void 0,_?Ge(Se.default,{style:{right:m?v:void 0},className:Me.default.uploadArea,channel:r,draftType:J.DraftType.ChannelMessage}):null,l?null:this.renderHeaderBar(),this.renderCall(),Ge("div",{className:(0,
o.default)(Me.default.content,(t={},t[Me.default.noChat]=d===be.ChannelLayouts.NO_CHAT,t))},void 0,this.renderChat(),this.renderSidebar())),this.renderThreadSidebar())};return t}(a.PureComponent);Ve.displayName="Channel";var We=(0,f.default)(Ve),Ye=a.memo((function(){var e,t=we(a.useState(null),2),n=t[0],r=t[1],o=(0,s.useStateFromStores)([oe.default],(function(){return oe.default.getChannelId()})),i=(0,s.useStateFromStores)([oe.default],(function(){return oe.default.getVoiceChannelId()})),u=(0,s.useStateFromStores)([v.default],(function(){return null!=o&&v.default.getParticipants(o).length>0}),[o]),d=(0,s.useStateFromStores)([Z.default],(function(){return Z.default.getChannel(o)}),[o]),f=(0,s.useStateFromStores)([Z.default],(function(){return Z.default.getChannel(i)}),[i]),y=null==d?void 0:d.parent_id,_=(0,s.useStateFromStores)([Z.default],(function(){return Z.default.getChannel(y)}),[y]),h=(0,s.useStateFromStores)([ne.default],(function(){
return ne.default.getGuild(null==d?void 0:d.guild_id)}),[d]),g=(0,b.default)(null!==(e=null==d?void 0:d.id)&&void 0!==e?e:void 0).needSubscriptionToAccess,E=(0,z.useIsTextInVoiceEnabled)(null==d?void 0:d.guild_id),S=(null==d?void 0:d.isVocal())||u,O=(0,l.useLocation)().welcomeModalChannelId,I=(0,s.useStateFromStores)([L.default],(function(){return null!=d&&L.default.isLurking(d.guild_id)}),[d]),T=(0,s.useStateFromStores)([q.default],(function(){return q.default.hasSeen(null==d?void 0:d.guild_id,I)}),[d,I]),A=(0,s.useStateFromStores)([v.default],(function(){return null!=o?v.default.getLayout(o):be.ChannelLayouts.NORMAL}),[o]),C=(0,s.useStateFromStores)([v.default],(function(){return null!=d?v.default.getSelectedParticipant(d.id):null})),M=(0,s.useStateFromStores)([ie.default],(function(){return ie.default.getCurrentUser()})),N=(0,w.default)(h),P=O===o&&null!=d&&d.getGuildId()===(null==h?void 0:h.id)&&(0,
Q.isGuildTextChannelType)(d.type)&&(null==h?void 0:h.hasFeature(be.GuildFeatures.WELCOME_SCREEN_ENABLED))&&(null==h?void 0:h.hasFeature(be.GuildFeatures.COMMUNITY)),R=(0,s.useStateFromStoresObject)([X.default],(function(){return{section:X.default.getSection(o),threadSidebarState:X.default.getSidebarState(o)}})),j=R.section,U=R.threadSidebarState,F=(0,m.default)(d),x=null!=d&&i===d.id,B=null!=d&&d.isGuildStageVoice();a.useEffect((function(){var e,t=(0,k.getHistory)();if((null==t||null===(e=t.location)||void 0===e?void 0:e.state)===Ae.STAGE_INVITE_STATE_KEY){var n,a,o=(null!==(n=(0,D.tryParseChannelPath)(null==t||null===(a=t.location)||void 0===a?void 0:a.pathname))&&void 0!==n?n:{}).channelId;null!=o&&r(o)}}),[]);a.useEffect((function(){if(null!=n&&null!=d&&B&&d.id===n&&!x){(0,G.connectAndOpen)(d);r(null)}}),[n,B]);var H=(0,c.useChatInputActivityButton)({guildId:null==h?void 0:h.id}),V=(0,p.useNitroChatInputActivityButton)();return a.createElement(We,Le({
guildId:null==d?void 0:d.guild_id,channelId:o,channel:d,channelName:F,parentChannel:_,voiceChannel:f,layout:A,needSubscriptionToAccess:g,isLurking:I,hasModalOpen:(0,de.hasAnyModalOpen)(),section:j,threadSidebarState:U,guild:h,searchId:(0,s.useStateFromStores)([ae.default],(function(){return ae.default.getCurrentSearchId()})),showCall:!g&&S,nsfwAgree:(0,s.useStateFromStores)([te.default],(function(){return te.default.didAgree(null==d?void 0:d.guild_id)})),isMobile:(0,s.useStateFromStores)([re.default],(function(){return(null==d?void 0:d.type)===be.ChannelTypes.DM&&re.default.isMobileOnline(d.getRecipientId())}),[d]),isUnavailable:(0,s.useStateFromStores)([ee.default],(function(){return null!=(null==d?void 0:d.guild_id)&&ee.default.isUnavailable(d.guild_id)}),[d]),showRealNameModal:N,showWelcomeModal:!T&&P,showFollowButton:(null==d?void 0:d.type)===be.ChannelTypes.GUILD_ANNOUNCEMENT&&(null==h?void 0:h.hasFeature(be.GuildFeatures.NEWS))||!1},(0,
s.useStateFromStoresObject)([ue.default],(function(){return{hasVideo:null!=d&&ue.default.hasVideo(d.id)}}),[d]),{inCall:x,selectedParticipant:C,nsfwAllowed:!0===(null==M?void 0:M.nsfwAllowed),textInVoiceEnabled:E,enableChatInputActivityButton:H||V}))}));t.default=Ye},914789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=Oe(n(667294)),o=Ee(n(441143)),i=n(171236),u=n(723360),l=n(536211),s=Ee(n(186705)),d=Ee(n(786345)),f=Ee(n(55189)),c=Ee(n(413546)),p=Ee(n(274710)),v=n(354575),y=Ee(n(235879)),m=Ee(n(844784)),_=n(65621),h=Ee(n(462936)),g=Ee(n(906682)),E=n(573285),S=n(424527),O=Ee(n(668339)),b=Ee(n(440214)),I=Ee(n(271180)),T=n(78528),A=n(105149),C=n(250916),M=n(457676),N=n(514756),P=n(62017),R=Ee(n(614293)),w=Ee(n(803069)),D=n(943725),L=Ee(n(4590)),k=Ee(n(429654)),j=Ee(n(338016)),U=Ee(n(338591)),G=Oe(n(604966)),F=n(886090),x=Ee(n(359342)),B=n(770755),H=Ee(n(527820)),V=Ee(n(423046)),W=Ee(n(502546)),Y=Oe(n(687549)),K=Ee(n(409205)),z=Ee(n(201292)),$=Ee(n(689389)),q=Ee(n(211136)),Q=Ee(n(680873)),X=Ee(n(728429)),Z=n(644105),J=Ee(n(160629)),ee=Ee(n(413542)),te=n(221656),ne=n(194322),re=Ee(n(308920)),ae=n(993442),oe=n(956506),ie=n(871382),ue=n(245838),le=n(247726),se=n(738326),de=Ee(n(791555)),fe=Ee(n(576967)),ce=Ee(n(756873)),pe=Ee(n(786630)),ve=Ee(n(284382)),ye=Ee(n(626341)),me=n(770348),_e=Ee(n(247001)),he=Ee(n(149563)),ge=["isSidebar"]
;function Ee(e){return e&&e.__esModule?e:{default:e}}function Se(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Se=function(e){return e?n:t})(e)}function Oe(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Se(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Te(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ae(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ae(o,r,a,i,u,"next",e)}function u(e){Ae(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Me(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Ne(e,t)}function Ne(e,t){Ne=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ne(e,t)}function Pe(){Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Pe.apply(this,arguments)}function Re(e){e.preventDefault()}var we=/^\+(?!\w+):?(?!:)(\w+)?:?$/;function De(e){var t=e.isSidebar,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}
return a}(e,ge);return t?a.createElement("section",Pe({},n,{role:"complementary"})):a.createElement("main",n)}var Le=function(e){Me(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).isFirstChange=!0;t.state=Pe({},(0,S.createState)(Y.default.getDraft(t.props.channel.id,Y.DraftType.ChannelMessage)),{contentWarningProps:null});t.draftDidChange=function(e){void 0===e&&(e=t.props);var n=t.state.textValue,r=Y.default.getDraft(e.channel.id,Y.DraftType.ChannelMessage);n===r||""!==r&&""!==n||t.setState((0,S.createState)(r),(function(){if(n!==r){var e=t.props.onFocus;null==e||e()}}))};t.handleKeyDown=function(e){var n=t.props,r=n.keyboardModeEnabled,a=n.onKeyDown,o=n.channel,i=e.shiftKey||e.altKey||e.ctrlKey||e.metaKey,u=0!==t.state.textValue.length;switch(e.which){case me.KeyboardKeys.DELETE:case me.KeyboardKeys.BACKSPACE:t.handleIncrementCombo("",1);return;case me.KeyboardKeys.ARROW_UP:if(i)return;if(u)return
;e.preventDefault();if(r)Q.default.getUploadCount(o.id,Y.DraftType.ChannelMessage)>0?oe.ComponentDispatch.dispatchToLastSubscribed(me.ComponentActions.FOCUS_ATTACHMENT_AREA):oe.ComponentDispatch.dispatchToLastSubscribed(me.ComponentActions.FOCUS_MESSAGES,{atEnd:!0});else{var l=t.props.channel,s=z.default.getLastEditableMessage(l.id);if(null!=s){d.default.startEditMessage(l.id,s.id,s.content);m.default.trackWithMetadata(me.AnalyticEvents.MESSAGE_EDIT_UP_ARROW)}}return;case me.KeyboardKeys.ESCAPE:if(i)return;if(e.target!==e.currentTarget)return;e.preventDefault();if(r){(0,v.disableKeyboardMode)();return}if(Q.default.getUploadCount(o.id,Y.DraftType.ChannelMessage)>0){c.default.clearAll(o.id,Y.DraftType.ChannelMessage);return}}null==a||a(e,u)};t.handleIncrementCombo=function(e,n){var r;if(t.props.poggermodeEnabled){var a=t.props.channel.id,o=V.default.getId(),i=L.default.getUserCombo(o,a),u=(null!==(r=null==i?void 0:i.value)&&void 0!==r?r:0)+1;(0,D.updateCombo)({channelId:a,userId:o,
value:null!=e?e.length:u,multiplier:n})}};t.handleTextareaChange=function(e,n,r){var a=t.props,o=a.keyboardModeEnabled,i=a.channel.id;s.default.changeDraft(i,n,Y.DraftType.ChannelMessage);var u=""!==n&&r!==t.state.richValue,l=u&&!we.test(n)&&!n.startsWith("/")&&(!t.isFirstChange||n!==t.state.textValue);t.isFirstChange=!1;l&&t.state.textValue.length<n.length&&t.handleIncrementCombo();l?f.default.startTyping(i):""===n&&f.default.stopTyping(i);u&&o&&(0,v.disableKeyboardMode)();t.setState({textValue:n,richValue:r})};t.handleSendMessage=function(){var e=Ce(regeneratorRuntime.mark((function e(n){var r,a,o,i,u,l,s,f,v,y,m,g,E;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.value,a=n.uploads,o=n.stickers,i=n.command,u=n.commandOptionValues,l=n.isGif;if(0!==(r=r.trim()).length||null!=o&&0!==o.length||null!=a&&0!==a.length){e.next=4;break}return e.abrupt("return",Promise.resolve({shouldClear:!1,shouldRefocus:!0}));case 4:s=t.props,f=s.guild,v=s.channel,
y=s.pendingReply,m=s.chatInputType;g=!1;if(null==i){e.next=18;break}if(i.inputType!==_.ApplicationCommandInputType.BUILT_IN_INTEGRATION){e.next=10;break}oe.ComponentDispatch.dispatch(me.ComponentActions.SHAKE_APP,{duration:200,intensity:2});return e.abrupt("return",Promise.resolve({shouldClear:!1,shouldRefocus:!0}));case 10:e.next=12;return(0,h.default)(i,null!=u?u:{},{guild:f,channel:v});case 12:E=e.sent;if(i.inputType!==_.ApplicationCommandInputType.BUILT_IN_TEXT){e.next=17;break}if(null!=E){r=null!=E.content&&""!==E.content?E.content:r;g=!0===E.tts}e.next=18;break;case 17:return e.abrupt("return",Promise.resolve({shouldClear:!0,shouldRefocus:!0}));case 18:return e.abrupt("return",(0,ie.applyChatRestrictions)({openWarningPopout:function(e){return t.setState({contentWarningProps:e})},type:t.props.chatInputType,content:r,stickers:o,uploads:a,channel:v}).then((function(e){var n=e.valid,i=e.failureReason;if(!n){if(i===me.MessageRestrictionTypes.SLOWMODE_COOLDOWN){
oe.ComponentDispatch.dispatch(me.ComponentActions.SHAKE_APP,{duration:200,intensity:2});oe.ComponentDispatch.dispatch(me.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN);return{shouldClear:!1,shouldRefocus:!0}}return{shouldClear:!1,shouldRefocus:!1}}var u=d.default.getSendMessageOptionsForReply(y),s=R.default.parse(v,r);s.tts=s.tts||g;if(l){d.default.sendMessage(v.id,s,void 0,u);(0,F.deletePendingReply)(v.id);return{shouldClear:!1,shouldRefocus:!0}}if(null!=a&&a.length>0){var _=(0,se.getWebUploadFiles)(a);if((0,se.filesExceedUploadLimits)(_,null==f?void 0:f.id)){(0,le.showUploadFileSizeExceededError)(v,_);return{shouldClear:!1,shouldRefocus:!1}}p.default.uploadFiles({channelId:v.id,uploads:a,draftType:Y.DraftType.ChannelMessage,parsedMessage:s,options:Pe({},u,{stickerIds:o})});c.default.clearAll(v.id,Y.DraftType.ChannelMessage)}else null!=o&&o.length>0?""!==r?d.default.sendMessage(v.id,s,void 0,Pe({},u,{stickerIds:o
})):d.default.sendStickers(v.id,o,r,u,s.tts):d.default.sendMessage(v.id,s,void 0,u);t.setState((0,S.createEmptyState)());(0,F.deletePendingReply)(v.id);(0,B.clearStickerPreview)(v.id,m.drafts.type);return{shouldClear:!0,shouldRefocus:!0}})));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.renderAttachButton=function(e){return Te(b.default,{className:e,channel:t.props.channel,draftType:Y.DraftType.ChannelMessage,editorTextContent:t.state.textValue,setValue:function(e){return t.handleTextareaChange(null,e,(0,S.toRichValue)(e))}})};t.renderApplicationCommandIcon=function(e,n,r){return Te(O.default,{className:r,command:e,section:n,channel:t.props.channel})};return t}var n=t.prototype;n.componentDidMount=function(){Y.default.addChangeListener(this.draftDidChange)};n.componentWillUnmount=function(){Y.default.removeChangeListener(this.draftDidChange)};n.componentDidUpdate=function(e,t){var n=this.props.channel,r=this.state.textValue
;if(e.channel.id===n.id){if(e.hasModalOpen&&!this.props.hasModalOpen){var a=Y.default.getDraft(n.id,Y.DraftType.ChannelMessage);a!==r&&this.setState((0,S.createState)(a))}t.textValue.length<me.MAX_MESSAGE_LENGTH&&r.length>=me.MAX_MESSAGE_LENGTH&&re.default.track(me.AnalyticEvents.MESSAGE_LENGTH_LIMIT_REACHED,{})}else this.draftDidChange(this.props)};n.render=function(){var e=this,t=this.props,n=t.channel,r=t.focused,i=t.onResize,u=t.onBlur,l=t.onFocus,s=t.highlighted,d=t.pendingReply,f=t.chatInputType,c=t.placeholder,p=t.shakeIntensity,v=t.poggermodeEnabled,y=this.state.contentWarningProps,m=Te(I.default,{textValue:this.state.textValue,richValue:this.state.richValue,focused:r,className:he.default.channelTextArea,channel:n,placeholder:c,pendingReply:d,type:f,onChange:this.handleTextareaChange,onSubmit:this.handleSendMessage,onResize:i,onFocus:l,onBlur:u,onKeyDown:this.handleKeyDown,renderAttachButton:this.renderAttachButton,renderApplicationCommandIcon:this.renderApplicationCommandIcon,
promptToUpload:le.promptToUpload,highlighted:s});return Te(J.default,{position:J.default.Positions.TOP,onRequestClose:function(){var t;null==y||null===(t=y.onCancel)||void 0===t||t.call(y);e.setState({contentWarningProps:null})},shouldShow:null!=y,renderPopout:function(e){var t=e.closePopout;(0,o.default)(null!=y,"ChannelTextAreaForm > Popout > renderPopout: contentWarningProps cannot be null");return a.createElement(ye.default,Pe({onClose:t},y))}},void 0,(function(){return v?Te(ee.default,{isShaking:p>0,intensity:p},void 0,m):m}))};return t}(a.PureComponent);Le.displayName="ChannelTextAreaForm";var ke=Te(G.default,{}),je=Te(te.ChatLayerContainer,{}),Ue=function(e){Me(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).inputFormRef=a.createRef();t.state={textAreaFocused:!1,textAreaHighlighted:!1,currentChannelId:t.props.channel.id};t.dispatchGroupRef=a.createRef();t.handleRequestFocus=function(e){
e.channelId===t.props.channel.id&&t.setState({textAreaFocused:!0})};t.getAnalyticsPage=function(){var e=t.props.channel;if(null==e)return null;switch(e.type){case me.ChannelTypes.GUILD_ANNOUNCEMENT:case me.ChannelTypes.GUILD_TEXT:case me.ChannelTypes.GUILD_FORUM:return ve.default.Pages.GUILD_CHANNEL;case me.ChannelTypes.GROUP_DM:case me.ChannelTypes.DM:return ve.default.Pages.DM_CHANNEL;default:return null}};t.handleInputFocus=function(e){var n;null===(n=t.dispatchGroupRef.current)||void 0===n||n.bumpDispatchPriority();(0,ue.isFullScreen)()||(null!=(null==e?void 0:e.highlight)?t.setState({textAreaFocused:!0,textAreaHighlighted:null==e?void 0:e.highlight}):t.setState({textAreaFocused:!0}))};t.handleInputBlur=function(){(document.hasFocus()||t.props.hasModalOpen)&&t.setState({textAreaFocused:!1,textAreaHighlighted:!1})};t.handleInputKeyDown=function(e,n){t.state.textAreaHighlighted&&t.setState({textAreaHighlighted:!1});n||t._handleMoveToPane(e)};t.handleKeyDown=function(e){var n
;(null===(n=t.inputFormRef.current)||void 0===n?void 0:n.contains(e.target))||t._handleMoveToPane(e)};t._handleMoveToPane=function(e){var n=t.props,r=n.keyboardModeEnabled,a=n.chatInputType,o=n.channel;if(r)switch(e.which){case me.KeyboardKeys.ARROW_LEFT:a===E.ChatInputTypes.SIDEBAR&&oe.ComponentDispatch.dispatch(me.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,{channelId:q.default.getChannelId()});return;case me.KeyboardKeys.ARROW_RIGHT:a===E.ChatInputTypes.NORMAL&&oe.ComponentDispatch.dispatch(me.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,{channelId:W.default.getCurrentSidebarChannelId(o.id)})}};t.handleOpenExpressionPicker=function(e){var n=e.activeView;(0,C.openExpressionPicker)(n,t.props.chatInputType)};t.handleChatInteract=function(){var e;null===(e=t.dispatchGroupRef.current)||void 0===e||e.bumpDispatchPriority()};t.renderMessageBanner=function(e,t,n,r,a){if(e.type===me.ChannelTypes.DM){if(t)return Te(A.SenderSpammerBanner,{channel:e});if(n)return ke}return null!=a&&(0,
M.isCommunicationDisabled)(a)&&null!=r?Te(P.CommunicationDisabledBanner,{guild:r,disabledUntil:a}):null};return t}t.getDerivedStateFromProps=function(e,t){var n=e.channel,r=t.currentChannelId;return n.id!==r?{textAreaFocused:null!=n&&(!i.isMobile&&$.default.can(me.Permissions.SEND_MESSAGES,n)),currentChannelId:n.id}:null};var n=t.prototype;n.componentDidMount=function(){oe.ComponentDispatch.subscribe(me.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)};n.componentDidUpdate=function(e){this.props.isEditing===e.isEditing&&this.props.hasModalOpen===e.hasModalOpen||(this.props.isEditing||this.props.hasModalOpen?this.handleInputBlur():this.handleInputFocus())};n.componentWillUnmount=function(){oe.ComponentDispatch.unsubscribe(me.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)};n.render=function(){
var e,t,n=this.props,r=n.channel,o=n.guild,i=n.keyboardModeEnabled,l=n.hasModalOpen,s=n.pendingReply,d=n.chatInputType,f=n.placeholder,c=n.showQuarantinedUserBanner,p=n.filterAfterTimestamp,v=n.showSpamBanner,y=n.communicationDisabledUntil,m=n.shakeIntensity,_=n.poggermodeEnabled,h=this.state,g=h.textAreaFocused,S=h.textAreaHighlighted,O=r.isPrivate()?fe.default:ce.default,b=d===E.ChatInputTypes.SIDEBAR;t=b&&r.type===me.ChannelTypes.GUILD_VOICE?_e.default.Messages.TEXT_IN_VOICE_A11Y_LABEL:u.ChannelTypesSets.THREADS.has(r.type)?_e.default.Messages.THREAD_A11Y_LABEL:_e.default.Messages.CHANNEL_A11Y_LABEL;return Te(ve.default,{page:this.getAnalyticsPage()},"messages-"+r.id,Te(te.ChatLayerProvider,{},void 0,a.createElement(ae.ComponentDispatchGroupProvider,{ref:this.dispatchGroupRef},Te(ae.ComponentAction,{event:me.ComponentActions.TEXTAREA_FOCUS,handler:this.handleInputFocus}),Te(ae.ComponentAction,{event:me.ComponentActions.TEXTAREA_BLUR,handler:this.handleInputBlur
}),Te(ae.ComponentAction,{event:me.ComponentActions.OPEN_EXPRESSION_PICKER,handler:this.handleOpenExpressionPicker}),Te(De,{isSidebar:b,className:he.default.chatContent,"aria-label":t.format({channelName:r.name}),onMouseDown:this.handleChatInteract,onKeyDown:this.handleKeyDown,onFocus:this.handleChatInteract},void 0,Te(de.default,{channel:r,guild:o,narrow:b}),Te(w.default,{channel:r,filterAfterTimestamp:p,showingSpamBanner:v,showingQuarantineBanner:c}),null!==(e=this.renderMessageBanner(r,v,c,o,y))&&void 0!==e?e:a.createElement("form",{ref:this.inputFormRef,onSubmit:Re,className:he.default.form},_&&Te(j.default,{channelId:r.id}),Te(O,{channel:r},void 0,Te(H.default,{tutorialId:"writing-messages",position:Z.PopoutPositions.LEFT,offsetX:75},void 0,Te(Le,{focused:g,highlighted:S,channel:r,guild:o,keyboardModeEnabled:i,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,hasModalOpen:l,pendingReply:s,chatInputType:d,placeholder:f,shakeIntensity:m,
poggermodeEnabled:_}))),Te(pe.default,{channel:r,poggermodeEnabled:_})),je))))};return t}(a.PureComponent);Ue.displayName="ChannelChat";var Ge=a.memo((function(e){var t=e.channel,n=e.guild,r=e.chatInputType,a=e.filterAfterTimestamp,o=(0,g.default)(t),i=(0,T.useDisplayDMSpamBanner)(t),u=(0,G.useShouldBlockDMInputForQuarantinedUser)(X.default.getCurrentUser(),t),s=be((0,N.useCurrentUserCommunicationDisabled)(null==n?void 0:n.id),1)[0],d=(0,k.default)(),f=(0,U.default)(t.id);return Te(Ue,{channel:t,isEditing:null!=(0,l.useStateFromStores)([K.default],(function(){return K.default.getEditingMessageId(t.id)})),hasModalOpen:(0,ne.useModalsStore)(ne.hasAnyModalOpenSelector),guild:n,keyboardModeEnabled:(0,l.useStateFromStores)([y.default],(function(){return y.default.keyboardModeEnabled})),pendingReply:(0,l.useStateFromStores)([x.default],(function(){return x.default.getPendingReply(t.id)})),chatInputType:r,placeholder:o,filterAfterTimestamp:a,showSpamBanner:i,showQuarantinedUserBanner:u,
communicationDisabledUntil:s,shakeIntensity:f,poggermodeEnabled:d})}));t.default=Ge},174851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MIN_CHAT_SIDEBAR_WIDTH=t.ChatSidebarType=void 0;t.default=function(e){var t,n,r=e.sidebarType,l=e.maxWidth,d=e.onWidthChange,c=e.children,p=e.floatingLayer,v=a.useRef(null),S=function(e){switch(e){case h.PostSidebar:return"postSidebarWidth";case h.ThreadSidebar:return"threadSidebarWidth";case h.CallChatSidebar:return"callChatSidebarWidth"}}(r),O=(N=a.useState(s.default[S]),P=2,function(e){if(Array.isArray(e))return e}(N)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(N,P)||function(e,t){if(e){if("string"==typeof e)return y(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(N,P)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=O[0],I=O[1],T=a.useCallback((function(e){var t;u.default.updatedUnsyncedSettings(((t={})[S]=e,t))}),[S]),A=l<=_,C=(0,i.clamp)(b,_,l),M=A?C:C+g;var N,P;a.useEffect((function(){null==d||d(C,A)}),[C,d,A]);var R=a.createElement(a.Fragment,null,m("div",{className:(0,o.default)(f.default.chatTarget,(t={},t[f.default.floating]=A,t[f.default.notFloating]=!A,t)),style:{width:M}}),!A&&m(E,{maxWidth:l,resizableNode:v,onResize:I,onResizeEnd:T}),a.createElement("div",{ref:v,className:(0,o.default)(f.default.container,(n={},n[f.default.floating]=A,n)),style:{width:C}},c));if(A){
return m(null!=p?p:a.Fragment,{},void 0,m("div",{className:f.default.chatLayerWrapper},void 0,R))}return a.createElement(a.Fragment,null,R)};var r,a=v(n(667294)),o=c(n(294184)),i=n(496486),u=c(n(929031)),l=v(n(33273)),s=c(n(174508)),d=n(8916),f=c(n(542709));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=450;t.MIN_CHAT_SIDEBAR_WIDTH=_;var h,g=(0,d.cssValueToNumber)(f.default.resizeHandleWidth);t.ChatSidebarType=h;!function(e){e[e.PostSidebar=0]="PostSidebar";e[e.ThreadSidebar=1]="ThreadSidebar";e[e.CallChatSidebar=2]="CallChatSidebar"}(h||(t.ChatSidebarType=h={}));function E(e){var t=e.resizableNode,n=e.onResize,r=e.onResizeEnd,a=e.maxWidth;return m("div",{onMouseDown:(0,l.default)({minDimension:_,maxDimension:a,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:r,orientation:l.ResizeOrientation.HORIZONTAL_LEFT}),className:f.default.resizeHandle})}
E.displayName="ResizeHandle"},416274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ue;var r,a=W(n(667294)),o=H(n(294184)),i=H(n(496486)),u=W(n(798628)),l=n(171236),s=n(536211),d=H(n(389726)),f=n(378158),c=n(911574),p=H(n(55189)),v=H(n(235879)),y=H(n(843314)),m=H(n(844784)),_=n(832215),h=n(632123),g=n(75639),E=n(252404),S=H(n(527820)),O=H(n(711195)),b=H(n(414068)),I=W(n(778548)),T=H(n(30098)),A=H(n(663303)),C=H(n(946447)),M=H(n(728429)),N=H(n(160629)),P=H(n(325908)),R=H(n(827436)),w=H(n(521358)),D=n(956506),L=n(71246),k=H(n(922629)),j=W(n(810332)),U=n(770348),G=H(n(247001)),F=H(n(645320)),x=["colorString","colorRoleName","isOwner","nick","user","currentUser","activities","applicationStream","status","channel","guildId","isTyping","isMobileOnline","premiumSince"],B=["ref","role"];function H(e){return e&&e.__esModule?e:{default:e}}function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(V=function(e){return e?n:t
})(e)}function W(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=V(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function $(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r]
;t.indexOf(n)>=0||(a[n]=e[n])}return a}function q(){q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return q.apply(this,arguments)}function Q(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Q(o,r,a,i,u,"next",e)}function u(e){Q(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Z(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;J(e,t)}function J(e,t){J=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return J(e,t)}var ee=k.default.getEnableHardwareAcceleration(),te={origin:{x:38,y:11},targetWidth:232,targetHeight:40,offset:{x:0,y:0}},ne=function(e){Z(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i]
;(t=e.call.apply(e,[this].concat(o))||this).renderUserContextMenu=function(e){(0,f.openContextMenuLazy)(e,X(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(5814)]).then(n.bind(n,205814));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,q({},e,{user:t.props.user,guildId:t.props.guildId,channelId:t.props.channel.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleShiftClick=function(){var e=t.props,n=e.user,r=e.channel,a="@"+(A.default.hidePersonalInformation?n.username:n.tag),o="<@!"+n.id+">";D.ComponentDispatch.dispatchToLastSubscribed(U.ComponentActions.INSERT_TEXT,{plainText:a,rawText:o});p.default.startTyping(r.id)};t.openGuildSubscriptionModal=function(e){var n=t.props.guildId;if(null!=n){e.stopPropagation();(0,
g.openGuildBoostingMarketingModal)({guildId:n,location:{section:U.AnalyticsSections.MEMBER_LIST,object:U.AnalyticsObjects.BOOST_GEM_ICON}})}};t.renderUserPopout=function(e){return a.createElement(b.default,q({},e,{userId:t.props.user.id,guildId:t.props.guildId,channelId:t.props.channel.id}))};return t}var r=t.prototype;r.shouldComponentUpdate=function(e){return!(0,d.default)(this.props,e,["channelId"])};r.render=function(){var e=this,t=this.props,n=t.colorString,r=t.colorRoleName,o=t.isOwner,i=t.nick,u=t.user,s=t.currentUser,d=t.activities,f=t.applicationStream,c=t.status,p=t.channel,v=t.guildId,y=t.isTyping,m=t.isMobileOnline,_=t.premiumSince,h=$(t,x),g=null!=_?new Date(_):null;return z(N.default,{preload:function(){return(0,O.default)(u.id,u.getAvatarURL(v,80),{guildId:v})},renderPopout:this.renderUserPopout,position:l.isMobile?N.default.Positions.WINDOW_CENTER:N.default.Positions.LEFT,spacing:16,onShiftClick:this.handleShiftClick},void 0,(function(t,l){var _=l.isShown
;return a.createElement(j.default,q({onContextMenu:e.renderUserContextMenu,shouldAnimateStatus:ee,user:u,currentUser:s,nick:i,status:c,activities:d,applicationStream:f,isOwner:o,premiumSince:g,colorString:n,colorRoleName:r,isTyping:y,channel:p,guildId:v,isMobile:m,onClickPremiumGuildIcon:e.openGuildSubscriptionModal,selected:_,itemProps:h},t))}))};return t}(a.Component);ne.displayName="ChannelMember";var re=a.memo((function(e){var t=e.channel,n=e.user,r=e.colorRoleId,o=e.index,i=(0,u.useListItem)(""+o),l=(0,s.useStateFromStores)([C.default],(function(){return C.default.isTyping(t.id,n.id)})),d=(0,s.useStateFromStores)([M.default],(function(){return M.default.getCurrentUser()})),f=(0,s.useStateFromStores)([T.default],(function(){var e,n;return null!=r?null===(e=T.default.getGuild(t.guild_id))||void 0===e||null===(n=e.getRole(r))||void 0===n?void 0:n.name:void 0}),[t,r]);return a.createElement(ne,q({},e,i,{isTyping:l,currentUser:d,colorRoleName:f}))})),ae=a.memo((function(e){
var t=e.id,n=e.title,r=e.count,o=e.guildId,i=(0,E.useRoleIcon)({roleId:t,guildId:o,size:16});return t===U.StatusTypes.UNKNOWN?z("div",{className:F.default.membersGroup},void 0,z("div",{className:F.default.memberGroupsPlaceholder})):z(P.default,{className:F.default.membersGroup},void 0,z(y.default,{},void 0,G.default.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:r})),z("span",{"aria-hidden":!0},void 0,null!=i?a.createElement(R.default,q({className:F.default.roleIcon},i)):null,n," — ",r))}));function oe(e){var t=e.index,n=(0,u.useListItem)(""+t);return z(j.default,{itemProps:n})}oe.displayName="ChannelMemberPlaceholder";var ie=function(e){Z(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._list=null;t.setList=function(e){t._list=e;t.props.listRef.current=e};t.getRowHeight=function(){return t.props.canUseAvatarDecorations?44+j.AVATAR_DECORATION_PADDING:44};t.renderSection=function(e){
var n=e.section,r=t.props,o=r.groups,i=r.channel,u=o[n];return 0===n?z(S.default,{tutorialId:"whos-online",position:N.default.Positions.LEFT,inlineSpecs:te},"section-"+n,a.createElement(ae,q({},u,{guildId:i.guild_id}))):a.createElement(ae,q({},u,{key:"section-"+n,guildId:i.guild_id}))};t.getRowProps=function(e){var n=t.props,r=n.groups,a=n.rows,o=r[e.section];if(null==o)return null;var i=o.index;return null==i||"row"!==e.type?null:a[i+1+e.row]};t.renderRow=function(e){var n=e.section,r=e.row,a=e.rowIndex,o=t.props.channel,i=t.getRowProps(e);if(null!=i&&i.type===I.MemberListRowTypes.MEMBER&&"user"in i){var u=i.colorString,l=i.colorRoleId,s=i.user,d=i.status,f=i.isOwner,c=i.isMobileOnline,p=i.nick,v=i.activities,y=i.applicationStream,m=i.premiumSince;return z(re,{colorString:u,colorRoleId:l,user:s,status:d,isOwner:f,nick:p,activities:v,applicationStream:y,channel:o,guildId:o.guild_id,premiumSince:m,isMobileOnline:c,index:a},"member-"+i.user.id)}return z(oe,{index:a
},"placeholder-"+n+":"+r)};t.handleScroll=function(){t.updateSubscription()};t.updateSubscription=i.default.debounce((function(){if(null!=t._list){var e=t.props.channel,n=t.getDimensions(),r=n.rowHeight,a=n.y,o=n.height;(0,c.subscribeChannelDimensions)(e.guild_id,e.id,a,o,r)}}),50);t.trackMemberListViewed=function(){var e;if(t.lastReportedAnalyticsChannel!==t.props.channel.id){var n=null===(e=t._list)||void 0===e?void 0:e.getItems(),r=t.getDimensions().rowsVisible;if(void 0!==r&&0!==r&&null!=n){var a=n.map((function(e){return t.getRowProps(e)})).slice(0,r+1).filter(L.isNotNullish);if(0!==a.length){var o=a.reduce((function(e,t){if(t.type!==I.MemberListRowTypes.MEMBER)return e;e.num_users_visible++;t.isMobileOnline&&e.num_users_visible_with_mobile_indicator++;if(null!=t.activities&&t.activities.length>0){e.num_users_visible_with_activity++;t.activities.some((function(e){return e.type===U.ActivityTypes.PLAYING}))&&e.num_users_visible_with_game_activity++}return e}),{num_users_visible:0,
num_users_visible_with_mobile_indicator:0,num_users_visible_with_game_activity:0,num_users_visible_with_activity:0});t.lastReportedAnalyticsChannel=t.props.channel.id;m.default.trackWithMetadata(U.AnalyticEvents.MEMBER_LIST_VIEWED,q({},o))}}}};return t}var n=t.prototype;n.shouldComponentUpdate=function(e){return e.channel.id!==this.props.channel.id||e.version!==this.props.version||e.groups.length!==this.props.groups.length};n.componentDidMount=function(){this.updateSubscription();this.trackMemberListViewed()};n.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.updateSubscription();this.trackMemberListViewed()};n.getDimensions=function(){var e=this._list;if(null==e)return{y:0,height:0,rowHeight:0};var t=e.getScrollerState(),n=t.offsetHeight,r=t.scrollTop,a=Math.floor(n/this.getRowHeight());return{height:n,rowHeight:this.getRowHeight(),rowsVisible:a,y:r}};n.render=function(){var e=this,t=this.props,n=t.groups,r=t.listId,i=t.channel
;return z(h.FocusJumpSection,{},void 0,(function(t){return z("aside",{className:(0,o.default)(F.default.membersWrap,F.default.hiddenMembers),"aria-label":G.default.Messages.MEMBERS_LIST_LANDMARK_LABEL.format({channel:i.name})},void 0,z(u.ListNavigatorContainer,{},void 0,(function(i){var u,s=i.ref,d=i.role,f=$(i,B);return a.createElement(w.default,q({key:r,innerRole:d,innerAriaLabel:G.default.Messages.MEMBERS,ref:function(t){var n;e._list=t;e.props.listRef.current=t;s.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},className:(0,o.default)(F.default.members,(u={},u[F.default.fullWidth]=l.isMobile,u)),paddingTop:0,sectionHeight:40,rowHeight:e.getRowHeight,renderSection:e.renderSection,renderRow:e.renderRow,sections:n.map((function(e){return e.count})),onScroll:e.handleScroll,fade:!0},f,t))})))}))};return t}(a.Component);ie.displayName="ChannelMembers";function ue(e){var t=e.channel,n=e.className,r=(0,s.useStateFromStores)([v.default],(function(){
return v.default.keyboardModeEnabled})),i=(0,s.useStateFromStoresObject)([I.default],(function(){return I.default.getProps(t.guild_id,t.id)})),l=i.rows,d=i.groups,f=a.useRef(null),c=a.useCallback((function(e,t){var n=f.current;if(null!=n){var r=parseInt(t,10),a=Y(n.getSectionRowFromIndex(r),2),o=a[0],i=a[1],u=0===o&&0===i?44:0;n.scrollToIndex({section:o,row:i,padding:u,callback:function(){requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}}),[]),p=a.useCallback((function(){return new Promise((function(e){var t=f.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),y=a.useCallback((function(){return new Promise((function(e){var t=f.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]),m=(0,u.default)({id:"members-"+t.id,setFocus:c,
isEnabled:r,scrollToStart:p,scrollToEnd:y}),h=(0,_.useGlobalHasAvatarDecorations)().canUseAvatarDecorations;return z("div",{className:(0,o.default)(F.default.container,n)},void 0,z(u.ListNavigatorProvider,{navigator:m},void 0,a.createElement(ie,q({},e,i,{groups:d,rows:l,listRef:f,canUseAvatarDecorations:h}))))}ue.displayName="ConnectedChannelMembers"},83887:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=_(n(667294)),o=n(536211),i=y(n(56911)),u=y(n(882832)),l=y(n(191391)),s=y(n(728429)),d=y(n(265851)),f=_(n(80212)),c=y(n(836943)),p=n(770348),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=[];function E(e){var t=e.channel,r=e.onJump,y=(0,o.useStateFromStoresObject)([u.default],(function(){var e=u.default.getPinnedMessages(t.id),n=null!=e?e.messages:g;return{messages:n,loading:null==n||null!=e&&e.loading}})),m=y.messages,_=y.loading,E=(0,
o.useStateFromStores)([l.default],(function(){return l.default.hasUnreadPins(t.id)})),S=(0,o.useStateFromStores)([s.default],(function(){var e=s.default.getUser(t.getRecipientId());return null!=e?e.username:null}));a.useEffect((function(){E&&i.default.ackPins(t.id)}),[E,t.id]);return h(d.default,{"aria-label":v.default.Messages.PINNED_MESSAGES},void 0,h(f.default,{onFetch:function(){i.default.ackPins(t.id);i.default.fetchPins(t.id)},channel:t,messages:m,loading:_,analyticsName:"Channel Pins",onCloseMessage:function(e,n){null!=e&&(n.shiftKey?i.default.unpinMessage(t,e.id):c.default.confirmUnpin(t,e))},onJump:r,getProTip:function(){return t.isPrivate()?t.type===p.ChannelTypes.DM?v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DM.format({other:S}):v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_GROUP_DM:v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL},renderHeader:function(){return h(f.Header,{title:v.default.Messages.PINNED_MESSAGES})},renderEmptyState:function(e){
var r=v.default.Messages.NO_PINS_IN_CHANNEL;t.isPrivate()&&(r=v.default.Messages.NO_PINS_IN_DM);var a=e===p.ThemeTypes.LIGHT?n(937849):n(772144);return h(f.EmptyStateCenter,{msg:r,image:a},"emptystate")},listName:"pins"}))}E.displayName="ChannelPins"},701391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(473727),i=m(n(536211)),u=m(n(709403)),l=m(n(864345)),s=n(887299),d=m(n(484024)),f=m(n(284382)),c=n(858267),p=m(n(390491)),v=n(770348),y=m(n(492036));function m(e){
return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).fetchStoreListing=function(e){var n=t.props,r=n.channel,a=n.inputSkuId
;return null!=e?u.default.fetchChannelStoreListing(r.id,e):null!=a?u.default.fetchChannelStoreListing(r.id,a):u.default.fetchChannelStoreListing(r.id)};t.renderApplicationListing=function(e){var n=e.location,r=t.props,a=r.channel,o=r.skuId,i=r.width;return h(p.default,{channel:a,inputSkuId:o,fetchStoreListing:t.fetchStoreListing,location:n,pageSize:(0,c.getPageSize)(i)})};return t}var n=t.prototype;n.componentDidMount=function(){this.fetchStoreListing();(0,s.trackAppUIViewed)("channel_store_listing")};n.render=function(){return null!=this.props.skuId?h(f.default,{page:v.AnalyticsPages.CHANNEL_STORE_LISTING,root:!0},void 0,h("div",{className:y.default.applicationStore},void 0,h(o.Route,{path:"*",render:this.renderApplicationListing}))):null};return t}(a.Component);E.displayName="ChannelStoreListing";var S=(0,l.default)(i.default.connectStores([d.default],(function(e){var t=e.channel,n=e.inputSkuId;return{skuId:null!=n?n:d.default.getSkuIdForChannel(t.id)}}))(E));t.default=S},
448702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=_(n(213847)),u=_(n(844784)),l=_(n(463024)),s=n(645758),d=_(n(562796)),f=_(n(114655)),c=n(770348),p=_(n(247001)),v=_(n(361751)),y=_(n(192941)),m=_(n(232353));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=((r={})[c.ThemeTypes.DARK]=y.default,r[c.ThemeTypes.LIGHT]=m.default,r),S=g(o.Fragment,{}),O=g(l.default.Icon,{icon:d.default,"aria-hidden":!0}),b=function(){var e=(0,i.default)();o.useEffect((function(){u.default.trackWithMetadata(c.AnalyticEvents.GUILD_OUTAGE_VIEWED,{})}),[]);return g("div",{className:v.default.container},void 0,g(l.default,{toolbar:S},void 0,O,g(l.default.Title,{},void 0,p.default.Messages.GUILD_UNAVAILABLE_HEADER)),g("div",{className:v.default.content},void 0,g("img",{alt:"",className:v.default.splashImage,src:E[e]}),g(f.default,{className:v.default.splashHeader,size:f.default.Sizes.SIZE_24
},void 0,p.default.Messages.GUILD_UNAVAILABLE_TITLE),g(s.Text,{className:v.default.splashText,variant:"text-md/normal"},void 0,p.default.Messages.GUILD_UNAVAILABLE_BODY)))};b.displayName="ChannelUnavailable";var I=b;t.default=I},825469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=I(n(441143)),i=I(n(294398)),u=I(n(726485)),l=I(n(14096)),s=I(n(235879)),d=I(n(916239)),f=I(n(364172)),c=I(n(949898)),p=n(956506),v=I(n(593878)),y=I(n(969940)),m=I(n(421651)),_=I(n(818685)),h=I(n(323019)),g=I(n(396201)),E=I(n(229108)),S=I(n(742234)),O=n(770348),b=I(n(542729));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var C=A(m.default,{}),M=A(E.default,{}),N=A(v.default,{}),P=A(y.default,{}),R=A(i.default,{}),w=A(_.default,{}),D=A(f.default,{}),L=A(d.default,{}),k=A(h.default,{});function j(){var e=a.useRef(null),t=a.useCallback((function(t){var n=t.duration,r=t.intensity;if(!s.default.useReducedMotion&&c.default.isFocused()){var a=e.current;(0,o.default)(null!=a,"Shakeable is shaken when not mounted");a.shake(n,r)}}),[]);a.useEffect((function(){l.default.setLayout(u.default);l.default.enable();return function(){return l.default.disable()}}),[]);a.useEffect((function(){p.ComponentDispatch.subscribe(O.ComponentActions.SHAKE_APP,t);return function(){p.ComponentDispatch.unsubscribe(O.ComponentActions.SHAKE_APP,t)}}),[t]);return a.createElement(S.default,{ref:e,className:b.default.app},A(g.default,{className:b.default.layers},void 0,C,M),N,P,R,w,D,L,k)}j.displayName="Chat";var U=a.memo(j);t.default=U},678306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=M(n(294184)),i=M(n(496486)),u=M(n(74854)),l=M(n(536211)),s=M(n(972247)),d=M(n(761537)),f=M(n(235879)),c=n(866388),p=M(n(749666)),v=M(n(805764)),y=M(n(796608)),m=M(n(23535)),_=M(n(758602)),h=M(n(151097)),g=M(n(934297)),E=M(n(637853)),S=M(n(962314)),O=n(864489),b=n(179379),I=M(n(922629)),T=n(770348),A=M(n(247001)),C=M(n(678114));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function P(e,t){
P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return P(e,t)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).videoRef=null;n._noProblemsTimeout=null;n._problemsTimeout=null;n._connectedSound=n.createSound();n._loadingText=function(){
var e=[A.default.Messages.LOADING_LINE_1,A.default.Messages.LOADING_LINE_2,A.default.Messages.LOADING_LINE_3,A.default.Messages.LOADING_LINE_4,A.default.Messages.LOADING_LINE_5,A.default.Messages.LOADING_LINE_6,A.default.Messages.LOADING_LINE_7,A.default.Messages.LOADING_LINE_8,A.default.Messages.LOADING_LINE_10,A.default.Messages.LOADING_LINE_11,A.default.Messages.LOADING_LINE_12,A.default.Messages.LOADING_LINE_13,A.default.Messages.LOADING_LINE_14,A.default.Messages.LOADING_LINE_15,A.default.Messages.LOADING_TIP_1,A.default.Messages.LOADING_TIP_2,A.default.Messages.LOADING_TIP_3,A.default.Messages.LOADING_TIP_4,A.default.Messages.LOADING_TIP_5,A.default.Messages.LOADING_TIP_6,A.default.Messages.LOADING_TIP_7,A.default.Messages.LOADING_TIP_8,A.default.Messages.LOADING_TIP_9,A.default.Messages.LOADING_TIP_10,A.default.Messages.LOADING_TIP_11,A.default.Messages.LOADING_TIP_12,A.default.Messages.LOADING_TIP_13,A.default.Messages.LOADING_TIP_14,A.default.Messages.LOADING_TIP_15,A.default.Messages.LOADING_TIP_16,A.default.Messages.LOADING_TIP_17,A.default.Messages.LOADING_TIP_18,A.default.Messages.LOADING_TIP_19,A.default.Messages.LOADING_TIP_20,A.default.Messages.LOADING_TIP_21,A.default.Messages.LOADING_TIP_22,A.default.Messages.LOADING_TIP_23,A.default.Messages.LOADING_TIP_24,A.default.Messages.LOADING_TIP_25,A.default.Messages.LOADING_TIP_26,A.default.Messages.LOADING_TIP_27.format({
asterisks:"**"}),A.default.Messages.LOADING_KEYBIND_TIP_1.format({quickSwitcherHook:function(e,t){return R(p.default,{shortcut:"mod+k",className:C.default.keybind},t)}}),A.default.Messages.LOADING_KEYBIND_TIP_2.format({markUnreadHook:function(e,t){return R(p.default,{shortcut:"alt+click",className:C.default.keybind},t)}}),A.default.Messages.LOADING_KEYBIND_TIP_3.format({markServerUnreadHook:function(e,t){return R(p.default,{shortcut:"shift+esc",className:C.default.keybind},t)}}),A.default.Messages.LOADING_KEYBIND_TIP_4.format({navigateUnreadHook:function(e,t){return R(p.default,{shortcut:"shift+alt+up",className:C.default.keybind},t)},downHook:function(e,t){return R(p.default,{shortcut:"down",className:C.default.keybind},t)}}),A.default.Messages.LOADING_KEYBIND_TIP_5.format({keyboardShortcutsHook:function(e,t){return R(p.default,{shortcut:"mod+/",className:C.default.keybind},t)}}),A.default.Messages.LOADING_KEYBIND_TIP_6.format({messageNewlineHook:function(e,t){return R(p.default,{
shortcut:"shift+return",className:C.default.keybind},t)}}),A.default.Messages.LOADING_KEYBIND_TIP_7.format({shiftHook:function(e,t){return R(p.default,{shortcut:"shift",className:C.default.keybind},t)}}),A.default.Messages.LOADING_KEYBIND_TIP_8.format({upHook:function(e,t){return R(p.default,{shortcut:"up",className:C.default.keybind},t)}})];(0,c.summerOfUsabilityEnabled)()&&(e=[A.default.Messages.ACCESSIBILITY_LOADING_TIP_1,A.default.Messages.ACCESSIBILITY_LOADING_TIP_2,A.default.Messages.ACCESSIBILITY_LOADING_TIP_3,A.default.Messages.ACCESSIBILITY_LOADING_TIP_4,A.default.Messages.ACCESSIBILITY_LOADING_TIP_5,A.default.Messages.ACCESSIBILITY_LOADING_TIP_6.format({tabHook:function(e,t){return R(p.default,{shortcut:"tab",className:C.default.keybind},t)}}),A.default.Messages.ACCESSIBILITY_LOADING_TIP_7,A.default.Messages.ACCESSIBILITY_LOADING_TIP_8,A.default.Messages.ACCESSIBILITY_LOADING_TIP_9,A.default.Messages.ACCESSIBILITY_LOADING_TIP_10.format({F6Hook:function(e,t){
return R(p.default,{shortcut:"f6",className:C.default.keybind},t)},tabHook:function(e,t){return R(p.default,{shortcut:"tab",className:C.default.keybind},t)}})]);return e[i.default.random(e.length-1)]}();n.handleReady=function(){n.setState({ready:!0});if((0,O.isDesktop)()){I.default.send("UPDATED_QUOTES",["Hold Tight — Loading Discord"]);I.default.send("UPDATE_OPEN_ON_STARTUP")}};n.setVideoRef=function(e){n.videoRef=e};n.setProblemsTimeout=function(){null==n._problemsTimeout&&(n._problemsTimeout=setTimeout((function(){return n.setState({problems:!0})}),1e4))};n.clearProblemsTimeout=function(){clearTimeout(n._problemsTimeout);n._problemsTimeout=null};var r=t.connected;n.state={ready:r,hide:r,problems:!1,shouldRender:!r,opacity:new u.default.Value(r?0:1)};n._connectedSound.volume=1;return n}var n=t.prototype;n.createSound=function(){var e=this.props.soundpack,t=(0,b.createSoundForPack)("discodo",e);t.volume=1;return t};n.componentDidMount=function(){this.setProblemsTimeout()}
;n.componentDidUpdate=function(e,t){var n=this,r=this.state,a=r.ready,o=r.hide,i=r.problems,l=r.opacity,f=this.props,c=f.connected,p=f.soundpack,v=f.reducedMotion,y=c&&a&&!o&&!i;e.soundpack!==p&&(this._connectedSound=this.createSound());if(e.connected!==c||y)if(c&&null!=this.videoRef){var m=Math.max(Math.ceil(1e3*(this.videoRef.duration-this.videoRef.currentTime)),600);clearTimeout(this._noProblemsTimeout);s.default.get(T.DISCODO_STORAGE_KEY)&&this._connectedSound.play();v?this.setState({problems:!1,hide:c}):this._noProblemsTimeout=setTimeout((function(){n.setState({problems:!1,hide:c})}),m)}else this.setState({problems:!1,hide:c});else if(t.hide!==o){o?this.clearProblemsTimeout():this.setProblemsTimeout();this.setState({shouldRender:!0});u.default.timing(l,{toValue:o?0:1,duration:200}).start((function(){return n.setState({shouldRender:!o})}))}else t.problems!==i&&i&&d.default.checkIncidents()};n.componentWillUnmount=function(){this.clearProblemsTimeout()
;clearTimeout(this._noProblemsTimeout)};n.render=function(){if(this.state.shouldRender){var e,t=this._loadingText,n=null;if(null!=this.props.incident){t=this.props.incident.name;n=this.props.incident.incident_updates[0].body}return R(u.default.div,{className:C.default.container,style:{opacity:this.state.opacity}},void 0,R("div",{className:C.default.content},void 0,R(S.default,{autoPlay:!0,loop:!this.props.connected,setRef:this.setVideoRef,onReady:this.handleReady,className:this.state.ready?C.default.ready:""}),R("div",{className:C.default.text},void 0,null!=this.props.incident?null:R("div",{className:C.default.tipTitle},void 0,A.default.Messages.LOADING_DID_YOU_KNOW),R("div",{className:null!=this.props.incident?C.default.title:C.default.tip},void 0,t),R("div",{className:C.default.body},void 0,n))),R("div",{className:(0,o.default)(C.default.problems,(e={},e[C.default.slideIn]=this.state.problems,e))},void 0,R("div",{className:C.default.problemsText
},void 0,A.default.Messages.CONNECTING_PROBLEMS_CTA),R("div",{},void 0,R(h.default,{className:C.default.twitterLink,href:(0,v.default)(T.LocalizedLinks.TWITTER),target:"_blank"},void 0,R(E.default,{className:C.default.icon}),A.default.Messages.TWEET_US),R(h.default,{className:C.default.statusLink,href:T.Links.STATUS,target:"_blank"},void 0,R(g.default,{className:C.default.icon}),A.default.Messages.SERVER_STATUS))))}return null};return t}(a.PureComponent);w.displayName="ConnectingModal";var D=l.default.connectStores([m.default,_.default,y.default,f.default],(function(){return{isTryingToConnect:m.default.isTryingToConnect(),connected:m.default.isConnected(),incident:_.default.getIncident(),soundpack:y.default.getSoundpack(),reducedMotion:f.default.useReducedMotion}}))((function(e){var t=e.isTryingToConnect,n=e.connected,r=e.incident,a=e.soundpack,o=e.reducedMotion;return t?R(w,{reducedMotion:o,soundpack:a,connected:n,incident:r}):null}));t.default=D},41234:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(972247)),u=c(n(16941)),l=c(n(259530)),s=c(n(934297)),d=c(n(247001)),f=c(n(9007));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _="isHideDevBanner",h=function(){var e,t=y((0,a.useState)("true"===(null===(e=i.default.get(_,"false"))||void 0===e?void 0:e.toString())),2),n=t[0],r=t[1];if(n)return null;var c=function(){i.default.set(_,!0);r(!0)},p=function(){return v(u.default,{onClick:c,className:f.default.closeButton,"aria-label":d.default.Messages.DISMISS},void 0,v(l.default,{className:f.default.closeIcon}))};0;if("staging"===window.GLOBAL_ENV.RELEASE_CHANNEL){return v("div",{className:(0,o.default)(f.default.devBanner,f.default.staging)},void 0,v(s.default,{className:f.default.icon}),d.default.Messages.DEV_NOTICE_STAGING.format({buildNumber:"134587"}),v(p,{}))}return null};t.default=h},43233:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=S;var r,a=h(n(667294)),o=n(171236),i=n(536211),u=m(n(772145)),l=m(n(790597)),s=m(n(871778)),d=h(n(737705)),f=m(n(80828)),c=m(n(878556)),p=n(770348),v=m(n(247001)),y=m(n(591701));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=g(c.default,{},void 0,g(a.Fragment,{}));function S(e){var t=e.channelId;a.useEffect((function(){u.default.loadThread(t)}));var r,c=(0,i.useStateFromStores)([l.default],(function(){return l.default.getGuildId()}))===p.FAVORITES,m=(0,i.useStateFromStores)([s.default],(function(){return s.default.theme}));r=c?g(d.EmptyStateText,{note:v.default.Messages.FAVORITES_EMPTY_BODY},void 0,v.default.Messages.FAVORITES_EMPTY_TITLE):null!=t?g(f.default,{type:f.default.Type.SPINNING_CIRCLE}):g(d.EmptyStateText,{note:v.default.Messages.CHANNELS_UNAVAILABLE_BODY},void 0,v.default.Messages.CHANNELS_UNAVAILABLE_TITLE);return g("div",{className:y.default.noChannel
},void 0,o.isMobile&&E,g(d.default,{theme:m},void 0,g(d.EmptyStateImage,{darkSrc:n(c?128112:16697),lightSrc:n(c?876406:105045),width:272,height:222}),r))}S.displayName="EmptyChannel"},323019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=y(n(496486)),o=n(143544),i=n(248088),u=n(536211),l=y(n(297452)),s=y(n(796608)),d=y(n(919935)),f=y(n(663303)),c=y(n(931411)),p=n(179379),v=n(340038);function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}var h={transform:"scale(0.7)",opacity:0},g={transform:"scale(1)",opacity:1},E=function(){var e=(0,u.useStateFromStoresArray)([c.default],(function(){return c.default.getIncomingCalls()})),t=(0,u.useStateFromStores)([c.default],(function(){return c.default.hasIncomingCalls()})),n=(0,u.useStateFromStores)([d.default],(function(){return d.default.isSoundDisabled("call_ringing")})),y=(0,u.useStateFromStores)([f.default],(function(){return f.default.disableSounds})),m=(0,u.useStateFromStores)([s.default],(function(){return s.default.getSoundpack()})),E=r.useRef(!1),S=(0,o.useStableMemo)((function(){if(m===v.Soundpacks.CLASSIC){var e=500===a.default.random(1,1e3)?"call_ringing_beat":"call_ringing";return(0,
p.createSound)(e,"call_ringing")}return(0,p.createSoundForPack)("call_ringing",m)}),[m]);r.useEffect((function(){return function(){S.stop()}}),[S]);r.useEffect((function(){if(y||n){if(E.current){S.stop();E.current=!1}}else if(t&&!E.current){S.loop();E.current=!0}else if(!t&&E.current){S.stop();E.current=!1}}),[n,y,t,S]);return(0,i.useTransition)(e,{keys:function(e){var t;return null===(t=e.channel)||void 0===t?void 0:t.id},enter:{from:h,to:g},leave:h,config:{mass:1,tension:500,friction:18,clamp:!0}})((function(e,t){return r.createElement(l.default,_({},t,{animatedStyle:e}))}))};t.default=E},396201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Y;var r,a,o=C(n(667294)),i=T(n(294184)),u=T(n(74854)),l=C(n(536211)),s=T(n(550024)),d=n(264720),f=n(246049),c=T(n(14096)),p=n(836233),v=T(n(235879)),y=n(329117),m=T(n(68625)),_=T(n(122913)),h=T(n(728526)),g=n(378444),E=n(956506),S=n(518802),O=n(770348),b=T(n(785535)),I=["mode","children","baseLayer"]
;function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function P(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var w=(0,y.makeLazy)({createPromise:function(){return Promise.resolve().then(n.bind(n,64721))},webpackId:64721,name:"UserSettings"}),D=(0,y.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(97621)]).then(n.bind(n,437897))},webpackId:437897,name:"ChannelSettings"}),L=(0,y.makeLazy)({createPromise:function(){return n.e(69930).then(n.bind(n,774663))},webpackId:774663,name:"GuildIdentitySettingsView"}),k=M(w,{}),j=M(D,{}),U=M(m.default,{}),G=M(L,{}),F=((r={})[O.Layers.USER_SETTINGS]=function(){return k},
r[O.Layers.CHANNEL_SETTINGS]=function(){return j},r[O.Layers.GUILD_SETTINGS]=function(){return U},r[O.Layers.GUILD_IDENTITY_SETTINGS]=function(){return G},r),x="SHOWN",B="HIDDEN",H={friction:10,tension:100},V=function(e){P(t,e);t.getDerivedStateFromProps=function(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null};function t(t){var n;(n=e.call(this,t)||this).containerRef=o.createRef();var r=1,a=1;if(t.mode===B){r=.93;a=0}n.state={animating:!1,scale:new u.default.Value(r),opacity:new u.default.Value(a),mode:t.mode};return n}var n=t.prototype;n.componentDidUpdate=function(e){var t=this.props.mode,n=e.mode;if(t!==n)return t===x&&n===B?this.animateIn():t===B&&n===x?this.animateUnder():void 0};n.componentWillEnter=function(e){var t=this,n=this.state,r=n.opacity;n.scale.setValue(1.1);r.setValue(0);e();this.setState({animating:!0},(function(){return t.animateIn()}))};n.componentWillLeave=function(e){var t=this;this.setState({animating:!0},(function(){return t.animateOut(e)}))}
;n.animateIn=function(e){var t=this;l.default.Store.pauseEmittingChanges(500);var n=this.state,r=n.opacity,a=n.scale;u.default.parallel([u.default.spring(r,N({toValue:1},H)),u.default.spring(a,N({toValue:1},H))]).start((function(){return t.animateComplete(e)}))};n.animateOut=function(e){l.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,r=t.scale;E.ComponentDispatch.dispatch(O.ComponentActions.LAYER_POP_START);u.default.parallel([u.default.spring(n,N({toValue:0},H)),u.default.spring(r,N({toValue:1.1},H))]).start((function(){e();E.ComponentDispatch.dispatch(O.ComponentActions.LAYER_POP_COMPLETE)}))};n.animateUnder=function(){var e=this;l.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,r=t.scale;u.default.parallel([u.default.spring(n,N({toValue:0},H)),u.default.spring(r,N({toValue:.93},H))]).start((function(){return e.animateComplete()}))};n.animateComplete=function(e){this.setState({animating:!1},e)};n.render=function(){
var e,t=this,n=this.state.animating,r=this.props,a=r.mode,l=r.children,s=r.baseLayer,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(r,I),f=n||a===B?this.getAnimatedStyle():null,c=o.createElement(u.default.div,N({ref:function(e){return t.containerRef.current=null!=e?e.refs.node:void 0},"aria-hidden":a===B,className:(0,i.default)(b.default.layer,(e={},e[b.default.baseLayer]=s,e[b.default.animating]=n,e["stop-animations"]=a===B,e)),style:f},d),l);return s?c:M(h.default,{containerRef:this.containerRef},void 0,c)};n.getAnimatedStyle=function(){var e=this.state,t=e.opacity,n=e.scale;return{opacity:t,transform:this.context.reducedMotion.enabled?void 0:[{scale:n},{translateZ:0}]}};return t}(o.PureComponent);V.displayName="Layer";V.defaultProps={baseLayer:!1};V.contextType=p.AccessibilityPreferencesContext;var W=function(e){P(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype
;n.componentDidMount=function(){var e=this.props.layers;if(e[e.length-1]===O.Layers.USER_SETTINGS){c.default.enable();c.default.enableTemp(f.SETTINGS_LAYERS_LAYOUT)}E.ComponentDispatch.subscribe(O.ComponentActions.LAYER_POP_ESCAPE_KEY,d.popLayer)};n.componentDidUpdate=function(e){var t=this.props,n=t.layers,r=t.hasFullScreenLayer,a=e.layers.length>0||e.hasFullScreenLayer,o=n.length>0||r;!a&&o||o&&n===e.layers&&n[0]===O.Layers.USER_SETTINGS?c.default.enableTemp(f.SETTINGS_LAYERS_LAYOUT):a&&!o&&c.default.disableTemp()};n.componentWillUnmount=function(){E.ComponentDispatch.unsubscribe(O.ComponentActions.LAYER_POP_ESCAPE_KEY,d.popLayer)};n.renderLayers=function(){var e=this,t=this.props,n=t.children,r=t.layers,a=t.hasFullScreenLayer,o=r.length,i=[];i.push(M(V,{mode:0!==o||a?B:x,baseLayer:!0},"layer-base",n));r.forEach((function(t,n){return i.push(e.renderComponent(t,n,o))}));return i};n.renderComponent=function(e,t,n){var r,a=t===n-1;r="string"==typeof e?F[e]():M(e,{});return M(V,{
mode:a?x:B},"layer-"+t,r)};n.renderArtisanalHack=function(){return M("div",{className:(0,i.default)(b.default.bg,(0,S.getThemeClass)(this.props.sidebarTheme))})};n.render=function(){return o.createElement(o.Fragment,null,this.renderArtisanalHack(),M(s.default,{component:"div",className:(0,i.default)(b.default.layers,this.props.className)},void 0,this.renderLayers()))};return t}(o.PureComponent);W.displayName="Layers";function Y(e){var t=(0,l.useStateFromStores)([v.default],(function(){return v.default.darkSidebar}))?O.ThemeTypes.DARK:void 0,n=(0,l.useStateFromStores)([_.default],(function(){return _.default.getLayers()})),r=(0,g.useFullScreenLayerStore)((function(e){return e.fullScreenLayers.length>0}));return o.createElement(W,N({},e,{sidebarTheme:t,layers:n,hasFullScreenLayer:r}))}Y.displayName="ConnectedLayers"},712283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});Object.defineProperty(t,"NotchBackground",{enumerable:!0,get:function(){
return c.NotchBackground}});t.default=void 0;var r,a=b(n(667294)),o=S(n(496486)),i=S(n(536211)),u=n(91817),l=S(n(740207)),s=S(n(635014)),d=S(n(893160)),f=S(n(956117)),c=b(n(358255)),p=S(n(730977)),v=S(n(37241)),y=b(n(662197)),m=S(n(308920)),_=n(770348),h=n(376293),g=S(n(247001)),E=S(n(502258));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}var A=-100,C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._initTimeout=new u.Timeout;t._silenceTimeout=new u.Timeout;t._messageTimeout=new u.Timeout;t.state={volume:A,isMicTesting:!1,isDetectingInput:!0,didDeafenUser:!1};t.setupVoiceActivity=function(){
s.default.getMediaEngine().on("voiceactivity",t.handleVoiceActivity)};t.handleVoiceActivity=function(e){if(t.state.isMicTesting&&e<=A){t._silenceTimeout.isStarted()||t._silenceTimeout.start(2e3,(function(){t.setState({isDetectingInput:!1})}));t.setState({volume:A})}else{t._silenceTimeout.stop();t.setState({volume:e,isDetectingInput:!0})}};t.handleToggleMicTest=function(){t.state.isMicTesting?t._micTestStop():t._micTestStart()};return t}var n=t.prototype;n.componentDidMount=function(){this._initTimeout.start(1e3,this.setupVoiceActivity)};n.componentWillUnmount=function(){this._initTimeout.stop();this._silenceTimeout.stop();this._micTestStop();s.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity)};n._micTestStart=function(){var e=this.props,t=e.isVoiceConnected,n=e.inputDeviceName,r=e.inputVolume,a=e.outputDeviceName,o=e.outputVolume,i=e.inputMode,u=e.vadAutoThreshold,s=e.vadThreshold,d=e.location,f=e.isDeafened,c=!1;if(t&&!f){
l.default.toggleSelfDeaf(h.MediaEngineContextTypes.DEFAULT);c=!0}l.default.setLoopback(!0);this._micTestStartTime=Date.now();this.setState({isMicTesting:!0,isDetectingInput:!0,didDeafenUser:c});m.default.track(_.AnalyticEvents.MIC_TESTING_STARTED,{input_device_name:n,input_device_volume:r,output_device_name:a,output_device_volume:o,input_mode:i,input_sensitivity_is_automatic:u,input_sensitivity_threshold:Math.round(s),location:d})};n._micTestStop=function(){var e=this.state,t=e.didDeafenUser,n=e.isMicTesting,r=this.props,a=r.isVoiceConnected,o=r.isDeafened;if(n){a&&o&&t&&l.default.toggleSelfDeaf(h.MediaEngineContextTypes.DEFAULT);l.default.setLoopback(!1);this.setState({isMicTesting:!1,didDeafenUser:!1});null!=this._micTestStartTime&&m.default.track(_.AnalyticEvents.MIC_TESTING_STOPPED,{testing_duration:Math.round((Date.now()-this._micTestStartTime)/1e3)})}};n.renderCaption=function(){
var e=this.props,t=e.captionVoice,n=e.captionNoVoice,r=this.state,a=r.isMicTesting,o=r.isDetectingInput;return I(v.default,{className:E.default.micTestCaption,type:v.default.Types.DESCRIPTION},void 0,a?o?t:n:null)};n.render=function(){var e=this,t=this.props,n=t.isVoiceConnected,r=t.title,a=t.description,o=t.notchBackground,i=t.buttonTest,u=t.buttonStop,l=t.buttonClassName,s=t.buttonColor,d=t.isDeafened,m=this.state,_=m.isMicTesting,h=m.volume,S=n&&!_?g.default.Messages.MIC_TEST_VOICE_CHANNEL_WARNING:null;_&&n&&!d&&this._micTestStop();return I("div",{className:E.default.container},void 0,I(y.default,{tag:y.Tags.H5,className:E.default.title},void 0,r),null!=a&&I(v.default,{type:v.default.Types.DESCRIPTION,className:E.default.description},void 0,a),I("div",{className:E.default.micTest},void 0,I(p.default,{text:S},void 0,(function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return I(f.default,{grow:!1,onClick:e.handleToggleMicTest,onMouseEnter:n,onMouseLeave:r,size:f.default.Sizes.SMALL,
className:l,color:s},void 0,_?u:i)})),I(c.default,{progress:_?h+100:0,notchBackground:o}),this.renderCaption()))};return t}(a.PureComponent);C.displayName="MicTester";var M=i.default.connectStores([d.default,s.default],(function(){var e=s.default.getInputDeviceId(),t=s.default.getInputDevices(),n=o.default.find(t,(function(t){return t.id===e})),r=s.default.getOutputDeviceId(),a=s.default.getOutputDevices(),i=o.default.find(a,(function(e){return e.id===r})),u=s.default.getModeOptions();return{isVoiceConnected:d.default.isConnected(),inputVolume:s.default.getInputVolume(),outputVolume:s.default.getOutputVolume(),inputMode:s.default.getMode(),vadThreshold:u.threshold,isDeafened:s.default.isSelfDeaf(),vadAutoThreshold:u.autoThreshold,inputDeviceName:null!=n?n.name:"",outputDeviceName:null!=i?i.name:""}}))(C);t.default=M},25202:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Ae
;var r,a=fe(n(667294)),o=se(n(730381)),i=n(473727),u=n(536211),l=se(n(190040)),s=se(n(939949)),d=fe(n(319076)),f=n(264720),c=se(n(445377)),p=se(n(597362)),v=se(n(136873)),y=se(n(761537)),m=fe(n(376543)),_=se(n(105988)),h=n(622349),g=fe(n(446637)),E=se(n(226800)),S=se(n(155502)),O=se(n(954140)),b=se(n(37039)),I=fe(n(583490)),T=n(802922),A=n(283894),C=se(n(796015)),M=se(n(678875)),N=n(191868),P=se(n(778885)),R=se(n(655205)),w=se(n(745108)),D=se(n(542402)),L=se(n(119152)),k=se(n(644263)),j=se(n(288356)),U=se(n(876874)),G=se(n(30098)),F=se(n(635014)),x=se(n(893160)),B=se(n(790597)),H=se(n(728429)),V=se(n(399561)),W=se(n(424099)),Y=fe(n(296005)),K=se(n(151097)),z=se(n(530250)),$=se(n(80828)),q=se(n(41024)),Q=n(194322),X=fe(n(177101)),Z=se(n(308920)),J=se(n(550270)),ee=n(42031),te=n(168558),ne=fe(n(215850)),re=n(259880),ae=n(770348),oe=n(480826),ie=n(376293),ue=se(n(247001)),le=se(n(202192));function se(e){return e&&e.__esModule?e:{default:e}}function de(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(de=function(e){return e?n:t})(e)}function fe(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=de(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function ce(){ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ce.apply(this,arguments)}function pe(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){pe(o,r,a,i,u,"next",e)}function u(e){pe(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ye(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var me=function(){return ye(X.default,{color:X.NoticeColors.DANGER},void 0,ye(X.NoticeCloseButton,{onClick:function(){he();(0,re.open)()}}),ue.default.Messages.NOTICE_NO_INPUT_DETECTED,ye(X.NoticeButtonAnchor,{href:J.default.getArticleURL(ae.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,ue.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT))};me.displayName="AudioIssueNoticeHelpdesk";var _e=function(){return ye(X.default,{color:X.NoticeColors.DANGER
},void 0,ye(X.NoticeCloseButton,{onClick:function(){he();(0,re.open)()}}),ue.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS,ye(X.NoticeButton,{onClick:function(){(0,f.pushLayer)(ae.Layers.USER_SETTINGS);E.default.setSection(ae.UserSettingsSections.VOICE)}},void 0,ue.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS_LINK_TEXT))};_e.displayName="AudioIssueNoticeMicTester";function he(e){c.default.dismiss(null!=e?{untilAtLeast:(0,o.default)(e)}:void 0)}var ge=ye(P.default,{}),Ee=ye(C.default,{}),Se=ye(D.default,{}),Oe=ye(me,{}),be=ye(_e,{}),Ie=ye(L.default,{}),Te=ye(a.memo((function(){var e,t,r,o,c,O,C=(0,u.useStateFromStores)([H.default],(function(){return H.default.getCurrentUser()})),P=(0,u.useStateFromStores)([B.default],(function(){return B.default.getGuildId()})),D=(0,u.useStateFromStores)([G.default],(function(){return G.default.getGuild(P)})),L=(0,u.useStateFromStores)([Y.default],(function(){return Y.default.getNotice()})),re=(0,u.useStateFromStores)([U.default],(function(){
var e,t;return null!=P&&null!=C&&(null!==(e=null===(t=U.default.getMember(P,C.id))||void 0===t?void 0:t.isPending)&&void 0!==e&&e)})),se=(0,b.default)().analyticsLocations,de=null==L?void 0:L.type,fe=re&&(null==D?void 0:D.hasVerificationGate());a.useEffect((function(){null!=de&&function(e){Z.default.track(ae.AnalyticEvents.APP_NOTICE_VIEWED,{notice_type:e})}(de)}),[de]);a.useEffect((function(){if(null!=L&&L.type===ae.NoticeTypes.SURVEY&&null!=L.metadata){var e=L.metadata,t=A.ExperimentStore.getUserExperimentDescriptor(e.id);null!=t&&(0,A.trackExposureToExperiment)(e.id,t)}}),[L]);if(null==L)return null;if(ee.ProcessArgs.isDisallowPopupsSet())return null;var pe=Y.typeToDismissibleContent[L.type];if(null!=pe)return ye(T.DismissibleContentNotices,{dismissibleContent:pe,noticeType:L.type});switch(L.type){case ae.NoticeTypes.LURKING_GUILD:return ge;case ae.NoticeTypes.PENDING_MEMBER:return Ee;case ae.NoticeTypes.INVITED_TO_SPEAK:return Se;case ae.NoticeTypes.GENERIC:return ye(X.default,{
color:X.NoticeColors.DEFAULT},void 0,ye(X.NoticeCloseButton,{onClick:function(){return he()},noticeType:ae.NoticeTypes.GENERIC}),L.message,null!=L.buttonText?ye(X.PrimaryCTANoticeButton,{onClick:L.callback,noticeType:ae.NoticeTypes.GENERIC},void 0,L.buttonText):null);case ae.NoticeTypes.LAUNCH_GAME_FAILURE:return ye(X.default,{color:X.NoticeColors.DANGER},void 0,ye(X.NoticeCloseButton,{onClick:function(){return he()},noticeType:ae.NoticeTypes.LAUNCH_GAME_FAILURE}),L.message,null!=L.buttonText?ye(X.PrimaryCTANoticeButton,{onClick:L.callback,noticeType:ae.NoticeTypes.LAUNCH_GAME_FAILURE},void 0,L.buttonText):null);case ae.NoticeTypes.VOICE_DISABLED:return ye(X.default,{color:X.NoticeColors.WARNING},void 0,ye(X.NoticeCloseButton,{onClick:function(){p.default.clearRemoteDisconnectVoiceChannelId();he()},noticeType:ae.NoticeTypes.VOICE_DISABLED}),ue.default.Messages.NOTICE_CONNECTION_CONFLICT,ye(X.PrimaryCTANoticeButton,{onClick:function(){var e=x.default.getRemoteDisconnectVoiceChannelId()
;if(null!=e){null!=k.default.getChannel(e)&&v.default.selectVoiceChannel(e)}},noticeType:ae.NoticeTypes.VOICE_DISABLED},void 0,ue.default.Messages.RECONNECT));case ae.NoticeTypes.SPOTIFY_AUTO_PAUSED:var me=S.default.get(ae.PlatformTypes.SPOTIFY);return ye(X.default,{color:X.NoticeColors.DANGER},void 0,ye(X.NoticeCloseButton,{onClick:function(){return he()},noticeType:ae.NoticeTypes.SPOTIFY_AUTO_PAUSED}),ye("img",{alt:"",className:le.default.platformIcon,src:me.icon.whiteSVG}),ue.default.Messages.NOTICE_SPOTIFY_AUTO_PAUSED,ye(X.PrimaryCTANoticeButton,{onClick:function(){return E.default.open(ae.UserSettingsSections.VOICE)},noticeType:ae.NoticeTypes.SPOTIFY_AUTO_PAUSED},void 0,ue.default.Messages.VOICE_SETTINGS),ye(K.default,{className:le.default.textLinkSmall,href:J.default.getArticleURL(ae.HelpdeskArticles.SPOTIFY_AUTO_PAUSED),target:"_blank"},void 0,ue.default.Messages.NOTICE_WHATS_THIS));case ae.NoticeTypes.UNCLAIMED_ACCOUNT:return ye(X.default,{color:X.NoticeColors.DEFAULT
},void 0,ue.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,ye(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.UNCLAIMED_ACCOUNT,onClick:function(){return fe&&null!=P?(0,M.default)(P):I.openClaimAccountModal()}},void 0,ue.default.Messages.CLAIM_ACCOUNT));case ae.NoticeTypes.UNVERIFIED_ACCOUNT:return ye(X.default,{color:X.NoticeColors.DEFAULT},void 0,ue.default.Messages.NOTICE_UNVERIFIED_ACCOUNT,ye(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.UNVERIFIED_ACCOUNT,onClick:function(){s.default.verifyResend();l.default.show({title:ue.default.Messages.VERIFICATION_EMAIL_TITLE,body:ue.default.Messages.VERIFICATION_EMAIL_BODY.format({email:null==C?void 0:C.email}),secondaryConfirmText:ue.default.Messages.CHANGE_EMAIL,onConfirmSecondary:I.openClaimAccountModal})}},void 0,ue.default.Messages.RESEND));case ae.NoticeTypes.SCHEDULED_MAINTENANCE:return null==L.metadata?null:ye(X.default,{color:X.NoticeColors.DEFAULT},void 0,ye(X.NoticeCloseButton,{onClick:function(){
return y.default.ackScheduledMaintenance()},noticeType:ae.NoticeTypes.SCHEDULED_MAINTENANCE}),ue.default.Messages.NOTICE_SCHEDULED_MAINTENANCE.format(L.metadata),ye(X.NoticeButtonAnchor,{href:ae.Links.STATUS+"/incidents/"+L.metadata.id},void 0,ue.default.Messages.LEARN_MORE));case ae.NoticeTypes.NO_INPUT_DETECTED:return F.default.supports(ie.Features.LOOPBACK)?be:Oe;case ae.NoticeTypes.HARDWARE_MUTE:if(null==L.metadata)return null;var _e=L.metadata,Te=_e.vendor,Ae=_e.model;return ye(X.default,{color:X.NoticeColors.DANGER},void 0,ue.default.Messages.NOTICE_HARDWARE_MUTE.format({vendorName:Te.name,modelName:Ae.name}),ye(X.NoticeButtonAnchor,{href:Ae.url,target:"_blank",rel:"noreferrer noopener"},void 0,ue.default.Messages.SUPPORT));case ae.NoticeTypes.STREAMER_MODE:return ye(X.default,{color:X.NoticeColors.STREAMER_MODE},void 0,ye(X.NoticeCloseButton,{onClick:function(){return he()},noticeType:ae.NoticeTypes.STREAMER_MODE
}),ue.default.Messages.NOTICE_STREAMER_MODE_TEXT,ye(X.PrimaryCTANoticeButton,{onClick:function(){return _.default.setEnabled(!1)},noticeType:ae.NoticeTypes.STREAMER_MODE},void 0,ue.default.Messages.DISABLE));case ae.NoticeTypes.H264_DISABLED:return ye(X.default,{color:X.NoticeColors.DANGER},void 0,ye(X.NoticeCloseButton,{onClick:function(){he()}}),ue.default.Messages.NOTICE_H264_DISABLED_SETTINGS,ye(X.NoticeButton,{onClick:function(){(0,f.pushLayer)(ae.Layers.USER_SETTINGS);E.default.setSection(ae.UserSettingsSections.VOICE)}},void 0,ue.default.Messages.NOTICE_H264_DISABLED_SETTINGS_LINK_TEXT));case ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK:if(null==L.metadata)return null;var Ce=L.metadata,Me=Ce.skuId,Ne=Ce.applicationId,Pe=V.default.get(Me),Re=j.default.getGame(Ne);if(null==Pe||null==Re)return null;var we={page:ae.AnalyticsPages.IN_APP};return ye(X.default,{color:X.NoticeColors.PREMIUM_TIER_1},void 0,ye(X.NoticeCloseButton,{onClick:function(){return d.dismiss(Pe.id)},
noticeType:ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK}),ye(q.default,{className:le.default.premiumIcon}),ue.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_MESSAGE.format({applicationName:Re.name,skuName:Pe.name}),ye(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK,onClick:function(){return(0,te.openIAPPurchaseModal)({applicationId:Re.id,skuId:Pe.id,openPremiumPaymentModal:function(){(0,R.default)({initialPlanId:null,subscriptionTier:ae.PremiumSubscriptionSKUs.TIER_2,analyticsLocations:se,analyticsObject:we})},analyticsLocations:se,analyticsLocation:we,context:__OVERLAY__?ae.AppContext.OVERLAY:ae.AppContext.APP}).then((function(){return d.dismiss(Pe.id)}))}},void 0,ue.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_BUTTON));case ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL:if(null==L.metadata)return null;var De=L.metadata,Le=De.skuId,ke=De.applicationId,je=V.default.get(Le),Ue=j.default.getGame(ke)
;return null==je||null==Ue?null:ye(X.default,{color:X.NoticeColors.PREMIUM_TIER_1},void 0,ye(X.NoticeCloseButton,{onClick:function(){return he()},noticeType:ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL}),ye(q.default,{className:le.default.premiumIcon}),ue.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_NO_PREMIUM_PERK_MESSAGE.format({applicationName:Ue.name,skuName:je.name}),ye(X.NoticeButton,{},void 0,ye(i.Link,{onClick:function(){return he()},to:{pathname:ae.Routes.APPLICATION_STORE_LISTING_SKU(je.id),state:{scrollRestoration:!1}}},void 0,ue.default.Messages.LEARN_MORE)));case ae.NoticeTypes.SURVEY:var Ge=L.metadata;if(null==Ge)return null;var Fe=Ge.key,xe=Ge.prompt,Be=Ge.cta,He=Ge.url;return ye(X.default,{color:X.NoticeColors.CUSTOM},void 0,ye(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.SURVEY,onClick:function(){(0,h.surveyHide)(Fe,!0)}}),xe,ye(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.SURVEY,onClick:function(){window.open(He,"_blank");(0,h.surveyHide)(Fe,!1)}
},void 0,Be));case ae.NoticeTypes.CORRUPT_INSTALLATION:return ye(X.default,{color:X.NoticeColors.DANGER},void 0,ue.default.Messages.NOTICE_CORRUPT_INSTALLATION,ye(X.NoticeButtonAnchor,{href:J.default.getArticleURL(ae.HelpdeskArticles.CORRUPT_INSTALLATION),target:"_blank"},void 0,ue.default.Messages.NOTICE_CORRUPT_INSTALLATION_HELP_LINK_TEXT));case ae.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER:return ye(X.default,{color:X.NoticeColors.WARNING},void 0,ye(X.NoticeCloseButton,{onClick:function(){return he()},noticeType:ae.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER}),ue.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,ye(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER,onClick:function(){(0,Q.openModalLazy)(ve(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){
return a.createElement(r,ce({source:"Video unsupported browser"},e))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,ue.default.Messages.DOWNLOAD));case ae.NoticeTypes.DISPATCH_ERROR:if(null==L.metadata)return null;var Ve=L.metadata.error;return ye(X.default,{color:X.NoticeColors.DANGER},void 0,ye(X.NoticeCloseButton,{onClick:function(){return he()},noticeType:ae.NoticeTypes.DISPATCH_ERROR}),null==Ve?void 0:Ve.displayMessage,ye(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.DISPATCH_ERROR,onClick:function(){return(0,Q.openModalLazy)(ve(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(91965)]).then(n.bind(n,191965));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,ue.default.Messages.LEARN_MORE));case ae.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS:
if(null==L.metadata)return null;var We=L.metadata,Ye=We.progress,Ke=We.total,ze=We.name;return ye(X.default,{color:X.NoticeColors.DEFAULT},void 0,ye(X.NoticeCloseButton,{onClick:function(){return he()},noticeType:ae.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS}),ye(z.default,{justify:z.default.Justify.CENTER},void 0,null!=ze?ue.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS_WITH_NAME.format({name:""+ze,progress:""+Ye,total:""+Ke}):ue.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS.format({progress:""+Ye,total:""+Ke}),ye($.default,{type:$.default.Type.PULSING_ELLIPSIS,className:le.default.ellipsis})));case ae.NoticeTypes.APPLICATION_TEST_MODE:return null==L.metadata?null:null!=W.default.testModeEmbeddedApplicationId?ye(X.default,{color:X.NoticeColors.WARNING},void 0,ye(z.default,{justify:z.default.Justify.CENTER,align:z.default.Align.CENTER},void 0,ye("div",{},void 0,ue.default.Messages.NOTICE_EMBEDDED_APPLICATION_TEST_MODE.format({
applicationName:L.metadata.applicationName})),ye(X.NoticeCloseButton,{onClick:g.reset,noticeType:ae.NoticeTypes.APPLICATION_TEST_MODE}))):ye(X.default,{color:X.NoticeColors.WARNING},void 0,ye(z.default,{justify:z.default.Justify.CENTER,align:z.default.Align.CENTER},void 0,ye("div",{},void 0,ue.default.Messages.NOTICE_APPLICATION_TEST_MODE.format({applicationName:L.metadata.applicationName})),ye(ne.default,{dropdownSize:ne.TestModeSKUButtonEnums.DropdownSizes.SMALL,className:le.default.testModeSKUSelector,color:ne.TestModeSKUButtonEnums.Colors.WHITE,look:ne.TestModeSKUButtonEnums.Looks.OUTLINED,size:ne.TestModeSKUButtonEnums.Sizes.MIN,onSKUSelect:function(e){return m.goToSKUStoreListing(e.id,{analyticsSource:{page:null,section:ae.AnalyticsSections.NOTIFICATION_BAR,object:ae.AnalyticsObjects.NAVIGATION_LINK}})},applicationId:L.metadata.applicationId},void 0,ue.default.Messages.NOTICE_APPLICATION_TEST_MODE_GO_TO_LISTING),ye(X.NoticeCloseButton,{onClick:g.reset,
noticeType:ae.NoticeTypes.APPLICATION_TEST_MODE})));case ae.NoticeTypes.OUTBOUND_PROMOTION:return ye(X.default,{color:X.NoticeColors.PREMIUM_TIER_2},void 0,ye(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.OUTBOUND_PROMOTION,onClick:function(){w.default.dismissOutboundPromotionNotice()}}),ye(q.default,{className:le.default.premiumIcon}),ue.default.Messages.OUTBOUND_PROMOTION_NOTICE,ye(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.OUTBOUND_PROMOTION,onClick:function(){Z.default.track(ae.AnalyticEvents.OUTBOUND_PROMOTION_NOTICE_CLICKED);E.default.open(ae.UserSettingsSections.INVENTORY);w.default.dismissOutboundPromotionNotice()}},void 0,ue.default.Messages.TAKE_ME_THERE));case ae.NoticeTypes.VIEWING_ROLES:return Ie;case ae.NoticeTypes.PREMIUM_UNCANCEL:return ye(X.default,{color:(null===(e=L.metadata)||void 0===e?void 0:e.premiumType)===ae.PremiumTypes.TIER_1?X.NoticeColors.PREMIUM_TIER_1:X.NoticeColors.PREMIUM_TIER_2},void 0,ye(X.NoticeCloseButton,{
noticeType:ae.NoticeTypes.PREMIUM_UNCANCEL,onClick:function(){var e,t;he(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),ye(q.default,{className:le.default.premiumIcon}),(null===(t=L.metadata)||void 0===t?void 0:t.premiumType)===ae.PremiumTypes.TIER_1?ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_TEXT.format({daysLeft:L.metadata.daysLeft}):ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_TEXT.format({daysLeft:L.metadata.daysLeft}),ye(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_UNCANCEL,onClick:function(){var e,t;he(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);(0,Q.openModalLazy)(ve(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(36923),n.e(25306),n.e(15419)]).then(n.bind(n,782287));case 2:t=e.sent
;r=t.default;return e.abrupt("return",(function(e){var t;return a.createElement(r,ce({},e,{daysLeft:L.metadata.daysLeft,premiumType:null===(t=L.metadata)||void 0===t?void 0:t.premiumType,analyticsSource:"Nag Bar",premiumSubscription:L.metadata.premiumSubscription}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,(null===(r=L.metadata)||void 0===r?void 0:r.premiumType)===ae.PremiumTypes.TIER_1?ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_BUTTON_TEXT:ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT:return ye(X.default,{color:X.NoticeColors.DANGER},void 0,ye(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;he(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),ue.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_TEXT,ye(X.PrimaryCTANoticeButton,{
noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;he(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);E.default.open(ae.UserSettingsSections.SUBSCRIPTIONS)}},void 0,ue.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT:return ye(X.default,{color:X.NoticeColors.WARNING},void 0,ye(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t;he(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),ue.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_TEXT,ye(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t;he(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)
;E.default.open(ae.UserSettingsSections.SUBSCRIPTIONS)}},void 0,ue.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.PREMIUM_MISSING_PAYMENT:return ye(X.default,{color:X.NoticeColors.WARNING},void 0,ye(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t;he(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),(null===(o=L.metadata)||void 0===o?void 0:o.premiumType)===ae.PremiumTypes.TIER_1?ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_TEXT.format({daysLeft:L.metadata.daysLeft}):ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_TEXT.format({daysLeft:L.metadata.daysLeft}),ye(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t
;he(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);E.default.open(ae.UserSettingsSections.SUBSCRIPTIONS)}},void 0,(null===(c=L.metadata)||void 0===c?void 0:c.premiumType)===ae.PremiumTypes.TIER_1?ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_BUTTON_TEXT:ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.BACK_TO_PREVIOUS_SCREEN:return ye(N.BackToPreviousScreenNotice,{buttonText:null!==(O=L.buttonText)&&void 0!==O?O:ue.default.Messages.GO_BACK,onGoBack:L.callback,onDismiss:function(){return he()},showCloseButton:!0});case ae.NoticeTypes.QUARANTINED:return ye(X.default,{color:X.NoticeColors.CUSTOM,className:le.default.quarantineNotice},void 0,ue.default.Messages.QUARANTINE_MODE_NOTICE,ye(K.default,{href:J.default.getArticleURL(ae.HelpdeskArticles.QUARANTINE),target:"_blank",className:le.default.quarantineLearnMoreLink
},void 0,ue.default.Messages.LEARN_MORE),ye(X.NoticeButtonAnchor,{href:oe.QUARANTINE_APPEAL_LINK,target:"_blank"},void 0,ue.default.Messages.APPEAL_QUARANTINE));default:return null}})),{});function Ae(){return ye((0,b.default)(O.default.NOTICE).AnalyticsLocationProvider,{},void 0,Te)}Ae.displayName="NoticeWrapper"},229108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=h(n(667294)),i=m(n(536211)),u=h(n(720409)),l=m(n(321405)),s=m(n(902305)),d=m(n(603218)),f=m(n(218843)),c=m(n(871778)),p=m(n(949898)),v=m(n(365561)),y=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var S=((r={})[y.PictureInPictureComponents.VIDEO]=d.default,r[y.PictureInPictureComponents.EMBED_IFRAME]=l.default,r),O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleWindowMove=function(e,t){u.moveTo(e,t)};return t}t.prototype.render=function(){var e=this.props,t=e.selectedPIPWindow,n=e.pipWindows,r=e.maxX,a=e.maxY,o=e.theme,i=e.dockedRect,u=e.appContext;return g(v.default,{pictureInPictureComponents:S,selectedPIPWindow:t,pipWindows:n,maxX:r,maxY:a,dockedRect:i,theme:o,onWindowMove:this.handleWindowMove,appContext:u})};return t}(o.PureComponent);O.displayName="PictureInPictureContainer";var b=i.default.connectStores([f.default,s.default,p.default,c.default],(function(e){var t=e.showInPopoutWindow,n=void 0!==t&&t,r=s.default.getWindowOpen(y.PopoutWindowKeys.CHANNEL_CALL_POPOUT),a=p.default.windowSize();if(r){var o=s.default.getWindow(y.PopoutWindowKeys.CHANNEL_CALL_POPOUT);a=null==o?a:{width:o.innerWidth,height:o.innerHeight}}var i=f.default.pipWindows,u=r&&!n?null:f.default.pipWindow;return{selectedPIPWindow:u,pipWindows:i,
maxX:a.width,maxY:a.height,theme:c.default.theme,dockedRect:null!=u?f.default.getDockedRect(u.id):null,appContext:n?y.AppContext.POPOUT:void 0}}))(O);t.default=b},200574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(171236),i=n(536211),u=n(378158),l=C(n(55189)),s=C(n(711195)),d=C(n(414068)),f=C(n(788739)),c=C(n(290629)),p=C(n(663303)),v=C(n(946447)),y=C(n(728429)),m=C(n(870461)),_=C(n(160629)),h=C(n(325908)),g=C(n(582945)),E=n(956506),S=n(951530),O=C(n(922629)),b=C(n(810332)),I=n(770348),T=C(n(247001)),A=C(n(645320));function C(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n)
;var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}
function D(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,u,"next",e)}function u(e){D(o,r,a,i,u,"throw",e)}i(void 0)}))}}var k=O.default.getEnableHardwareAcceleration();function j(e){var t=e.user,r=e.channel,m=(0,i.useStateFromStoresObject)([c.default,y.default,f.default],(function(){return c.default.isFriend(t.id)||t===y.default.getCurrentUser()?{status:f.default.getStatus(t.id),activities:f.default.getActivities(t.id)}:{}})),h=m.status,g=m.activities,S=(0,i.useStateFromStores)([v.default],(function(){return null!=v.default.getTypingUsers(r.id)[t.id]})),O=(0,i.useStateFromStores)([y.default],(function(){return y.default.getCurrentUser()})),A=(0,i.useStateFromStores)([f.default],(function(){return f.default.isMobileOnline(t.id)})),C=(0,i.useStateFromStores)([c.default],(function(){
return c.default.getNickname(t.id)})),M=function(e){(0,u.openContextMenuLazy)(e,L(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(66822)]).then(n.bind(n,566822));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,w({},e,{user:t,channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))};return R(_.default,{preload:function(){return(0,s.default)(t.id,t.getAvatarURL(void 0,80))},renderPopout:function(e){return a.createElement(d.default,w({},e,{userId:t.id,channelId:r.id}))},position:o.isMobile?_.default.Positions.WINDOW_CENTER:_.default.Positions.LEFT,spacing:16,onShiftClick:function(){var e="@"+(p.default.hidePersonalInformation?t.username:t.tag),n="<@!"+t.id+">";E.ComponentDispatch.dispatchToLastSubscribed(I.ComponentActions.INSERT_TEXT,{plainText:e,rawText:n});l.default.startTyping(r.id)}
},void 0,(function(e){return a.createElement(b.default,w({key:t.id,user:t,currentUser:O,isOwner:t.id===r.ownerId,ownerTooltipText:T.default.Messages.GROUP_OWNER,shouldAnimateStatus:k,isTyping:S,status:h,activities:g,channel:r,onContextMenu:M,isMobile:A,nick:C},e))}))}j.displayName="PrivateChannelRecipient";function U(e){var t=e.channel,n=y.default.getCurrentUser(),r=null==n?void 0:n.isStaff(),o=(0,i.useStateFromStoresArray)([y.default],(function(){return(0,S.getRecipients)(t.recipients,y.default)}),[t.recipients]);a.useEffect((function(){if(r)for(var e,t=N(o);!(e=t()).done;){var n=e.value;(0,s.default)(n.id,n.getAvatarURL(void 0,80),{dispatchWait:!0})}}),[r,o]);var u=r&&o.every((function(e){return e.isStaff()}));return R("div",{className:A.default.membersWrap},void 0,R(g.default,{className:A.default.members,fade:!0},void 0,R(h.default,{className:A.default.membersGroup},void 0,T.default.Messages.MEMBERS+"—"+o.length+" ",u?R(m.default,{className:A.default.decorator,
type:m.default.Types.STAFF_ONLY_DM}):null),o.map((function(e){return R(j,{user:e,channel:t},e.id)}))))}U.displayName="PrivateChannelRecipients"},272356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=se;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Q(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=q(n(294184)),i=q(n(193747)),u=n(798628),l=n(536211),s=n(973400),d=q(n(589527)),f=n(928668),c=n(660065),p=n(933601),v=n(152960),y=n(467428),m=q(n(922147)),_=n(835282),h=q(n(136798)),g=q(n(527820)),E=n(894826),S=q(n(191839)),O=q(n(290629)),b=q(n(871778)),I=q(n(728429)),T=q(n(146771)),A=q(n(314355)),C=q(n(840771)),M=q(n(399561)),N=q(n(311256)),P=n(644105),R=q(n(262134)),w=q(n(161669)),D=q(n(41024)),L=q(n(652047)),k=n(598671),j=n(838583),U=n(820134),G=n(517880),F=q(n(51079)),x=q(n(983551)),B=n(770348),H=n(265517),V=q(n(247001)),W=q(n(177790)),Y=["selected"],K=["selected","hideGameUpdateProgressIndicator"],z=["selected","route","locationState"],$=["selected"];function q(e){return e&&e.__esModule?e:{default:e}}function Q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Q=function(e){return e?n:t})(e)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(){J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return J.apply(this,arguments)}function ee(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function te(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}var ne=function(e){var t=e.selected,n=te(e,Y),r=(0,u.useListItem)("friends"),o=(0,l.useStateFromStores)([O.default],(function(){return O.default.getPendingCount()}));return a.createElement(G.LinkButton,J({selected:t,route:B.Routes.FRIENDS,icon:L.default,text:V.default.Messages.FRIENDS},n,r),o>0?ee(k.NumberBadge,{count:o
}):null)};ne.displayName="FriendsButton";var re=function(e){var t,n=e.selected,r=e.hideGameUpdateProgressIndicator,i=te(e,K),l=(0,u.useListItem)("library");return a.createElement(G.LinkButton,J({selected:n,route:B.Routes.APPLICATION_LIBRARY,icon:R.default,text:V.default.Messages.LIBRARY},i,l),ee(x.default,{className:(0,o.default)(W.default.downloadProgressCircle,(t={},t[W.default.hideGameUpdateProgressIndicator]=r,t))}))};re.displayName="LibraryButton";var ae=function(e){var t,n=e.selected,r=e.route,o=e.locationState,i=te(e,z),l=(0,u.useListItem)("nitro"),s=(0,v.usePremiumTrialOffer)(),d=(0,p.useIsPromoEnabled)(c.LocalizedPricingPromoEntryPoint.Badge)&&null==s;null!=s?t=ee(m.default,{trialOffer:s,isTabSelected:n}):d&&(t=ee(y.LocalizedPricingBadgeIcon,{entryPoint:y.BadgeEntryPoint.PrivateMessages}));return a.createElement(G.LinkButton,J({selected:n,route:r,icon:D.default,text:V.default.Messages.PREMIUM,locationState:o},i,l,{className:d&&!n?W.default.localizeBadge:""}),t)}
;ae.displayName="NitroButton";var oe=function(e){var t=e.selected,n=te(e,$),r=(0,f.useMessageRequestsCount)(),o=(0,u.useListItem)("messageRequests");return a.createElement(G.LinkButton,J({selected:t,route:B.Routes.MESSAGE_REQUESTS,icon:w.default,text:V.default.Messages.MESSAGE_REQUESTS},n,o),r>0?ee(k.NumberBadge,{count:r,color:d.default.BACKGROUND_ACCENT}):null)};oe.displayName="MessageRequestButton";var ie=function(){return(0,_.show)("DM_SEARCH")};function ue(e){switch(e){case B.Routes.APPLICATION_LIBRARY:return B.AnalyticsPages.LIBRARY;case B.Routes.FRIENDS:return B.AnalyticsPages.FRIENDS_LIST}return e.startsWith(B.Routes.APPLICATION_STORE)?e===B.Routes.APPLICATION_STORE?B.AnalyticsPages.STORE_DIRECTORY_HOME:e.startsWith(B.Routes.APPLICATION_STORE)?B.AnalyticsPages.STORE_DIRECTORY_BROWSE:B.AnalyticsPages.STORE_LISTING:B.AnalyticsPages.DM_CHANNEL}var le=function(e){var t=e.showLibrary,n=e.hasLibraryApplication,r=e.homeLink,o=e.storeLink,u=e.premiumTabSelected,l=e.showNitroTab,d=X((0,
h.default)((function(e){return[e.channelId,e.path]}),i.default),2),f=d[0],c=d[1],p=(0,s.isMessageRequestsEnabled)();return ee("nav",{className:W.default.privateChannels,"aria-label":V.default.Messages.PRIVATE_CHANNELS_A11Y_LABEL},void 0,ee(g.default,{tutorialId:"direct-messages",position:P.PopoutPositions.RIGHT,offsetX:-52},void 0,ee("div",{className:W.default.searchBar},void 0,ee("button",{type:"button",className:W.default.searchBarComponent,onClick:ie},void 0,V.default.Messages.DM_SEARCH_PLACEHOLDER))),a.createElement(F.default,J({},e,{version:c,selectedChannelId:f,showDMHeader:!0}),ee(ne,{selected:null!=c?c===B.Routes.FRIENDS:r===B.Routes.FRIENDS},"friends"),n&&t?ee(re,{selected:null==c?null!=r&&r.startsWith(B.Routes.APPLICATION_LIBRARY):c.startsWith(B.Routes.APPLICATION_LIBRARY),hideGameUpdateProgressIndicator:r===B.Routes.APPLICATION_LIBRARY},"library"):null,l?ee(ae,{selected:null==c?u:c.startsWith(B.Routes.APPLICATION_STORE),
route:null==o||location.pathname.startsWith(B.Routes.APPLICATION_STORE)?B.Routes.APPLICATION_STORE:o,locationState:{analyticsSource:{page:ue(r),section:B.AnalyticsSections.NAVIGATION,object:B.AnalyticsObjects.NAVIGATION_LINK}}},"premium"):null,p?ee(oe,{selected:null==c?null!=r&&r.startsWith(B.Routes.MESSAGE_REQUESTS):c===B.Routes.MESSAGE_REQUESTS},"message-requests"):null))};le.displayName="PrivateChannels";function se(){var e=(0,l.useStateFromStores)([N.default],(function(){return N.default.getHomeLink()})),t=(0,l.useStateFromStores)([M.default],(function(){if(e===B.Routes.APPLICATION_STORE)return!0;var t=(0,U.getSKUIdFromURL)(e);if(null!=t){var n,r;return null!==(n=null===(r=M.default.get(t))||void 0===r?void 0:r.premium)&&void 0!==n&&n}return!1}),[e]),n=(0,l.useStateFromStores)([I.default],(function(){return I.default.getCurrentUser()})),r=(0,l.useStateFromStores)([T.default],(function(){return T.default.getPremiumTypeSubscription()})),a=Object.keys(H.SubscriptionTrials),o=(0,
l.useStateFromStores)([A.default],(function(){return A.default.getUnacknowledgedOffers(a).length>0||A.default.getAcknowledgedOffers(a).length>0})),i=!E.DisableGamesTab.useSetting(),u=(0,l.useStateFromStoresObject)([b.default],(function(){return{theme:b.default.theme}})).theme,s=o||null!=n&&Date.now()-n.createdAt.getTime()>7776e6||(0,j.hasPremiumSubscriptionToDisplay)(n,r),d=(0,l.useStateFromStores)([S.default],(function(){return S.default.hasLibraryApplication()})),f=(0,l.useStateFromStores)([C.default],(function(){return C.default.getCurrentPath()}));return ee(le,{theme:u,showLibrary:i,showNitroTab:s,hasLibraryApplication:d,storeLink:f,homeLink:e,premiumTabSelected:t})}se.displayName="PrivateChannelsConnected"},989418:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(294184)),i=v(n(536211)),u=v(n(221185)),l=v(n(534930)),s=v(n(530250)),d=n(160629),f=v(n(358696)),c=v(n(247001)),p=v(n(949391));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g={position:d.Positions.BOTTOM,autoInvert:!1},E=function(e){var t=e.region,n=e.className;return h("div",{className:void 0===n?p.default.regionSelectName:n},void 0,t.name.replace(/ \(VIP\)$/,""))};E.displayName="RegionName";var S=function(e){m(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.region,n=e.selected;return h(s.default,{align:s.default.Align.CENTER,className:(0,o.default)({selected:n})},void 0,h(E,{region:t,className:p.default.regionSelectName}),n?h("i",{className:p.default.check}):null)};return t}(a.PureComponent);S.displayName="RegionItem";var O=function(e){m(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(r))||this).renderOption=function(e,t){return h(S,{region:e.value,selected:t},e.value.id)};t.getSelectedRegion=function(){var e,n=t.props,r=n.regions,a=n.call;return a.regionUpdated&&null!=r&&null!=a.region?null!==(e=r.find((function(e){return e.id===a.region})))&&void 0!==e?e:{name:a.region,id:a.region}:{id:"automatic",name:c.default.Messages.AUTOMATIC_REGION,vip:!1,deprecated:!1,hidden:!1}};t.handleChangeVoiceRegion=function(e){var n=e.value,r=t.props.call.channelId;u.default.changeCallRegion(r,n.id)};return t}var n=t.prototype;n.componentDidMount=function(){null==this.props.regions&&u.default.fetchRegions(null)};n.render=function(){var e=this.props.regions;if(null==e)return null;var t=this.getSelectedRegion(),n={label:t.name,value:t},r=e.filter((function(e){return!e.deprecated&&!e.hidden})).map((function(e){return{label:e.name,value:e,key:e.id}}));return h(f.default,{label:c.default.Messages.REGION,options:r,value:n,
onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:g,popoutClassName:p.default.regionSelectPopout})};return t}(a.PureComponent);O.displayName="QuickRegionSelect";var b=i.default.connectStores([l.default],(function(){return{regions:l.default.getRegions(null)}}))(O);t.default=b},686923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=M(n(667294)),o=A(n(294184)),i=n(536211),u=A(n(929031)),l=A(n(257175)),s=A(n(133464)),d=M(n(145122)),f=A(n(241505)),c=n(678620),p=A(n(423086)),v=A(n(871778)),y=A(n(956117)),m=A(n(730977)),_=A(n(930600)),h=A(n(12713)),g=n(194322),E=n(660590),S=A(n(308920)),O=n(873838),b=n(770348),I=A(n(247001)),T=A(n(830332));function A(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(e){var t=e.status,n=e.description,r=e.focused;return w("div",{className:T.default.statusItem},void 0,w(E.Status,{status:t,className:T.default.icon,size:10,color:r?"currentColor":void 0}),w("div",{className:T.default.status},void 0,(0,O.humanizeStatus)(t)),null!=n&&w("div",{className:T.default.description},void 0,n))}D.displayName="StatusMenuItem";function L(e){var t=e.customStatus,n=function(e){e.stopPropagation();u.default.updateRemoteSettings({customStatus:null})};return null!=t?w("div",{"aria-label":I.default.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER
},void 0,w(s.default,{className:null!=t.emoji?T.default.customStatusWithEmoji:T.default.customStatusItem,activity:t,emojiClassName:T.default.customEmoji,textClassName:T.default.customText,placeholderText:I.default.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER},void 0,w(m.default,{text:I.default.Messages.CUSTOM_STATUS_CLEAR_CUSTOM_STATUS},void 0,(function(e){return a.createElement(y.default,R({},e,{className:T.default.clearStatusButton,onClick:n,look:y.default.Looks.BLANK,size:y.default.Sizes.NONE,tabIndex:-1,"aria-hidden":!0}),w(_.default,{className:T.default.clearStatusIcon}))})))):w("div",{className:(0,o.default)(T.default.statusItem,T.default.customStatusContentIcon),"aria-label":I.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS},void 0,w("div",{className:T.default.customEmojiPlaceholder}),w("div",{className:T.default.status},void 0,I.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS))}function k(e){var t=e.focused;return w("div",{className:(0,
o.default)(T.default.statusItem,T.default.statusItemNoPadding,T.default.customStatusContentIcon,T.default.switchAccountsItem),"aria-label":I.default.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE},void 0,w(h.default,{width:18,height:18,className:T.default.switchAccountsIcon,color:t?b.Colors.WHITE:"currentColor"}),w("div",{className:T.default.status},void 0,I.default.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE))}k.displayName="SwitchAccountsMenuItem";var j=w(d.MenuSeparator,{}),U=w(d.MenuSeparator,{}),G=w(d.MenuSeparator,{}),F=function(e){var t=e.customStatus,r=e.onClose,o=e.analyticsContext,i=e.onSelect,l=(0,c.useMultiAccountMenuItems)();a.useEffect((function(){S.default.track(b.AnalyticEvents.OPEN_POPOUT,{type:"User Status Menu",has_custom_status:null!=t,location:o.location})}),[]);var s=function(e){u.default.updateRemoteSettings({status:e})},p=w(L,{customStatus:t});return w(d.default,{navId:"status-picker",style:d.MenuStyle.FIXED,"aria-label":I.default.Messages.SET_STATUS,onClose:r,onSelect:i
},void 0,w(d.MenuItem,{id:"online",keepItemStyles:!0,render:function(e){var t=e.isFocused;return w(D,{status:E.StatusTypes.ONLINE,focused:t})},action:function(){return s(E.StatusTypes.ONLINE)}}),j,w(d.MenuItem,{id:"idle",keepItemStyles:!0,render:function(e){var t=e.isFocused;return w(D,{status:E.StatusTypes.IDLE,focused:t})},action:function(){return s(E.StatusTypes.IDLE)}}),w(d.MenuItem,{id:"dnd",keepItemStyles:!0,render:function(e){var t=e.isFocused;return w(D,{status:E.StatusTypes.DND,description:I.default.Messages.STATUS_DND_HELP,focused:t})},action:function(){return s(E.StatusTypes.DND)}}),w(d.MenuItem,{id:"invisible",keepItemStyles:!0,render:function(e){var t=e.isFocused;return w(D,{status:E.StatusTypes.INVISIBLE,description:I.default.Messages.STATUS_INVISIBLE_HELPER,focused:t})},action:function(){return s(E.StatusTypes.INVISIBLE)}}),U,w(d.MenuItem,{id:"custom-status",keepItemStyles:!0,render:function(){return p},action:function(){(0,
g.openModalLazy)(P(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74213)]).then(n.bind(n,793954));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,R({},e,{sourceAnalyticsContext:o}))}));case 5:case"end":return e.stop()}}),e)}))))}}),G,w(d.MenuItem,{id:"switch-account",action:f.default,label:function(e){return w(k,{focused:e.isFocused})}},"switch-account",l))};F.displayName="StatusPickerPopout";var x=(0,l.default)((function(e){var t=(0,i.useStateFromStores)([p.default],(function(){return p.default.getCustomStatusActivity()})),n=(0,i.useStateFromStores)([v.default],(function(){return v.default.status}));return a.createElement(F,R({},e,{customStatus:t,status:n}))}));t.default=x},424670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ie
;var r,a=z(n(667294)),o=Y(n(294184)),i=Y(n(496486)),u=z(n(798628)),l=n(171236),s=n(536211),d=n(378158),f=Y(n(55189)),c=Y(n(235879)),p=n(832215),v=n(632123),y=n(75639),m=n(252404),_=n(84902),h=Y(n(698099)),g=Y(n(711195)),E=Y(n(414068)),S=Y(n(607209)),O=Y(n(876874)),b=Y(n(30098)),I=Y(n(788739)),T=Y(n(690445)),A=Y(n(663303)),C=Y(n(946447)),M=Y(n(728429)),N=n(772575),P=Y(n(160629)),R=n(645758),w=Y(n(571830)),D=Y(n(999720)),L=Y(n(547282)),k=Y(n(325908)),j=Y(n(827436)),U=Y(n(521358)),G=n(956506),F=Y(n(922629)),x=z(n(810332)),B=n(770348),H=Y(n(247001)),V=Y(n(645320)),W=Y(n(160957));function Y(e){return e&&e.__esModule?e:{default:e}}function K(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(K=function(e){return e?n:t})(e)}function z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=K(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function X(){X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return X.apply(this,arguments)}function Z(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Z(o,r,a,i,u,"next",e)}function u(e){Z(o,r,a,i,u,"throw",e)}i(void 0)}))}}var ee=F.default.getEnableHardwareAcceleration();function te(e){var t=e.channel,r=e.sectionId,o=e.userId,i=(0,s.useStateFromStores)([C.default],(function(){return C.default.isTyping(t.id,o)})),c=(0,s.useStateFromStores)([O.default],(function(){return O.default.getMember(t.guild_id,o)})),p=(0,s.useStateFromStores)([b.default],(function(){var e,n;return null!=(null==c?void 0:c.colorRoleId)?null===(e=b.default.getGuild(t.guild_id))||void 0===e||null===(n=e.getRole(c.colorRoleId))||void 0===n?void 0:n.name:void 0}),[t.guild_id,c]),v=(0,s.useStateFromStores)([M.default],(function(){return M.default.getUser(o)})),m=(0,s.useStateFromStores)([M.default],(function(){return M.default.getCurrentUser()})),_=(null==v?void 0:v.id)===(null==m?void 0:m.id),N=(0,
s.useStateFromStores)([I.default,T.default],(function(){return _?T.default.getStatus():I.default.getStatus(o,t.guild_id)})),R=(0,s.useStateFromStores)([I.default],(function(){return I.default.isMobileOnline(o)})),w=(0,s.useStateFromStores)([I.default,T.default],(function(){return _?T.default.getActivities():I.default.getActivities(o,t.guild_id)})),D=(0,s.useStateFromStores)([S.default],(function(){return S.default.getStreamForUser(o)})),L=(0,u.useListItem)(o),k=(0,s.useStateFromStores)([h.default],(function(){return h.default.canUserViewChannel(t.id,r,o)})),j=a.useCallback((function(e){null!=v&&(0,d.openContextMenuLazy)(e,J(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(50690),n.e(46537)]).then(n.bind(n,863893));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,X({},e,{user:v,guildId:t.guild_id,
channelId:t.id}))}));case 5:case"end":return e.stop()}}),e)}))))}),[v,t]),U=a.useCallback((function(){if(null!=v){var e="@"+(A.default.hidePersonalInformation?v.username:v.tag),n="<@!"+v.id+">";G.ComponentDispatch.dispatchToLastSubscribed(B.ComponentActions.INSERT_TEXT,{plainText:e,rawText:n});f.default.startTyping(t.id)}}),[v,t]),F=a.useCallback((function(e){e.stopPropagation();(0,y.openGuildBoostingMarketingModal)({guildId:t.guild_id,location:{section:B.AnalyticsSections.THREAD_MEMBER_LIST,object:B.AnalyticsObjects.BOOST_GEM_ICON}})}),[t.guild_id]);if(null==v)return null;var V=null==c?void 0:c.premiumSince;return Q(P.default,{preload:function(){return(0,g.default)(v.id,v.getAvatarURL(t.guild_id,80),{guildId:t.guild_id})},renderPopout:function(e){return a.createElement(E.default,X({},e,{userId:v.id,guildId:t.guild_id,channelId:t.id}))},position:l.isMobile?P.default.Positions.WINDOW_CENTER:P.default.Positions.LEFT,spacing:16,onShiftClick:U},void 0,(function(e,n){var r=n.isShown
;return a.createElement(x.default,X({onContextMenu:j,shouldAnimateStatus:ee,user:v,currentUser:m,nick:null==c?void 0:c.nick,status:N,activities:w,colorString:null==c?void 0:c.colorString,colorRoleName:p,isTyping:i,channel:t,guildId:t.guild_id,isMobile:R,selected:r,applicationStream:D,premiumSince:null==V?null:new Date(V),onClickPremiumGuildIcon:F,itemProps:L,lostPermissionTooltipText:k?void 0:H.default.Messages.THREAD_MEMBER_WITHOUT_ACCESS},e))}))}te.displayName="ThreadMember";var ne=Q(D.default,{width:12,height:12});var re=a.memo(te),ae=a.memo((function(e){var t=e.id,n=e.label,r=e.count,o=e.guildId,i=(0,m.useRoleIcon)({roleId:t,guildId:o,size:16});return t===B.StatusTypes.UNKNOWN?Q("div",{className:V.default.membersGroup},void 0,Q("div",{className:V.default.memberGroupsPlaceholder})):Q(k.default,{className:V.default.membersGroup,"aria-label":H.default.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:r})},void 0,null!=i?a.createElement(j.default,X({className:V.default.roleIcon
},i)):null,Q("span",{"aria-hidden":!0},void 0,n," — ",r))})),oe=a.memo((function(e){return e.channel.type===B.ChannelTypes.PRIVATE_THREAD?a.createElement(a.Fragment,null,Q("div",{className:W.default.divider}),Q(R.Text,{variant:"text-xs/normal",color:"header-secondary",className:W.default.private},void 0,ne," ",H.default.Messages.THREAD_BROWSER_PRIVATE),Q(R.Text,{variant:"text-sm/normal",color:"header-secondary",className:W.default.instructions},void 0,H.default.Messages.MEMBER_LIST_PRIVATE_THREAD_INSTRUCTIONS)):null}));function ie(e){var t=e.channel,n=e.guild,r="members-"+t.id,l=(0,_.useThreadMemberListSections)(t.id,n),d=l.filter((function(e){return e.userIds.length>0})).reverse()[0],f=(0,p.useGlobalHasAvatarDecorations)().canUseAvatarDecorations?44+x.AVATAR_DECORATION_PADDING:44,y=function(e,t){var n=(0,s.useStateFromStores)([c.default],(function(){return c.default.keyboardModeEnabled})),r=a.useRef(null),o=a.useCallback((function(e,n){var a=r.current;if(null!=a){
var o=parseInt(n,10),i=$(a.getSectionRowFromIndex(o),2),u=i[0],l=i[1],s=0===u&&0===l?t:0;a.scrollToIndex({section:u,row:l,padding:s,callback:function(){requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}}),[t]),i=a.useCallback((function(){return new Promise((function(e){var t=r.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),l=a.useCallback((function(){return new Promise((function(e){var t=r.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]);return{navigator:(0,u.default)({id:e,setFocus:o,isEnabled:n,scrollToStart:i,scrollToEnd:l}),listRef:r}}(r,f),m=y.navigator,h=y.listRef;if(0===l.length||l.every((function(e){return 0===e.userIds.length})))return Q(le,{channel:t});var g=i.default.omit(m.containerProps,["ref"]),E=Q(oe,{channel:t
},"footer");return Q(u.ListNavigatorProvider,{navigator:m},void 0,Q(v.FocusJumpSection,{},void 0,(function(e){return Q("div",{className:(0,o.default)(V.default.membersWrap,V.default.hiddenMembers)},void 0,a.createElement(U.default,X({key:r,ref:h,className:V.default.members,paddingTop:0,sectionHeight:40,renderSection:function(e){var t=e.section,r=l[t];return Q(ae,{id:r.id,label:r.label,count:r.userIds.length,guildId:n.id},r.id)},rowHeight:f,renderRow:function(e){var n=e.section,r=e.row,a=l[n],o=a.userIds,i=a.id;return Q(re,{channel:t,sectionId:i,userId:o[r]},o[r])},footerHeight:function(e){return l[e]===d&&t.type===B.ChannelTypes.PRIVATE_THREAD?80:0},renderFooter:function(e){return l[e.section]===d?E:null},innerAriaLabel:H.default.Messages.MEMBERS,innerTag:"ul",sections:l.map((function(e){return e.userIds.length})),fade:!0},g,e)))})))}ie.displayName="ThreadMembers";var ue=Q(L.default,{width:32,height:32});function le(e){var t=e.channel;return Q("div",{className:(0,
o.default)(V.default.membersWrap,V.default.hiddenMembers,V.default.members,W.default.emptyState)},void 0,Q(R.Text,{className:W.default.emptyStateHeader,variant:"text-xs/normal",color:"interactive-normal"},void 0,H.default.Messages.MEMBERS),Q("div",{className:W.default.emptyStateIconContainer},void 0,Q("div",{className:W.default.emptyStateIcon},void 0,ue),Q(w.default,{className:W.default.emptyStateStars})),Q(N.Heading,{variant:"heading-md/medium",level:3},void 0,t.isForumPost()?H.default.Messages.FORUM_POST_MEMBER_LIST_EMPTY_STATE_HEADER:H.default.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_HEADER),Q(R.Text,{className:W.default.emptyStateSubtext,variant:"text-sm/normal",color:"header-secondary"},void 0,H.default.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_SUBTEXT))}le.displayName="EmptyState"},998872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=yt(n(667294)),o=n(517563),i=n(505977),u=n(473727),l=pt(n(536211)),s=pt(n(939949)),d=pt(n(241165)),f=n(988754),c=pt(n(415275)),p=pt(n(737863)),v=pt(n(136873)),y=yt(n(446637)),m=pt(n(226800)),_=pt(n(235879)),h=pt(n(178235)),g=pt(n(206566)),E=pt(n(967160)),S=pt(n(697749)),O=pt(n(765304)),b=pt(n(676817)),I=n(621287),T=pt(n(190065)),A=pt(n(694450)),C=pt(n(316309)),M=pt(n(235398)),N=pt(n(121791)),P=pt(n(200092)),R=pt(n(730034)),w=pt(n(480519)),D=pt(n(697786)),L=pt(n(475859)),k=pt(n(719192)),j=pt(n(638534)),U=pt(n(344368)),G=pt(n(735592)),F=pt(n(829392)),x=pt(n(519386)),B=pt(n(782950)),H=pt(n(100223)),V=pt(n(873113)),W=pt(n(1110)),Y=pt(n(701593)),K=n(452453),z=pt(n(789620)),$=pt(n(218813)),q=pt(n(936747)),Q=pt(n(419523)),X=pt(n(476115)),Z=pt(n(316200)),J=pt(n(171627)),ee=pt(n(152577)),te=pt(n(31427)),ne=pt(n(486030)),re=n(520310),ae=pt(n(900996)),oe=pt(n(514109)),ie=pt(n(516869)),ue=pt(n(524439)),le=pt(n(332405)),se=pt(n(885159)),de=pt(n(554147)),fe=pt(n(982401)),ce=pt(n(496357)),pe=pt(n(110210)),ve=pt(n(231765)),ye=pt(n(216920)),me=pt(n(764517)),_e=pt(n(348612)),he=pt(n(329697)),ge=n(923604),Ee=n(139982),Se=pt(n(804135)),Oe=pt(n(478910)),be=pt(n(394444)),Ie=pt(n(954500)),Te=pt(n(342716)),Ae=pt(n(525339)),Ce=pt(n(772145)),Me=pt(n(965484)),Ne=pt(n(340877)),Pe=n(910992),Re=pt(n(418968)),we=pt(n(77670)),De=pt(n(409501)),Le=pt(n(594506)),ke=pt(n(859566)),je=n(64721),Ue=pt(n(474628)),Ge=pt(n(555325)),Fe=pt(n(350539)),xe=pt(n(423046)),Be=pt(n(908463)),He=pt(n(644263)),Ve=pt(n(544196)),We=pt(n(23535)),Ye=pt(n(30098)),Ke=pt(n(122913)),ze=pt(n(191839)),$e=pt(n(211136)),qe=pt(n(790597)),Qe=pt(n(52694)),Xe=pt(n(474261)),Ze=pt(n(424099)),Je=pt(n(797512)),et=pt(n(96978)),tt=pt(n(944537)),nt=pt(n(432310)),rt=pt(n(853068)),at=n(194322),ot=n(864489),it=pt(n(922629)),ut=yt(n(409873)),lt=pt(n(825469)),st=pt(n(678306)),dt=n(770348),ft=n(173652),ct=n(754949)
;n(259477);n(203855);n(730655);n(101820);n(913955);n(438312);n(455286);n(433512);n(937035);n(399561);n(625424);n(358091);n(359973);n(587840);n(516818);n(816624);n(350957);n(243336);n(491462);n(42398);n(847583);function pt(e){return e&&e.__esModule?e:{default:e}}function vt(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(vt=function(e){return e?n:t})(e)}function yt(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=vt(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function mt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=_t(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _t(e,t){if(e){if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ht(e,t):void 0}}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gt(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Et(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){gt(o,r,a,i,u,"next",e)}function u(e){
gt(o,r,a,i,u,"throw",e)}i(void 0)}))}}function St(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Ot(e,t)}function Ot(e,t){Ot=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ot(e,t)}function bt(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}l.default.initialize();Se.default.loadServer();if(ot.isPlatformEmbedded){it.default.on("USER_SETTINGS_OPEN",(function(){Ke.default.getLayers().includes(dt.Layers.USER_SETTINGS)||m.default.open(dt.UserSettingsSections.ACCOUNT)}));it.default.on("LAUNCH_APPLICATION",(function(e,t){var n=ze.default.getActiveLibraryApplication(t)
;ut.playApplication(t,n,{analyticsParams:{location:{page:dt.AnalyticsPages.DIRECT,object:dt.AnalyticsObjects.WEB_URL}}})}))}function It(e){var t=e.match,n=e.location,r=(0,o.parse)(n.search).friend_token,a=t.params.id;p.default.call((function(){return(0,Pe.openUserProfileModal)({userId:a,guildId:dt.ME,friendToken:r,analyticsLocation:{section:dt.AnalyticsSections.DIRECT_ROUTE_ACCESS}})}));return bt(u.Redirect,{to:Ve.default.defaultRoute})}It.displayName="renderUserProfileRedirector";function Tt(e){var t=e.match.params,n=t.guildId,r=t.guildEventId;p.default.call((function(){(0,K.openGuildEventDetails)({eventId:r})}));return bt(u.Redirect,{to:dt.Routes.CHANNEL(n)})}Tt.displayName="renderGuildEventRedirector";function At(e){var t,n,r=e.match,a=/-/g,o=null===(t=r.params.section)||void 0===t?void 0:t.toUpperCase().replace(a,"_"),i=null===(n=r.params.subsection)||void 0===n?void 0:n.toUpperCase().replace(a,"_"),l=(0,je.generateSections)({}).filter((function(e){var t
;return!1===(null===(t=e.predicate)||void 0===t?void 0:t.call(e))})).map((function(e){return e.section}));dt.UserSettingsSections.hasOwnProperty(o)&&!l.includes(dt.UserSettingsSections[o])&&(null==i||""===i||dt.UserSettingsSections.hasOwnProperty(i)&&!l.includes(dt.UserSettingsSections[i]))&&p.default.call((function(){return m.default.open(dt.UserSettingsSections[o],i)}));return bt(u.Redirect,{to:Ve.default.defaultRoute})}At.displayName="renderUserSettingsRedirector";function Ct(){p.default.call((function(){return m.default.open(dt.UserSettingsSections.INVENTORY)}));return bt(u.Redirect,{to:Ve.default.defaultRoute})}Ct.displayName="renderGiftInventoryRedirector";function Mt(e){var t=e.match.params.date,n=Be.default.changeLog,r=(0,o.parse)(location.search);if(null!=t&&null!=n){if(new Date(t)>new Date(n.date)){var a=r.utm_campaign_current,i=r.utm_content_current,l=r.utm_medium_current,s=r.utm_source_current,f=r.utm_term_current,c=(0,o.stringify)({utm_campaign_current:a,
utm_content_current:i,utm_medium_current:l,utm_source_current:s,utm_term_current:f});window.location=dt.Routes.CHANGELOGS()+"?"+c}}p.default.call((function(){return d.default.showChangeLog(r)}));return bt(u.Redirect,{to:Ve.default.defaultRoute})}Mt.displayName="renderChangeLogRedirector";function Nt(){p.default.call((function(){return P.default.openCreateGuildModal({location:"External link"})}));return bt(u.Redirect,{to:Ve.default.defaultRoute})}Nt.displayName="createGuildModalRedirector";function Pt(e){var t=e.match.params,n=t.guildId,r=t.channelId;(0,re.setNewUser)(ct.NewUserTypes.MARKETING_UNCLAIMED);var a=dt.Routes.CHANNEL(n,r);return bt(u.Redirect,{to:a})}Pt.displayName="renderWelcomeRedirector";var Rt=l.default.connectStores([We.default,Ve.default,xe.default],(function(){return{isConnected:We.default.isConnected(),defaultRoute:Ve.default.defaultRoute,defaultRouteFallback:Ve.default.fallbackRoute,token:xe.default.getToken()}}))(function(e){St(t,e);function t(){
return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.isConnected,n=e.defaultRoute,r=e.token,a=e.defaultRouteFallback;if(null==r)return bt(u.Redirect,{to:dt.Routes.DEFAULT_LOGGED_OUT});if(t){var o=Ht(n);return null==o||(o.params.guildId===dt.ME||null!=Ye.default.getGuild(o.params.guildId))&&null!=He.default.getChannel(o.params.channelId)?bt(u.Redirect,{to:n}):bt(u.Redirect,{to:a})}return null};return t}(a.Component));function wt(e){var t=e.match.params,n=t.gameId,r=t.action;nt.default.whenInitialized((function(){ze.default.whenInitialized((function(){switch(r){case"launch":var e=ze.default.getActiveLibraryApplication(n);if(null==e)return;ut.playApplication(e.id,e,{analyticsParams:{location:{page:dt.AnalyticsPages.DIRECT,object:dt.AnalyticsObjects.WEB_URL}}});break;case"test-mode":Ze.default.whenInitialized((function(){return y.authorizeAndSetTestModeApplication(n)}));break;case"uninstall":var t=ze.default.getActiveLibraryApplication(n)
;if(null==t)return;(0,f.uninstallBranchPrompt)(t.id,t.branchId,dt.AnalyticsLocations.URI_SCHEME)}}))}));return bt(u.Redirect,{to:dt.Routes.APPLICATION_LIBRARY})}wt.displayName="gameLibraryActionRedirector";var Dt,Lt=(0,I.makeAuthenticated)(lt.default,null,{passProps:!1}),kt=(0,I.makeAuthenticated)((function(e){var t=e.match.params.applicationId;p.default.call(Et(regeneratorRuntime.mark((function e(){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,377278));case 2:r=e.sent;a=r.ApplicationDirectoryUserExperiment;if(!(o=a.getCurrentConfig({})).canViewProfile){e.next=11;break}e.next=8;return Promise.resolve().then(n.bind(n,968299));case 8:i=e.sent;(0,i.openApplicationDirectoryModal)(void 0,t,!o.enabled);case 11:case"end":return e.stop()}}),e)}))));return bt(u.Redirect,{to:Ve.default.defaultRoute})})),jt=[dt.Routes.GUILD_BOOSTING_MARKETING(":guildId")].concat(function(e){
if(Array.isArray(e))return ht(e)}(Dt=ft.StaticChannelRoutes.map((function(e){return dt.Routes.CHANNEL(":guildId",e)})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Dt)||_t(Dt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());function Ut(e){var t=e.params,n=t.guildId,r=t.channelId,a=void 0===r?null:r,o=t.messageId,i=void 0===o?null:o;return{guildId:null!=n?n:dt.ME,channelId:a,messageId:i}}var Gt=bt(Rt,{}),Ft=[{path:[dt.Routes.APP],render:function(){return Gt},isSessionRequired:!0},{path:[dt.Routes.USERS(":id")],render:It},{path:[dt.Routes.APPLICATION_LIBRARY_ACTION(":gameId",":action")],render:wt},{path:[dt.Routes.GUILD_CREATE],render:Nt},{path:[dt.Routes.CHANGELOGS(":date?")],render:Mt,isSessionRequired:!0},{path:[dt.Routes.SETTINGS(":section",":subsection?")],render:At,isSessionRequired:!0},{
path:[dt.Routes.APPLICATION_LIBRARY_INVENTORY],render:Ct,isSessionRequired:!0},{path:[dt.Routes.WELCOME(":guildId?",":channelId?")],render:Pt,isSessionRequired:!0},{path:[dt.Routes.GUILD_EVENT_DETAILS(":guildId?",":guildEventId")],render:Tt,isSessionRequired:!0},{path:[dt.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),dt.Routes.ACTIVITY,dt.Routes.APPLICATION_LIBRARY,dt.Routes.APPLICATION_STORE,dt.Routes.MESSAGE_REQUESTS,dt.Routes.GUILD_DISCOVERY,dt.Routes.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),dt.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),dt.Routes.GUILD_BOOSTING_MARKETING(":guildId"),dt.Routes.FEATURE(":feature"),dt.Routes.PREMIUM_MARKETING_SURFACE],render:Lt,isSessionRequired:!0,isChatRoute:!0},{path:[dt.Routes.APPLICATION_DIRECTORY(":applicationId?")],render:kt,isSessionRequired:!0}];function xt(e){if(!We.default.isConnected()&&!We.default.isTryingToConnect()){var t=xe.default.getToken();if(null!=t){var n=function(e){
for(var t,n=mt(Ft);!(t=n()).done;){var r=t.value,a=r.path;if(r.isSessionRequired){var o=(0,i.matchPath)(e,{path:a});if(null!=o)return o}}return null}(e);null!=n&&s.default.startSession(t)}}}function Bt(e){var t=Ht(e);if(null!=t){var n=Ut(t),r=n.guildId,a=n.channelId,o=n.messageId,u=(0,ge.isValidGuildId)(r),l=(0,ge.isValidChannelId)(a),s=qe.default.getGuildId(),d=s!==r;u&&d&&c.default.selectGuild(r);if(u&&l){var f=$e.default.getChannelId(s)!==a;(d||f||null!=o)&&v.default.selectChannel(r,a,o);var p=te.default.getIsOpen(),y=f&&p,m=!d&&!f;if(a===ft.StaticChannelRoute.ROLE_SUBSCRIPTIONS)ee.default.closeSidebar();else if(d&&p){var _=null==s&&r===dt.ME,h=e===dt.Routes.GUILD_DISCOVERY;_||h?ee.default.closeSidebar():ee.default.openSidebar()}else(y||m)&&ee.default.closeSidebar()}else(function(e){return jt.some((function(t){var n;return!0===(null===(n=(0,i.matchPath)(e,t))||void 0===n?void 0:n.isExact)}))})(e)||(0,Ee.replaceWith)(Ve.default.fallbackRoute)}}function Ht(e){
for(var t,n=mt(Ft);!(t=n()).done;){var r=t.value,a=r.path;if(r.isChatRoute){var o=(0,i.matchPath)(e,{path:a});if(null!=o)return o}}return null}var Vt=bt(u.Redirect,{exact:!0,from:"/channels",to:"/"}),Wt=bt(u.Redirect,{to:"/"}),Yt=bt(st.default,{}),Kt=function(e){St(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).historyUnlisten=function(){};t.rewriterUnlisten=function(){};return t}var r=t.prototype;r.componentDidMount=function(){it.default.setZoomFactor(_.default.zoom);Se.default.init();A.default.initialize();C.default.initialize();N.default.initialize();M.default.initialize();D.default.initialize();de.default.initialize();G.default.initialize();U.default.initialize();Fe.default.initialize();F.default.initialize();ve.default.initialize();Q.default.initialize();ne.default.initialize();h.default.init();_e.default.init();Oe.default.init();B.default.init();Xe.default.init();x.default.init()
;J.default.init();ae.default.initialize();b.default.initialize();L.default.initialize();j.default.initialize();k.default.initialize();be.default.initialize();ye.default.initialize();Ge.default.initialize();O.default.initialize();Ue.default.initialize();se.default.initialize();S.default.initialize();H.default.init();z.default.init();tt.default.init();rt.default.init();Z.default.initialize();E.default.initialize();Me.default.init();Ne.default.init();et.default.init();Je.default.init();we.default.init();Le.default.init();Y.default.initialize();Te.default.initialize();Ae.default.initialize();V.default.initialize();Re.default.initialize();pe.default.initialize();fe.default.initialize();ce.default.initialize();ke.default.init();w.default.initialize();De.default.init();q.default.init();g.default.initialize();W.default.initialize();oe.default.initialize();Ie.default.initialize();Qe.default.init();T.default.initialize();ue.default.initialize();ie.default.initialize();le.default.initialize()
;$.default.init({hasModalOpen:at.hasAnyModalOpen,openModal:function(){return(0,at.openModalLazy)(Et(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}});R.default.init();X.default.initialize();me.default.initialize();this.rewriterUnlisten=he.default.addRouteRewriter(this.ensureChannelMatchesGuild);this.historyUnlisten=he.default.addRouteChangeListener(this.handleHistoryChange)};r.componentWillUnmount=function(){G.default.terminate();Fe.default.terminate();ve.default.terminate();de.default.terminate();ne.default.terminate();A.default.terminate();C.default.terminate();N.default.terminate();M.default.terminate();D.default.terminate();Z.default.terminate();O.default.terminate();Ue.default.terminate()
;S.default.terminate();be.default.terminate();ye.default.terminate();se.default.terminate();Re.default.terminate();E.default.terminate();Y.default.terminate();pe.default.terminate();ce.default.terminate();w.default.terminate();q.default.terminate();X.default.terminate();g.default.terminate();me.default.terminate();W.default.terminate();oe.default.terminate();Ie.default.terminate();T.default.terminate();ue.default.terminate();ie.default.terminate();le.default.terminate();L.default.terminate();this.historyUnlisten();this.rewriterUnlisten()};r.handleHistoryChange=function(e){var t=e.pathname;xt(t);Bt(t)};r.ensureChannelMatchesGuild=function(e){if(!We.default.isConnected())return null;var t=e.pathname,n=Ht(t);if(null==n)return null;var r=Ut(n),a=r.guildId,o=r.channelId,i=(0,ge.isValidGuildId)(a)&&a!==dt.ME&&a!==dt.FAVORITES;if(null!=o&&(0,ge.isValidChannelId)(o)&&!(0,ft.isStaticChannelRoute)(o)&&i){var u=He.default.getChannel(o);if(null==u)Ce.default.loadThread(o).then((function(){
return function(e){var t=e.channelId,n=e.guildId,r=e.pathname;We.default.isConnected()&&(0,Ee.getHistory)().location.pathname===r&&(null==He.default.getChannel(t)?(0,Ee.replaceWith)(dt.Routes.CHANNEL(n)):(0,Ee.replaceWith)(r))}({channelId:o,guildId:a,pathname:t})}));else if(u.guild_id!==a)return{path:dt.Routes.CHANNEL(a),state:e.state}}return null};r.render=function(){return bt(a.Fragment,{},void 0,bt(u.Switch,{},void 0,Vt,Ft.map((function(e){var t=e.path,n=e.render;return bt(u.Route,{path:t,render:n},t[0])})),Wt),Yt)};return t}(a.PureComponent);Kt.displayName="ViewsWithMainInterface";var zt=Kt;t.default=zt},747490:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RefundReason=t.PremiumRefundDisqualificationReason=t.AdyenResultCodes=void 0;var r,a,o,i=(r=n(213192))&&r.__esModule?r:{default:r};t.RefundReason=a;!function(e){e[e.OTHER=0]="OTHER";e[e.GIFTING_REFUND=1]="GIFTING_REFUND";e[e.BUYERS_REMORSE=2]="BUYERS_REMORSE";e[e.WRONG_PURCHASE=3]="WRONG_PURCHASE"
;e[e.FORGOT_TO_CANCEL=4]="FORGOT_TO_CANCEL";e[e.SERVER_BOOSTING_COOLDOWN=5]="SERVER_BOOSTING_COOLDOWN";e[e.USER_CONFUSION=6]="USER_CONFUSION";e[e.WANT_TO_SWITCH_TIERS=7]="WANT_TO_SWITCH_TIERS";e[e.DONT_NEED=8]="DONT_NEED"}(a||(t.RefundReason=a={}));t.PremiumRefundDisqualificationReason=o;!function(e){e[e.OTHER=0]="OTHER";e[e.ALREADY_REFUNDED=1]="ALREADY_REFUNDED";e[e.NOT_USER_REFUNDABLE_TYPE=2]="NOT_USER_REFUNDABLE_TYPE";e[e.PAST_REFUNDABLE_DATE=3]="PAST_REFUNDABLE_DATE";e[e.ENTITLEMENT_ALREADY_CONSUMED=4]="ENTITLEMENT_ALREADY_CONSUMED";e[e.ALREADY_REFUNDED_PREMIUM=5]="ALREADY_REFUNDED_PREMIUM";e[e.ALREADY_REFUNDED_PREMIUM_GUILD=6]="ALREADY_REFUNDED_PREMIUM_GUILD"}(o||(t.PremiumRefundDisqualificationReason=o={}));var u=Object.freeze((0,i.default)({Authorised:null,Error:null}));t.AdyenResultCodes=u},187232:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),u=n(354479),l=n(858627),s=p(n(191471)),d=p(n(919888)),f=p(n(247001)),c=p(n(720999));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.EXPIRATION_DATE="expirationDate"}(o||(o={}));var h=[{fields:[((r={})[o.EXPIRATION_DATE]={name:o.EXPIRATION_DATE,id:(0,u.uid)(),title:function(){return f.default.Messages.CREDIT_CARD_EXPIRATION_DATE},autoComplete:"cc-exp",placeholder:function(){return f.default.Messages.PAYMENT_SOURCE_EXPIRATION_DATE_PLACEHOLDER},pattern:"\\d*",getClassNameForLayout:function(){return c.default.width50},renderInput:function(e){return i.createElement(s.default,e)}},r)[o.EXPIRATION_DATE]]}];function g(e){var t=e.onCardInfoChange,n=e.className,r=e.expirationDate,a=e.error,o=m(i.useState(!1),2),u=o[0],s=o[1],c=m(i.useState(null),2),p=c[0],v=c[1],_=m(i.useState(r),2),g=_[0],E=_[1];i.useEffect((function(){t({expirationDate:g
},null===p)}),[g,t,p]);return y(d.default,{className:n,form:h,values:{expirationDate:g},errors:null!=p?{expirationDate:p}:{},formError:a,onFieldChange:function(e){u||""===e||s(!0);u&&""===e||!(0,l.validateExpiry)(e)?v(f.default.Messages.CREDIT_CARD_ERROR_EXPIRATION):v(null);E(e)}})}g.displayName="EditExpirationDateForm";var E=g;t.default=E},591235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=A(n(294184)),i=A(n(536211)),u=A(n(636602)),l=n(832635),s=n(713293),d=A(n(697952)),f=A(n(956117)),c=A(n(558402)),p=A(n(789446)),v=A(n(530250)),y=A(n(682473)),m=n(645758),_=A(n(730977)),h=n(688388),g=n(71246),E=A(n(301429)),S=A(n(187232)),O=A(n(288006)),b=n(770348),I=A(n(247001)),T=A(n(215913));function A(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t){w=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return w(e,t)}var D="isDefault",L=M(h.FormDivider,{}),k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;w(e,t)}(t,e);function t(t){var n,r,a,o,i,u,l,d;(d=e.call(this,t)||this).handleSubmit=function(e){e.preventDefault();e.stopPropagation();if(0===Object.values(d.state.dirtyFields).filter(g.isNotNullish).length)d.props.onCancel();else{var t=d.state,n=t.billingAddress,r=t.isDefault,a=t.expiresMonth,o=t.expiresYear;d.props.onSubmit(d.props.paymentSource.id,{billingAddress:n,expiresMonth:a,expiresYear:o,isDefault:r})}};d.handleCancel=function(){d.props.onCancel()};d.handleDelete=function(){var e=d.props;(0,e.onDelete)(e.paymentSource.id)};d.handleAddressUpdate=function(e,t,n){d.setState({billingAddress:e,billingAddressValid:t,
dirtyFields:R({},d.state.dirtyFields,{billingAddress:n})})};d.handleExpirationDateUpdate=function(e,t){var n=e.expirationDate;d.setState({expirationValid:t});if(null!=n&&""!==n){var r=N(n.split("/"),2),a=r[0],o=r[1];d.handleFieldChange(Number(a),"expiresMonth");d.handleFieldChange(Number(""+(new Date).getFullYear().toString().slice(0,2)+o),"expiresYear")}};d.handleFieldChange=function(e,t){var n,r;null!=t&&d.setState(((r={})[t]=e,r.dirtyFields=R({},d.state.dirtyFields,((n={})[t]=!0,n)),r))};var f=t.paymentSource,c=t.isDefault,p=f.billingAddress;d.state={billingAddress:{name:null!==(n=p.name)&&void 0!==n?n:"",line1:null!==(r=p.line1)&&void 0!==r?r:"",line2:null!==(a=p.line2)&&void 0!==a?a:"",country:null!==(o=p.country)&&void 0!==o?o:"",state:null!==(i=p.state)&&void 0!==i?i:"",city:null!==(u=p.city)&&void 0!==u?u:"",postalCode:null!==(l=p.postalCode)&&void 0!==l?l:""},expiresMonth:f instanceof s.CreditCardSourceRecord?f.expiresMonth:void 0,
expiresYear:f instanceof s.CreditCardSourceRecord?f.expiresYear:void 0,billingAddressValid:!1,isDefault:c,expirationValid:!0,dirtyFields:{}};return d}var n=t.prototype;n.componentWillUnmount=function(){u.default.wait((function(){(0,l.clearUpdatePaymentSourceError)();(0,l.clearRemovePaymentSourceError)()}))};n.renderError=function(){var e=this.props,t=e.updateError,n=e.removeError;return null==t||t.hasCardError()||t.hasAddressError()?null!=n?M(y.default,{className:T.default.formError},void 0,n.message):null:M(y.default,{className:T.default.formError},void 0,t.message)};n.renderBillingAddressSection=function(){var e,t=this.state.billingAddress,n=this.props,r=n.updateError,o=n.paymentSource;if(o.type===b.PaymentSourceTypes.CARD)e="US"===o.country?E.default.Layouts.SETTINGS_US:E.default.Layouts.SETTINGS_INTL;else e=E.default.Layouts.SETTINGS_INTL_NO_NAME;return M("div",{className:T.default.addressSection},void 0,M(m.Text,{className:T.default.sectionHeader,variant:"text-sm/normal"
},void 0,I.default.Messages.BILLING_ADDRESS),a.createElement(E.default,R({},t,{mode:E.default.Modes.EDIT,layout:e,onBillingAddressChange:this.handleAddressUpdate,error:r})))};n.renderCardExpirationSection=function(){var e=this.state,t=e.expiresMonth,n=e.expiresYear;if(null==t||null==n)return null;var r=t.toString().padStart(2,"0")+"/"+n.toString().padStart(2,"0").slice(-2);return M("div",{className:T.default.addressSection},void 0,M(m.Text,{className:T.default.sectionHeader,variant:"text-sm/normal"},void 0,I.default.Messages.BILLING_STEP_CREDIT_CARD_INFORMATION),M(S.default,{expirationDate:r,onCardInfoChange:this.handleExpirationDateUpdate,error:this.props.updateError}))};n.renderActions=function(){var e=this.props,t=e.submitting,n=e.removing,r=e.isForSubscription,o=this.state,i=o.billingAddressValid,u=o.expirationValid;return M(v.default,{justify:v.default.Justify.BETWEEN,className:T.default.formActions},void 0,M("div",{className:T.default.disabledTooltipWrapper
},void 0,r?M(_.default,{text:I.default.Messages.PAYMENT_SOURCE_DELETE_DISABLED_TOOLTIP},void 0,(function(e){return a.createElement("div",R({"aria-hidden":!0,className:T.default.disabledTooltipTarget},e))})):null,M(f.default,{type:"button",disabled:r||t,submitting:n,onClick:this.handleDelete,look:f.default.Looks.OUTLINED,color:f.default.Colors.RED},void 0,I.default.Messages.PAYMENT_SOURCE_DELETE)),M(v.default,{grow:0},void 0,M(f.default,{type:"button",disabled:t||n,onClick:this.handleCancel,look:f.default.Looks.LINK,color:f.default.Colors.PRIMARY},void 0,I.default.Messages.CANCEL),M(f.default,{submitting:t,disabled:!i||n||!u,type:"submit",color:f.default.Colors.GREEN},void 0,I.default.Messages.SAVE)))};n.render=function(){var e=this,t=this.props,n=t.paymentSource,r=t.isDefault,a=t.locale,i=t.className,u=t.isForSubscription,l=this.state.isDefault,d=n instanceof s.PaypalSourceRecord;return M(c.default,{editable:!0,className:(0,o.default)(T.default.card,i)},void 0,M("form",{
onSubmit:this.handleSubmit,noValidate:!0},void 0,this.renderError(),M("div",{className:T.default.paymentSection},void 0,M(O.default,{paymentSource:n,isDefault:r,isForSubscription:u,locale:a}),n.invalid?M("div",{className:T.default.errorSubText},void 0,I.default.Messages.PAYMENT_SOURCE_INVALID_HELP):null,M("div",{className:T.default.subText},void 0,d?I.default.Messages.PAYMENT_SOURCE_EDIT_HELP_PAYPAL.format({paypalURL:b.PAYPAL_URL}):I.default.Messages.PAYMENT_SOURCE_EDIT_HELP_CARD)),this.renderCardExpirationSection(),this.renderBillingAddressSection(),M(p.default,{name:D,value:l,onChange:function(t,n){return e.handleFieldChange(n,D)},type:p.default.Types.INVERTED,className:T.default.defaultSection},void 0,M(m.Text,{className:T.default.defaultCheckboxLabel,variant:"text-sm/normal"},void 0,I.default.Messages.PAYMENT_SOURCE_MAKE_DEFAULT)),L,this.renderActions()))};return t}(a.PureComponent);k.displayName="EditPaymentSourceForm";k.defaultProps={onDelete:function(){},onSubmit:function(){},
onCancel:function(){}};var j=i.default.connectStores([d.default],(function(){return{updateError:d.default.editSourceError,removeError:d.default.removeSourceError}}))(k);t.default=j},191471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(279950))&&r.__esModule?r:{default:r},i=n(581894);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=/[^0-9]/g,f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).selectionStart=0;t.setRef=function(e){var n=t.props.inputRef;t._inputRef=e;null!=n&&n(e)};t.handleChange=function(e,n){var r=t.props,a=r.value,o=r.onChange,u=t._inputRef;if(e!==a&&null!=u&&null!=a){var l=(0,i.formatExpiration)(e),s=u.selectionStart;l===a&&l.length<=3&&a.includes("/")&&!e.includes("/")?l=l.replace(d,""):l===a&&e.includes("/")&&!a.includes("/")&&(l+="/");l.length>e.length&&(s+=l.length-e.length);t.selectionStart=s;null!=o&&o(l,n)}};return t}var n=t.prototype
;n.componentDidUpdate=function(e){var t=this._inputRef;e.value!==this.props.value&&null!=t&&t.setSelectionRange(this.selectionStart,this.selectionStart)};n.render=function(){return a.createElement(o.default,l({},this.props,{inputMode:"numeric",onChange:this.handleChange,inputRef:this.setRef}))};return t}(a.PureComponent);f.displayName="ExpirationDateTextField";var c=f;t.default=c},288006:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=v(n(294184)),i=n(713293),u=v(n(530250)),l=n(772575),s=v(n(708100)),d=n(537683),f=n(8916),c=v(n(247001)),p=v(n(515388));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}
var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getLabel=function(e){return e instanceof i.CreditCardSourceRecord?c.default.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,f.upperCaseFirstChar)(e.brand),last_4:e.last4}):e instanceof i.PaypalSourceRecord?c.default.Messages.PAYMENT_SOURCE_PAYPAL:e instanceof i.SofortSourceRecord?c.default.Messages.PAYMENT_SOURCE_SOFORT:e instanceof i.GiropaySourceRecord?c.default.Messages.PAYMENT_SOURCE_GIROPAY:e instanceof i.Przelewy24SourceRecord?c.default.Messages.PAYMENT_SOURCE_PRZELEWY24:e instanceof i.PaysafeSourceRecord?c.default.Messages.PAYMENT_SOURCE_PAYSAFE_CARD:e instanceof i.GcashSourceRecord?c.default.Messages.PAYMENT_SOURCE_GCASH:c.default.Messages.PAYMENT_SOURCE_UNKNOWN};n.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return m(l.Heading,{className:(0,
o.default)(p.default.description,n),variant:"heading-deprecated-14/medium",level:3},void 0,this.getLabel(t))};n.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,r=null;t instanceof i.CreditCardSourceRecord?r=c.default.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,d.getLocalizedDisplayMonth)(t.expiresMonth,n),year:t.expiresYear}):(t instanceof i.PaypalSourceRecord||t instanceof i.SofortSourceRecord||t instanceof i.Przelewy24SourceRecord)&&(r=t.email);return r};n.render=function(){var e=this.props,t=e.isDefault,n=e.paymentSource,r=e.showSubtext,a=e.isForSubscription,o=this.renderSubText();return m(u.default,{},void 0,m(s.default,{type:this.typeString}),m(u.default,{direction:u.default.Direction.VERTICAL,className:p.default.descriptionWrapper},void 0,m(u.default,{align:u.default.Align.CENTER},void 0,this.renderDescription(),t?m("div",{className:p.default.defaultIndicator},void 0,c.default.Messages.DEFAULT):null,a?m("div",{className:p.default.premiumIndicator
},void 0,c.default.Messages.PAYMENT_SOURCE_SUBSCRIPTION):null,n.invalid?m("div",{className:p.default.invalidIndicator},void 0,c.default.Messages.PAYMENT_SOURCE_INVALID):null),r&&null!=o?m("div",{className:p.default.subText},void 0,o):null))};!function(e,t,n){t&&_(e.prototype,t);n&&_(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"typeString",get:function(){var e=this.props.paymentSource;return e instanceof i.PaypalSourceRecord?s.default.Types.PAYPAL:e instanceof i.SofortSourceRecord?s.default.Types.SOFORT:e instanceof i.CreditCardSourceRecord?s.default.getType(e.brand):e instanceof i.GiropaySourceRecord?s.default.Types.GIROPAY:e instanceof i.Przelewy24SourceRecord?s.default.Types.PRZELEWY24:e instanceof i.PaysafeSourceRecord?s.default.Types.PAYSAFECARD:e instanceof i.GcashSourceRecord?s.default.Types.GCASH:s.default.Types.UNKNOWN}}]);return t}(a.PureComponent);t.default=g;g.displayName="PaymentDescription";g.defaultProps={isForSubscription:!1,isDefault:!1,
showSubtext:!1}},109043:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=B;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=N(n(294184)),i=N(n(441143)),u=n(798628),l=n(536211),s=N(n(636602)),d=n(832635),f=n(297279),c=n(856259),p=N(n(133589)),v=N(n(490931)),y=N(n(909584)),m=N(n(146771)),_=N(n(558402)),h=N(n(530250)),g=N(n(477797)),E=N(n(235742)),S=n(838583),O=N(n(186673)),b=n(770348),I=n(478036),T=N(n(247001)),A=N(n(582995)),C=N(n(89073)),M=["ref"];function N(e){return e&&e.__esModule?e:{default:e}}function P(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function w(e,t){w=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return w(e,t)}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
var U=10;function G(e){var t=e.payments,n=e.locale,r=e.compactMode,i=e.numPages,l=a.useRef(null),s=k(a.useState(0),2),f=s[0],c=s[1],v=k(a.useState(null),2),y=v[0],m=v[1],_=t.slice(f*U,(f+1)*U);a.useEffect((function(){var e;null===(e=l.current)||void 0===e||e.scrollTo({to:0})}),[f]);var h=a.useCallback((function(e){c(e);var n=t[t.length-1].id;if(e===i-1&&y!==n){(0,d.fetchPayments)(U,n);m(n)}}),[t,i,y]),S=(0,p.default)("billing-history",l);return L(u.ListNavigatorProvider,{navigator:S},void 0,L(u.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,u=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,M);return a.createElement(g.default,D({className:(0,o.default)(A.default.verticalFit,A.default.paginator),currentPageIndex:f,onChangePage:h,numPages:i,ref:t},u),a.createElement(E.default,{className:A.default.bottomDivider,ref:l},_.map((function(e,t){return L(O.default,{className:(0,
o.default)(A.default.paymentRow,A.default.bottomDivider),payment:e,locale:n,compactMode:r},t)}))))})))}G.displayName="PaymentHistoryPage";var F=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;w(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).scrollerRef=a.createRef();return t}var n=t.prototype;n.componentDidMount=function(){s.default.wait((function(){(0,f.fetchActivityStatistics)();(0,d.fetchPayments)(20)}))};n.renderPremiumExternalSubscription=function(e){(0,i.default)(null!=e.paymentGateway,"Expected payment gateway when rendering for external subscription");return L(_.default,{className:A.default.externalRow},void 0,L("div",{className:A.default.externalRowHeader},void 0,T.default.Messages.BILLING_EXTERNAL_HEADER.format({paymentGatewayName:I.PaymentGatewayToFriendlyName[e.paymentGateway]})),L("div",{className:A.default.externalRowBody
},void 0,T.default.Messages.BILLING_EXTERNAL_DESCRIPTION.format({paymentGatewayName:I.PaymentGatewayToFriendlyName[e.paymentGateway],billingHistoryLink:(0,S.getExternalSubscriptionMethodUrl)(e.paymentGateway,"BILLING_HISTORY")})))};n.render=function(){var e=this.props,t=e.compactMode,n=e.payments,r=e.subscription,a=e.locale,i=null!=r&&r.isPurchasedExternally;return 0!==n.length||i?L("div",{className:A.default.verticalFit},void 0,null!=r&&i?this.renderPremiumExternalSubscription(r):null,n.length>0?L("div",{className:(0,o.default)(A.default.paymentPane,A.default.verticalFit)},void 0,t?null:L("div",{className:(0,o.default)(A.default.paymentRow,A.default.bottomDivider)},void 0,L(h.default,{className:A.default.paymentRowHeader},void 0,L("div",{className:C.default.date},void 0,T.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE),L("div",{className:A.default.paymentRowHeaderDescription},void 0,T.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION),L("div",{className:C.default.amount
},void 0,T.default.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT))),L(G,{compactMode:t,locale:a,payments:n,numPages:this.numPages})):null):null};!function(e,t,n){t&&R(e.prototype,t);n&&R(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"numPages",get:function(){return Math.max(Math.ceil(this.props.payments.length/U),1)}}]);return t}(a.PureComponent);F.displayName="PaymentHistory";F.defaultProps={compactMode:!1};function x(e){var t,n=e.skuId,r=null===(t=e.subscription)||void 0===t?void 0:t.items[0].planId;return!(null==n||null==r||Object.values(b.PremiumSubscriptionSKUs).includes(n)||(0,S.isPremiumSubscriptionPlan)(r))}function B(e){var t=(0,l.useStateFromStores)([v.default],(function(){return v.default.getPayments()})),n=(0,l.useStateFromStores)([m.default],(function(){return m.default.getPremiumTypeSubscription()})),r=a.useMemo((function(){return new Set(t.filter(x).map((function(e){var t=e.subscription;return null==t?void 0:t.items[0].planId})))
}),[t]),o=a.useMemo((function(){return new Set(t.filter(x).map((function(e){return e.skuId})))}),[t]),i=(0,l.useStateFromStoresArray)([y.default],(function(){return y.default.getPlanIdsForSkus(Array.from(o))})),u=a.useCallback((function(){return i.length===r.size}),[i,r]);a.useEffect((function(){u()||s.default.wait((function(){o.forEach((function(e){return(0,c.fetchSubscriptionPlansForSKU)(e)}))}))}),[u,o]);return a.createElement(F,D({},e,{payments:u()?t:[],subscription:n}))}B.displayName="ConnectedPaymentHistory"},186673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=W(n(667294)),o=H(n(294184)),i=H(n(441143)),u=H(n(213192)),l=H(n(730381)),s=n(798628),d=H(n(536211)),f=n(851757),c=H(n(427498)),p=n(713293),v=H(n(288356)),y=H(n(748826)),m=H(n(909584)),_=H(n(194198)),h=H(n(151097)),g=H(n(956117)),E=H(n(16941)),S=H(n(530250)),O=H(n(562475)),b=H(n(708100)),I=H(n(730977)),T=H(n(69405)),A=H(n(992193)),C=H(n(259530)),M=H(n(447522)),N=H(n(41024)),P=n(194322),R=n(35033),w=n(685677),D=W(n(838583)),L=n(243277),k=H(n(288006)),j=n(895426),U=n(747490),G=n(770348),F=n(478036),x=H(n(247001)),B=H(n(89073));function H(e){return e&&e.__esModule?e:{default:e}}function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(V=function(e){return e?n:t})(e)}function W(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=V(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Y(){Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Y.apply(this,arguments)}function K(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){K(o,r,a,i,u,"next",e)}function u(e){K(o,r,a,i,u,"throw",e)}i(void 0)}))}}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function q(e,t){q=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return q(e,t)}
function Q(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var X=function(e){return"https://"+G.SUPPORT_DOMAIN+"/hc/"+e.toLowerCase()+"/requests/new?ticket_form_id=360000118612"},Z=(0,u.default)({TIME_PLAYED:null,PURCHASE_DATE:null,SKU_TYPE:null,ALREADY_REFUNDED:null,PAYMENT_STATUS:null,PAYMENT_GATEWAY:null,SKU_STICKER_PACK:null,SUBSCRIPTION_TYPE:null});function J(e){switch(e){case U.PremiumRefundDisqualificationReason.ALREADY_REFUNDED_PREMIUM:return x.default.Messages.BILLING_REFUND_ALREADY_REFUNDED_PREMIUM_REASON;case U.PremiumRefundDisqualificationReason.ALREADY_REFUNDED_PREMIUM_GUILD:
return x.default.Messages.BILLING_REFUND_ALREADY_REFUNDED_PREMIUM_GUILD_REASON;case U.PremiumRefundDisqualificationReason.ENTITLEMENT_ALREADY_CONSUMED:return x.default.Messages.BILLING_REFUND_ALREADY_CONSUMED_REASON;default:return x.default.Messages.BILLING_REFUND_GENERIC_REASON}}var ee=[G.PaymentStatusTypes.FAILED,G.PaymentStatusTypes.REVERSED,G.PaymentStatusTypes.CANCELED],te=[F.PaymentGateways.APPLE],ne=function(e){var t=e.description,n=e.cost;return Q("li",{className:B.default.paymentDetail},void 0,Q(S.default,{justify:S.default.Justify.BETWEEN},void 0,Q("div",{},void 0,t),Q("div",{},void 0,n)))};ne.displayName="PaymentDetail";var re=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;q(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={expanded:!1};t.refundRules=[{rule:Z.TIME_PLAYED,canRefund:function(){if(t.isSkuPreorder)return!0
;var e=t.timePlayed;return null==e||e.asMilliseconds()<l.default.duration(2,"hours").asMilliseconds()}},{rule:Z.PURCHASE_DATE,canRefund:function(){var e=t.props.payment;if(t.isSkuPreorder)return!0;var n=e.isPremiumSubscription||e.isPremiumGuildSubscription||e.isPremiumGift?5:14;return t.daysSincePurchase<=n}},{rule:Z.SKU_TYPE,canRefund:function(){var e=t.props.payment;return null==e.sku||e.sku.type!==G.SKUTypes.CONSUMABLE}},{rule:Z.ALREADY_REFUNDED,canRefund:function(){var e=t.props.payment;return e.amountRefunded<e.amount}},{rule:Z.PAYMENT_STATUS,canRefund:function(){var e=t.props.payment;return!ee.includes(e.status)}},{rule:Z.PAYMENT_GATEWAY,canRefund:function(){var e=t.props.payment;return null==e.paymentGateway||!te.includes(e.paymentGateway)}},{rule:Z.SKU_STICKER_PACK,canRefund:function(){var e=t.props.payment;return null==e.sku||!(0,w.hasFlag)(e.sku.flags,G.SKUFlags.STICKER_PACK)}},{rule:Z.SUBSCRIPTION_TYPE,canRefund:function(){var e
;return(null===(e=t.props.payment.subscription)||void 0===e?void 0:e.type)!==G.SubscriptionTypes.GUILD}}];t.handleExpandInfo=function(){t.setState({expanded:!t.state.expanded})};return t}var r=t.prototype;r.validateRefundRules=function(){return this.refundRules.filter((function(e){return!(0,e.canRefund)()})).map((function(e){return e.rule}))};r.renderStatus=function(){switch(this.props.payment.status){case G.PaymentStatusTypes.PENDING:return Q("span",{className:B.default.statusTagGrey},void 0,x.default.Messages.BILLING_TAG_PENDING);case G.PaymentStatusTypes.FAILED:return Q("span",{className:B.default.statusTagRed},void 0,x.default.Messages.BILLING_TAG_FAILED);case G.PaymentStatusTypes.REFUNDED:return Q("span",{className:B.default.statusTagGreen},void 0,x.default.Messages.BILLING_TAG_REFUNDED);case G.PaymentStatusTypes.REVERSED:return Q("span",{className:B.default.statusTagRed},void 0,x.default.Messages.BILLING_TAG_REVERSED);case G.PaymentStatusTypes.CANCELED:return Q("span",{
className:B.default.statusTagRed},void 0,x.default.Messages.BILLING_TAG_CANCELED);default:return null}};r.renderPrice=function(){var e=this.props.payment;return Q("span",{className:B.default.price},void 0,(0,L.formatPrice)(e.amount,e.currency))};r.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,r=t.taxInclusive,i=t.tax,u=t.amount,l=t.currency;return Q("div",{className:(0,o.default)(B.default.paymentText,B.default.paymentBreakdown)},void 0,null!=t.paymentSource?Q(k.default,{paymentSource:t.paymentSource,locale:n,descriptionClassName:B.default.paymentText}):null,Q("ul",{},void 0,!r&&i>0?Q(a.Fragment,{},void 0,Q(ne,{description:t.description,cost:(0,L.formatPrice)(u-i,l)}),Q(ne,{description:x.default.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,L.formatPrice)(i,l)})):null,Q(ne,{description:x.default.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,L.formatPrice)(u,l)})))};r.renderInvoiceDownload=function(){var e=this.props.payment
;return null==e.downloadableInvoice||""===e.downloadableInvoice?null:Q("div",{className:B.default.downloadInvoice},void 0,Q(h.default,{href:e.downloadableInvoice},void 0,x.default.Messages.BILLING_DOWNLOAD_INVOICE),null!=e.downloadableRefundInvoices?e.downloadableRefundInvoices.map((function(e,t){return Q(h.default,{className:B.default.downloadRefundInvoice,href:e},t,x.default.Messages.BILLING_DOWNLOAD_REFUND_INVOICE)})):null)};r.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,r=this.validateRefundRules();if(r.includes(Z.PAYMENT_GATEWAY)||r.includes(Z.PAYMENT_STATUS)||r.includes(Z.ALREADY_REFUNDED)||r.includes(Z.SKU_STICKER_PACK)||r.includes(Z.SUBSCRIPTION_TYPE))return null;var o,i=0===r.length,u=X(t),l=this.isPremium?5:14;o=r.includes(Z.SKU_TYPE)?x.default.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:u}):i?n.isPreorder&&this.isSkuPreorder?x.default.Messages.BILLING_PREORDER_REFUND_TEXT.format({supportURL:u
}):n.isPremiumSubscription||n.isPremiumGuildSubscription?x.default.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:l,supportURL:u}):n.isGift?x.default.Messages.BILLING_GIFT_REFUND_TEXT.format({dateLimit:l,supportURL:u}):x.default.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:l,playtimeLimit:2,supportURL:u}):n.isGift?x.default.Messages.BILLING_GIFT_REFUND_TEXT_UNABLE.format({dateLimit:l}):n.isPremiumSubscription||n.isPremiumGuildSubscription?x.default.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:l}):x.default.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:l,playtimeLimit:2});this.isPremium&&(0,j.userInRefundExperiment)()&&(o=null);return Q(a.Fragment,{},void 0,Q("h2",{className:B.default.paymentHeader},void 0,x.default.Messages.BILLING_REFUND_HEADER),Q("div",{className:B.default.paymentText},void 0,Q("div",{},void 0,o),this.renderRefundActions(r)))};r.renderRefundCriteria=function(e,t,n,r){return Q("div",{
className:B.default.refundCriteria},r,Q("h3",{className:B.default.refundSubHeader},void 0,e),Q("div",{className:B.default.refundIconContainer},void 0,Q(t,{className:B.default.refundCriteriaIcon}),null!=n&&Q("div",{},void 0,n)))};r.renderRefundActions=function(e){var t,r,o=this.props,i=o.locale,u=o.payment;if(this.isSkuPreorder||e.includes(Z.SKU_TYPE))return null;var l=e.includes(Z.PURCHASE_DATE)?C.default:A.default,s=e.includes(Z.TIME_PLAYED)||(null===(t=u.premiumRefundDisqualificationReasons)||void 0===t?void 0:t.includes(U.PremiumRefundDisqualificationReason.PAST_REFUNDABLE_DATE))?C.default:A.default;if(!this.isPremium||!(0,j.userInRefundExperiment)())return Q("div",{className:B.default.refundActions},void 0,Q("div",{className:B.default.refundRules},void 0,this.renderRefundCriteria(u.isPreorder?x.default.Messages.BILLING_REFUND_RELEASE_DATE_SUBHEADER:x.default.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER,l,x.default.Messages.BILLING_REFUND_PURCHASE_DATE.format({
daysSincePurchase:this.daysSincePurchase})),u.isSubscription||u.isGift?null:this.renderRefundCriteria(x.default.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER,s,null!=this.timePlayed?this.timePlayed.humanize():x.default.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)),Q(h.default,{href:X(i)},void 0,x.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM));var d=(null!==(r=u.premiumRefundDisqualificationReasons)&&void 0!==r?r:[U.PremiumRefundDisqualificationReason.OTHER])[0],f=null!=d||0!==e.length||u.isPurchasedExternally;return Q("div",{className:B.default.refundActions},void 0,Q(I.default,{shouldShow:f,text:J(d)},void 0,(function(e){return a.createElement(g.default,Y({},e,{color:g.default.Colors.PRIMARY,disabled:f,onClick:function(){return(0,P.openModalLazy)(z(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(13501)]).then(n.bind(n,713501));case 2:t=e.sent;r=t.default
;return e.abrupt("return",(function(e){return a.createElement(r,Y({payment:u,reportProblemUrl:X(i)},e))}));case 5:case"end":return e.stop()}}),e)}))))}}),x.default.Messages.BILLING_REFUND_BUTTON_TEXT)})),Q(h.default,{href:X(i)},void 0,x.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM))};r.renderDescription=function(){var e,t,n=this.props,r=n.compactMode,o=n.payment,u=n.application,s=n.stickerPack,d=this.state.expanded,p=o.sku,v=o.subscription,y=null!=o.paymentSource&&G.PREPAID_PAYMENT_SOURCES.has(o.paymentSource.type);if(null!=v&&0!==v.items.length){var _=[],h=null;if(v.type===G.SubscriptionTypes.PREMIUM)v.items.forEach((function(e){var t=e.planId,n=e.quantity;if((0,D.isPremiumSubscriptionPlan)(t)){_.push(D.default.getDisplayName(t,!1,y));h=G.SubscriptionPlanInfo[t].skuId}else{_.push((n>1?n+"x ":"")+D.default.getDisplayName(t,!1,y));null==h&&(h=G.SubscriptionPlanInfo[t].skuId)}}));else if(v.type===G.SubscriptionTypes.GUILD){var g=m.default.get(v.items[0].planId);(0,
i.default)(null!=g,"Guild subscription plan should already have been loaded");var E=g.interval===G.SubscriptionIntervalTypes.YEAR?x.default.Messages.YEARLY_GUILD_SUBSCRIPTION:x.default.Messages.MONTHLY_GUILD_SUBSCRIPTION;_.push(E.format({planName:g.name}));h=g.skuId}t=_.join(", ");e=Q(O.default,{className:B.default.descriptionIcon,game:u,size:O.default.Sizes.XSMALL,skuId:h})}else if(null!=p){t=o.isPreorder?x.default.Messages.PREORDER_SKU_NAME.format({name:p.name}):p.name;if(null!=s){var S=(0,f.getStickerPackPreviewSticker)(s);e=Q(c.default,{disableAnimation:!d,isInteracting:d,sticker:S,className:B.default.descriptionIcon,size:24})}else e=Q(O.default,{className:B.default.descriptionIcon,game:u,size:O.default.Sizes.XSMALL,skuId:p.id})}else{e=Q(N.default,{className:B.default.descriptionIcon});t=o.description}var b=Q("div",{className:B.default.date},void 0,(0,R.dateFormat)((0,l.default)(o.createdAt),"MM/DD/YYYY")),T=o.isGift?Q(I.default,{
text:x.default.Messages.BILLING_GIFT_PURCHASE_TOOLTIP},void 0,(function(e){return a.createElement(M.default,Y({className:B.default.giftIcon},e))})):null;return r?Q("div",{className:B.default.description},void 0,e,Q("div",{},void 0,t,b),T):Q(a.Fragment,{},void 0,b,Q("div",{className:B.default.description},void 0,e,Q("div",{},void 0,t),T))};r.renderExpandedSection=function(){return Q(E.default,{onClick:function(e){return e.stopPropagation()}},void 0,Q("div",{className:B.default.expandedInfo},void 0,Q("h2",{className:B.default.paymentHeader},void 0,x.default.Messages.BILLING_PURCHASE_DETAILS_HEADER),this.renderPaymentBreakdown(),this.renderInvoiceDownload(),this.renderRefundDetails()))};r.render=function(){var e=this,t=this.props,n=t.payment,r=t.className,i=t.compactMode,u=this.state.expanded;return Q(s.ListNavigatorItem,{id:n.id},void 0,(function(t){var n;return a.createElement(E.default,Y({onClick:e.handleExpandInfo,className:(0,
o.default)(u?B.default.payment:B.default.hoverablePayment,r,(n={},n[B.default.compact]=i,n)),focusProps:{offset:4}},t),Q(S.default,{className:B.default.summaryInfo,align:S.default.Align.CENTER},void 0,e.renderDescription(),Q("div",{className:B.default.amount},void 0,e.renderStatus(),e.renderPrice()),Q(T.default,{className:B.default.expand,direction:u?T.default.Directions.UP:T.default.Directions.DOWN})),u?e.renderExpandedSection():null)}))};!function(e,t,n){t&&$(e.prototype,t);n&&$(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_discord_sku_duration?l.default.duration(e.total_discord_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){var e=this.props.payment,t=null!=e.sku?e.sku.releaseDate:null,n=null!=t&&t.isAfter(e.createdAt)?t:e.createdAt;return(0,l.default)().diff(n,"days")}},{key:"isSkuPreorder",get:function(){var e=this.props.payment
;return null!=e.sku&&e.sku.isPreorder()}},{key:"isPremium",get:function(){var e=this.props.payment;return e.isPremiumSubscription||e.isPremiumGuildSubscription||e.isPremiumGift}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof p.PaypalSourceRecord?b.default.Types.PAYPAL:e instanceof p.CreditCardSourceRecord?b.default.getType(e.brand):b.default.Types.UNKNOWN}}]);return t}(a.PureComponent);re.displayName="PaymentHistoryRow";re.defaultProps={compactMode:!1};var ae=d.default.connectStores([_.default,v.default,y.default],(function(e){var t=e.payment,n=null!=t.sku&&t.sku.type===G.SKUTypes.DURABLE_PRIMARY?t.sku.applicationId:null;return{applicationStatistics:null!=n?_.default.getCurrentUserStatisticsForApplication(n):null,application:null!=n?v.default.getGame(n):null,stickerPack:null,paymentSources:y.default.paymentSources}}))(re);t.default=ae},565093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=b(n(667294)),o=S(n(496486)),i=b(n(832635)),u=n(653906),l=S(n(956117)),s=S(n(530250)),d=n(645758),f=S(n(730977)),c=S(n(588417)),p=S(n(662197)),v=S(n(675044)),y=n(194322),m=n(298104),_=S(n(591235)),h=S(n(288006)),g=S(n(247001)),E=S(n(450794));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;N(e,t)}function N(e,t){N=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return N(e,t)}var P=function(e){M(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleEditClick=function(){t.props.onEditClick(t.props.paymentSource.id)};return t}t.prototype.render=function(){var e=this.props,t=e.paymentSource,n=e.isDefault,r=e.isEditing,a=e.index,o=e.hideDivider,i=e.isForSubscription,u=e.locale,d=e.removing,f=e.submitting,p=e.onSubmit,v=e.onCancel,y=e.onDelete;return r?C(_.default,{paymentSource:t,isDefault:n,removing:d,submitting:f,locale:u,isForSubscription:i,onSubmit:p,onCancel:v,onDelete:y}):C("div",{className:E.default.paymentSourceItem},void 0,a>0&&!o?C(c.default,{className:E.default.sourceDivider}):null,C(s.default,{align:s.default.Align.CENTER,justify:s.default.Justify.BETWEEN,className:E.default.paymentSourceRow},void 0,C(h.default,{paymentSource:t,isDefault:n,isForSubscription:i,locale:u,showSubtext:!0}),r?null:C(l.default,{
color:l.default.Colors.PRIMARY,onClick:this.handleEditClick,size:l.default.Sizes.SMALL},void 0,g.default.Messages.EDIT)))};return t}(a.PureComponent);P.displayName="PaymentSourceItem";P.defaultProps={isEditing:!1,hideDivider:!1,onEditClick:function(){}};var R=function(e){M(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];(t=e.call.apply(e,[this].concat(o))||this).state={editingPayment:null};t.handleEditClick=function(e){t.setState({editingPayment:e})};t.handleCancel=function(){t.setState({editingPayment:null})};t.handleDelete=function(){var e=A(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return i.deletePaymentSource(n);case 3:t.setState({editingPayment:null});e.next=8;break;case 6:e.prev=6;e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();t.handleSubmit=function(){
var e=A(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n){e.next=9;break}e.prev=1;e.next=4;return i.updatePaymentSource(n,r);case 4:t.setState({editingPayment:null});e.next=9;break;case 7:e.prev=7;e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}();t.handlePaymentSourceAdded=function(){var e=A(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,m.fetchSubscriptionPlansOnNewPaymentSource)(t.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.handleAddPaymentMethod=function(){(0,y.openModalLazy)(A(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(78833),n.e(46277),n.e(85190),n.e(72024)]).then(n.bind(n,58838));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,I({},e,{onAddPaymentSource:t.handlePaymentSourceAdded}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){(0,u.clearError)()}})};return t}var r=t.prototype;r.renderFooter=function(){var e=this.props.paymentSources;return C(s.default,{justify:s.default.Justify.END,className:E.default.footer},void 0,0===Object.keys(e).length?C(s.default.Child,{},void 0,C(d.Text,{variant:"text-sm/normal"},void 0,g.default.Messages.BILLING_NO_PAYMENT_METHOD),C("div",{className:E.default.subText},void 0,g.default.Messages.BILLING_NO_PAYMENT_METHOD_DESCRIPTION)):null,C(l.default,{onClick:this.handleAddPaymentMethod},void 0,g.default.Messages.BILLING_ADD_PAYMENT_METHOD))};r.render=function(){
var e=this,t=this.props,n=t.defaultPaymentSourceId,r=t.paymentSources,i=t.locale,u=t.removing,l=t.submitting,d=t.premiumSubscriptionPaymentSourceId,y=o.default.values(r).sort((function(e,t){return e.id===n?-1:t.id===n||e.id>t.id?1:-1})),m=this.state.editingPayment,_=y.findIndex((function(e){return e.id===m})),h=y.map((function(t,r){return C(P,{locale:i,paymentSource:t,isDefault:n===t.id,onCancel:e.handleCancel,onDelete:e.handleDelete,isForSubscription:t.id===d,hideDivider:_===r-1,onSubmit:e.handleSubmit,index:r,submitting:l,removing:u,isEditing:m===t.id,onEditClick:e.handleEditClick},t.id)}));return C("div",{},void 0,C(p.default,{tag:p.default.Tags.H1},void 0,C(s.default,{align:s.default.Align.CENTER},void 0,C(f.default,{position:f.default.Positions.LEFT,text:g.default.Messages.BILLING_SECURE_TOOLTIP},void 0,(function(e){return a.createElement(v.default,I({className:E.default.lockIcon},e))})),g.default.Messages.BILLING_PAYMENT_SOURCES)),h,_!==y.length-1?C(c.default,{
className:E.default.sourceDivider}):null,this.renderFooter())};return t}(a.PureComponent);R.displayName="PaymentMethods";var w=R;t.default=w},895426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.userInRefundExperiment=function(){var e=r.getCurrentConfig({}).enabled;r.trackExposure({});return e};var r=(0,n(373505).createExperiment)({id:"2021-08_user_initiated_refunds",label:"User Initiated Refunds",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Can refund",config:{enabled:!0}}]})},169404:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=p(n(294184)),o=p(n(213847)),i=p(n(155502)),u=p(n(754416)),l=p(n(314234)),s=p(n(730977)),d=p(n(308920)),f=n(770348),c=p(n(233873));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){
var t=e.disabled,n=void 0!==t&&t,r=e.type,p=e.className,v=e.innerClassName,m=e.onConnect,_=(0,o.default)();var h=i.default.get(r);return y(s.default,{text:h.name},void 0,(function(e){var t=e.onMouseEnter,o=e.onMouseLeave;return y("div",{className:(0,a.default)(c.default.wrapper,p)},void 0,y(l.default,{},void 0,y("button",{onMouseEnter:t,onMouseLeave:o,className:(0,a.default)(c.default.inner,v),type:"button",disabled:n,style:{backgroundImage:"url('"+(_===f.ThemeTypes.DARK?h.icon.darkSVG:h.icon.lightSVG)+"')"},onClick:null!=m?m:function(){return function(e){var t=i.default.get(e);(0,u.default)(t.type,"Friends List");d.default.track(f.AnalyticEvents.ACCOUNT_LINK_STEP,{previous_step:"desktop connections",current_step:"desktop oauth",platform_type:t.type})}(r)},"aria-label":h.name})))}))};m.displayName="ConnectAccountButton";var _=m;t.default=_},61689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(770348);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s,d,f=Math.pow(3,2);!function(e){e[e.DISABLED=0]="DISABLED";e[e.DEFAULT=1]="DEFAULT";e[e.OFFSET=2]="OFFSET"}(s||(s={}));!function(e){e.TOP="TOP";e.BOTTOM="BOTTOM";e.RIGHT="RIGHT";e.LEFT="LEFT"}(d||(d={}));function c(e,t,n,r,a){var o=e.top,i=e.bottom,u=e.left,l=e.right;if(null==o&&null==i){o=0;i=n-a
}else null==o&&null!=i?o=n-(i+a):null!=o&&(i=n-(o+a));if(null==u&&null==l){u=0;l=t-r}else null==u&&null!=l?u=t-(l+r):null==l&&null!=u&&(l=t-(u+r));if(null==o||null==i||null==u||null==l)throw new Error("Logically this can never happen based on our if/else statements");return{top:o,left:u,bottom:i,right:l}}function p(e){return[null==e.bottom?d.TOP:d.BOTTOM,null==e.right?d.LEFT:d.RIGHT]}function v(e){var t=e,n=t.top,r=t.left,a=t.bottom,o=t.right;0===n||n<=a?a=null:n=null;0===r||r<=o?o=null:r=null;return{top:n,left:r,bottom:a,right:o}}function y(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;if(r<0){t+=r;r=0}if(t<0){r+=t;t=0}if(a<0){n+=a;a=0}if(n<0){a+=n;n=0}return{top:t,left:n,bottom:r,right:a}}function m(e){return null!=e?e+"px":"auto"}var _=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).draggableRef=r.createRef();n._dragStart={x:0,y:0};n.handleMouseDown=function(e){
var t=n.position,r=t.top,o=t.left,i=t.bottom,u=t.right,l=n.props,s=l.dragAnywhere,d=l.selector,f=l.maxX,p=l.maxY,v=e.target,y=n.draggableRef.current;if(null!=y&&e.button===a.MouseButtons.PRIMARY&&(s||null!=v&&null!=d&&""!==d&&null!=v.closest(d))){var m=function(e){var t=e.top;return{x:e.left,y:t}}(c({top:r,left:o,bottom:i,right:u},f,p,y.clientWidth,y.clientHeight)),_=m.x,h=m.y;n._dragStart={x:e.clientX,y:e.clientY};n._offsetX=e.clientX-_;n._offsetY=e.clientY-h;window.addEventListener("mousemove",n.handleMouseMove);window.addEventListener("mouseup",n.handleMouseUp)}};n.handleMouseMove=function(e){e.preventDefault();var t=e.clientX,r=e.clientY,a=n.draggableRef.current,o=n.props,i=o.maxX,u=o.maxY,l=o.flipVertical,d=o.flipHorizontal,m=o.onDragStart,_=o.onDrag,h=o.onFlip,g=o.snapOrientation,E=n.state,S=E.dragging,O=E.dragging,b=E.verticalOrientation,I=E.horizontalOrientation,T=!1;if(!(null==a||!S&&(A=n._dragStart,C={x:t,y:r},M=A.x,N=A.y,P=C.x,R=C.y,Math.pow(M-P,2)+Math.pow(N-R,2))<f)){
var A,C,M,N,P,R;S=!0;var w=a.clientWidth,D=a.clientHeight,L=y(c({top:r-n._offsetY,left:t-n._offsetX},i,u,w,D));if(g){var k=p(L=v(L));b=k[0];I=k[1]}else L={top:L.top,left:L.left};if(d===s.OFFSET&&I!==n.state.horizontalOrientation){n._offsetX=w-n._offsetX;T=!0}if(l===s.OFFSET&&b!==n.state.verticalOrientation){n._offsetY=D-n._offsetY;T=!0}n.setDOMPositions(L);O||null==m||m(L,a);null==_||_(L,a);T&&(null==h||h([b,I]));n.setState({dragging:S,verticalOrientation:b,horizontalOrientation:I,atTopEdge:0===L.top})}};n.handleMouseUp=function(){window.removeEventListener("mousemove",n.handleMouseMove);window.removeEventListener("mouseup",n.handleMouseUp);n.state.dragging&&n.setState({dragging:!1},(function(){var e=n.props.onDragEnd,t=n.draggableRef.current;null!=t&&null!=e&&e(n.position,t)}))};n._checkBoundsRAF=null;n.checkBounds=function(){null!=n._checkBoundsRAF&&cancelAnimationFrame(n._checkBoundsRAF);n._checkBoundsRAF=requestAnimationFrame(n._performCheckBounds)}
;n._performCheckBounds=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),t=e.position,r=e.state,a=e.draggableRef.current,o=e.props,i=o.maxX,u=o.maxY,l=o.onRelocated,s=o.snapOrientation,d=n.state,f=d.verticalOrientation,m=d.horizontalOrientation;if(null!=a){var _,h=a.clientHeight,g=c(t,i,u,a.clientWidth,h);g=y(g);if(s){var E=p(_=v(g));f=E[0];m=E[1]}else _={top:g.top,left:g.left,right:null,bottom:null};if(t.left!==_.left||t.right!==_.right||t.top!==_.top||t.bottom!==_.bottom){null==l||l(_,a);n.setDOMPositions(_);var S=0===_.top;f===r.verticalOrientation&&m===r.horizontalOrientation&&S===r.atTopEdge||n.setState({verticalOrientation:f,horizontalOrientation:m,atTopEdge:S})}}};var o=i(p(t.initialPosition),2),u=o[0],l=o[1];n.position=function(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;null==n&&null==a&&(n=0);null!=n&&null!=a&&(a=null);null==t&&null==r&&(t=0);null!=t&&null!=r&&(r=null);return{top:t,
left:n,bottom:r,right:a}}(t.initialPosition);n.state={dragging:!1,verticalOrientation:u,horizontalOrientation:l,atTopEdge:0===n.position.top};return n}var n=t.prototype;n.componentDidMount=function(){this.checkBounds();this.setDOMPositions(this.position)};n.componentDidUpdate=function(e,t){var n=this.state,r=n.verticalOrientation,a=n.horizontalOrientation,o=n.atTopEdge,i=this.props,u=i.maxX,l=i.maxY,s=i.onRelocated,d=i.snapOrientation;(e.maxX!==u||e.maxY!==l||e.onRelocated!==s||e.snapOrientation!==d||t.verticalOrientation!==r||t.horizontalOrientation!==a||t.atTopEdge!==o)&&this.checkBounds()};n.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove);window.removeEventListener("mouseup",this.handleMouseUp)};n.setDOMPositions=function(e){var t=e.top,n=e.left,r=e.bottom,a=e.right,o=this.draggableRef.current;this.position={top:t,left:n,bottom:r,right:a};if(null!=o){o.style.top=m(t);o.style.bottom=m(r);o.style.left=m(n);o.style.right=m(a)}}
;n.render=function(){var e=this.props,t=e.children,n=e.className,a=this.state,o=a.dragging,i=a.verticalOrientation,u=a.horizontalOrientation,l=a.atTopEdge,s=this.position,f=s.top,c=s.left,p=s.right,v={pointerEvents:o?"none":"auto",position:"absolute",top:f,left:c,bottom:s.bottom,right:p};return r.createElement("div",{ref:this.draggableRef,className:n,onMouseDown:this.handleMouseDown,style:v},r.cloneElement(r.Children.only(t),{flipped:u===d.RIGHT,verticalFlipped:i===d.BOTTOM,checkBounds:this.checkBounds,atTopEdge:l}))};return t}(r.PureComponent);t.default=_;_.displayName="Draggable";_.FlipTypes=s;_.defaultProps={snapOrientation:!1,maxX:0,maxY:0,flipVertical:s.DISABLED,flipHorizontal:s.DISABLED,dragAnywhere:!1}},781771:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.features;return a.createElement(a.Fragment,null,t.map((function(e,t){var n;return f(i.default,{align:i.default.Align.CENTER,className:(0,
o.default)(l.default.marginTop20,u.default.feature,(n={},n[u.default.featureBorder]=0!==t,n))},t,null!=e.icon?f("div",{className:(0,o.default)(u.default.icon,e.icon)}):null,f("div",{},void 0,null!=e.title?f("div",{className:(0,o.default)(l.default.marginBottom8,u.default.title)},void 0,e.title):null,f("div",{className:u.default.description},void 0,e.description)))})))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(294184)),i=s(n(530250)),u=s(n(756108)),l=s(n(380203));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},498811:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(178598),i=(r=n(387316))&&r.__esModule?r:{default:r},u=n(864489);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleFileDownload=function(e){e.preventDefault();var n=t.getFileContents(),r=t.props,a=r.fileName,o=r.onDownload;u.isPlatformEmbedded?t.downloadNative(n,a):t.downloadHtml5(n,a);null==o||o()};return t}var n=t.prototype;n.getFileContents=function(){var e=this.props.fileContents;"function"==typeof e&&(e=e());return e};n.downloadNative=function(e,t){
i.default.fileManager.saveWithDialog(e,t)};n.downloadHtml5=function(e,t){var n=new Blob([e],{type:this.props.contentType});(0,o.saveAs)(n,t)};n.render=function(){var e=this.props.children,t=a.Children.only(e);return a.cloneElement(t,{onClick:this.handleFileDownload})};return t}(a.Component);t.default=d;d.displayName="FileDownloader"},372936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=p(n(667294)),o=f(n(427537)),i=f(n(191224)),u=p(n(445308)),l=n(864489),s=f(n(922629)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=l.isPlatformEmbedded&&null!=s.default.getDiscordUtils().inputCaptureRegisterElement,S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this)._mounted=!1;n.recordStart=function(){if(l.isPlatformEmbedded&&!E){n.gs=new i.default;n.gs.on("change",n.handleGSChange)}n.setState({mode:u.RecordModes.RECORDING})};n.recordEnd=function(){n.cleanUp();n.setState({mode:u.RecordModes.DEFAULT})};n.toggleRecordMode=function(){n.state.mode===u.RecordModes.DEFAULT?n.recordStart():n.recordEnd()};n.handleComboKeys=function(e,t,r){r.preventDefault();if("keydown"===r.type){
var a=t.map((function(e){return[d.KeyboardDeviceTypes.KEYBOARD_KEY,(0,o.default)(e),d.KeyboardEnvs.BROWSER]})),i=r.keyCode;null==a.find((function(e){var t=m(e,2)[1];return i===t}))&&a.push([d.KeyboardDeviceTypes.KEYBOARD_KEY,i,d.KeyboardEnvs.BROWSER]);n.handleComboChange(a)}};n.handleGSChange=function(e){if(!1!==n._mounted){var t=y(e.combo);n.handleComboChange(t)}};n.handleNativeChange=function(e){e.length>0&&n.handleComboChange(e);n.recordEnd()};var r=t.defaultValue;n.state={codes:r,mode:u.RecordModes.DEFAULT};return n}var n=t.prototype;n.componentDidMount=function(){this._mounted=!0};n.componentWillUnmount=function(){this._mounted=!1;this.cleanUp()};n.componentDidUpdate=function(e){this.props.defaultValue!==e.defaultValue&&this.setState({codes:this.props.defaultValue})};n.cleanUp=function(){if(l.isPlatformEmbedded&&null!=this.gs){this.gs.destroy();this.gs=null}};n.handleComboChange=function(e){var t=this.state.mode,n=this.props.onChange;if(t===u.RecordModes.RECORDING){null!=n&&n(e)
;this.setState({codes:e})}};n.render=function(){var e,t,n=this.state,r=n.codes,a=n.mode,o=this.props.disabled;if(E){t=s.default.getDiscordUtils().inputCaptureRegisterElement;e=this.handleNativeChange}else l.isPlatformEmbedded||(e=this.handleComboKeys);return v(u.default,{disabled:o,value:r,mode:a,onClick:this.toggleRecordMode,onChange:e,registerNativeRecorder:t,disableOnClickWhileRecording:E})};return t}(a.PureComponent);S.displayName="KeybindRecorder";var O=S;t.default=O},756511:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(294184)),i=s(n(974661)),u=n(770348),l=s(n(211906));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){
var e=this.props,t=e.className,n=e.videoID,r=e.videoClassName;return f(i.default,{aspectRatio:16/9,className:(0,o.default)(t,l.default.videoWrapper)},void 0,f("iframe",{className:(0,o.default)(r,l.default.video),src:"https://www.youtube.com/embed/"+n+"?rel=0&showinfo=0&controls=1&origin=https://"+u.PRIMARY_DOMAIN,allowFullScreen:!0,sandbox:"allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"}))};return t}(a.Component);t.default=p;p.displayName="PromoVideo"},358696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(667294)),o=l(n(16941)),i=l(n(160629)),u=d(n(519390));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){
p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderPopout=function(e){var n=e.closePopout,r=t.props,a=r.options,o=r.value,i=r.renderOption,l=r.popoutClassName,s=r.scroller;return c(u.QuickSelectPopout,{scroller:Boolean(s),className:l,options:a,value:o,renderOption:i,onChange:function(e){t.handleChange(e);n()}})};t.handleChange=function(e){var n=t.props.onChange;null==n||n(e)};return t}t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,l=e.className,s=e.popoutProps,d=c(u.default,{label:t,value:n,renderValue:r});return a.createElement(i.default,f({},s,{renderPopout:this.renderPopout}),(function(e,t){var n=t.isShown;return a.createElement(o.default,f({},e,{className:l,
"aria-haspopup":"listbox","aria-expanded":n}),d)}))};return t}(a.PureComponent);v.displayName="QuickSelectWrapper";var y=v;t.default=y},742234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=u(n(441143)),o=u(n(496486)),i=["children"];function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).ref=r.createRef();n._animate=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n).animProps;if(!n.state.shaking||e.progress>e.duration||null==n.ref.current)n._animationComplete();else{var t=Date.now();e.progress+=t-e.last;e.last=t;if(e.frameCount%2!=0){var r=e.lastDirection*e.intensity,i=o.default.random(-e.intensity,e.intensity,!0),u=Math.max(0,Math.cbrt(e.duration-e.progress/1e3));e.intensity*=Math.min(1,u);e.lastDirection*=-1;(0,a.default)(null!=n.ref.current,"Shakeable style set when not mounted")
;n.ref.current.style.transform="translate3d("+r+"px,"+i+"px,0px)"}e.frameCount+=1;n._animationFrame=requestAnimationFrame(n._animate)}};n._animationCleanup=function(){null!=n.ref.current&&(n.ref.current.style.transform="");cancelAnimationFrame(n._animationFrame)};n.state={shaking:!1};return n}var n=t.prototype;n.getDefaultAnimProps=function(e,t){return{duration:null!=e?e:300,progress:0,last:Date.now(),intensity:null!=t?t:5,lastDirection:-1,frameCount:0}};n.componentWillUnmount=function(){this._animationCleanup()};n.shake=function(e,t){this.animProps=this.getDefaultAnimProps(e,t);this.state.shaking||this.setState({shaking:!0},this._animate)};n.stop=function(){this.state.shaking&&this.setState({shaking:!1})};n._animationComplete=function(){this.setState({shaking:!1},this._animationCleanup)};n.render=function(){var e=this.props,t=e.children,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,i)
;return r.createElement("div",s({},n,{ref:this.ref}),t)};return t}(r.Component);f.displayName="Shakeable";var c=f;t.default=c},887140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=S(n(667294)),o=g(n(294184)),i=n(536211),u=g(n(636602)),l=S(n(785460)),s=g(n(122913)),d=g(n(191013)),f=g(n(37679)),c=g(n(665759)),p=n(194322),v=n(310170),y=S(n(409873)),m=n(770348),_=g(n(247001)),h=g(n(517628));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var T=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).searchBarRef=null
;t.state={focused:!1};t.setRef=function(e){t.searchBarRef=e};t.handleKeyDown=function(e){var n,r=t.props,a=r.activeRowKey,o=r.hasModalOpen,i=r.applicationViewItems,u=b(t).searchBarRef;if(!(o||e.ctrlKey||e.altKey||e.metaKey||null==u)){var l=null===(n=(0,v.eventOwnerDocument)(e))||void 0===n?void 0:n.activeElement;if(l===u.inputRef.current||!(0,v.isInputLikeElement)(l))switch(e.which){case m.KeyboardKeys.ESCAPE:e.target!==u.inputRef.current?t.reset():null!=u.inputRef.current&&u.blur();break;case m.KeyboardKeys.ENTER:if(null!=a){e.preventDefault();var s=i.find((function(e){return e.key===a}));if(null==s)return;var d=s.libraryApplication;y.performDefaultLibraryApplicationAction(d,{analyticsParams:{source:m.AnalyticsLocations.APPLICATION_LIBRARY,location:{page:m.AnalyticsPages.LIBRARY,section:m.AnalyticsSections.LIBRARY_APPLICATION_LIST,object:m.AnalyticsObjects.BUTTON_CTA}}})}break;case m.KeyboardKeys.ARROW_DOWN:case m.KeyboardKeys.ARROW_UP:e.preventDefault();e.stopPropagation()
;t.updateActiveRow(e.which===m.KeyboardKeys.ARROW_DOWN?1:-1);break;default:null!=u.inputRef.current&&e.target!==u.inputRef.current&&u.focus()}}};return t}var n=t.prototype;n.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown)};n.componentWillUnmount=function(){u.default.wait((function(){return l.updateActiveRowKey(null)}));document.removeEventListener("keydown",this.handleKeyDown)};n.reset=function(){l.updateActiveRowKey(null);l.updateLibraryFilter("")};n.focusInput=function(){var e=this.searchBarRef;null!=e&&e.focus()};n.updateActiveRow=function(e){var t=this.props,n=t.applicationViewItems,r=t.activeRowKey,a=n.findIndex((function(e){return e.key===r})),o=0;a>=0&&(o=(a+e)%n.length)<0&&(o=n.length-1);var i=n[o];l.updateActiveRowKey(null!=i?i.key:null,!0)};n.render=function(){var e,t=this,n=this.props.filterQuery,r=this.state.focused;return O("div",{className:(0,o.default)((e={},e[h.default.libraryFilter]=!0,e[h.default.focused]=r,e))
},void 0,a.createElement(c.default,{className:h.default.searchBar,ref:this.setRef,onChange:l.updateLibraryFilter,onFocus:function(){return t.setState({focused:!0})},onBlur:function(){return t.setState({focused:!1})},name:"filter",onClear:function(){t.reset();t.focusInput()},maxLength:100,query:n,placeholder:_.default.Messages.APPLICATION_LIBRARY_FILTER_PLACEHOLDER}))};return t}(a.Component);T.displayName="ApplicationLibraryFilter";function A(){var e=(0,i.useStateFromStores)([s.default],(function(){return s.default.hasLayers()})),t=(0,p.useModalsStore)(p.hasAnyModalOpenSelector);return O(T,{activeRowKey:(0,i.useStateFromStores)([f.default],(function(){return f.default.activeRowKey})),hasModalOpen:t||e,filterQuery:(0,i.useStateFromStores)([d.default],(function(){return d.default.applicationFilterQuery})),applicationViewItems:(0,i.useStateFromStores)([d.default],(function(){return d.default.sortedFilteredLibraryApplicationViewItems}))})}A.displayName="ApplicationLibraryFilterConnected"},
870380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(463024)),i=n(139982),u=v(n(186465)),l=v(n(262134)),s=n(308920),d=n(539331),f=n(770348),c=v(n(247001)),p=v(n(541302));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}var h=(0,d.isSupportedPlatform)()||!1,g=m(o.default.Icon,{icon:l.default,"aria-hidden":!0}),E=m(o.default.Divider,{});function S(e){var t=e.currentRoute,n=e.renderToolbar,r=a.useContext(s.AnalyticsContext);var l=h||t===f.Routes.APPLICATION_LIBRARY_SETTINGS;return m(o.default,{className:p.default.libraryHeader,toolbar:null==n?void 0:n()},void 0,g,m(o.default.Title,{},void 0,c.default.Messages.LIBRARY),E,m(u.default,{type:u.default.Types.TOP_PILL,
selectedItem:t,onItemSelect:function(e){e!==t&&(0,i.transitionTo)(e,{state:{analyticsSource:_({},r.location,{section:f.AnalyticsSections.TABS,object:f.AnalyticsObjects.NAVIGATION_LINK})}})}},void 0,m(u.default.Item,{id:f.Routes.APPLICATION_LIBRARY},void 0,c.default.Messages.APPLICATION_LIBRARY_MY_GAMES),l?m(u.default.Item,{id:f.Routes.APPLICATION_LIBRARY_SETTINGS},void 0,c.default.Messages.SETTINGS):null))}S.displayName="ApplicationLibraryHeader";var O=a.memo(S);t.default=O},115370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(370405),i=n(473727),u=v(n(284382)),l=v(n(400225)),s=n(887299),d=v(n(539903)),f=v(n(364527)),c=n(770348),p=v(n(854686));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=m(f.default,{}),h=m(d.default,{});function g(){return m(i.Switch,{},void 0,m(l.default,{path:c.Routes.APPLICATION_LIBRARY_SETTINGS,exact:!0},void 0,m(u.default,{page:c.AnalyticsPages.LIBRARY_SETTINGS,root:!0
},void 0,_)),m(l.default,{path:c.Routes.APPLICATION_LIBRARY},void 0,m(u.default,{page:c.AnalyticsPages.LIBRARY,root:!0},void 0,h)))}g.displayName="ApplicationLibrarySwitch";var E=m(o.Helmet,{title:"Discord"}),S=m(g,{});function O(){a.useEffect((function(){(0,s.trackAppUIViewed)("application_library")}),[]);return m("div",{className:p.default.container},void 0,E,S)}O.displayName="ApplicationLibraryPage";var b=a.memo(O);t.default=b},949294:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),i=m(n(536211)),u=n(91817),l=m(n(223367)),s=m(n(730977)),d=m(n(955310)),f=m(n(989983)),c=m(n(635114)),p=m(n(809898)),v=n(770348),y=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){
E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var S=new Set([v.CloudSyncStateTypes.PUSHING,v.CloudSyncStateTypes.PULLING]),O=Object.freeze(((r={})[v.CloudSyncStateTypes.DONE]=d.default,r[v.CloudSyncStateTypes.PLANNING]=d.default,r[v.CloudSyncStateTypes.PREPARING]=d.default,r[v.CloudSyncStateTypes.PUSHING]=p.default,r[v.CloudSyncStateTypes.PULLING]=c.default,r[v.CloudSyncStateTypes.CONFLICT]=d.default,r[v.CloudSyncStateTypes.ERROR]=d.default,r)),b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._doneTimer=new u.Timeout;return t}var n=t.prototype;n.componentDidMount=function(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()};n.componentDidUpdate=function(e){
null!=this.props.cloudSyncState&&(this.props.cloudSyncState.type!==v.CloudSyncStateTypes.DONE||null==this.props.cloudSyncState.timestamp||null!=e.cloudSyncState&&null!=e.cloudSyncState.timestamp||this.setRecentlySyncedTimeout())};n.componentWillUnmount=function(){this._doneTimer.stop()};n.setRecentlySyncedTimeout=function(){var e=this;this._doneTimer.start(2e3,(function(){return e.forceUpdate()}))};n.getIsRecentlySynced=function(){var e=this.props.cloudSyncState;if(null!=e&&e.type===v.CloudSyncStateTypes.DONE){var t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1};n.getStop=function(e,t){if(t)return 1;if(e.type===v.CloudSyncStateTypes.PUSHING||e.type===v.CloudSyncStateTypes.PULLING){return e.progress/e.total}return 0};n.getTooltip=function(e,t){switch(e.type){case v.CloudSyncStateTypes.DONE:return t?y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_DONE:y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case v.CloudSyncStateTypes.CONFLICT:case v.CloudSyncStateTypes.ERROR:
return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case v.CloudSyncStateTypes.PLANNING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PLANNING;case v.CloudSyncStateTypes.PREPARING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PREPARING;case v.CloudSyncStateTypes.PUSHING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PUSHING;case v.CloudSyncStateTypes.PULLING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PULLING;default:return null}};n.render=function(){var e=this.props,t=e.cloudSyncState,n=e.libraryApplication,r=e.className,a=null==t?{type:v.CloudSyncStateTypes.DONE}:t,i=this.getIsRecentlySynced(),u={};(S.has(a.type)||i)&&(u.gradientConfig={id:n.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(a,i)});var l=i?f.default:O[a.type];return h(s.default,{text:this.getTooltip(a,i)},void 0,(function(e){return o.createElement(l,g({className:r},u,e))}))};return t}(o.PureComponent);b.displayName="CloudSyncIcon"
;var I=i.default.connectStores([l.default],(function(e){var t=e.libraryApplication;return{cloudSyncState:l.default.getState(t.id,t.branchId)}}))(b);t.default=I},328715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=A(n(536211)),i=n(668471),u=A(n(979285)),l=A(n(956117)),s=A(n(558402)),d=A(n(789446)),f=A(n(895108)),c=A(n(530250)),p=n(772575),v=A(n(618993)),y=n(645758),m=A(n(279950)),_=n(688388),h=A(n(502197)),g=n(194322),E=n(771855),S=n(864489),O=A(n(922629)),b=A(n(247001)),I=A(n(591523)),T=A(n(380203));function A(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var w=function(e){P(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={label:void 0,isDefault:null};t.handleStartEditing=function(){var e=t.props,n=e.path,r=e.label,a=e.isDefault;(0,e.onToggleEditing)(n);t.setState({label:r,isDefault:a})};t.handleStopEditing=function(){(0,t.props.onToggleEditing)(null);t.setState({label:void 0,isDefault:null})};t.handleRemoveLocation=function(){(0,g.openModal)((function(e){return a.createElement(h.default,M({},e,{header:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,
confirmText:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,cancelText:b.default.Messages.CANCEL,onConfirm:function(){t.handleStopEditing();(0,i.removeInstallLocation)(t.props.path)}}),N(y.Text,{variant:"text-md/normal"},void 0,b.default.Messages.USER_SETTINGS_GAMES_REMOVE_LOCATION_BODY))}))};t.handleSaveChanges=function(){(0,i.updateInstallLocation)(t.props.path,{label:null!=t.state.label?t.state.label:t.props.label,isDefault:null!=t.state.isDefault?t.state.isDefault:t.props.isDefault});t.handleStopEditing()};t.handleLabelChange=function(e){t.setState({label:e})};t.handleToggleDefault=function(){t.setState({isDefault:!t.state.isDefault})};return t}var n=t.prototype;n.renderDiskUsageCircle=function(){var e=this.props.metadata;return null!=e&&null!=e.availableKB&&null!=e.totalKB?N(f.default,{total:e.totalKB,used:e.totalKB-e.availableKB}):null};n.renderViewing=function(){var e,t,n=this.props,r=n.path,a=n.label,o=n.editingPath,i=n.isDefault,s=n.metadata;if(null!=s){
e=null!=s.availableKB?(0,E.formatSize)(s.availableKB,{useKibibytes:!0}):null;t=null!=s.totalKB?(0,E.formatSize)(s.totalKB,{useKibibytes:!0}):null}return N(c.default,{className:I.default.installationPath,align:c.default.Align.CENTER},void 0,this.renderDiskUsageCircle(),N(c.default,{direction:c.default.Direction.VERTICAL,className:I.default.descriptionWrapper},void 0,N(c.default,{align:c.default.Align.CENTER},void 0,N(p.Heading,{className:I.default.rowTitle,variant:"heading-md/medium",level:3},void 0,null!=a?a:u.default.getLabelFromPath(r)),i?N("span",{className:I.default.defaultIndicator},void 0,b.default.Messages.DEFAULT):null),null!=s&&null!=e&&null!=t?N(v.default,{className:I.default.rowBody,hoverText:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_SPACE.format({available:e,total:t})},void 0,r):N(y.Text,{className:I.default.rowBody,variant:"text-xs/normal"},void 0,r)),N(l.default,{size:l.default.Sizes.SMALL,disabled:null!=o,color:l.default.Colors.PRIMARY,
onClick:this.handleStartEditing},void 0,b.default.Messages.EDIT))};n.renderEditing=function(){var e=this.props,t=e.path,n=e.hasGamesInstalledInPath,r=this.state,a=r.label,o=r.isDefault;return N(s.default,{editable:!0,className:I.default.installationPathEditing},void 0,N(c.default,{},void 0,this.renderDiskUsageCircle(),N(c.default.Child,{},void 0,N(_.FormItem,{title:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_NAME},void 0,N(m.default,{value:a,placeholder:u.default.getLabelFromPath(t),onChange:this.handleLabelChange})),N(_.FormItem,{title:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION,className:T.default.marginTop20},void 0,N(m.default,{disabled:!0,value:t})),N(d.default,{type:d.default.Types.INVERTED,value:null!=o?o:this.props.isDefault,disabled:this.props.isDefault,className:I.default.defaultLocationCheckbox,onChange:this.handleToggleDefault},void 0,b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_MAKE_DEFAULT),N(_.FormDivider,{className:I.default.separator
}),N(c.default,{},void 0,N(l.default,{disabled:n||this.props.isDefault,size:l.default.Sizes.SMALL,color:l.default.Colors.RED,look:l.default.Looks.OUTLINED,onClick:this.handleRemoveLocation},void 0,b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE),N(c.default,{justify:c.default.Justify.END},void 0,N(l.default,{size:l.default.Sizes.SMALL,color:l.default.Colors.PRIMARY,look:l.default.Looks.LINK,onClick:this.handleStopEditing},void 0,b.default.Messages.CANCEL),N(l.default,{disabled:t===this.props.path&&a===this.props.label&&o===this.props.isDefault,size:l.default.Sizes.SMALL,color:l.default.Colors.GREEN,onClick:this.handleSaveChanges},void 0,b.default.Messages.SAVE))))))};n.render=function(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()};return t}(a.PureComponent);w.displayName="PathItem";var D=function(e){P(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(r))||this).state={editingPath:null};t.handleAddInstallationLocation=function(){O.default.showOpenDialog(["openDirectory"]).then((function(e){null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,i.addInstallLocation)(e[0])}))};t.handleToggleEditing=function(e){t.setState({editingPath:e})};return t}var n=t.prototype;n.componentDidMount=function(){(0,i.fetchMetadata)(this.props.installationPaths.map((function(e){return e.path})))};n.render=function(){var e=this,t=this.props,n=t.installationPaths,r=t.installationPathsMetadata,a=t.defaultInstallationPath,o=this.state.editingPath;return N(_.FormSection,{className:I.default.wrapper,title:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATIONS},void 0,n.map((function(t){var n=t.path,i=t.label;return N(w,{path:n,label:i,metadata:r[n],isDefault:a===n,editingPath:o,hasGamesInstalledInPath:u.default.hasGamesInstalledInPath(n),onToggleEditing:e.handleToggleEditing},n)})),N("div",{
className:I.default.buttonRowWrapper},void 0,N(l.default,{disabled:!S.isPlatformEmbedded,onClick:this.handleAddInstallationLocation,size:l.default.Sizes.SMALL},void 0,b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_ADD)))};return t}(a.PureComponent);D.displayName="GameInstallLocations";var L=o.default.connectStores([u.default],(function(){return{installationPaths:u.default.installationPaths,installationPathsMetadata:u.default.installationPathsMetadata,defaultInstallationPath:u.default.defaultInstallationPath}}))(D);t.default=L},539903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=S(n(667294)),o=g(n(294184)),i=g(n(636602)),u=S(n(588136)),l=n(881100),s=n(297279),d=g(n(284382)),f=n(235742),c=n(656710),p=g(n(887140)),v=g(n(870380)),y=g(n(845905)),m=g(n(351345)),_=n(770348),h=g(n(993846));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return b(e,t)}var I=O(p.default,{}),T=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._scrollerRef=a.createRef();t._scrollToPadding=0;t.state={includeUpdatesInScroller:!1};t.handleHeightTallerThanHalfViewportChange=function(e){t.setState({includeUpdatesInScroller:e})};t.scrollToRow=function(e,n){var r=t._scrollerRef.current;if(null!=r){e.focus();r.scrollIntoViewRect({start:n,end:n});t._scrollToOnMount=null}else{t._scrollToOnMount=e;t._scrollToPadding=n}};return t}var n=t.prototype;n.componentDidMount=function(){u.setHomeLink(_.Routes.APPLICATION_LIBRARY);(0,c.deepLinkRouteIfLanded)(_.RPCDeepLinks.LIBRARY);i.default.wait((function(){return(0,l.fetchBranches)()}));(0,s.fetchActivityStatistics)()
;null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)};n.renderToolbar=function(){return I};n.render=function(){var e=this.state.includeUpdatesInScroller,t=O("div",{},void 0,O(d.default,{section:_.AnalyticsSections.LIBRARY_INSTALL_MODULE},void 0,O(m.default,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})));return O(a.Fragment,{},void 0,O(v.default,{currentRoute:_.Routes.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar}),e?null:t,a.createElement(f.AdvancedScrollerAuto,{className:(0,o.default)(h.default.container,h.default.scroller),ref:this._scrollerRef},e?t:null,O(d.default,{section:_.AnalyticsSections.LIBRARY_APPLICATION_LIST},void 0,O(y.default,{stickyHeader:!e,scrollToRow:this.scrollToRow}))))};return t}(a.PureComponent);t.default=T;T.displayName="GameLibrary"},364527:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w
;var r,a=T(n(667294)),o=n(536211),i=T(n(252247)),u=n(894826),l=b(n(191013)),s=b(n(16941)),d=b(n(530250)),f=b(n(567668)),c=n(688388),p=b(n(259530)),v=n(582945),y=b(n(308920)),m=T(n(685677)),_=n(539331),h=b(n(870380)),g=b(n(328715)),E=n(770348),S=b(n(247001)),O=b(n(218522));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e){var t=e.applicationViewItems,n=e.restoreApplication;if(0===t.length)return null;var r=t.map((function(e){var t=e.libraryApplication.getDistributor();return M("div",{className:O.default.hiddenLibraryApplication},e.key,M(d.default,{direction:d.default.Direction.VERTICAL,className:O.default.hiddenLibraryApplicationContent},void 0,M("div",{
className:O.default.applicationName},void 0,e.libraryApplication.getBranchedName(e.application)),null!=t?M("div",{className:O.default.applicationSubText},void 0,E.DistributorNames[t]):null),M(s.default,{className:O.default.restoreButton,onClick:function(){return n(e.libraryApplication)}},void 0,M(p.default,{className:O.default.restoreIcon})))}));return M(c.FormSection,{className:O.default.hiddenLibraryApplications},void 0,M(c.FormTitle,{className:O.default.hiddenLibraryApplicationsTitle},void 0,S.default.Messages.SETTINGS_GAMES_HIDDEN_LIBRARY_APPLICATIONS_LABEL),r)}N.displayName="HiddenLibraryApplications";var P=M(g.default,{}),R=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleRestoreHiddenLibraryApplication=function(e){var n=m.toggleFlag(e.getFlags(),E.LibraryApplicationFlags.HIDDEN)
;i.updateFlags(e.id,e.branchId,n);t.trackRestoreApplication(e,m.hasFlag(n,E.LibraryApplicationFlags.HIDDEN))};return t}var n=t.prototype;n.handleToggleShortcutDesktop=function(e){u.InstallShortcutDesktop.updateSetting(e)};n.handleToggleShortcutStartMenu=function(e){u.InstallShortcutStartMenu.updateSetting(e)};n.trackRestoreApplication=function(e,t){y.default.track(E.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,A({hidden_enabled:t},e.getAnalyticsData()))};n.renderBody=function(){var e=this.props,t=e.hiddenLibraryApplicationViewItems,n=e.installShortcutDesktop,r=e.installShortcutStartMenu;return M("div",{className:O.default.body},void 0,(0,_.isSupportedPlatform)()?M(a.Fragment,{},void 0,M(f.default,{value:n,onChange:this.handleToggleShortcutDesktop,note:S.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP_NOTE},void 0,S.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP),M(f.default,{value:r,onChange:this.handleToggleShortcutStartMenu,
note:S.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU_NOTE},void 0,S.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU),P):null,M(N,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:t}))};n.render=function(){return a.createElement(a.Fragment,null,M(h.default,{currentRoute:E.Routes.APPLICATION_LIBRARY_SETTINGS}),M(v.ScrollerAuto,{className:O.default.scroller},void 0,this.renderBody()))};return t}(a.PureComponent);R.displayName="GameLibrarySettings";function w(){var e={installShortcutDesktop:u.InstallShortcutDesktop.useSetting(),installShortcutStartMenu:u.InstallShortcutStartMenu.useSetting(),hiddenLibraryApplicationViewItems:(0,o.useStateFromStores)([l.default],(function(){return l.default.hiddenLibraryApplicationViewItems}))};return a.createElement(R,e)}w.displayName="ConnectedGameLibrarySettings"},845905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=X
;var r,a,o=j(n(667294)),i=L(n(294184)),u=n(473727),l=n(536211),s=n(91817),d=L(n(636602)),f=n(378158),c=j(n(785460)),p=L(n(25952)),v=L(n(758269)),y=L(n(191013)),m=L(n(37679)),_=L(n(956117)),h=L(n(530250)),g=L(n(562475)),E=L(n(73393)),S=L(n(425991)),O=L(n(730977)),b=L(n(420303)),I=L(n(41024)),T=L(n(330998)),A=j(n(308920)),C=n(811076),M=n(8916),N=L(n(949294)),P=n(770348),R=L(n(247001)),w=L(n(312935)),D=["item","activeRowKey","highlightedApplicationKey","onMouseEnter","onMouseLeave","onContextMenu","setRef"];function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function F(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,u,"next",e)}function u(e){F(o,r,a,i,u,"throw",e)}i(void 0)}))}}function B(e,t){B=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return B(e,t)}function H(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function V(){V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return V.apply(this,arguments)}var W=(0,M.cssValueToNumber)(w.default.rowMinHeight),Y=(0,M.cssValueToNumber)(w.default.linkedToGlowDuration),K=Object.freeze(((r={})[P.GameTableListKeys.PLATFORM]="Platform",r[P.GameTableListKeys.LAST_PLAYED]="Last Played",r[P.GameTableListKeys.NAME]="Name",r));var z=function(e){var t=e.flag,n=e.icon,r=e.item,a=e.tooltip,u=r.libraryApplication.hasFlag(t);return H(O.default,{text:a},void 0,(function(e){var t;return o.createElement(n,V({className:(0,i.default)(w.default.settingIcon,(t={},t[w.default.hidden]=!u,t))},e))}))};z.displayName="FlagIcon";var $=[{key:P.GameTableListKeys.NAME,renderHeader:function(){return R.default.Messages.GAME_LIBRARY_LIST_HEADER_NAME},sort:!0,cellClassName:w.default.nameCell,bodyCellClassName:w.default.nameBodyCell,render:function(e){return H(h.default,{align:h.default.Align.CENTER},void 0,H(g.default,{game:e.application,size:g.default.Sizes.SMALL,className:w.default.gameIcon}),H("div",{
className:w.default.nameCellInfo},void 0,H("div",{className:w.default.nameCellText},void 0,e.libraryApplication.getBranchedName(e.application)),e.libraryApplication.hasFlag(P.LibraryApplicationFlags.PREMIUM)?H(O.default,{text:R.default.Messages.PREMIUM_GAME},void 0,(function(e){return o.createElement(I.default,V({className:w.default.nitroIcon},e))})):null))}},{key:P.GameTableListKeys.PLATFORM,renderHeader:function(){return R.default.Messages.GAME_LIBRARY_LIST_HEADER_PLATFORM},sort:!0,cellClassName:w.default.platformCell,bodyCellClassName:w.default.textCell,render:function(e){var t=e.libraryApplication.getDistributor();return H(h.default,{align:h.default.Align.CENTER},void 0,null!=t?P.DistributorNames[t]:R.default.Messages.GAME_LIBRARY_NOT_APPLICABLE)}},{key:P.GameTableListKeys.LAST_PLAYED,renderHeader:function(){return R.default.Messages.GAME_LIBRARY_LIST_HEADER_LAST_PLAYED},sort:!0,cellClassName:w.default.lastPlayedCell,bodyCellClassName:w.default.textCell,render:function(e){var t,n
;n=e.isRunning?R.default.Messages.GAME_LIBRARY_LAST_PLAYED_PLAYING_NOW:e.isNew?R.default.Messages.GAME_LIBRARY_NEW:0!==e.lastPlayed?H(E.default,{end:e.lastPlayed,location:E.default.Locations.GAME_LIBRARY_LAST_PLAYED}):R.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE;return H(h.default,{align:h.default.Align.CENTER,className:(0,i.default)((t={},t[w.default.lastPlayedCellNew]=e.isNew,t))},void 0,n)}},{key:P.GameTableListKeys.ACTIONS,renderHeader:function(){return null},cellClassName:w.default.actionsCell,render:function(e,t,n){var r;if(null==t)throw new Error("No cell props defined.");var a,u,l=e.key===t.activeRowKey;return H(o.Fragment,{},void 0,H("div",{className:w.default.settingIcons},void 0,H(z,{flag:P.LibraryApplicationFlags.PRIVATE,item:e,icon:b.default,tooltip:R.default.Messages.GAME_LIBRARY_PRIVATE_TOOLTIP}),H(z,{flag:P.LibraryApplicationFlags.OVERLAY_DISABLED,item:e,icon:T.default,tooltip:R.default.Messages.GAME_LIBRARY_OVERLAY_DISABLED_TOOLTIP}),H(N.default,{className:(0,
i.default)(w.default.settingIcon,(r={},r[w.default.hidden]=!e.supportsCloudSync,r)),libraryApplication:e.libraryApplication})),(0,C.isUserEntitledToLibraryApplication)(e.libraryApplication)?H(v.default,{analyticsListSort:(a=t.sortKey,u=t.sortDirection,K[a]+" "+(u===P.TableSortDirections.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:P.AnalyticsLocations.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,color:l?_.default.Colors.GREEN:_.default.Colors.PRIMARY,isPlayShiny:l&&e.defaultAction===P.LibraryApplicationActions.PLAY,size:w.default.actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:function(){return null!=t&&t.setActiveRowKey(e)},onDropdownClose:function(){return null!=t&&t.clearActiveRowKey()}}):H(p.default,{skuId:e.libraryApplication.sku.id,applicationId:e.application.id,color:l?_.default.Colors.GREEN:_.default.Colors.PRIMARY,customDisabledColor:_.default.Colors.PRIMARY,size:w.default.actionButtonSize}))}}],q=function(e){
var t,n=e.item,r=e.activeRowKey,a=e.highlightedApplicationKey,u=e.onMouseEnter,l=e.onMouseLeave,s=e.onContextMenu,d=e.setRef,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,D),c=n.key===r,p=n.key===a;return o.createElement("div",{className:(0,i.default)((t={},t[w.default.rowWrapperActive]=c&&!p,t[w.default.rowWrapperGlow]=p,t[w.default.rowWrapper]=!c&&!p,t[w.default.rowWrapperDim]=!c&&!n.isLaunchable,t)),ref:function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}((function(e){return d(e,n.key)})),onMouseEnter:function(){return u(n)},onMouseLeave:l,onContextMenu:function(e){return s(e,n)}},o.createElement("div",f))};q.displayName="Row";var Q=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;B(e,t)}(t,e);function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i]
;(t=e.call.apply(e,[this].concat(a))||this)._didUnmount=!1;t._rowRefs={};t.state={overflowMenuRowKey:null,highlightedApplicationKey:null!=t.props.location.state?t.props.location.state.applicationId:null};t.setActiveRowKey=function(e){t.setState({overflowMenuRowKey:e.key})};t.clearActiveRowKey=function(){t._didUnmount||t.setState({overflowMenuRowKey:null})};t.handleRowMouseEnter=function(e){t.props.isNavigatingByKeyboard||c.updateActiveRowKey(e.key)};t.handleRowMouseLeave=function(){t.props.isNavigatingByKeyboard||c.updateActiveRowKey(null)};t.setRowRef=function(e,n){t._rowRefs[n]=e};t.handleApplicationContextMenu=function(e,r){t.setActiveRowKey(r);var a=t.props.analyticsContext;(0,f.openContextMenuLazy)(e,x(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(66196).then(n.bind(n,266196));case 2:t=e.sent;i=t.default;return e.abrupt("return",(function(e){return o.createElement(i,V({},e,{
applicationId:r.libraryApplication.id,branchId:r.libraryApplication.branchId,analyticsContext:a}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:t.clearActiveRowKey})};return t}var r=t.prototype;r.componentDidMount=function(){if(this.props.fetched){this.handleHighlightedApplicationKey();this.trackViewed()}};r.componentWillUnmount=function(){this._didUnmount=!0};r.componentDidUpdate=function(e){if(!e.fetched&&this.props.fetched){this.handleHighlightedApplicationKey();this.trackViewed()}var t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){var n=this._rowRefs[t];if(null!=n){d.default.wait(f.closeContextMenu);this.props.scrollToRow(n,W)}}};r.handleHighlightedApplicationKey=function(){var e=this,t=this.state.highlightedApplicationKey;if(null!=t&&null!=this._rowRefs[t]){this.props.scrollToRow(this._rowRefs[t],W);(new s.Timeout).start(Y,(function(){e._didUnmount||e.setState({highlightedApplicationKey:null})}))}};r.trackViewed=function(){
for(var e,t={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0},n=this.props,r=n.analyticsContext,a=U(n.applicationViewItems);!(e=a()).done;){switch(e.value.libraryApplication.getDistributor()){case P.Distributors.DISCORD:t.num_applications_discord++;break;case P.Distributors.STEAM:t.num_applications_steam++;break;case P.Distributors.BATTLENET:t.num_applications_battlenet++;break;case P.Distributors.TWITCH:t.num_applications_twitch++;break;case P.Distributors.UPLAY:t.num_applications_uplay++;break;case P.Distributors.ORIGIN:t.num_applications_origin++;break;case P.Distributors.GOG:t.num_applications_gog++;break;case P.Distributors.EPIC:t.num_applications_epic++}t.num_applications_total++}A.default.track(P.AnalyticEvents.LIBRARY_VIEWED,V({},t,{load_id:r.loadId}))};r.handleSort=function(e,t){c.sortList(e,t)}
;r.renderImportHelp=function(){var e,t=this.props,n=t.applicationViewItems,r=t.filterQuery,a=n.length>0;if(a)return null;e=""!==r?R.default.Messages.APPLICATION_LIBRARY_EMPTY_SEARCH_DESCRIPTION.format({query:r}):R.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_NO_IMPORT;return H("div",{className:a?w.default.emptyStateSmall:w.default.emptyStateLarge},void 0,H("div",{className:w.default.emptyWumpus}),H(h.default,{grow:0,shrink:a?1:0,direction:h.default.Direction.VERTICAL},void 0,H("div",{className:w.default.emptyStateText},void 0,H("h5",{className:w.default.emptyStateHeader},void 0,R.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER),H("div",{className:w.default.emptyStateDescription},void 0,e))))};r.render=function(){var e=this.props,t=e.sortKey,n=e.sortDirection,r=e.applicationViewItems,a=e.activeRowKey,i=e.stickyHeader,u=this.state,l=u.overflowMenuRowKey,s=u.highlightedApplicationKey;return H(o.Fragment,{},void 0,r.length>0?H(S.default,{columns:$,data:r,
sortData:!1,rowComponent:q,className:w.default.table,headerClassName:i?w.default.stickyHeader:w.default.header,headerCellClassName:w.default.headerCell,sortedHeaderCellClassName:w.default.headerCellSorted,bodyCellClassName:w.default.bodyCell,rowClassName:w.default.row,sortKey:t,sortDirection:n,stickyHeader:i,rowProps:{activeRowKey:null!=l?l:a,highlightedApplicationKey:s,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:null!=l?l:a,onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:t,sortDirection:n},onSort:this.handleSort}):null,this.renderImportHelp())};return t}(o.PureComponent);Q.displayName="GameList";Q.defaultProps={stickyHeader:!1};function X(e){var t=o.useContext(A.AnalyticsContext),n=(0,u.useLocation)(),r=(0,l.useStateFromStoresObject)([y.default],(function(){return{
applicationViewItems:y.default.sortedFilteredLibraryApplicationViewItems,filterQuery:y.default.applicationFilterQuery,fetched:y.default.hasFetchedApplications}})),a=r.applicationViewItems,i=r.filterQuery,s=r.fetched,d=(0,l.useStateFromStoresObject)([m.default],(function(){return{sortKey:m.default.sortKey,sortDirection:m.default.sortDirection,activeRowKey:m.default.activeRowKey,isNavigatingByKeyboard:m.default.isNavigatingByKeyboard}})),f=d.sortKey,c=d.sortDirection,p=d.activeRowKey,v=d.isNavigatingByKeyboard;return o.createElement(Q,V({},e,{analyticsContext:t,location:n,applicationViewItems:a,filterQuery:i,fetched:s,sortKey:f,sortDirection:c,activeRowKey:p,isNavigatingByKeyboard:v}))}X.displayName="ConnectedGameList"},46059:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(530250)),u=f(n(409236)),l=f(n(872705)),s=f(n(247001)),d=f(n(997050));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function y(e){return e>1e3?s.default.Messages.FILE_RATE_MB.format({size:Math.round(e/1e3)}):s.default.Messages.FILE_RATE_KB.format({size:Math.round(e)})}var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderBody=function(e,n,r){var a=t.props,l=a.title,s=a.className,f=a.color,c=a.animate,v=a.gradientStopColor;return p("div",{className:(0,o.default)(d.default.monitor,s)},void 0,p(i.default,{align:i.default.Align.CENTER},void 0,p(i.default,{className:d.default.text,direction:i.default.Direction.VERTICAL},void 0,p("div",{className:d.default.title},void 0,l),p("div",{className:d.default.rate},void 0,y(e[e.length-1]/n*1e3))),p("div",{className:d.default.overflowContainer},void 0,p(u.default,{data:e,
maxValue:Math.max(Math.max.apply(null,e),1e3),className:d.default.sparkChart,updateInterval:n,color:f,gradientStopColor:v,numUpdatesToShow:r,animate:c,pixelWidth:600,pixelHeight:48,lineWidth:4}))))};return t}t.prototype.render=function(){return p(l.default,{getHistoricalTotalBytes:this.props.getHistoricalTotalBytes},void 0,this.renderBody)};return t}(a.PureComponent);m.displayName="GameUpdateActivityMonitor";var _=m;t.default=_},351345:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i,u,l=Y(n(667294)),s=V(n(294184)),d=V(n(496486)),f=V(n(536211)),c=V(n(636602)),p=Y(n(378158)),v=Y(n(27555)),y=V(n(758269)),m=V(n(257175)),_=V(n(864345)),h=V(n(288356)),g=V(n(191839)),E=V(n(871778)),S=V(n(432310)),O=V(n(693399)),b=V(n(949898)),I=V(n(956117)),T=V(n(530250)),A=V(n(562475)),C=n(73393),M=V(n(791931)),N=V(n(961664)),P=V(n(425991)),R=V(n(730977)),w=V(n(495526)),D=V(n(259530)),L=V(n(339759)),k=V(n(118138)),j=n(771855),U=Y(n(811076)),G=V(n(872705)),F=V(n(46059)),x=n(770348),B=V(n(247001)),H=V(n(118343));function V(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}function Y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function K(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function q(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Q(e,t)}function Q(e,t){Q=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Q(e,t)}function X(){X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return X.apply(this,arguments)}function Z(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Z(o,r,a,i,u,"next",e)}function u(e){Z(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ee(e,t,n,r){u||(u="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3
;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var i=new Array(o),l=0;l<o;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:u,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var te=function(e){var t=e.className,n=e.children,r=e.onContextMenu,a=e.item;return ee("div",{className:t,onContextMenu:function(e){return r(e,a)}},void 0,n)};te.displayName="Row";var ne=[x.Colors.LINK,"var(--interactive-normal)"],re=function(e){var t=e.tooltip,n=e.onClick,r=e.icon;return ee(R.default,{text:t},void 0,(function(e){var a=e.onMouseEnter,o=e.onMouseLeave;return ee(I.default,{"aria-label":t,className:H.default.actionButton,innerClassName:H.default.actionButtonContents,color:I.default.Colors.PRIMARY,size:I.default.Sizes.ICON,onClick:n,onMouseEnter:a,onMouseLeave:o},void 0,ee(r,{className:H.default.actionIcon}))}))};re.displayName="ActionButton";function ae(e,t){switch(t){
case x.DispatchApplicationStages.POST_INSTALL_SCRIPTS:case x.DispatchApplicationStages.PLANNING:case x.DispatchApplicationStages.FINALIZING:case x.DispatchApplicationStages.ALLOCATING_DISK:return""+e;default:return(0,j.formatSize)(e,{useKibibytes:!0})}}var oe=((i={})[x.LocalDispatchApplicationStates.INSTALLING]=((r={})[C.TimeUnits.NONE]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},r[C.TimeUnits.SECONDS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},r[C.TimeUnits.MINUTES]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},r[C.TimeUnits.HOURS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},r),
i[x.LocalDispatchApplicationStates.UPDATING]=((a={})[C.TimeUnits.NONE]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_UPDATING.format({percent:e,progress:t,total:n})},a[C.TimeUnits.SECONDS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},a[C.TimeUnits.MINUTES]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},a[C.TimeUnits.HOURS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},a),i[x.LocalDispatchApplicationStates.REPAIRING]=((o={})[C.TimeUnits.NONE]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},o[C.TimeUnits.SECONDS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({
percent:e,progress:t,total:n,timeRemaining:r})},o[C.TimeUnits.MINUTES]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},o[C.TimeUnits.HOURS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},o),i);function ie(e,t,n,r,a){var o=null!=e?e/60:null,i=oe[t],u=null!=i?Object.keys(i):[],l=(0,C.getTimeAndUnit)(o,u),s=l.unit,d=l.time;if(null!=i&&null!=s){var f=i[s];return null!=f?f(n,r,a,d):null}return null}function ue(e){var t=e.type,n=e.stage,r=e.percent,a=e.progress,o=e.total,i=e.secondsRemaining,u=ae(o,n),l=ae(a,n);switch(n){case x.DispatchApplicationStages.QUEUED:return 0===a?B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER_NO_TRANSITION:B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER.format({percent:r,progress:l,total:u});case x.DispatchApplicationStages.PLANNING:
return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PLANNING.format({percent:r});case x.DispatchApplicationStages.ALLOCATING_DISK:return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_ALLOCATING_DISK.format({percent:r});case x.DispatchApplicationStages.PATCHING:return ie(i,t,r,l,u);case x.DispatchApplicationStages.FINALIZING:return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINALIZING.format({percent:r});case x.DispatchApplicationStages.PAUSING:return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:r,progress:l,total:u});case x.DispatchApplicationStages.VERIFYING:return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_VERIFYING.format({percent:r,progress:l,total:u});case x.DispatchApplicationStages.POST_INSTALL_SCRIPTS:return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_POST_INSTALL_SCRIPTS.format({percent:r,progress:l,total:u});case x.DispatchApplicationStages.REPAIRING:
return t===x.LocalDispatchApplicationStates.REPAIRING?ie(i,t,r,l,u):B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_REPAIRING.format({percent:r,progress:l,total:u})}throw new Error("Invalid Dispatch stage")}var le="name",se="progress",de="actions",fe=function(e){q(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderProgressPatchingBody=function(e,n){var r=t.props.item.state;if(null==r)return null;var a=r.stage,o=r.progress,i=r.total,u=r.type,l=r.readerProgress;if(null==o||null==i||null==a)return null;var s=U.calculateProgressPercentage(o,i),d=U.calculateProgressPercentage(null!=l?l:0,i),f=e[e.length-1]/n*1e3,c=i-o,p=0!==f?Math.max(1,c/f):null,v=ue({type:u,stage:a,percent:Math.floor(s),progress:o,total:i,secondsRemaining:p});return t.renderStackedProgress({percents:[s,d],message:v})};return t}var n=t.prototype;n.renderBody=function(e){
var t=e.percent,n=e.foregroundColor,r=e.foregroundGradientColor,a=e.message;return ee(T.default,{direction:T.default.Direction.VERTICAL},void 0,ee(M.default,{percent:t,size:M.default.Sizes.SMALL,foregroundColor:n,foregroundGradientColor:r,animate:this.isFocused}),ee("div",{className:H.default.progressCellText},void 0,null!=a?a:""))};n.renderStackedProgress=function(e){var t=e.percents,n=e.message;return ee(T.default,{direction:T.default.Direction.VERTICAL},void 0,ee(N.default,{percents:t,size:M.default.Sizes.SMALL,foregroundColors:ne,animate:this.isFocused}),ee("div",{className:H.default.progressCellText},void 0,null!=n?n:""))};n.renderFinished=function(){var e=this.props.item;return this.renderBody({message:B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINISHED.format({remove:function(){return v.removeFinished(e.applicationId,e.branchId)}}),foregroundColor:e.theme===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,percent:100})};n.renderQueued=function(){
var e,t,n=this.props.item,r=n.state,a=n.theme;if(null!=r){var o=r.progress,i=r.total,u=r.stage;if(null!=o&&null!=i){var l=ae(i,u),s=ae(o,u);t=U.calculateProgressPercentage(o,i);var d=Math.floor(t);e=u===x.DispatchApplicationStages.PAUSING?B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:d,progress:s,total:l}):B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED.format({percent:d,progress:s,total:l})}}if(null==t||null==e){t=0;e=B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED_NO_TRANSITION}return this.renderBody({percent:t,foregroundColor:a===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,message:e})};n.renderPaused=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var r=t.progress,a=t.total;if(null==r||null==a)return null
;var o=U.calculateProgressPercentage(r,a),i=Math.floor(o),u=0===r&&1===a?B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED_NO_TRANSITION:B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED.format({percent:i,progress:(0,j.formatSize)(r),total:(0,j.formatSize)(a)});return this.renderBody({message:u,foregroundColor:n===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,percent:o})};n.renderProgressPatching=function(){return ee(G.default,{getHistoricalTotalBytes:S.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressPatchingBody)};n.renderProgressDefault=function(){var e=this.props.item.state;if(null==e)return null;var t=e.total,n=e.progress,r=e.stage,a=e.type;if(null==t||null==n||null==r)return null;var o=U.calculateProgressPercentage(n,t),i=Math.floor(o);return this.renderBody({percent:o,message:ue({type:a,stage:r,percent:i,progress:n,total:t}),foregroundColor:x.Colors.LINK})};n.renderProgress=function(){
var e=this.props.item.state;switch(null!=e?e.stage:null){case x.DispatchApplicationStages.PATCHING:case x.DispatchApplicationStages.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}};n.render=function(){var e=this.props,t=e.item,n=e.cellProps;return t.finished?this.renderFinished():t.index>0?this.renderQueued():null==t.state||t.state.type!==x.LocalDispatchApplicationStates.UPDATING&&t.state.type!==x.LocalDispatchApplicationStates.REPAIRING&&t.state.type!==x.LocalDispatchApplicationStates.INSTALLING?null:null!=n&&n.paused?this.renderPaused():this.renderProgress()};!function(e,t,n){t&&$(e.prototype,t);n&&$(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isFocused",get:function(){var e=this.props.cellProps;return null!=e&&e.isFocused}}]);return t}(l.PureComponent);fe.displayName="ProgressCell";var ce=function(){return ee(re,{icon:k.default,tooltip:B.default.Messages.GAME_LIBRARY_UPDATES_ACTION_RESUME,onClick:function(){
return v.resume()}})};ce.displayName="ResumeButton";var pe=function(){return ee(re,{icon:L.default,tooltip:B.default.Messages.GAME_LIBRARY_UPDATES_ACTION_PAUSE,onClick:function(){return v.pause()}})};pe.displayName="PauseButton";var ve=function(e){var t=e.item;return ee(re,{icon:w.default,tooltip:B.default.Messages.GAME_LIBRARY_UPDATES_ACTION_MOVE_UP,onClick:function(){return v.moveUp(t.applicationId,t.branchId)}})};ve.displayName="MoveUpButton";var ye=function(e){var t=e.item;return ee(re,{icon:D.default,tooltip:B.default.Messages.GAME_LIBRARY_UPDATES_ACTION_REMOVE,onClick:function(){return v.cancel(t.applicationId,t.branchId)}})};ye.displayName="CancelButton";var me=ee(ce,{}),_e=[{key:le,cellClassName:H.default.nameCell,render:function(e){return ee(T.default,{align:T.default.Align.CENTER},void 0,ee(A.default,{game:e.application,className:H.default.gameIcon,size:A.default.Sizes.SMALL}),ee("div",{className:H.default.nameCellText},void 0,e.application.name))}},{key:se,
cellClassName:H.default.progressCell,headerCellClassName:H.default.progressCellHeader,bodyCellClassName:H.default.progressCellBody,render:function(e,t){return ee(fe,{item:e,cellProps:t})}},{key:de,cellClassName:H.default.actionsCell,render:function(e,t){var n,r;if(e.finished)n=null!=e.libraryApplication?ee(y.default,{libraryApplication:e.libraryApplication,size:I.default.Sizes.SMALL,className:H.default.gameActionButton,source:x.AnalyticsLocations.APPLICATION_LIBRARY_UPDATES}):null;else if(null!=e.state){if(e.state.type!==x.LocalDispatchApplicationStates.UP_TO_DATE){n=e.index>0?ee(ve,{item:e}):null!=t&&t.paused?me:ee(pe,{item:e});r=ee(ye,{item:e})}}else r=ee(ye,{item:e});return ee(T.default,{justify:T.default.Justify.END},void 0,n,r)}}],he=function(e){q(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).isUnmounted=!1;t.isTallerThanHalfViewport=!1;t.throttledUpdateHeight=d.default.throttle((function(){
if(!t.isUnmounted){var e=t.props,n=e.height,r=e.onHeightTallerThanHalfViewportChange,a=n>window.innerHeight/2;if(t.isTallerThanHalfViewport!==a){t.isTallerThanHalfViewport=a;r(a)}}}),1e3);return t}var r=t.prototype;r.componentDidMount=function(){window.addEventListener("resize",this.throttledUpdateHeight)};r.componentDidUpdate=function(e){this.props.height!==e.height&&this.throttledUpdateHeight()};r.componentWillUnmount=function(){this.props.applications.forEach((function(e){e.finished&&c.default.wait((function(){v.removeFinished(e.applicationId,e.branchId)}))}));window.removeEventListener("resize",this.throttledUpdateHeight);this.isUnmounted=!0};r.render=function(){var e=this.props,t=e.applications,r=e.paused,a=e.isFocused,o=e.theme,i=e.analyticsContext;return 0===t.length?null:ee("div",{className:H.default.gameUpdates},void 0,ee("div",{className:H.default.headerRow},void 0,ee(F.default,{className:(0,s.default)(H.default.headerCell,H.default.networkProgress),
title:B.default.Messages.GAME_LIBRARY_UPDATES_HEADER_NETWORK,getHistoricalTotalBytes:S.default.getHistoricalTotalBytesDownloaded,color:x.Colors.STATUS_GREEN_600,animate:a}),ee(F.default,{className:(0,s.default)(H.default.headerCell,H.default.diskProgress),title:B.default.Messages.GAME_LIBRARY_UPDATES_HEADER_DISK,getHistoricalTotalBytes:S.default.getHistoricalTotalBytesWritten,color:x.Colors.LINK,animate:a})),ee(P.default,{hasHeader:!1,columns:_e,data:t,className:H.default.table,rowClassName:H.default.row,rowComponent:te,cellProps:{paused:r,isFocused:a,theme:o},rowProps:{onContextMenu:function(e,t){return function(e,t,r){p.openContextMenuLazy(e,J(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(66196).then(n.bind(n,266196));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return l.createElement(o,X({},e,{applicationId:t.applicationId,branchId:t.branchId,analyticsContext:r}))
}));case 5:case"end":return e.stop()}}),e)}))))}(e,t,i)}},bodyCellClassName:H.default.cell}))};return t}(l.PureComponent);he.displayName="GameUpdates";function ge(e,t,n,r){return e.reduce((function(e,a,o){var i=a.applicationId,u=a.branchId,l=n.getGame(i),s=r.getState(i,u);null!=l&&e.push({key:i+":"+u,applicationId:i,branchId:u,state:s,application:l,libraryApplication:g.default.getLibraryApplication(i,u),finished:t,index:o});return e}),[])}var Ee=(0,_.default)(f.default.connectStores([O.default,E.default,b.default,h.default,S.default],(function(){var e=ge(O.default.activeItems,!1,h.default,S.default),t=ge(O.default.finishedItems,!0,h.default,S.default);return{applications:[].concat(K(e),K(t)),paused:O.default.paused,isFocused:b.default.isFocused(),theme:E.default.theme}}))((0,m.default)(he)));t.default=Ee},215850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.TestModeSKUButtonEnums=void 0
;var r,a=m(n(667294)),o=v(n(536211)),i=m(n(378158)),u=v(n(713257)),l=m(n(145122)),s=v(n(288356)),d=v(n(399561)),f=n(204785),c=v(n(247001)),p=["skus","children","applicationId","primarySKU","onSKUSelect"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return _.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E={DropdownSizes:u.default.DropdownSizes,Sizes:u.default.Sizes,Colors:u.default.Colors,Looks:u.default.Looks};t.TestModeSKUButtonEnums=E;var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderContextMenu=function(){
var e=t.props,n=e.skus,r=e.onSKUSelect,a=e.onMenuSelect;return h(l.default,{onSelect:a,navId:"test-skus","aria-label":c.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:i.closeContextMenu},void 0,n.map((function(e){return h(l.MenuItem,{id:""+e.id,label:e.name,action:function(){null==r||r(e)}})})))};t.handleContextMenu=function(e){e.stopPropagation();i.openContextMenu(e,t.renderContextMenu)};t.handleClick=function(){var e=t.props,n=e.onSKUSelect,r=e.primarySKU;null!=r&&(null==n||n(r))};return t}t.prototype.render=function(){var e=this.props,t=e.skus,n=e.children,r=(e.applicationId,e.primarySKU,e.onSKUSelect,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,p));return a.createElement(u.default,_({onClick:this.handleClick,onDropdownClick:t.length>0?this.handleContextMenu:null,onContextMenu:t.length>0?this.handleContextMenu:void 0},r),n)};return t}(a.PureComponent);S.displayName="TestModeSKUButton"
;var O=o.default.connectStores([d.default,s.default],(function(e){var t,n=e.applicationId,r=(0,f.getPrimarySKUForApplication)(n,s.default,d.default);return{skus:(null!==(t=d.default.getForApplication(n))&&void 0!==t?t:[]).sort((function(e,t){return null!=r&&e.id===r.id?-1:null!=r&&t.id===r.id?1:e.name>=t.name?-1:1})),primarySKU:r}}))(S);t.default=O},629195:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=le
;var r,a=X(n(667294)),o=q(n(294184)),i=q(n(496486)),u=q(n(817673)),l=n(370405),s=q(n(74854)),d=n(171236),f=X(n(536211)),c=q(n(636602)),p=n(598319),v=n(297279),y=n(306902),m=n(328092),_=n(364060),h=n(298756),g=q(n(545721)),E=q(n(734696)),S=X(n(473124)),O=n(473250),b=q(n(768535)),I=n(376153),T=q(n(39365)),A=n(139982),C=n(887299),M=q(n(8549)),N=X(n(199846)),P=q(n(30098)),R=q(n(871778)),w=q(n(728429)),D=q(n(194198)),L=q(n(956117)),k=n(772575),j=q(n(80828)),U=n(645758),G=q(n(878556)),F=n(235742),x=X(n(465537)),B=q(n(651386)),H=n(263996),V=n(770348),W=n(227445),Y=q(n(247001)),K=q(n(599884)),z=q(n(80210)),$=q(n(333993));function q(e){return e&&e.__esModule?e:{default:e}}function Q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Q=function(e){return e?n:t})(e)}function X(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Q(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function J(){J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return J.apply(this,arguments)}function ee(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ee(o,r,a,i,u,"next",e)}function u(e){ee(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ne(e,t){ne=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ne(e,t)}var re=Z(j.default,{}),ae=Z(l.Helmet,{title:"Discord"}),oe=Z(G.default,{},void 0,Z(a.Fragment,{})),ie=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ne(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._scroller=a.createRef();t._guildIdsSeen=new Set;t.loadId=(0,_.makeAnalyticsID)();t.state={animatedValue:new s.default.Value(0),loadingGuildId:null};t.scrollToTop=function(){null!=t._scroller.current&&t._scroller.current.scrollTo({to:0})};t.handleScroll=function(){
var e,n,r=t.state.animatedValue,a=null!==(e=null===(n=t._scroller.current)||void 0===n?void 0:n.getScrollerState().scrollTop)&&void 0!==e?e:0;r.setValue(Math.min(1,a/200))};t.handleViewGuild=function(){var e=te(regeneratorRuntime.mark((function e(n,r,a,o){var i,u,l,s,d,f,c,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=t.props.currentCategoryId;s=t.state.loadingGuildId;if(n!==s){e.next=4;break}return e.abrupt("return");case 4:d=null!==(i=null===(u=t._scroller.current)||void 0===u?void 0:u.getScrollerState().scrollTop)&&void 0!==i?i:0;f=(0,A.getHistory)(),c=f.location;(0,A.replaceWith)(J({},c,{state:d}));t.setState({loadingGuildId:n});p=l!==W.DISCOVERY_ALL_CATEGORIES_ID?l:null;e.prev=9;e.next=12;return x.viewGuild({loadId:null!=o?o:t.loadId,guildId:n,index:r,analyticsContext:a,categoryId:p});case 12:e.next=17;break;case 14:e.prev=14;e.t0=e.catch(9);t.setState({loadingGuildId:null});case 17:case"end":return e.stop()}}),e,null,[[9,14]])})))
;return function(t,n,r,a){return e.apply(this,arguments)}}();t.handleGuildCardSeen=function(e){t._guildIdsSeen.add(e)};t.handleTagSearch=function(e,n,r){var a=t.props,o=a.currentCategoryId,i=a.defaultLanguage;if(null!=o){(0,p.getSearchResultsCount)(e);(0,p.doAlgoliaSearch)(e,{categoryId:o,preferredLocale:i.code,offset:0,length:S.MAX_GUILDS_PER_PAGE,filters:{approximate_member_count:x.MINIMUM_MEMBER_COUNT},tag:!0});x.trackTagSearchStarted(t.loadId,o,r,n);t.scrollToTop()}};return t}var n=t.prototype;n.componentDidMount=function(){var e,t,n=this.props,r=n.isFetching,a=n.guilds,o=a.gamesYouPlay,i=a.featured,l=n.searchRoute,s=n.currentCategoryId,d=n.currentHomepageCategoryId,f=n.mostRecentQuery,m=n.usingGameRecommendations,_=n.fetchingRecommendations;(0,v.fetchActivityStatistics)();(0,h.maybeFetchGuildDiscoveryCategories)();null==N.default.getSearchIndex()&&(0,p.createAlgoliaIndex)();c.default.wait((function(){(0,y.markView)(V.ViewHistoryKeys.SERVER_DISCOVERY_BADGE)}))
;var g=s===W.DISCOVERY_ALL_CATEGORIES_ID;g&&!_&&(0,O.fetchGuildRecommendations)({personalization_disabled:!m});r||0!==f.length||g||x.trackDiscoveryViewed({loadId:this.loadId,gamesYouPlayGuilds:o.guilds,allGuilds:i.guilds,categoryId:d});if(null!=l){var E=u.default.parse(l),S=E.query,b=E.offset,I=E.limit,T=E.preferredLocale,M=E.categoryId;(0,p.doAlgoliaSearch)(S,{categoryId:parseInt(M,10),preferredLocale:T,offset:parseInt(b,10),filters:{approximate_member_count:x.MINIMUM_MEMBER_COUNT},length:parseInt(I,10)})}else null!=d&&d!==W.DISCOVERY_ALL_CATEGORIES_ID&&c.default.wait((function(){return(0,p.selectCategory)(d)}));var P=null!==(e=null===(t=(0,A.getHistory)().location.state)||void 0===t?void 0:t.scrollTop)&&void 0!==e?e:0;if(P>0){var R;null===(R=this._scroller.current)||void 0===R||R.scrollTo({to:P})}(0,C.trackAppUIViewed)("guild_discovery")};n.componentDidUpdate=function(e){
var t=this.props,n=t.guilds,r=n.gamesYouPlay,a=n.featured,o=t.isFetching,i=t.mostRecentQuery,u=t.currentHomepageCategoryId,l=t.currentCategoryId,s=t.usingGameRecommendations,d=t.fetchingRecommendations,f=t.recommendationsGuilds,c=t.recommendationsLoadId;e.currentCategoryId===l||l!==W.DISCOVERY_ALL_CATEGORIES_ID||d||(0,O.fetchGuildRecommendations)({personalization_disabled:!s});var v=l===W.DISCOVERY_ALL_CATEGORIES_ID;!e.isFetching||o||v||x.trackDiscoveryViewed({loadId:this.loadId,gamesYouPlayGuilds:r.guilds,allGuilds:a.guilds,categoryId:u});if(e.currentCategoryId!==l){var y;null===(y=this._scroller.current)||void 0===y||y.scrollTo({to:0})}if(null!=c&&null!=f){e.fetchingRecommendations&&!d&&l===W.DISCOVERY_ALL_CATEGORIES_ID&&x.trackDiscoveryViewed({loadId:c,gamesYouPlayGuilds:f,allGuilds:[],categoryId:W.DISCOVERY_ALL_CATEGORIES_ID,recommendationsSource:W.RecommendationSources.SERVER_RECOMMENDATIONS});e.currentCategoryId!==l&&(l===W.DISCOVERY_ALL_CATEGORIES_ID?x.trackDiscoveryViewed({
loadId:c,gamesYouPlayGuilds:f,allGuilds:[],categoryId:W.DISCOVERY_ALL_CATEGORIES_ID,recommendationsSource:W.RecommendationSources.SERVER_RECOMMENDATIONS}):x.trackDiscoveryExited(c,this.getOrderedGuildIdsSeen(f.map((function(e){return e.id}))),W.RecommendationSources.SERVER_RECOMMENDATIONS))}e.mostRecentQuery.length>0&&i.length<1&&u!==l&&(0,p.selectCategory)(u)};n.componentWillUnmount=function(){var e=this.props,t=e.currentCategoryId,n=e.recommendationsLoadId,r=e.recommendationsGuilds;t===W.DISCOVERY_ALL_CATEGORIES_ID?null!=r&&null!=n&&x.trackDiscoveryExited(n,this.getOrderedGuildIdsSeen(r.map((function(e){return e.id}))),"Game Recommendations"):x.trackDiscoveryExited(this.loadId,Array.from(this._guildIdsSeen))};n.getOrderedGuildIdsSeen=function(e){var t=this;return e.filter((function(e){return t._guildIdsSeen.has(e)}))};n.renderGamesYouPlay=function(){
var e=this.props,t=e.guilds,n=e.mightHaveGamesYouPlay,r=e.theme,a=e.userGuilds,o=Object.keys(a),i=t[V.GuildDiscoverySections.GAMES_YOU_PLAY];i.guilds=i.guilds.filter((function(e){return!o.includes(e.id)}));var u=this.state.loadingGuildId;return n?Z(E.default,{loadId:this.loadId,title:Y.default.Messages.GUILD_DISCOVERY_HEADER_GAMES_YOU_PLAY,guildsData:i,loadingGuildId:u,analyticsContext:x.AnalyticsContexts.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:p.fetchGamesYouPlayGuilds,theme:r}):null};n.renderSearchBar=function(){var e,t,n=this.props,r=n.mostRecentQuery,a=n.guilds.search,o=n.defaultLanguage,i=n.isFetchingSearch,u=n.currentCategoryId,l=n.categories,s=n.currentCategoryName;m.DiscoveryTagsExperiment.trackExposure({})
;var d=m.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayRecommendedSearchTags?u===W.DISCOVERY_ALL_CATEGORIES_ID?Y.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER_TAGS:Y.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER_TAGS.format({categoryName:s}):u===W.DISCOVERY_ALL_CATEGORIES_ID?Y.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:Y.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:s}),f=null!==(e=null===(t=a[r])||void 0===t?void 0:t[u])&&void 0!==e?e:N.EMPTY_DISCOVERABLE_GUILDS_SECTION;return Z(B.default,{loadId:this.loadId,searchResults:f,mostRecentQuery:r,isFetchingSearch:i,defaultLanguage:o,placeholder:d,currentCategoryId:u,categories:l})};n.renderSearchResults=function(){
var e,t,n=this,r=this.props,a=r.mostRecentQuery,o=r.guilds.search,i=r.availableLanguages,u=r.defaultLanguage,l=r.isFetchingSearch,s=r.theme,d=r.currentCategoryId,f=r.currentCategoryName,c=this.state.loadingGuildId,p=d===W.DISCOVERY_ALL_CATEGORIES_ID?Y.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:Y.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:f}),v=null!==(e=null===(t=o[a])||void 0===t?void 0:t[d])&&void 0!==e?e:N.EMPTY_DISCOVERABLE_GUILDS_SECTION;return Z(S.default,{loadId:this.loadId,availableLanguages:i,defaultLanguage:u,placeholder:p,isFetchingSearch:l,searchResults:v,mostRecentQuery:a,loadingGuildId:c,currentCategoryId:d,currentCategoryName:f,scroller:this._scroller.current,theme:s,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,onTagClick:function(e,t){return n.handleTagSearch(e,t,x.AnalyticsContexts.SEARCH)}})};n.renderRecommendedGuildsSection=function(){
var e,t,n=this,r=this.props,a=r.theme,o=r.usingGameRecommendations,i=r.recommendationsGuilds,u=r.recommendationsLoadId;if(null==u||null==i)return re;var l={guilds:i,total:i.length,offset:0,limit:i.length,loading:!1,isFirstLoad:!1},s=null!==(e=null===(t=w.default.getCurrentUser())||void 0===t?void 0:t.username)&&void 0!==e?e:Y.default.Messages.FRIENDS_COLUMN_NAME;return Z(E.default,{loadId:u,title:o?Y.default.Messages.GUILD_DISCOVERY_RECOMMENDATIONS_TITLE.format({username:s}):Y.default.Messages.GUILD_DISCOVERY_FEATURED_HEADER,guildsData:l,analyticsContext:x.AnalyticsContexts.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){},loadingGuildId:null,theme:a,onTagClick:function(e,t){return n.handleTagSearch(e,t,x.AnalyticsContexts.RECOMMENDED)},showMoreCards:!0})};n.renderPopularGuildsSection=function(){var e=this,t=this.props,n=t.guilds,r=t.theme,a=t.currentCategoryId,o=this.state.loadingGuildId;return Z(E.default,{
loadId:this.loadId,title:Y.default.Messages.GUILD_DISCOVERY_POPULAR_HEADER,guildsData:n[a],loadingGuildId:o,analyticsContext:x.AnalyticsContexts.POPULAR,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){return(0,p.fetchPopularGuildsForCategory)(a)},currentCategoryId:a,theme:r,onTagClick:function(t,n){return e.handleTagSearch(t,n,x.AnalyticsContexts.POPULAR)}})};n.render=function(){var e,t,n,r,u=this,l=this.props,s=l.currentCategoryName,f=l.mostRecentQuery,c=l.currentCategoryId,p=l.guilds,v=f.length>0;m.DiscoveryTagsExperiment.trackExposure({});var y=m.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayRecommendedSearchTags,_=c===W.DISCOVERY_ALL_CATEGORIES_ID?null===(e=p[V.GuildDiscoverySections.FEATURED])||void 0===e?void 0:e.guilds:null===(t=p[c])||void 0===t?void 0:t.guilds;return c===W.DISCORD_HUB_ID?Z(T.default,{loadId:this.loadId}):Z("div",{className:K.default.pageWrapper},void 0,ae,Z("div",{className:(0,
o.default)(K.default.dragRegion,K.default.pageHeaderDrag,(n={},n[K.default.searchPageDrag]=v,n))}),d.isMobile&&oe,a.createElement(F.AdvancedScrollerAuto,{className:K.default.scroller,ref:this._scroller,onScroll:this.handleScroll},Z("div",{className:(0,o.default)(K.default.viewWrapper,(r={},r[K.default.searchPage]=v,r))},void 0,v?this.renderSearchResults():a.createElement(a.Fragment,null,Z("div",{className:K.default.searchHeader},void 0,Z("img",{alt:"",className:K.default.headerImage,src:$.default}),Z("div",{className:K.default.headerContentWrapper},void 0,Z("div",{className:K.default.headerContent},void 0,Z(k.Heading,{variant:"heading-xl/medium",className:K.default.searchTitle,level:3},void 0,c===W.DISCOVERY_ALL_CATEGORIES_ID?Y.default.Messages.GUILD_DISCOVERY_HOME_TITLE:Y.default.Messages.GUILD_DISCOVERY_CATEGORY_TITLE.format({categoryName:s})),Z(U.Text,{variant:"text-md/normal",className:K.default.searchSubtitle
},void 0,c===W.DISCOVERY_ALL_CATEGORIES_ID&&Y.default.Messages.GUILD_DISCOVERY_HOME_SUBTITLE),this.renderSearchBar(),y&&Z(H.DiscoveryTags,{hideOverflow:!0,section:x.AnalyticsContexts.HEADER,className:K.default.headerTagContainer,discoveryTagStyle:H.DiscoveryTagStyle.LIGHT,onTagClick:function(e){return u.handleTagSearch(e,void 0,x.AnalyticsContexts.HEADER)},tags:i.default.chain(_).flatMap((function(e){return e.keywords})).compact().uniq().sampleSize(10).value()})))),Z("div",{className:K.default.featuredBody},void 0,c===W.DISCOVERY_ALL_CATEGORIES_ID?this.renderRecommendedGuildsSection():this.renderPopularGuildsSection()),Z("div",{className:K.default.footer},void 0,Z("img",{alt:"",src:z.default,className:K.default.footerImage}),Z(k.Heading,{variant:"heading-md/medium",level:3},void 0,Y.default.Messages.GUILD_DISCOVERY_CATEGORY_FOOTER_TITLE),Z(L.default,{look:L.default.Looks.LINK,color:L.default.Colors.LINK,size:L.default.Sizes.MIN,onClick:this.scrollToTop
},void 0,Y.default.Messages.GUILD_DISCOVERY_FOOTER_BODY))))))};return t}(a.PureComponent);ie.displayName="GuildDiscovery";var ue=f.default.connectStores([R.default,D.default,M.default,N.default,g.default,P.default],(function(){var e,t=W.LANGUAGE_OPTIONS,n=R.default.locale,r=null!==(e=i.default.find(t,{code:n}))&&void 0!==e?e:t[0],a=D.default.applicationStatistics,o=Object.keys(a),u=M.default.hasConsented(V.Consents.PERSONALIZATION)&&o.length>0,l=N.default.getCurrentCategoryId(),s=N.default.getCurrentHomepageCategoryId();return{isFetching:N.default.isFetching(),isFetchingSearch:N.default.isFetchingSearch(),guilds:N.default.getDiscoverableGuilds(),mostRecentQuery:N.default.getMostRecentQuery(),currentCategoryId:l,currentHomepageCategoryId:s,currentCategoryName:g.default.getCategoryName(l),categories:g.default.getDiscoveryCategories(),userGuilds:P.default.getGuilds(),theme:R.default.theme,mightHaveGamesYouPlay:u,availableLanguages:t,defaultLanguage:r}}))(ie);function le(e){var t=(0,
I.useEligibleForGameRecommendations)(),n=(0,f.useStateFromStoresObject)([b.default],(function(){return{recommendedGuilds:b.default.getRecommendedGuilds(),loadId:b.default.getLoadId(),fetching:b.default.isFetching()}})),r=n.fetching,o=n.loadId,i=n.recommendedGuilds;return a.createElement(ue,J({},e,{fetchingRecommendations:r,usingGameRecommendations:t,recommendationsGuilds:i,recommendationsLoadId:o}))}le.displayName="GuildDiscoveryComponent"},869333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;_(n(667294));var r,a=n(536211),o=n(598319),i=_(n(545721)),u=y(n(332743)),l=n(841354),s=y(n(666895)),d=y(n(152577)),f=y(n(199846)),c=y(n(582945)),p=n(227445),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}var E=function(e){
switch(e){case 1:return p.CategoryIcons.Activity;case 2:return p.CategoryIcons.Music;case 3:return p.CategoryIcons.Television;case 5:return p.CategoryIcons.Science;case 6:return p.CategoryIcons.Education;default:return p.CategoryIcons.Discover}},S=function(){var e=(0,a.useStateFromStoresObject)([f.default],(function(){return{currentCategoryId:f.default.getCurrentCategoryId(),isViewingSearchResults:f.default.getMostRecentQuery().length>0}})),t=e.currentCategoryId,n=e.isViewingSearchResults,r=(0,a.useStateFromStores)([i.default],(function(){return i.default.getDiscoveryCategories()}),[],i.areDiscoveryCategoriesEqual),p=null==r?void 0:r.map((function(e){return g({},e,{icon:E(e.categoryId)})})),y=function(e){(0,o.selectCategory)(e,!0);d.default.closeSidebar();n&&(0,o.clearSearch)()};return h(c.default,{},void 0,h(l.DiscoverySidebarHeader,{text:v.default.Messages.DISCOVER}),h(u.default,{categories:p,handleCategorySelect:y,currentCategoryId:t,shouldDisplaySelectedCategory:!n}),h(s.default,{
handleCategorySelect:y,currentCategoryId:t,shouldDisplaySelectedCategory:!n}))};S.displayName="GuildDiscoveryCategorySidebar";var O=S;t.default=O},815428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(817673)),i=n(139982),u=l(n(668281));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handlePageChange=function(e){var t=n.props.onPageChange;n.setState({currentPage:e});null!=t&&t(e)};var r=(0,i.getHistory)().location.search,a=(null!=r&&r.length>0&&r.startsWith("?")?o.default.parse(r):{}).offset,u=null!=a?Math.floor(parseInt(a,10)/t.pageSize)+1:1;n.state={currentPage:u};return n}var n=t.prototype
;n.componentDidUpdate=function(e){var t=this.props.resetCurrentPage;!e.resetCurrentPage&&t&&this.setState({currentPage:1})};n.render=function(){var e=this.props,t=e.totalCount,n=e.pageSize,r=e.maxVisiblePages,a=e.children,o=this.state.currentPage;return a({controller:d(u.default,{totalCount:t,pageSize:n,currentPage:o,maxVisiblePages:r,onPageChange:this.handlePageChange})})};return t}(a.PureComponent);c.displayName="GuildDiscoveryPaginator";var p=c;t.default=p},651386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=k;var r,a=A(n(667294)),o=I(n(294184)),i=I(n(496486)),u=n(536211),l=A(n(598319)),s=n(466492),d=n(364060),f=A(n(545721)),c=I(n(199846)),p=I(n(16941)),v=I(n(535813)),y=n(645758),m=n(967965),_=n(308920),h=n(956506),g=A(n(465537)),E=n(770348),S=n(227445),O=I(n(247001)),b=I(n(478483));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){
return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{
i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return P(e,t)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=i.default.throttle(g.trackSearchResultsViewed,1e3,{leading:!1,trailing:!0}),D=function(e){var t,n=e.isSelected,r=e.onCategoryChange,a=e.categoryId,i=e.name,u=e.count;return R(p.default,{onClick:function(){return r(a)},className:(0,o.default)(b.default.categoryPill,(t={},t[b.default.selected]=n,t))},void 0,R(y.Text,{className:b.default.categoryLabel,variant:"text-sm/normal"},void 0,null!=u?i+" ("+u+")":i))};D.displayName="Category";var L=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this)._searchRef=a.createRef();n.canSearch=function(e){return e.trim().length>=2&&!(0,s.searchQueryContainsBannedWord)(e)};n.doSearch=function(e,t,r,a){
var o,i=n.props,u=i.defaultLanguage,s=i.currentCategoryId,f=n.state,c=f.query,p=f.selectedLanguage;a&&l.getSearchResultsCount(c);n.setState({searchId:(0,d.makeAnalyticsID)(),queryHasChanged:!1,isSearching:!0});l.doAlgoliaSearch(c,{categoryId:null==r?s:r,preferredLocale:null!==(o=null==p?void 0:p.code)&&void 0!==o?o:u.code,offset:e,length:t,filters:{approximate_member_count:g.MINIMUM_MEMBER_COUNT}})};n.handleSearchBlurred=function(e){var t=n.props.onSearchBlur;n.setState({inputFocused:!1});null==t||t()};n.handleSearchKeyPress=function(e){var t=n.state,r=t.query,a=t.queryHasChanged,o=n.props,i=o.loadId,u=o.currentCategoryId,l=u!==S.DISCOVERY_ALL_CATEGORIES_ID?u:null;if(n.canSearch(r)&&a&&e.charCode===E.KeyboardKeys.ENTER){g.trackSearchStarted(i,l);n.doSearch(0,12,void 0,!0)}else 0===r.length&&e.charCode===E.KeyboardKeys.ENTER&&n.setState({isSearching:!1})};n.handleQueryChanged=function(e){n.setState({query:e,queryHasChanged:!0})};n.handleQueryCleared=function(){n.setState({query:"",
queryHasChanged:!0,isSearching:!1})};n.handleLanguageChange=function(e){var t=n.props,r=t.mostRecentQuery,a=t.availableLanguages,o=null==a?void 0:a.find((function(t){return t.name===e}));n.setState({selectedLanguage:o},(function(){n.canSearch(r)&&n.doSearch(0,12)}))};n.handleCategoryChange=function(e){var t=n.props.mostRecentQuery;l.selectCategory(e);n.canSearch(t)&&n.doSearch(0,12,e)};n.handleFocus=function(){var e=n.props.onSearchFocus;n.setState({inputFocused:!0});null==e||e()};n.focusInput=function(){var e;null===(e=n._searchRef.current)||void 0===e||e.focus()};n.state={searchId:(0,d.makeAnalyticsID)(),query:t.isSearchPage?t.mostRecentQuery:"",queryHasChanged:!1,isSearching:!1,selectedLanguage:t.defaultLanguage,inputFocused:!1,isHandlingTagSearch:t.isTagSearch||!1};return n}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.loadId,n=e.searchResults,r=e.currentCategoryId,a=this.state,o=a.searchId,i=a.query,u=a.isHandlingTagSearch,s=this.context
;null==c.default.getSearchIndex()&&l.createAlgoliaIndex();h.ComponentDispatch.subscribe(E.ComponentActions.GLOBAL_CLIPBOARD_PASTE,this.focusInput);h.ComponentDispatch.subscribe(E.ComponentActions.TEXTAREA_FOCUS,this.focusInput);if(i.length>0){var d=r!==S.DISCOVERY_ALL_CATEGORIES_ID?r:null;w({loadId:t,searchId:o,query:i,guildResults:n.guilds,analyticsContext:s,categoryId:d,isTagSearch:u})}};n.componentDidUpdate=function(e,t){var n=this.props,r=n.loadId,a=n.isFetchingSearch,o=n.searchResults,i=n.currentCategoryId,u=n.mostRecentQuery,l=this.state,s=l.isSearching,f=l.searchId,c=l.query,p=l.isHandlingTagSearch,v=this.context,y=e.isFetchingSearch&&!a,m=i!==S.DISCOVERY_ALL_CATEGORIES_ID?i:null;if((s||p)&&y){w({loadId:r,searchId:f,query:c,guildResults:o.guilds,analyticsContext:v,categoryId:m,isTagSearch:p});this.setState({isHandlingTagSearch:!1})}!t.isSearching&&s&&g.trackSearchStarted(r,m,v);e.mostRecentQuery!==u&&this.setState({query:u,searchId:(0,d.makeAnalyticsID)(),isHandlingTagSearch:!0
})};n.componentWillUnmount=function(){h.ComponentDispatch.unsubscribe(E.ComponentActions.GLOBAL_CLIPBOARD_PASTE,this.focusInput);h.ComponentDispatch.unsubscribe(E.ComponentActions.TEXTAREA_FOCUS,this.focusInput)};n.renderSearchOptions=function(){var e,t=this.props.availableLanguages,n=this.state.selectedLanguage;if(null==t)return null;var r=t.map((function(e){var t=e.name;return{label:t,value:t}}));return R(m.SingleSelect,{className:b.default.languageSelector,options:r,value:null!==(e=null==n?void 0:n.name)&&void 0!==e?e:"",onChange:this.handleLanguageChange,maxVisibleItems:6})};n.renderCategories=function(){var e=this,t=this.props,n=t.currentCategoryId,r=t.countsByCategory;return R("div",{className:b.default.categories},void 0,null==r?void 0:r.map((function(t){var r=M(t,2),a=r[0],o=r[1];return R(D,{categoryId:a,name:a===S.DISCOVERY_ALL_CATEGORIES_ID?O.default.Messages.GUILD_DISCOVERY_ALL_CATEGORY_FILTER:f.default.getCategoryName(a),onCategoryChange:e.handleCategoryChange,
isSelected:n===a,count:o},a)})))};n.render=function(){var e,t=this.state,n=t.query,r=t.inputFocused,i=this.props,u=i.placeholder,l=i.isSearchPage;return a.createElement(a.Fragment,null,R("div",{className:(0,o.default)(b.default.container,(e={},e[b.default.searchPage]=l,e))},void 0,R("div",{className:b.default.search},void 0,a.createElement(v.default,{ref:this._searchRef,searchTerm:n,className:l?void 0:b.default.searchBox,inputClassName:l?void 0:b.default.searchBoxInput,closeIconClassName:l?void 0:b.default.closeIcon,searchIconClassName:l?void 0:b.default.searchIcon,label:O.default.Messages.GUILD_DISCOVERY_SEARCH_LABEL,placeholder:u,onChange:this.handleQueryChanged,onClear:this.handleQueryCleared,onFocus:this.handleFocus,onBlur:this.handleSearchBlurred,onKeyPress:this.handleSearchKeyPress,autoFocus:!l,cta:r&&null!=n&&n.length>1?O.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})),l?this.renderSearchOptions():null),l?this.renderCategories():null)};return t}(a.PureComponent)
;L.displayName="GuildDiscoverySearchBarComponent";L.contextType=_.AnalyticsContext;function k(e){var t=(0,u.useStateFromStores)([f.default],(function(){return f.default.getDiscoveryCategories()}),[],f.areDiscoveryCategoriesEqual),n=(0,u.useStateFromStores)([c.default],(function(){return c.default.getTopCategoryCounts(e.mostRecentQuery)}));return a.createElement(L,C({},e,{categories:t,countsByCategory:n}))}k.displayName="GuildDiscoverySearchBar"},263996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryTags=t.DiscoveryTagStyle=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(673997)),u=p(n(16941)),l=p(n(265851)),s=p(n(160629)),d=p(n(308920)),f=n(770348),c=p(n(983294));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}var g=["egirl","egirls","waifu","dating","nsfw","sex","playboy","stupid","harem","playgirl","shitcoin","shitpost","porno","nudes","sexy","horny","fart","tits","balls","cum"],E=function(e){var t,n=e.text,r=e.onClick,a=e.className,i=e.hide;return h("li",{className:(0,o.default)(c.default.tag,a,(t={},t[c.default.hide]=i,t))},void 0,h(u.default,{className:c.default.tagText,onClick:function(e){e.stopPropagation();e.preventDefault();r(e)}},void 0,n))};E.displayName="DiscoveryTag";var S=function(e){var t=e.tags,n=e.onTagClick,r=e.guildId,o=e.section;a.useEffect((function(){d.default.track(f.AnalyticEvents.OPEN_POPOUT,{type:"Discovery Tags Overflow",guild_id:r,location:{page:f.AnalyticsPages.GUILD_DISCOVERY,section:o}})}),[r,o]);return h(l.default,{className:c.default.overflowTagsPopout},void 0,h("ul",{},void 0,t.map((function(e){return h(E,{onClick:function(){return n(e)},className:c.default.tagAlt,text:e},e)}))))};S.displayName="DiscoveryTagsPopout";var O=function(e){
var t=e.className,n=e.count;return h(s.default,{renderPopout:function(){return a.createElement(S,e)},position:s.default.Positions.RIGHT,align:s.default.Align.TOP,closeOnScroll:!0},void 0,(function(e){return a.createElement(E,_({className:t},e,{text:"+"+n}))}))};O.displayName="DiscoveryTagsOverflowButton";var b={DEFAULT:c.default.tagDefault,LIGHT:c.default.tagLight,ALT:c.default.tagAlt};t.DiscoveryTagStyle=b;var I=function(e){var t,n=e.tags,r=e.onTagClick,u=e.className,l=e.discoveryTagStyle,s=void 0===l?b.DEFAULT:l,d=e.hideOverflow,f=void 0!==d&&d,p=e.guildId,v=e.section,m=(0,i.default)(),_=m.ref,S=m.width,I=y(a.useState(null),2),T=I[0],A=I[1],C=n.filter((function(e){return!g.includes(e.toLowerCase())}));a.useLayoutEffect((function(){if(null!=_.current&&null!=S&&0!==S){for(var e=0,t=0,n=S-40-4,r=0;r<C.length;r++){t+=_.current.children[r].clientWidth+4;if(r===C.length-1?t>n+40:t>n)break;e++}A((function(t){return e<=C.length?e:t}))}}),[S,_,C]);return a.createElement("ul",{ref:_,
className:(0,o.default)(c.default.tagContainer,u,(t={},t[c.default.invisible]=null==T,t))},C.map((function(e,t){return h(E,{className:s,onClick:function(){return r(e)},hide:null!=T&&t>=T,text:e},e)})),!f&&null!=T&&T<C.length&&h(O,{className:s,onTagClick:r,tags:C.slice(T),count:C.length-T,guildId:p,section:v}))};t.DiscoveryTags=I;I.displayName="DiscoveryTags"},55027:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=d(n(667294)),i=n(248088),u=d(n(648831)),l=(r=n(599884))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleViewGuild=function(){var e=p(regeneratorRuntime.mark((function e(n){var r,a,o,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.props,a=r.guilds,o=r.analyticsContext,i=r.onViewGuild;u=a.findIndex((function(e){return e.id===n}));e.next=4;return i(n,u,o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.renderGuild=function(e,n){var r=t.props,a=r.theme,o=r.onTagClick;return f(u.default,{guild:e,theme:a,onView:t.handleViewGuild,onTagClick:o},n)};return t}var n=t.prototype;n.renderPlaceholders=function(){for(var e=this.props.loadingPlaceholderCount,t=[],n=0;n<e;n++)t.push(f(u.DiscoverSearchResultPlaceholder,{},n));return t};n.render=function(){
var e=this,t=this.props,n=t.guilds,r=t.loading;return f(i.Spring,{from:{opacity:r?0:1},to:{opacity:1},delay:100},void 0,(function(t){return f(i.animated.div,{className:l.default.guildList,style:t},void 0,r||null==n?e.renderPlaceholders():n.map(e.renderGuild))}))};return t}(o.PureComponent);y.displayName="GuildList";y.defaultProps={loadingPlaceholderCount:12};var m=y;t.default=m},810139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=d(n(781771)),i=d(n(756511)),u=n(772575),l=d(n(247001)),s=d(n(439324));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return c("div",{
className:s.default.features},void 0,c(i.default,{className:s.default.video,videoID:"SWzB1mx2o5k"}),c(u.Heading,{className:s.default.perksHeading,variant:"heading-deprecated-14/medium",level:3},void 0,l.default.Messages.HYPESQUAD_PERKS_HEADING),c(o.default,{features:[{icon:s.default.perkNewsletter,title:l.default.Messages.HYPESQUAD_PERK_TITLE_NEWSLETTER,description:l.default.Messages.HYPESQUAD_PERK_DESCRIPTION_NEWSLETTER},{icon:s.default.perkBadge,title:l.default.Messages.HYPESQUAD_PERK_TITLE_PROFILE_BADGE,description:l.default.Messages.HYPESQUAD_PERK_DESCRIPTION_PROFILE_BADGE},{icon:s.default.perkChallenges,title:l.default.Messages.HYPESQUAD_PERK_TITLE_SQUAD_CHALLENGES,description:l.default.Messages.HYPESQUAD_PERK_DESCRIPTION_SQUAD_CHALLENGES}]}))};return t}(a.Component);v.displayName="HypeSquadPerks";var y=v;t.default=y},508875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),l=g(n(294184)),s=g(n(956117)),d=g(n(16941)),f=g(n(530250)),c=n(772575),p=n(645758),v=n(194322),y=n(35570),m=n(770348),_=g(n(247001)),h=g(n(403080));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){
for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var T=((r={})[m.HypeSquadHouses.HOUSE_1]=h.default.membershipDialogHouse1,r[m.HypeSquadHouses.HOUSE_2]=h.default.membershipDialogHouse2,r[m.HypeSquadHouses.HOUSE_3]=h.default.membershipDialogHouse3,r),A=((a={})[m.HypeSquadHouses.HOUSE_1]=h.default.houseLogoHouse1,a[m.HypeSquadHouses.HOUSE_2]=h.default.houseLogoHouse2,a[m.HypeSquadHouses.HOUSE_3]=h.default.houseLogoHouse3,
a),C=((o={})[m.HypeSquadHouses.HOUSE_1]=n(903049),o[m.HypeSquadHouses.HOUSE_2]=n(188374),o[m.HypeSquadHouses.HOUSE_3]=n(789621),o),M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this).handleJoinHypeSquadClick=function(){(0,v.openModalLazy)(b(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(86396)]).then(n.bind(n,186396));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return u.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))};return t}t.prototype.render=function(){var e,t,n=this.props,r=n.houseMembership,a=n.isClaimed,o=n.isVerified;if(!a||!o)return null;if(null!=r){var i=_.default.Messages.HYPESQUAD_MEMBERSHIP_HEADING.format({houseName:(0,
y.getHouseNameFromHouseID)(r)});return S("div",{className:(0,l.default)(h.default.membershipDialog,T[r])},void 0,S("div",{className:h.default.membershipDialogContent},void 0,S(f.default,{},void 0,S(f.default.Child,{grow:1,shrink:1},void 0,S(p.Text,{className:h.default.membershipDialogHeading,variant:"text-xs/normal"},void 0,_.default.Messages.HYPESQUAD_YOUR_HOUSE),S(c.Heading,{className:h.default.membershipDialogHouseName,variant:"heading-deprecated-14/medium",level:3},void 0,i),S(p.Text,{className:h.default.membershipDialogHouseDescription,variant:"text-md/normal"},void 0,(e=r,((t={})[m.HypeSquadHouses.HOUSE_1]=_.default.Messages.HYPESQUAD_DESCRIPTION_HOUSE_1,t[m.HypeSquadHouses.HOUSE_2]=_.default.Messages.HYPESQUAD_DESCRIPTION_HOUSE_2,t[m.HypeSquadHouses.HOUSE_3]=_.default.Messages.HYPESQUAD_DESCRIPTION_HOUSE_3,t)[e]))),S(f.default.Child,{className:h.default.houseLogoWrapper,grow:0,shrink:0,wrap:!0},void 0,S("img",{className:(0,l.default)(h.default.houseLogo,A[r]),src:C[r],alt:i
}))),S(p.Text,{className:h.default.membershipDialogSwitchHouses,variant:"text-md/normal"},void 0,_.default.Messages.HYPESQUAD_SWITCH_HOUSES_PROMPT,S(d.default,{className:h.default.membershipDialogSwitchHousesAction,onClick:this.handleJoinHypeSquadClick,tag:"span"},void 0,_.default.Messages.HYPESQUAD_SWITCH_HOUSES_ACTION))))}return S("div",{className:h.default.joinCTAWrapper},void 0,S(f.default,{className:h.default.joinCTA,align:f.default.Align.CENTER,justify:f.default.Justify.CENTER,direction:f.default.Direction.HORIZONTAL},void 0,S(f.default.Child,{grow:0,shrink:0},void 0,S(p.Text,{variant:"text-sm/normal"},void 0,_.default.Messages.HYPESQUAD_READY_TO_REP)),S(f.default.Child,{grow:0,shrink:0},void 0,S(s.default,{onClick:this.handleJoinHypeSquadClick},void 0,_.default.Messages.HYPESQUAD_JOIN))),S(p.Text,{className:h.default.newsletterWarning,variant:"text-sm/normal"},void 0,_.default.Messages.HYPESQUAD_NEWSLETTER_WARNING))};return t}(u.Component);t.default=M
;M.displayName="JoinHypeSquadCTA"},677837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(951864)),i=d(n(956117)),u=n(645758),l=d(n(247001)),s=d(n(498863));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={isRequestPending:!1,hasError:!1};t.handleLeaveHypeSquadError=function(){t.setState({hasError:!0})};t.handleLeaveHypeSquadClick=function(){t.setState({isRequestPending:!0},(function(){o.default.leaveHypeSquadOnline().then((function(){t.setState({isRequestPending:!1})})).catch((function(){t.setState({hasError:!0,isRequestPending:!1})}))}))};return t}var n=t.prototype
;n.renderErrorMessage=function(){return this.state.hasError?c("div",{className:s.default.error},void 0,l.default.Messages.HYPESQUAD_LEAVE_ERROR):null};n.render=function(){var e=this.state.isRequestPending;return this.props.isHypeSquadOnlineMember?c("div",{className:s.default.leaveActionWrapper},void 0,this.renderErrorMessage(),c(u.Text,{variant:"text-sm/normal"},void 0,l.default.Messages.HYPESQUAD_LEAVE_PROMPT,c(i.default,{className:s.default.leaveButton,color:i.default.Colors.LINK,look:i.default.Looks.LINK,onClick:this.handleLeaveHypeSquadClick,size:i.default.Sizes.NONE,submitting:e},void 0,l.default.Messages.HYPESQUAD_LEAVE_ACTION))):null};return t}(a.PureComponent);t.default=v;v.displayName="UserSettingsHypeSquad"},605807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(667294)),o=n(536211),i=p(n(241165)),u=y(n(908463)),l=p(n(308920)),s=p(n(571028)),d=p(n(221597)),f=p(n(913093)),c=n(770348);function p(e){return e&&e.__esModule?e:{
default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).maxScrolledPercentage=0;t.mountedAt=0;t.handleScroll=function(e){var n=e.getScrollerState(),r=n.offsetHeight,a=n.scrollHeight,o=n.scrollTop/(a-r);t.maxScrolledPercentage=Math.min(Math.max(t.maxScrolledPercentage,o),1)};t.track=function(e,n,r){void 0===n&&(n={});void 0===r&&(r=!1);var a=t.props.changeLog,o=a.id,i=a.date,u=_({change_log_id:(null!=o&&""!==o?o:i)+":"+a.revision},n);r||(u=_({seconds_open:Math.round((Date.now()-t.mountedAt)/1e3),
max_scrolled_percentage:100*parseInt(t.maxScrolledPercentage.toPrecision(4),10)},u));l.default.track(e,u)};return t}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.changeLog,n=e.changeLogSource;if(null==t)return this.close();this.mountedAt=Date.now();this.maxScrolledPercentage=0;this.joinEligibleExperiment();this.track(c.AnalyticEvents.CHANGE_LOG_OPENED,_({},n),!0)};n.joinEligibleExperiment=function(){var e=this.props.changeLog;null!=e.experiment_names&&s.default.trackExposureToFirstEligibleUserExperiment(e.experiment_names)};n.close=function(){i.default.hideChangeLog()};n.componentWillUnmount=function(){this.track(c.AnalyticEvents.CHANGE_LOG_CLOSED)};n.render=function(){return this.props.changeLog.template===u.ChangeLogTemplate.SPECIAL?a.createElement(d.default,_({},this.props,{onScroll:this.handleScroll,track:this.track})):a.createElement(f.default,_({},this.props,{onScroll:this.handleScroll,track:this.track}))};return t}(a.PureComponent)
;g.displayName="ChangeLog";var E=function(){var e=(0,o.useStateFromStoresObject)([u.default],(function(){return{changeLog:u.default.changeLog,changeLogSource:u.default.changeLogSource,isOpen:u.default.isOpen()}})),t=e.changeLog,n=e.changeLogSource,r=e.isOpen;return null!=t&&r?m(g,{changeLog:t,changeLogSource:n}):null};E.displayName="ConnectedChangeLog";var S=a.memo(E);t.default=S},221597:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=M(n(667294)),o=A(n(294184)),i=A(n(730381)),u=n(91817),l=A(n(241165)),s=A(n(268389)),d=n(844867),f=A(n(908463)),c=A(n(151097)),p=M(n(956117)),v=n(374693),y=n(645758),m=n(354479),_=A(n(114655)),h=A(n(865725)),g=A(n(308920)),E=A(n(899984)),S=A(n(550270)),O=A(n(178710)),b=n(770348),I=A(n(247001)),T=A(n(866881));function A(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function M(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e,t){P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return P(e,t)}
var R=s.default.reactParserFor(E.default.getSpecialRules(T.default)),w={},D=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,m.uid)();t.state={bodyWidth:451,copied:!1};t._unsetCopiedState=new u.DelayedCall(1e3,(function(){return t.setState({copied:!1})}));t.trackLinkClick=function(e){t.props.track(b.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"inline_link",target:e},!1)};t.scrollerRef=a.createRef();t.handleResize=function(){var e,n,r=null!==(e=null===(n=t._bodyNode)||void 0===n?void 0:n.offsetWidth)&&void 0!==e?e:t.state.bodyWidth;"number"!=typeof r||Number.isNaN(r)||t.setState({bodyWidth:r})};t.setSpecialBodyRef=function(e){t._bodyNode=e;t.handleResize()};t.handleScroll=function(){var e=t.scrollerRef.current;if(null!=e){var n;null===(n=t.props)||void 0===n||n.onScroll(e)}};return t}
var r=t.prototype;r.componentDidMount=function(){window.addEventListener("resize",this.handleResize,!0)};r.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize,!0);this._unsetCopiedState.cancel()};r.close=function(){l.default.hideChangeLog()};r.track=function(e,t,n){this.props.track(e,t,n)};r.renderVideo=function(){var e=this,t=this.props.changeLog,r=this.state.bodyWidth,a=r*(9/16),i=t.youtube_video_id,u=t.video,l=t.image;if(null!=i&&""!==i)return N(v.EmbedVideo,{className:(0,o.default)(T.default.video),allowFullScreen:!1,href:"https://youtu.be/"+i,thumbnail:{url:"https://i.ytimg.com/vi/"+i+"/maxresdefault.jpg",width:r,height:a},video:{url:"https://www.youtube.com/embed/"+i+"?vq=large&rel=0&controls=0&showinfo=0",width:r,height:a},maxWidth:r,maxHeight:a,renderVideoComponent:d.renderVideoComponent,renderImageComponent:d.renderImageComponent,renderLinkComponent:d.renderMaskedLinkComponent,onPlay:function(){
e.track(b.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}});if(null!=u&&""!==u){var s=u.startsWith("https://")?u:n(478717)("./"+u);return N(h.default,{src:s,poster:l,width:r,height:a,loop:!0,muted:!0,autoPlay:!0,className:T.default.video,onPlay:function(){e.track(b.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}})}if(null!=l&&""!==l){var f=l.startsWith("https://")?l:n(478717)("./"+l);return N("img",{className:T.default.image,alt:"",src:f,width:r,height:a})}return null};r.render=function(){var e=this.props.changeLog;return N(O.default,{className:(0,o.default)(T.default.container),modalLabeledById:this.headerId,onClose:this.close,onScroll:this.handleScroll,scrollerRef:this.scrollerRef},void 0,N("div",{className:T.default.header,id:this.headerId,tabIndex:0},void 0,N("div",{className:T.default.headerContent},void 0,N(_.default,{size:_.default.Sizes.SIZE_32,className:T.default.headerText},void 0,I.default.Messages.CHANGELOG_STICKERS_HEADER),N(y.Text,{variant:"text-md/normal",
className:T.default.dateText},void 0,I.default.Messages.WHATS_NEW_DATE.format({date:null!=e.date&&""!==e.date?(0,i.default)(e.date).toDate():new Date}))),N("div",{className:T.default.headerGraphic})),a.createElement("div",{className:T.default.body,ref:this.setSpecialBodyRef},this.renderVideo(),R(e.body,!1,{changeLog:this,interpolations:w,onLinkClick:this.trackLinkClick})),N("div",{className:T.default.footer},void 0,N(y.Text,{variant:"text-lg/normal",className:T.default.inviteCTAHeader},void 0,I.default.Messages.CHANGELOG_STICKERS_CTA_TITLE),N(y.Text,{variant:"text-md/normal",className:T.default.inviteCTABody},void 0,I.default.Messages.CHANGELOG_STICKERS_CTA_BODY.format()),N(c.default,{className:(0,o.default)((0,p.getButtonStyle)({size:p.default.Sizes.SMALL,color:p.default.Colors.GREEN}),T.default.ctaAnchor),href:S.default.getArticleURL(b.HelpdeskArticles.STICKERS),onClick:function(){var e,t;g.default.track(b.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{
change_log_id:(null===(e=f.default.changeLog)||void 0===e?void 0:e.date)+":"+(null===(t=f.default.changeLog)||void 0===t?void 0:t.revision),cta_type:"stickers_cta"})}},void 0,I.default.Messages.CHANGELOG_STICKERS_CTA)))};return t}(a.PureComponent);t.default=D;D.displayName="ChangelogSpecialTemplate"},913093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=A(n(294184)),i=A(n(730381)),u=A(n(241165)),l=A(n(805764)),s=A(n(268389)),d=n(844867),f=A(n(151097)),c=n(374693),p=A(n(530250)),v=n(772575),y=n(645758),m=n(354479),_=A(n(877622)),h=A(n(170331)),g=A(n(637853)),E=A(n(865725)),S=A(n(899984)),O=A(n(138158)),b=n(770348),I=A(n(247001)),T=A(n(634427));function A(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return N(e,t)}var P=s.default.reactParserFor(S.default.getDefaultRules(T.default)),R={},w=M(g.default,{}),D=M(_.default,{}),L=M(h.default,{}),k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;N(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,m.uid)();t.handleScroll=function(e){var n;null===(n=t.props)||void 0===n||n.onScroll(e)};t.trackLinkClick=function(e){t.props.track(b.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"inline_link",target:e},!1)};t.renderHeader=function(){var e=t.props.changeLog;return M(p.default.Child,{grow:1,shrink:1},void 0,M(v.Heading,{variant:"heading-lg/medium",level:2},void 0,I.default.Messages.WHATS_NEW),M(y.Text,{variant:"text-xs/normal",className:T.default.date},void 0,I.default.Messages.WHATS_NEW_DATE.format({date:null!=e.date&&""!==e.date?(0,i.default)(e.date).toDate():new Date})))};return t}
var r=t.prototype;r.close=function(){u.default.hideChangeLog()};r.track=function(e,t,n){this.props.track(e,t,n)};r.renderFooter=function(){return M("div",{className:T.default.footer},void 0,M(f.default,{"aria-label":I.default.Messages.TWITTER,className:T.default.socialLink,href:(0,l.default)(b.LocalizedLinks.TWITTER),target:"blank"},void 0,w),M(f.default,{"aria-label":I.default.Messages.FACEBOOK,className:T.default.socialLink,href:b.SOCIAL_LINKS.FACEBOOK_URL,target:"blank"},void 0,D),M(f.default,{"aria-label":I.default.Messages.INSTAGRAM,className:T.default.socialLink,href:b.SOCIAL_LINKS.INSTAGRAM_URL,target:"blank"},void 0,L),M(y.Text,{variant:"text-xs/normal"},void 0,I.default.Messages.FOLLOW_US_FOR_MORE_UPDATES))};r.renderVideo=function(){var e=this,t=this.props.changeLog,r=451,a=254,i=t.youtube_video_id,u=t.video,l=t.image;if(null!=i&&""!==i)return M(c.EmbedVideo,{className:(0,o.default)(T.default.video),allowFullScreen:!1,href:"https://youtu.be/"+i,thumbnail:{
url:"https://i.ytimg.com/vi/"+i+"/maxresdefault.jpg",width:r,height:a},video:{url:"https://www.youtube.com/embed/"+i+"?vq=large&rel=0&controls=0&showinfo=0",width:r,height:a},maxWidth:r,maxHeight:a,renderVideoComponent:d.renderVideoComponent,renderImageComponent:d.renderImageComponent,renderLinkComponent:d.renderMaskedLinkComponent,onPlay:function(){e.track(b.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}});if(null!=u&&""!==u){var s=u.startsWith("https://")?u:n(478717)("./"+u);return M(E.default,{src:s,poster:l,width:r,height:a,loop:!0,muted:!0,autoPlay:!0,className:T.default.video,onPlay:function(){e.track(b.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}})}if(null!=l&&""!==l){var f=l.startsWith("https://")?l:n(478717)("./"+l);return M("img",{className:T.default.image,alt:"",src:f,width:r,height:a})}return null};r.render=function(){var e=this.props.changeLog;return M(O.default,{className:T.default.container,onClose:this.close,renderHeader:this.renderHeader,
renderFooter:this.renderFooter,onScroll:this.handleScroll},void 0,M("div",{tabIndex:0,role:"region","aria-label":I.default.Messages.CHANGELOG_CONTENT_LABEL},void 0,this.renderVideo(),P(e.body,!1,{changeLog:this,interpolations:R,onLinkClick:this.trackLinkClick})))};return t}(a.PureComponent);k.displayName="ChangelogStandardTemplate";var j=k;t.default=j},410671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=h(n(294184)),i=h(n(151097)),u=h(n(956117)),l=h(n(558402)),s=h(n(16941)),d=n(772575),f=n(645758),c=h(n(279950)),p=n(354479),v=h(n(510596)),y=n(3400),m=h(n(247001)),_=h(n(949095));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}var O=E("br",{}),b=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;S(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,p.uid)();t.state={code:"",errorMessage:"",retrySuccess:!1};t.setRef=function(e){t._input=e};t.getLabelText=function(){var e;return null!==(e=t.props.label)&&void 0!==e?e:t.props.disallowBackupCodes?m.default.Messages.TWO_FA_ENTER_TOKEN_NO_BACKUP_LABEL:m.default.Messages.TWO_FA_ENTER_TOKEN_LABEL};t.getSupportedCodeTypes=function(){return t.props.disallowBackupCodes?m.default.Messages.TWO_FA_AUTH_CODE_NO_BACKUP:m.default.Messages.TWO_FA_AUTH_CODE};t.getPlaceholder=function(){var e;return t.props.forceNoPlaceholder?null:null!==(e=t.props.placeholder)&&void 0!==e?e:t.getSupportedCodeTypes()};t.errorPresent=function(){return null!=t.props.error&&""!==t.props.error||null!=t.state.errorMessage&&""!==t.state.errorMessage};t.handleRetry=function(){var e=t.props.onRetry;null==e||e().then((function(){
return t.setState({retrySuccess:!0})}))};t.handleSubmit=function(e){e.preventDefault();var n=t.props,r=n.handleSubmit,a=n.onError;r(t.state.code).catch((function(e){if(null!=e.body){null==a||a(e.body);e.body.message&&t.setState({errorMessage:e.body.message})}}))};t.handleCancel=function(){var e=t.props,n=e.onClose,r=e.handleEarlyClose;n();null==r||r()};t.handleCodeChange=function(e){t.setState({code:e})};return t}t.prototype.render=function(){var e,t=this.props,n=t.title,r=t.actionText,p=t.children,h=t.error,g=t.isLoading,S=t.maxLength,b=t.transitionState,I=t.helpMessage,T=t.retryPrompt,A=t.retrySuccessMessage,C=this.state,M=C.code,N=C.errorMessage,P=C.retrySuccess,R=a.Children.count(p)>0?E(l.default,{type:l.default.Types.WARNING,className:_.default.card},void 0,E(f.Text,{variant:"text-md/normal"},void 0,p)):null,w=null!=T?E(f.Text,{className:(0,o.default)(_.default.submitText,_.default.spacing),variant:"text-sm/normal"},void 0,O,E(s.default,{className:(0,
o.default)(_.default.spacing,_.default.link),onClick:this.handleRetry},void 0,E(i.default,{},void 0,T))):null,D=P?E(l.default,{type:l.default.Types.SUCCESS,className:_.default.card},void 0,E(f.Text,{variant:"text-md/normal"},void 0,A)):null;return E(y.ModalRoot,{transitionState:b,"aria-labelledby":this.headerId},void 0,E("form",{onSubmit:this.handleSubmit},void 0,E(y.ModalHeader,{separator:!1,id:this.headerId},void 0,E(d.Heading,{variant:"heading-lg/medium",level:2},void 0,n)),E(y.ModalContent,{},void 0,null!=I?E(f.Text,{color:"text-normal",variant:"text-md/normal",className:_.default.spacing},void 0,I):null,R,D,E(v.default,{title:this.getLabelText(),className:_.default.spacing},void 0,E(c.default,{inputRef:this.setRef,onChange:this.handleCodeChange,placeholder:null!==(e=this.getPlaceholder())&&void 0!==e?e:void 0,maxLength:null!=S?S:10,value:M,autoComplete:"one-time-code",autoFocus:!0}),this.errorPresent()?E(f.Text,{color:"text-danger",variant:"text-xs/normal",
className:_.default.error},void 0,null!=h?h:N):null,w)),E(y.ModalFooter,{},void 0,E(u.default,{type:"submit",disabled:g},void 0,null!=r?r:m.default.Messages.CONFIRM),E(u.default,{onClick:this.handleCancel,disabled:g,look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY},void 0,m.default.Messages.CANCEL))))};return t}(a.PureComponent);b.displayName="MFAConfirm";b.defaultProps={btnClass:"",isLoading:!1,disallowBackupCodes:!1,error:null,forceNoPlaceholder:!1};var I=b;t.default=I},178710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(667294)),o=p(n(294184)),i=p(n(16941)),u=p(n(259530)),l=p(n(114655)),s=y(n(3400)),d=p(n(247001)),f=p(n(853930)),c=["onClose"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g=_(u.default,{width:24,height:24}),E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.selectable,n=e.className,r=e.modalLabeledById,u=e.onClose,p=e.children,v=e.onScroll,y=e.scrollerRef;return _(s.default,{onCloseRequest:u,renderModal:function(e){var h,E=e.onClose,S=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c);return a.createElement(s.ModalRoot,m({className:f.default.modal},S,{"aria-labelledby":r}),_(s.ModalContent,{className:(0,o.default)(n,f.default.content,{selectable:t}),scrollerRef:y,onScroll:v},void 0,p),_(i.default,{className:f.default.closeButton,onClick:function(){null!=u&&u();E()
}},void 0,g),_("div",{className:f.default.updateBadge},void 0,_(l.default,{size:(h=d.default.Messages.UPDATE_BADGE_HEADER,h.length>12?l.default.Sizes.SIZE_10:h.length>10?l.default.Sizes.SIZE_12:h.length>8?l.default.Sizes.SIZE_14:l.default.Sizes.SIZE_16),className:f.default.updateBadgeText},void 0,d.default.Messages.UPDATE_BADGE_HEADER)))}})};return t}(a.PureComponent);E.displayName="SpecialMarkdownModal";E.defaultProps={selectable:!1};var S=E;t.default=S},57663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=we
;var r,a=be(n(667294)),o=Se(n(294184)),i=n(536211),u=n(923387),l=Se(n(972247)),s=n(91817),d=n(378158),f=Se(n(226800)),c=Se(n(686923)),p=Se(n(284382)),v=Se(n(6887)),y=Se(n(77146)),m=n(224179),_=Se(n(915502)),h=Se(n(945926)),g=Se(n(330493)),E=Se(n(590087)),S=Se(n(56200)),O=Se(n(133464)),b=Se(n(305081)),I=n(169749),T=Se(n(204953)),A=Se(n(245275)),C=Se(n(265328)),M=Se(n(394614)),N=Se(n(907567)),P=Se(n(719637)),R=Se(n(962119)),w=Se(n(105847)),D=Se(n(423405)),L=Se(n(644263)),k=Se(n(513266)),j=Se(n(122913)),U=Se(n(635014)),G=Se(n(893160)),F=Se(n(690445)),x=Se(n(397228)),B=Se(n(663303)),H=Se(n(871778)),V=Se(n(728429)),W=Se(n(146771)),Y=Se(n(16941)),K=Se(n(530250)),z=Se(n(618993)),$=Se(n(160629)),q=Se(n(413542)),Q=n(645758),X=be(n(730977)),Z=Se(n(738133)),J=Se(n(228315)),ee=Se(n(634230)),te=Se(n(878338)),ne=Se(n(324582)),re=Se(n(347114)),ae=Se(n(855480)),oe=Se(n(287317)),ie=n(194322),ue=Se(n(139574)),le=Se(n(902060)),se=Se(n(683898)),de=be(n(628551)),fe=Se(n(308920)),ce=n(856384),pe=n(42031),ve=Se(n(922629)),ye=Se(n(1483)),me=n(770348),_e=n(198622),he=Se(n(247001)),ge=Se(n(129609)),Ee=["onClick","onMouseEnter"]
;function Se(e){return e&&e.__esModule?e:{default:e}}function Oe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Oe=function(e){return e?n:t})(e)}function be(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Oe(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Ie(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Te(){Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Te.apply(this,arguments)}function Ae(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ae(o,r,a,i,u,"next",e)}function u(e){Ae(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Ne(e,t){Ne=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ne(e,t)}var Pe=ve.default.getEnableHardwareAcceleration()?de.AnimatedAvatar:de.default;var Re=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Ne(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).copiedTimeout=new s.Timeout;t.copiedDecayTimeout=new s.Timeout;t.speakingWhileMutedTooltipTimeout=new s.Timeout;t.state={hovered:!1,copiedStreak:0,shouldShowNametagTooltip:!1,shouldShowCopiedFeedback:!1,shouldShowSpeakingWhileMutedTooltip:!1,hoveringOnMute:!1};t.handleToggleSelfMute=function(){var e=t.props,n=e.serverMute,r=e.suppress;(0,E.default)(n,r)};t.handleToggleSelfDeaf=function(){var e=t.props.serverDeaf;(0,g.default)(e)};t.handleOpenAccountSettings=function(){t.handleOpenSettings()};t.handleOpenSettings=function(e){void 0===e&&(e=me.UserSettingsSections.ACCOUNT);f.default.open(e)};t.handleOpenSettingsContextMenu=function(e){var r=t.props.currentUser;null!=r&&(0,d.openContextMenuLazy)(e,Ce(regeneratorRuntime.mark((function e(){var o,i
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(64084)]).then(n.bind(n,964084));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,Te({},e,{user:r,premiumSubscription:t.props.premiumSubscription,webBuildOverride:t.props.webBuildOverride}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleClearPoggermodeEducationTooltip=function(){};t.handleInputAudioContextMenu=function(e){(0,d.openContextMenuLazy)(e,Ce(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,190320));case 2:t=e.sent;r=t.default;a=Ie(r,{onClose:d.closeContextMenu,renderInputDevices:!0,renderInputModes:!0,renderInputVolume:!0});return e.abrupt("return",(function(){return a}));case 6:case"end":return e.stop()}}),e)}))))};t.handleOutputAudioContextMenu=function(e){(0,
d.openContextMenuLazy)(e,Ce(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,190320));case 2:t=e.sent;r=t.default;a=Ie(r,{onClose:d.closeContextMenu,renderOutputDevices:!0,renderOutputVolume:!0});return e.abrupt("return",(function(){return a}));case 6:case"end":return e.stop()}}),e)}))))};t.handleMouseEnter=function(){t.setState({hovered:!0})};t.handleMouseLeave=function(){t.setState({hovered:!1})};t.handleMouseEnterMute=function(){t.setState({hoveringOnMute:!0,shouldShowSpeakingWhileMutedTooltip:!1});t.speakingWhileMutedTooltipTimeout.stop()};t.handleMouseLeaveMute=function(){t.setState({hoveringOnMute:!1})};t.handleCopyTag=function(){var e=t.props.currentUser,n=t.state,r=n.shouldShowNametagTooltip,a=n.copiedStreak;if(null!=e){(0,ce.copy)(e.tag);fe.default.track(me.AnalyticEvents.TEXT_COPIED,{type:"User Tag"});var o={shouldShowCopiedFeedback:!0,
shouldShowNametagTooltip:!0};r||(o.copiedStreak=a+1);t.setState(o,(function(){t.copiedTimeout.start(1e3,(function(){return t.setState({shouldShowNametagTooltip:!1})}));t.copiedDecayTimeout.start(2e3,(function(){return t.setState({copiedStreak:0})}))}))}};t.handleOccludedChanged=function(){t.props.occluded&&t.setState({shouldShowNametagTooltip:!1,shouldShowSpeakingWhileMutedTooltip:!1})};t.handleSpeakingWhileMutedChanged=function(){var e=t.props,n=e.selfMute,r=e.serverMute,a=e.suppress,o=e.speakingWhileMuted,i=e.occluded,u=t.state.hoveringOnMute;if(o)u||!n||r||a||i||t.setState({shouldShowSpeakingWhileMutedTooltip:!0},(function(){t.speakingWhileMutedTooltipTimeout.start(2e3,(function(){return t.setState({shouldShowSpeakingWhileMutedTooltip:!1})}))}));else{t.setState({shouldShowSpeakingWhileMutedTooltip:!1});t.speakingWhileMutedTooltipTimeout.stop()}};t.renderStatusPickerPopout=function(e){var n=e.closePopout;if(t.props.showRichProfilePopup){var r;return Ie(N.default,{
userId:null===(r=t.props.currentUser)||void 0===r?void 0:r.id,user:t.props.currentUser,onClose:function(){t.handleMouseLeave();null==n||n()}})}return Ie(c.default,{onClose:function(){t.handleMouseLeave();null==n||n()}})};return t}var r=t.prototype;r.componentDidUpdate=function(e){var t=e.speakingWhileMuted,n=e.occluded,r=this.props,a=r.speakingWhileMuted;r.occluded!==n&&this.handleOccludedChanged();a!==t&&this.handleSpeakingWhileMutedChanged()};r.componentWillUnmount=function(){this.copiedTimeout.stop();this.copiedDecayTimeout.stop();this.speakingWhileMutedTooltipTimeout.stop()};r.renderCopiedSuccess=function(){
var e=this.state.copiedStreak,t=[he.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_1,he.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_2,he.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_3,he.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_4,he.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_5,he.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_6,he.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_7,he.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_8,he.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_9,he.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_10,he.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_11],n=Math.min(Math.max(0,e-1),t.length-1);return Ie(q.default,{isShaking:this.isCopiedStreakGodlike},void 0,t[n])};r.renderNameTag=function(){var e=this.props,t=e.customStatusActivity,n=e.hidePrivateData,r=e.currentUser,o=this.state.hovered;if(null==r)return null;var i=n?null:"#"+r.discriminator,u=null!=t?Ie(z.default,{hoverText:i,forceHover:o},void 0,Ie(O.default,{activity:t,
emojiClassName:ge.default.emoji,className:ge.default.customStatus})):i;return a.createElement(a.Fragment,null,Ie(Q.Text,{className:ge.default.usernameContainer,variant:"text-sm/normal"},void 0,Ie(se.default,{},void 0,r.username)),null!=u?Ie(le.default,{className:ge.default.discriminator},void 0,u):null)};r.renderCopiableNameTag=function(){var e=this,t=this.props.currentUser,n=this.state,r=n.shouldShowNametagTooltip,i=n.shouldShowCopiedFeedback;if(null==t)return null;var u=null,l=X.TooltipColors.PRIMARY;if(ce.SUPPORTS_COPY){u=he.default.Messages.ACCOUNT_CLICK_TO_COPY;if(i){u=this.renderCopiedSuccess();l=this.isCopiedStreakGodlike?X.TooltipColors.RED:X.TooltipColors.GREEN}}return Ie(X.default,{text:u,forceOpen:r,"aria-label":!!ce.SUPPORTS_COPY&&he.default.Messages.ACCOUNT_CLICK_TO_COPY,color:l,delay:500,onAnimationRest:function(t,n){i&&!r&&n.phase===me.SpringTransitionPhases.LEAVE&&e.setState({shouldShowCopiedFeedback:!1})}},void 0,(function(t){
var n,r=t.onClick,u=t.onMouseEnter,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,Ee);return a.createElement(Y.default,Te({},l,{onMouseEnter:function(){if(i){e.copiedTimeout.stop();e.setState({shouldShowNametagTooltip:!1},u)}else null==u||u()},onClick:function(){null==r||r();e.handleCopyTag()},className:(0,o.default)(ge.default.nameTag,(n={},n[ge.default.canCopy]=ce.SUPPORTS_COPY,n))}),e.renderNameTag())}))};r.renderAvatarWithPopout=function(){var e=this,t=this.props,n=t.speaking,r=t.streaming,i=t.currentUser,u=t.status,l=t.showTagAsButton,s=t.showTaglessAccountPanel;return null==i?null:Ie(p.default,{object:me.AnalyticsObjects.AVATAR},void 0,Ie($.default,{renderPopout:this.renderStatusPickerPopout,position:$.default.Positions.BOTTOM,align:$.default.Align.LEFT,animation:$.default.Animation.FADE,spacing:14,fixed:!0},void 0,(function(t,d){var f,c;return a.createElement(Y.default,Te({},t,{
"aria-label":he.default.Messages.SET_STATUS,className:(0,o.default)(ge.default.avatarWrapper,(f={},f[ge.default.withTagAsButton]=l,f[ge.default.withTagless]=s,f))}),Ie(Pe,{size:de.Sizes.SIZE_32,src:i.getAvatarURL(void 0,32,!1),"aria-label":i.username,status:r?me.StatusTypes.STREAMING:u,isSpeaking:n,className:ge.default.avatar}),l||s?Ie("div",{className:(0,o.default)(ge.default.nameTag,(c={},c[ge.default.canCopy]=ce.SUPPORTS_COPY,c))},void 0,s?Ie(ue.default,{tooltipText:null,icon:d.isShown?Z.default:J.default,role:"switch","aria-label":he.default.Messages.SET_STATUS}):e.renderNameTag()):null)})))};r.renderSettingsGear=function(){var e=this.props.webBuildOverride;return Ie(ue.default,{tooltipText:null!=e?he.default.Messages.USER_SETTINGS_WITH_BUILD_OVERRIDE.format({webBuildOverride:e.id}):he.default.Messages.USER_SETTINGS,onClick:this.handleOpenAccountSettings,onContextMenu:this.handleOpenSettingsContextMenu,innerClassName:null!=e?ge.default.buildOverrideButton:null,icon:ee.default
},void 0,null!=e?Ie(re.default,{width:9,height:9,className:ge.default.hasBuildOverride,"aria-hidden":!0}):null)};r.renderNameZone=function(){var e=this,t=this.props,n=t.currentUser,r=t.dismissibleContents,o=this.props,i=o.showTagAsButton,l=o.showTaglessAccountPanel;return null==n?null:a.createElement(a.Fragment,null,Ie(b.default,{contentTypes:r.avatar},void 0,(function(t){var n=t.visibleContent,r=t.markAsDismissed,a=Ie(P.default,{markAsDismissed:r});return n===u.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP?Ie($.default,{position:$.default.Positions.TOP,shouldShow:!0,renderPopout:function(){return a}},void 0,(function(){return e.renderAvatarWithPopout()})):e.renderAvatarWithPopout()})),i||l?null:this.renderCopiableNameTag())};r.render=function(){var e,t,n=this,r=this.props,a=r.currentUser,i=r.selfDeaf,l=r.selfMute,s=r.serverMute,d=r.serverDeaf,f=r.suppress,c=r.dismissibleContents,p=this.state.shouldShowSpeakingWhileMutedTooltip;if(null==a)return null;var v=l||f||s,y=i||d
;return Ie("div",{className:ge.default.container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,this.renderNameZone(),Ie(K.default,{grow:0},void 0,Ie(ue.default,{tooltipText:p?he.default.Messages.ACCOUNT_SPEAKING_WHILE_MUTED:(0,h.default)(l,s,f),tooltipColor:p?X.TooltipColors.GREEN:void 0,tooltipForceOpen:p||void 0,onMouseEnter:this.handleMouseEnterMute,onMouseLeave:this.handleMouseLeaveMute,icon:v?oe.default:ae.default,iconForeground:v?ge.default.strikethrough:null,onClick:this.handleToggleSelfMute,innerClassName:(0,o.default)((e={},e[ge.default.redIcon]=s||f,e)),onContextMenu:this.handleInputAudioContextMenu,role:"switch","aria-label":he.default.Messages.MUTE,"aria-checked":v}),Ie(ue.default,{tooltipText:(0,_.default)(i,d),icon:i?ne.default:te.default,onClick:this.handleToggleSelfDeaf,onContextMenu:this.handleOutputAudioContextMenu,innerClassName:(0,o.default)((t={},t[ge.default.redIcon]=d,t)),iconForeground:y?ge.default.strikethrough:null,
role:"switch","aria-label":he.default.Messages.DEAFEN,"aria-checked":y}),Ie(b.default,{contentTypes:c.settings},void 0,(function(e){var t=e.visibleContent,r=e.markAsDismissed,a=Ie(ye.default,{markAsDismissed:r}),o=Ie(T.default,{markAsDismissed:r}),i=Ie(A.default,{markAsDismissed:r});switch(t){case u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION:return Ie($.default,{position:$.default.Positions.TOP,align:$.default.Align.CENTER,shouldShow:!0,renderPopout:function(){return a}},void 0,(function(){return n.renderSettingsGear()}));case u.DismissibleContent.POGGERMODE_BIRTHDAY_EDUCATION_TOOLTIP:return Ie($.default,{position:$.default.Positions.TOP,align:$.default.Align.CENTER,shouldShow:!0,renderPopout:function(){return Ie(C.default,{className:ge.default.poggermodeFeatureEducation,header:he.default.Messages.POGGERMODE_TOOLTIP_TITLE,body:he.default.Messages.POGGERMODE_TOOLTIP_DESCRIPTION,tryItText:he.default.Messages.POGGERMODE_TOOLTIP_TRY_IT,
artClassName:ge.default.poggermodeFeatureEducationArt,onTryFeature:function(){return n.handleOpenSettings(me.UserSettingsSections.POGGERMODE)},closePopout:r,analyticsName:"Poggermode"})}},void 0,(function(){return n.renderSettingsGear()}));case u.DismissibleContent.DROPS_ELIGIBILITY_ENROLLMENT_TOOLTIP:return Ie($.default,{position:$.default.Positions.TOP,align:$.default.Align.CENTER,shouldShow:!0,renderPopout:function(){return o}},void 0,(function(){return n.renderSettingsGear()}));case u.DismissibleContent.DROPS_QUEST_COMPLETION_TOOLTIP:return Ie($.default,{position:$.default.Positions.TOP,align:$.default.Align.CENTER,shouldShow:!0,renderPopout:function(){return i}},void 0,(function(){return n.renderSettingsGear()}));default:return n.renderSettingsGear()}}))))};!function(e,t,n){t&&Me(e.prototype,t);n&&Me(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isCopiedStreakGodlike",get:function(){return this.state.copiedStreak>=10}}]);return t}(a.PureComponent)
;Re.displayName="Account";function we(){var e=(0,i.useStateFromStores)([V.default],(function(){return V.default.getCurrentUser()})),t=null==e?void 0:e.id,n=(0,i.useStateFromStores)([H.default],(function(){return H.default.customStatus})),r=a.useMemo((function(){return null!=n?(0,S.default)(n):null}),[n]),o=(0,i.useStateFromStoresObject)([F.default],(function(){return{streaming:null!=F.default.findActivity((function(e){return e.type===me.ActivityTypes.STREAMING})),status:F.default.getStatus()}})),s=o.streaming,d=o.status,f=(0,i.useStateFromStores)([x.default],(function(){return null!=t&&x.default.isSpeaking(t)}),[t]),c=(0,i.useStateFromStores)([B.default],(function(){return B.default.hidePersonalInformation})),p=(0,i.useStateFromStores)([G.default,L.default],(function(){var e=G.default.getChannelId();return null!=e?L.default.getChannel(e):null})),_=(0,D.default)(p),h=_.mute,g=_.selfMute,E=_.suppress,O=(0,w.default)(p),b=O.selfDeaf,T=O.deaf,A=(0,
i.useStateFromStores)([y.default],(function(){var e;return(0,m.probablyHasBuildOverride)()?null===(e=y.default.getCurrentBuildOverride().overrides)||void 0===e?void 0:e.discord_web:null})),C=(0,i.useStateFromStores)([W.default],(function(){return W.default.getPremiumTypeSubscription()})),N=(0,i.useStateFromStores)([U.default],(function(){return U.default.getEverSpeakingWhileMuted()})),P=(0,i.useStateFromStores)([k.default],(function(){return null!=k.default.getAccount(null,me.PlatformTypes.PLAYSTATION)})),Y=(0,i.useStateFromStores)([j.default],(function(){return j.default.hasLayers()})),K=(0,ie.useModalsStore)(ie.hasAnyModalOpenSelector)||Y||pe.ProcessArgs.isDisallowPopupsSet();a.useEffect((function(){M.default.trackExposure({})}));var z=M.default.useExperiment({}),$=z.isPopupEnabled,q=z.isJoinedTagButtonEnabled,Q=z.isTaglessAccountPanelEnabled,X=(0,
I.useDropsExperiment)().isEligibleForDropsExperiment,Z=v.default.useExperiment({}).coachMarkEnabled,J=R.default.useExperiment({}).showFeatureEducation,ee={avatar:[],settings:[]};K||null!=l.default.get(_e.MULTIACCOUNT_TOOLTIP_SEEN_KEY)||ee.avatar.push(u.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP);K||!Z||P||ee.settings.push(u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION);!K&&J&&ee.settings.push(u.DismissibleContent.POGGERMODE_BIRTHDAY_EDUCATION_TOOLTIP);if(!K&&X){ee.settings.push(u.DismissibleContent.DROPS_ELIGIBILITY_ENROLLMENT_TOOLTIP);!1}return Ie(Re,{currentUser:e,customStatusActivity:r,dismissibleContents:ee,hidePrivateData:c,occluded:K,premiumSubscription:C,selfDeaf:b,selfMute:g,serverDeaf:T,serverMute:h,showRichProfilePopup:$,showTagAsButton:q,showTaglessAccountPanel:Q,speaking:f,speakingWhileMuted:N,status:d,streaming:s,suppress:E,webBuildOverride:A})}we.displayName="AccountConnected"},1483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(155502)),i=p(n(754416)),u=p(n(956117)),l=n(645758),s=p(n(308920)),d=n(770348),f=p(n(247001)),c=p(n(573438));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){e();s.default.track(d.AnalyticEvents.UPSELL_CLICKED,{type:"account_connect_playstation_tooltip",action:"dismiss"})}function _(e){var t=e.markAsDismissed;a.useEffect((function(){s.default.track(d.AnalyticEvents.UPSELL_VIEWED,{type:"account_connect_playstation_tooltip"})}),[]);a.useEffect((function(){function e(e){e.keyCode===d.KeyboardKeys.ESCAPE&&m(t)}window.addEventListener("keydown",e);return function(){window.removeEventListener("keydown",e)}}),[t]);var n=a.useCallback((function(){(0,i.default)(d.PlatformTypes.PLAYSTATION,"Playstation Upsell");m(t)}),[t]);return y("div",{className:c.default.container},void 0,y("div",{className:c.default.image}),y(l.Text,{className:c.default.title,variant:"text-sm/normal"
},void 0,f.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:o.default.get(d.PlatformTypes.PLAYSTATION).name})),y(l.Text,{variant:"text-sm/normal",className:c.default.subTitle},void 0,f.default.Messages.PLAYSTATION_CONNECT_DESCRIPTION),y(u.default,{look:u.default.Looks.INVERTED,fullWidth:!0,onClick:n},void 0,f.default.Messages.CONNECT),y(u.default,{color:u.default.Colors.WHITE,look:u.default.Looks.LINK,fullWidth:!0,onClick:function(){return m(t)}},void 0,f.default.Messages.NO_THANKS),y("div",{className:c.default.pointer}))}_.displayName="AccountConnectPlayStationTooltip"},52505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(496486)),i=h(n(536211)),u=n(378158),l=h(n(913914)),s=h(n(922340)),d=h(n(146411)),f=h(n(414068)),c=h(n(330445)),p=h(n(290629)),v=h(n(728429)),y=h(n(251689)),m=n(71246),_=h(n(247001));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){S=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var T=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).handleUserContextMenu=function(e,t){(0,u.openContextMenuLazy)(e,b(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,S({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))))};t.renderOverflowPopout=function(){var e=t.props.party;return E(l.default,{party:e,header:_.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:e.length})})};return t}var r=t.prototype;r.hasParty=function(e){return e.length>1};r.handleStopListening=function(){(0,s.default)()};r.renderUserPopout=function(e,t){return a.createElement(f.default,S({},e,{userId:t.id}))};r.render=function(){var e=this.props,t=e.currentUser,n=e.host,r=e.party;return this.hasParty(r)&&null!=t?E(y.default,{currentUser:t,host:n,party:r,renderUserPopout:this.renderUserPopout,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null};return t}(a.PureComponent)
;T.displayName="ListeningAlong";var A=i.default.connectStores([d.default,v.default,p.default,c.default],(function(){var e,t,n=d.default.getSyncingWith(),r=d.default.getActivity(),a=v.default.getCurrentUser(),i=[];if(null!=n){e=v.default.getUser(n.userId);t=n.partyId}else if(null!=r&&null!=r.party&&null!=r.party.id){e=a;t=r.party.id}if(null!=t){var u;i=(0,o.default)(Array.from(null!==(u=c.default.getParty(t))&&void 0!==u?u:[])).map((function(e){return v.default.getUser(e)})).filter(m.isNotNullish).orderBy([function(t){return null==e||e.id===t.id},function(e){return p.default.isFriend(e.id)}],["desc","desc"]).value()}return{currentUser:a,host:e,party:i}}))(T);t.default=A},883901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=Be(n(667294)),o=Fe(n(294184)),i=Fe(n(441143)),u=n(473727),l=n(536211),s=Fe(n(740207)),d=n(378158),f=Fe(n(505437)),c=Be(n(712283)),p=Fe(n(367734)),v=Fe(n(257175)),y=n(556470),m=n(433383),_=n(678164),h=n(746920),g=Be(n(303798)),E=n(186096),S=Fe(n(198016)),O=n(245546),b=Fe(n(151120)),I=Fe(n(954140)),T=Fe(n(37039)),A=Fe(n(932018)),C=n(678928),M=Fe(n(314234)),N=Fe(n(379310)),P=Fe(n(908921)),R=Be(n(278352)),w=Fe(n(652566)),D=n(139982),L=Fe(n(915188)),k=Fe(n(610929)),j=n(205809),U=Fe(n(131020)),G=Fe(n(897191)),F=n(921867),x=n(894826),B=Fe(n(373115)),H=Fe(n(431388)),V=Fe(n(770404)),W=Be(n(336940)),Y=Fe(n(493051)),K=Fe(n(152803)),z=Fe(n(310261)),$=Fe(n(30269)),q=n(645675),Q=Fe(n(686305)),X=Fe(n(607209)),Z=Fe(n(644263)),J=Fe(n(30098)),ee=Fe(n(122913)),te=Fe(n(635014)),ne=Fe(n(689389)),re=Fe(n(893160)),ae=Fe(n(290629)),oe=Fe(n(728429)),ie=Fe(n(387692)),ue=Fe(n(487372)),le=Fe(n(151097)),se=Fe(n(956117)),de=Fe(n(530250)),fe=n(728526),ce=n(772575),pe=Fe(n(160629)),ve=Fe(n(567668)),ye=n(645758),me=Fe(n(730977)),_e=Be(n(662197)),he=Fe(n(79027)),ge=Fe(n(26285)),Ee=Fe(n(400217)),Se=Fe(n(250003)),Oe=Fe(n(952117)),be=Fe(n(139574)),Ie=Fe(n(902060)),Te=Fe(n(308920)),Ae=Fe(n(550270)),Ce=n(873838),Me=Fe(n(547636)),Ne=Fe(n(529025)),Pe=n(770348),Re=n(439142),we=Fe(n(247001)),De=Fe(n(444013)),Le=Fe(n(380203)),ke=["unavailable","active","label","iconComponent"],je=["onClick"],Ue=["onClick"],Ge=["guildId","channelId"]
;function Fe(e){return e&&e.__esModule?e:{default:e}}function xe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(xe=function(e){return e?n:t})(e)}function Be(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=xe(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function He(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){He(o,r,a,i,u,"next",e)}function u(e){He(o,r,a,i,u,"throw",e)}i(void 0)}))}}function We(e,t){
We=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return We(e,t)}function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ke(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ze(){ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ze.apply(this,arguments)}function $e(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function qe(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Qe(e){var t=e.currentTarget;Te.default.track(Pe.AnalyticEvents.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,
location:{section:Pe.AnalyticsSections.NOISE_CANCELLATION_POPOUT}})}function Xe(){var e=a.useRef(null);(0,fe.useFocusLock)(e);a.useEffect((function(){return Te.default.track(Pe.AnalyticEvents.OPEN_POPOUT,{type:Pe.AnalyticsSections.NOISE_CANCELLATION_POPOUT})}),[]);var t=(0,l.useStateFromStores)([te.default],(function(){return te.default.getNoiseCancellation()}));return a.createElement("div",{ref:e,className:De.default.noiseCancellationPopout},qe(ve.default,{hideBorder:!0,className:Le.default.marginBottom4,value:t,onChange:function(){return s.default.setNoiseCancellation(!t,{section:Pe.AnalyticsSections.NOISE_CANCELLATION_POPOUT})},note:we.default.Messages.NOISE_CANCELLATION_POPOUT_DESCRIPTION},void 0,we.default.Messages.NOISE_CANCELLATION_POPOUT_HEADER),qe(c.default,{title:we.default.Messages.NOISE_CANCELLATION_POPOUT_MIC_TEST_TITLE,notchBackground:c.NotchBackground.BLACK,buttonTest:we.default.Messages.NOISE_CANCELLATION_POPOUT_TEST,
buttonStop:we.default.Messages.NOISE_CANCELLATION_POPOUT_STOP,buttonClassName:De.default.micTestButton,buttonColor:se.default.Colors.PRIMARY,location:{section:Pe.AnalyticsSections.NOISE_CANCELLATION_POPOUT}}),qe(_e.default,{tag:_e.Tags.H5,className:(0,o.default)(Le.default.marginBottom8,Le.default.marginTop20)},void 0,we.default.Messages.NOISE_CANCELLATION_POPOUT_FOOTER),qe(de.default,{justify:de.default.Justify.BETWEEN,className:De.default.footer},void 0,qe(le.default,{href:Pe.MarketingURLs.KRISP,onClick:function(e){return Qe(e)}},void 0,qe("div",{className:De.default.krispLogo})),qe(le.default,{href:Ae.default.getArticleURL(Pe.HelpdeskArticles.NOISE_SUPPRESSION),className:De.default.krispLink,onClick:function(e){return Qe(e)}},void 0,we.default.Messages.LEARN_MORE)))}Xe.displayName="NoiseCancellationPopout";function Ze(e){var t,n=e.channel,r=(0,B.default)(),i=(0,V.default)(n),u=n.getGuildId(),d=(0,S.default)(u),f=(0,l.useStateFromStoresObject)([g.default],(function(){
return null!=g.default.getSelfEmbeddedActivityForChannel(n.id)})),c=L.default.useExperiment({guildId:null!=u?u:""}).allowSoundboard,p=(0,H.default)(n),v=p.reachedLimit,y=p.limit,_=a.useCallback((function(){(0,Y.default)()}),[]),h=(0,m.useAppContext)(),E=a.useCallback((function(e){if(te.default.isVideoEnabled()!==e){var t=function(){var t;s.default.setVideoEnabled(e);e&&(0,D.transitionTo)(Pe.Routes.CHANNEL(null!==(t=n.getGuildId())&&void 0!==t?t:Pe.ME,n.id))};e?(0,$.default)(t,h):t()}}),[n,h]),O=f||d||c,b=qe(he.default,{className:(0,o.default)(De.default.buttonIcon,(t={},t[De.default.withText]=!O,t))});return a.createElement(q.VideoButtonWrapper,ze({onChange:E,onCameraUnavailable:_,hasPermission:i,channelLimit:y,channelLimitReached:v},r),(function(e){var t=e.unavailable,n=e.active,r=e.label,i=(e.iconComponent,$e(e,ke));return qe(pe.default,{renderPopout:function(e){var t=e.closePopout;return qe(A.default,{onClose:t})},position:pe.default.Positions.TOP,align:pe.default.Align.CENTER,
animation:pe.default.Animation.FADE},void 0,(function(e,u){var l=u.isShown,s=e.onClick,d=$e(e,je);return qe(me.default,{text:r},void 0,(function(e){var r;return a.createElement(se.default,ze({},i,e,d,{onClick:function(t){var n;i.onClick(t);null===(n=e.onClick)||void 0===n||n.call(e);l&&s(t)},onContextMenu:function(t){var n;s(t);null===(n=e.onContextMenu)||void 0===n||n.call(e)},size:se.default.Sizes.SMALL,className:(0,o.default)(De.default.button,De.default.buttonColor,(r={},r[De.default.buttonActive]=n,r[De.default.fauxDisabled]=t,r[De.default.disabled]=i.disabled,r)),innerClassName:De.default.buttonContents,wrapperClassName:De.default.button}),O?b:qe(de.default,{align:de.default.Align.CENTER},void 0,b,we.default.Messages.VIDEO))}))}))}))}Ze.displayName="ConnectedVideoButton";var Je=qe(O.FreeActivityIndicatorDot,{top:-1,right:-1});function et(e){var t=e.channel,n=(0,m.useAppContext)(),r=(0,T.default)().analyticsLocations,i=n===Pe.AppContext.POPOUT,u=t.getGuildId(),s=(0,
S.default)(u)&&null!=u;(0,_.useActivitiesRolloutExperiments)(u);var d=(0,l.useStateFromStores)([ne.default],(function(){return ne.default.can(Pe.Permissions.USE_EMBEDDED_ACTIVITIES,t)}),[t]),f=Ye((0,l.useStateFromStores)([g.default],(function(){return null!=t.id&&""!==t.id?g.default.getEmbeddedActivitiesForChannel(t.id):g.NO_ACTIVITIES})),1)[0],c=(0,l.useStateFromStoresObject)([g.default],(function(){return{userInActivity:null!=g.default.getSelfEmbeddedActivityForChannel(t.id)}})).userInActivity,p=(0,y.useAnalyticsContext)();a.useEffect((function(){null!=u&&(0,h.fetchShelf)(u)}),[u]);var v=(0,E.useFreeActivityIndicator)({guildId:u}).shouldShowFreeIndicator,O=!d,I=d?we.default.Messages.EMBEDDED_ACTIVITIES_START_AN_ACTIVITY:we.default.Messages.EMBEDDED_ACTIVITIES_INVALID_PERMISSIONS;return s?qe(me.default,{text:I},void 0,(function(e){var n;return a.createElement(se.default,ze({},e,{fullWidth:!0,size:se.default.Sizes.SMALL,onClick:function(){var n;(0,b.default)({channel:t,
guildId:t.guild_id,locationObject:p.location,openInPopout:i,analyticsLocations:r});null===(n=e.onClick)||void 0===n||n.call(e)},disabled:O,className:(0,o.default)(De.default.button,De.default.buttonColor,(n={},n[De.default.buttonActive]=c||null!=f,n[De.default.disabled]=O,n)),innerClassName:De.default.buttonContents,wrapperClassName:De.default.button}),v?Je:null,qe(Se.default,{className:De.default.buttonIcon}))})):null}et.displayName="ConnectedActivityButton";function tt(e){var t,n,r=e.channel,i=e.canGoLive,u=(0,l.useStateFromStores)([oe.default],(function(){return oe.default.getCurrentUser()})),s=(0,l.useStateFromStoresArray)([X.default],(function(){return X.default.getAllActiveStreams()})),d=(0,V.default)(r),f=r.getGuildId(),c=(0,S.default)(f),p=(0,l.useStateFromStoresObject)([g.default],(function(){return null!=g.default.getSelfEmbeddedActivityForChannel(r.id)})),v=L.default.useExperiment({guildId:null!=f?f:""}).allowSoundboard,y=a.useCallback((function(){(0,
z.default)(f,r.id,Pe.AnalyticsSections.ACTIVITY_PANEL)}),[f,r.id]),m=s.find((function(e){return e.ownerId===(null==u?void 0:u.id)})),_=(0,W.useOtherStreams)(r,u,s);n=null==m?i?y:K.default:function(){return(0,P.default)(m)};var h=null!=m||_.length>0,E=d?we.default.Messages.SHARE_YOUR_SCREEN:we.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE,O=!d,b=p||c||v,I=qe(Oe.default,{className:(0,o.default)(De.default.buttonIcon,(t={},t[De.default.withText]=!b,t))});return qe(pe.default,{renderPopout:function(e){var t=e.closePopout;return qe(W.default,{channel:r,currentUser:u,activeStreams:s,onClose:t,handleGoLive:i?y:K.default})},position:pe.default.Positions.TOP,align:pe.default.Align.CENTER,animation:pe.default.Animation.FADE},void 0,(function(e){var t=e.onClick,r=$e(e,Ue);return qe(me.default,{text:E},void 0,(function(e){var i;return a.createElement(se.default,ze({},e,{size:se.default.Sizes.SMALL,onClick:function(r){var a;h?t(r):n()
;null===(a=e.onClick)||void 0===a||a.call(e)},disabled:O,className:(0,o.default)(De.default.button,De.default.buttonColor,(i={},i[De.default.buttonActive]=null!=m,i[De.default.disabled]=O,i))},h?r:null,{innerClassName:De.default.buttonContents,wrapperClassName:De.default.button}),b?I:qe(de.default,{align:de.default.Align.CENTER},void 0,I,we.default.Messages.GO_LIVE_SHARE_SCREEN))}))}))}tt.displayName="ConnectedStreamButton";var nt=qe(Xe,{}),rt=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;We(e,t)}(t,e);function t(){for(var t,r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];(t=e.call.apply(e,[this].concat(u))||this).canScreenshare=function(){var e=t.props,n=e.channel;return e.canGoLive&&null!=n&&null!=n.getGuildId()};t.handleNoiseCancellationClicked=function(){var e=t.props.noiseCancellationActive;s.default.setNoiseCancellation(!e,{section:Pe.AnalyticsSections.NOISE_CANCELLATION_POPOUT})};t.handleGoLive=function(){
var e=t.props,n=e.guild,r=e.channel,a=null!=r?r.getGuildId():null!=n?n.id:null;null!=a&&(0,z.default)(a,r.id,Pe.AnalyticsLocations.VOICE_PANEL)};t.handleChannelLinkClick=function(e){var n,r=t.props,a=r.guild,o=r.channel;(0,i.default)(null!=o,"Channel is null during navigation click");e.stopPropagation();f.default.channelListScrollTo(null!==(n=null==a?void 0:a.id)&&void 0!==n?n:Pe.ME,o.id)};t.handleChannelLinkContextMenu=function(e){var r=t.props.channel;(0,d.openContextMenuLazy)(e,Ve(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7771).then(n.bind(n,7771));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,ze({},e,{channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleCloseVoicePanelIntroduction=function(){R.hideHotspot(Re.HotspotLocations.VOICE_PANEL_INTRODUCTION)};t.renderVoicePanelIntroduction=function(){return qe("div",{
className:(0,o.default)(De.default.voicePanelIntroductionWrapper,"theme-light")},void 0,qe(ce.Heading,{className:De.default.voicePanelIntroductionHeader,variant:"heading-md/medium",level:3},void 0,we.default.Messages.VOICE_PANEL_INTRODUCTION_HEADER),qe(ye.Text,{className:De.default.voicePanelIntroductionText,variant:"text-sm/normal"},void 0,we.default.Messages.VOICE_PANEL_INTRODUCTION_TEXT),qe(se.default,{className:De.default.voicePanelIntroductionButton,color:se.default.Colors.BRAND,onClick:t.handleCloseVoicePanelIntroduction},void 0,we.default.Messages.VOICE_PANEL_INTRODUCTION_CLOSE))};return t}var r=t.prototype;r.renderConnectionStatus=function(){var e=this.props,t=e.channel,n=e.guild,r=e.rtcConnectionQuality,a=e.rtcConnectionState,o=e.rtcConnectionLastPing,i=e.hasVideo;if(null==t)return null;var l,s=(0,C.computeChannelName)(t,oe.default,ae.default,!0);if(null!=n){l=Pe.Routes.CHANNEL(n.id,t.id);s=s+" / "+n.name}else l=Pe.Routes.CHANNEL(Pe.ME,t.id);return qe(p.default,{
statusTextClassName:De.default.statusWithPopout,quality:r,state:a,lastPing:o,hasVideo:i},void 0,qe(M.default,{},void 0,qe(u.Link,{to:l,onClick:this.handleChannelLinkClick,onContextMenu:this.handleChannelLinkContextMenu},void 0,qe(Ie.default,{className:De.default.channel},void 0,s))))};r.renderNoiseCancellation=function(){var e=this.props,t=e.noiseCancellationActive,n=e.noiseCancellationError;return!e.hasLayers&&n?qe(me.default,{text:we.default.Messages.NOISE_CANCELLATION_CPU_OVERUSE,tooltipClassName:De.default.noiseCancellationTooltip,forceOpen:!0},void 0,(function(e){var t=e["aria-label"];return qe(be.default,{"aria-label":t,tooltipText:null,disabled:!0,icon:Ee.default})})):qe(pe.default,{position:pe.default.Positions.TOP,align:pe.default.Align.CENTER,renderPopout:function(){return nt}},"krisp-popout",(function(e,n){var r=n.isShown;return a.createElement(be.default,ze({},e,{tooltipClassName:De.default.noiseCancellationTooltip,
tooltipText:r?null:we.default.Messages.NOISE_CANCELLATION_TOOLTIP,icon:t?ge.default:Ee.default}))}))};r.renderVoiceStates=function(){var e=this.props,t=e.channel,n=e.voiceStates,r=e.showVoiceStates;return null!=t&&r&&0!==n.length?qe(Ne.default,{voiceStates:n,channel:t,className:De.default.voiceUsers}):null};r.renderChannelButtons=function(){var e=this.props,t=e.channel,n=e.canGoLive,r=e.canUseSoundboard;return null==t||t.type===Pe.ChannelTypes.GUILD_STAGE_VOICE?null:qe("div",{className:De.default.actionButtons},void 0,qe(Ze,{channel:t}),qe(tt,{channel:t,canGoLive:n}),qe(et,{channel:t}),r&&(0,k.default)(t)?qe(U.default,{className:(0,o.default)(De.default.button,De.default.buttonColor),iconClassName:De.default.buttonIcon,channel:t}):null)};r.render=function(){var e=this,t=this.props,n=t.channel,r=t.noiseCancellationSupported,a=t.shouldShowVoicePanelIntroduction;if(null==n)return null;var o=qe(Me.default,{channel:n});return qe(pe.default,{renderPopout:this.renderVoicePanelIntroduction,
position:pe.default.Positions.TOP,align:pe.default.Align.CENTER,animation:pe.default.Animation.TRANSLATE,shouldShow:a},void 0,(function(){return qe("div",{className:De.default.container},void 0,qe(de.default,{className:De.default.connection,align:de.default.Align.CENTER},void 0,qe("div",{className:De.default.inner},void 0,e.renderConnectionStatus()),qe(de.default,{grow:0,shrink:0},void 0,r?e.renderNoiseCancellation():null,o)),e.renderVoiceStates(),e.renderChannelButtons())}))};return t}(a.PureComponent);rt.displayName="RTCConnection";function at(e){var t=(0,l.useStateFromStores)([oe.default],(function(){return oe.default.getCurrentUser()})),n=(0,l.useStateFromStoresObject)([re.default],(function(){return{guildId:re.default.getGuildId(),channelId:re.default.getChannelId(),rtcConnectionQuality:re.default.getQuality(),rtcConnectionState:re.default.getState(),rtcConnectionLastPing:re.default.getLastPing(),rtcConnectionConnected:re.default.isConnected()}
})),r=n.guildId,o=n.channelId,i=$e(n,Ge),u=(0,l.useStateFromStores)([J.default],(function(){return J.default.getGuild(r)}),[r]),s=(0,l.useStateFromStores)([Z.default],(function(){return Z.default.getChannel(o)}),[o]),d=(0,l.useStateFromStoresObject)([te.default],(function(){return{noiseCancellationSupported:te.default.isNoiseCancellationSupported(),noiseCancellationActive:te.default.getNoiseCancellation(),noiseCancellationError:te.default.isNoiseCancellationError(),canGoLive:(0,N.default)(te.default)}})),f=(0,l.useStateFromStores)([te.default,w.default],(function(){return w.default.hasHotspot(Re.HotspotLocations.VOICE_PANEL_INTRODUCTION)&&(0,Ce.isNewUser)(t)&&!te.default.isInteractionRequired()&&!(null==s?void 0:s.isGuildStageVoice())})),c=(0,l.useStateFromStores)([ie.default],(function(){return null!=o&&ie.default.hasVideo(o)}),[o]),p=(0,l.useStateFromStores)([X.default],(function(){return null!=t?X.default.getActiveStreamForUser(t.id):null}),[t]),v=(0,
l.useStateFromStores)([ee.default],(function(){return ee.default.hasLayers()})),y=(0,l.useStateFromStores)([Q.default],(function(){return Q.default.isViewingRoles(r)})),m=(0,l.useStateFromStores)([ne.default],(function(){return y&&!ne.default.can(Pe.Permissions.VIEW_CHANNEL,s)}),[y,s]),_=x.RtcPanelShowVoiceStates.useSetting(),h=Ye((0,l.useStateFromStoresArray)([ue.default,G.default],(function(){return(null==s?void 0:s.isGuildStageVoice())?[G.default.getMutableParticipants(s.id,F.StageChannelParticipantNamedIndex.SPEAKER),G.default.getParticipantsVersion(s.id),null]:[null,null,null!=s?ue.default.getVoiceStatesForChannel(s):null]}),[s]),3),g=h[0],E=h[1],S=h[2],O=a.useMemo((function(){var e,t;return null!==(e=null!==(t=null==g?void 0:g.map((function(e){return{user:e.user,nick:e.userNick,voiceState:e.voiceState}})))&&void 0!==t?t:S)&&void 0!==e?e:[]}),[g,E,S]),b=Ye(a.useState(!1),2),A=b[0],C=b[1];a.useEffect((function(){(y||m)&&C(!1)}),[y,m,C]);var M=L.default.useExperiment({
guildId:null!=r?r:""},{autoTrackExposure:!0}).allowSoundboard,P=(0,j.useIsSoundboardSupported)();return qe((0,T.default)(I.default.RTC_PANEL).AnalyticsLocationProvider,{},void 0,qe("div",{className:De.default.wrapper},void 0,a.createElement(rt,ze({},e,d,i,{guild:u,channel:s,hasVideo:c,selfStream:p,hasLayers:v,voiceStates:O,showVoiceStates:_,shouldShowVoicePanelIntroduction:f,canUseSoundboard:M&&P})),!A&&y&&null!=r?qe("div",{className:De.default.viewAsRolesWarning},void 0,qe(ye.Text,{variant:"text-sm/normal",className:De.default.viewAsRolesWarningText},void 0,m?we.default.Messages.VIEW_AS_ROLES_HIDDEN_VC_WARNING:we.default.Messages.VIEW_AS_ROLES_VOICE_WARNING),qe(se.default,{className:De.default.viewAsRolesWarningButton,size:se.default.Sizes.MIN,onClick:function(){C(!0)}},void 0,we.default.Messages.DISMISS)):null))}at.displayName="ConnectedRTCConnection";var ot=(0,v.default)(at);t.default=ot},547636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(e){var t=e.channel;return t.isGuildStageVoice()?m(_,{channel:t}):m(h,{channel:t})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=v(n(136873)),o=n(695475),i=n(452453),u=v(n(435903)),l=n(559133),s=v(n(913687)),d=v(n(331546)),f=v(n(233121)),c=v(n(139574)),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.channel;return m(c.default,{tooltipText:p.default.Messages.STAGE_CHANNEL_LEAVE_BUTTON,onClick:function(){(0,s.default)(t)?(0,l.openEndStageModal)(t):a.default.disconnect()},icon:f.default})}_.displayName="DisconnectStageButton";function h(e){var t=e.channel,n=(0,o.useWarnLastEligibleHost)({channelId:t.id,shouldDisconnectCall:!0});return m(c.default,{tooltipText:p.default.Messages.DISCONNECT_SELF,onClick:function(){n()||((0,u.default)(t)?(0,i.openEndEventModal)(t):a.default.disconnect())},icon:d.default})}h.displayName="DisconnectVoiceButton"},529025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=F
;var r,a=C(n(667294)),o=T(n(294184)),i=n(536211),u=n(378158),l=T(n(100205)),s=T(n(711195)),d=T(n(414068)),f=T(n(423046)),c=T(n(397228)),p=C(n(219849)),v=T(n(16941)),y=T(n(160629)),m=T(n(730977)),_=T(n(324582)),h=T(n(287317)),g=T(n(155393)),E=T(n(485308)),S=T(n(582945)),O=n(378542),b=T(n(247001)),I=T(n(270711));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,u,"next",e)}function u(e){D(o,r,a,i,u,"throw",e)}i(void 0)}))}}var k={offset:2},j={serverDeaf:{icon:_.default,colorize:!0,
getStatus:function(){return b.default.Messages.SERVER_DEAFENED}},serverMute:{icon:h.default,colorize:!0,getStatus:function(){return b.default.Messages.SERVER_MUTED}},deaf:{icon:_.default,colorize:!1,getStatus:function(){return b.default.Messages.VOICE_CHANNEL_DEAFENED}},mute:{icon:h.default,colorize:!1,getStatus:function(){return b.default.Messages.VOICE_CHANNEL_MUTED}}};function U(e){var t,r,f=e.channel,p=e.user,_=e.nick,h=e.mute,g=e.deaf,E=e.serverMute,S=e.serverDeaf,T=(0,i.useStateFromStores)([c.default],(function(){return c.default.isSpeaking(p.id)||c.default.isSoundSharing(p.id)}),[p.id]),A=null!==(t=f.getGuildId())&&void 0!==t?t:void 0,C=p.getAvatarURL(f.guild_id,24),M=null!=_?_:p.username,N=null!==(r=S?j.serverDeaf:g?j.deaf:E?j.serverMute:h?j.mute:void 0)&&void 0!==r?r:{},P=N.icon,D=N.colorize,U=N.getStatus,G=null!=U?b.default.Messages.VOICE_PANEL_USER_TOOLTIP.format({userName:M,status:U()}):M;function F(e){null!=A?(0,
u.openContextMenuLazy)(e,L(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(5814)]).then(n.bind(n,205814));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,w({},e,{user:p,guildId:A,channelId:f.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)})))):(0,u.openContextMenuLazy)(e,L(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,w({},e,{user:p,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))}return R(y.default,{preload:function(){return(0,s.default)(p.id,p.getAvatarURL(A,80),{guildId:A})},
position:y.default.Positions.TOP,renderPopout:function(e){return a.createElement(d.default,w({userId:p.id,guildId:A,channelId:f.id},e))}},void 0,(function(e){return R(m.default,{text:G},void 0,(function(t){var n,r;return a.createElement(v.default,w({},t,e,{className:I.default.avatarContainer,onContextMenu:F,focusProps:k}),R(l.default,{shakeLocation:O.ShakeLocation.VOICE_USER,isShaking:T},void 0,R("div",{className:(0,o.default)(I.default.avatar,(n={},n[I.default.speaking]=T,n)),style:{backgroundImage:"url("+C+")"}},void 0,null!=P?R(P,{className:(0,o.default)(I.default.avatarIconOverlay,(r={},r[I.default.avatarIconRed]=D,r)),width:16,height:16,foreground:I.default.avatarIconRed}):null)))}))}))}U.displayName="User";function G(e,t){for(var n,r=[],a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=N(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{
done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(n=a()).done;){var o=n.value;if(o.user.id!==t){if(r.length>=7)return[r,!0];r.push(o)}}return[r,!1]}function F(e){var t=e.voiceStates,n=e.channel,r=e.className,u=M(a.useState(!1),2),l=u[0],s=u[1],d=l?E.default:g.default,c=R(p.default,{className:I.default.expandButton,onClick:function(){return s(!l)},color:p.CircleIconButtonColors.PRIMARY,size:p.CircleIconButtonSizes.SIZE_24,tooltip:l?b.default.Messages.VOICE_PANEL_HIDE_EXTRAS:b.default.Messages.VOICE_PANEL_SHOW_EXTRAS,icon:R(d,{width:16,height:16}),focusProps:k}),v=(0,i.useStateFromStores)([f.default],(function(){return f.default.getId()}),[]),y=M(G(t,v),2),m=y[0],_=y[1],h=_&&l?t:m;return h.length<=0?null:R(S.default,{className:(0,o.default)(I.default.scroller,r),fade:!0},void 0,R("div",{className:I.default.voiceUsers,role:"group",
"aria-label":b.default.Messages.VOICE_PANEL_USERS_A11Y_LABEL},void 0,h.map((function(e){var t=e.user,r=e.nick,a=e.voiceState;return t.id!==v?R(U,{channel:n,user:t,nick:r,mute:a.isVoiceMuted(),deaf:a.isVoiceDeafened(),video:a.selfVideo,serverMute:a.mute,serverDeaf:a.deaf},t.id):null})),_?c:null))}F.displayName="RTCConnectionVoiceUsers"},913914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(378158),i=f(n(252149)),u=f(n(530250)),l=f(n(628551)),s=f(n(582945)),d=f(n(827955));function f(e){
return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.handleContextMenu=function(e,t){(0,o.openContextMenuLazy)(e,m(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,v({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.renderUser=function(e){var t=this;return null==e?null:p(u.default,{className:d.default.user,align:u.default.Align.CENTER,onContextMenu:function(n){
null!=e&&t.handleContextMenu(n,e)}},e.id,p(l.default,{src:e.getAvatarURL(void 0,24),"aria-label":e.username,size:l.default.Sizes.SIZE_24,className:d.default.avatar}),p(i.default,{user:e,className:d.default.tag,usernameClass:d.default.username,discriminatorClass:d.default.discriminator}))};r.render=function(){var e=this,t=this.props,n=t.party,r=t.header,a=n.map((function(t){return e.renderUser(t)}));return p("div",{className:d.default.userList},void 0,p("div",{className:d.default.header},void 0,r),p(s.default,{className:d.default.content,fade:!0},void 0,a))};return t}(a.PureComponent);h.displayName="UserListPopout";var g=h;t.default=g},805918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=E(n(572935)),u=n(678928),l=n(687549),s=E(n(178504)),d=E(n(122913)),f=E(n(689389)),c=E(n(290629)),p=E(n(728429)),v=n(956506),y=n(247726),m=E(n(40049)),_=n(997988),h=n(770348),g=E(n(247001));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e){var t=e.className,n=e.style,r=e.channel,E=e.draftType,S=b(a.useState(!0),2),I=S[0],T=S[1],A=(0,o.useStateFromStores)([d.default],(function(){return d.default.hasLayers()})),C=(0,o.useStateFromStores)([f.default],(function(){return null!=r&&f.default.can(h.Permissions.ATTACH_FILES,r)}),[r]),M=null!=(0,o.useStateFromStores)([i.default],(function(){return i.default.getActiveCommand(r.id)})),N=r.getGuildId(),P=E===l.DraftType.FirstThreadMessage,R=a.useMemo((function(){return!A&&(r.isPrivate()&&!r.isManaged()||null!=N&&C&&s.default.canChatInGuild(N))}),[C,r,N,A]),w=P?g.default.Messages.UPLOAD_TO_NEW_THREAD:I?g.default.Messages.UPLOAD_TO.format({destination:(0,u.computeChannelName)(r,p.default,c.default,!0)}):g.default.Messages.UPLOAD_AREA_TITLE_NO_CONFIRMATION;return M||!R?null:O(m.default,{className:t,style:n,title:w,description:P?g.default.Messages.UPLOAD_AREA_NEW_THREAD_HELP:g.default.Messages.UPLOAD_AREA_HELP,
icons:_.DEFAULT_FILE_UPLOAD_ICONS,onDrop:function(e){if(M)return!1;if(R&&null!=r){(0,y.promptToUpload)(e,r,E,{requireConfirm:I,showLargeMessageDialog:!1});v.ComponentDispatch.dispatch(h.ComponentActions.TEXTAREA_FOCUS)}},onDragClear:function(){return T(!0)},onDragOver:function(e){if(M)return!1;P||e.shiftKey!==I||T(!e.shiftKey)}})}T.displayName="ChannelUploadArea";var A=T;t.default=A},997988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FileUploadType=t.FileUploadIconClassNames=t.EMOJI_FILE_UPLOAD_ICONS=t.DEFAULT_FILE_UPLOAD_ICONS=void 0;var r,a,o,i=(r=n(334276))&&r.__esModule?r:{default:r};t.FileUploadType=o;!function(e){e[e.IMAGE=0]="IMAGE";e[e.DOCUMENT=1]="DOCUMENT";e[e.CODE=2]="CODE"}(o||(t.FileUploadType=o={}));var u=((a={})[o.IMAGE]=i.default.image,a[o.DOCUMENT]=i.default.document,a[o.CODE]=i.default.code,a);t.FileUploadIconClassNames=u;var l=[o.DOCUMENT,o.IMAGE,o.CODE];t.DEFAULT_FILE_UPLOAD_ICONS=l;var s=[o.IMAGE,o.IMAGE,o.IMAGE]
;t.EMOJI_FILE_UPLOAD_ICONS=s},225626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(294184)),o=n(997988),i=u(n(334276));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.icons;return s("div",{className:i.default.icons},void 0,s("div",{className:i.default.wrapOne},void 0,s("div",{className:(0,a.default)(i.default.icon,i.default.one,o.FileUploadIconClassNames[t[0]])})),s("div",{className:i.default.wrapThree},void 0,s("div",{className:(0,a.default)(i.default.icon,i.default.three,o.FileUploadIconClassNames[t[2]])})),s("div",{className:i.default.wrapTwo},void 0,s("div",{className:(0,a.default)(i.default.icon,i.default.two,o.FileUploadIconClassNames[t[1]])})))}d.displayName="UploadAreaIcons";var f=d;t.default=f},164101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UPLOAD_ERROR_MODAL_KEY=void 0;t.default=_;t.openUploadError=function(e){(0,s.openModal)((function(t){
return a.createElement(_,y({},t,e))}),{modalKey:h})};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(68692)),u=n(354479),l=n(3400),s=n(194322),d=p(n(225626)),f=n(997988),c=p(n(334276));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return y.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.title,n=e.help,r=e.showPremiumUpsell,a=e.transitionState,s=e.icons,p=e.onClose,v=(0,u.useUID)(),y=null!=s?s:f.DEFAULT_FILE_UPLOAD_ICONS;return r?m(i.default,{transitionState:a,onClose:p}):m(l.ModalRoot,{size:l.ModalSize.DYNAMIC,"aria-labelledby":v,transitionState:a},void 0,m("div",{className:(0,o.default)(c.default.uploadDropModal,c.default.error)},void 0,m("div",{className:c.default.inner},void 0,m(d.default,{icons:y}),m("div",{id:v,className:c.default.title},void 0,t),m("div",{className:c.default.instructions
},void 0,n))))}_.displayName="UploadError";var h="UPLOAD_ERROR_MODAL_KEY";t.UPLOAD_ERROR_MODAL_KEY=h},285209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(441143)),i=n(536211),u=v(n(939949)),l=n(825185),s=n(914905),d=v(n(816624)),f=v(n(728429)),c=v(n(784241)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.transitionState,n=e.onClose,r=(0,i.useStateFromStores)([d.default],(function(){return d.default.getErrors()})),v=(0,i.useStateFromStores)([d.default],(function(){return d.default.getFormState()})),y=(0,i.useStateFromStores)([f.default],(function(){var e=f.default.getCurrentUser();(0,o.default)(null!=e,"EmailVerificationModal: user cannot be undefined");return e})),h=null!=y.email,g=_(a.useState(!0),2),E=g[0],S=g[1],O=v===p.FormStates.SUBMITTING;function b(e){var t,n;return null!==(t=null==r||null===(n=r[e])||void 0===n?void 0:n[0])&&void 0!==t?t:""}
var I=b("email"),T=b("password");return m(c.default,{transitionState:t,email:y.email,emailError:I,passwordError:T,submitting:O,canResend:E&&!O&&h&&0===I.length&&0===T.length,onChangeEmailClick:function(){S(!1)},onVerify:function(e,t){(0,l.saveAccountChanges)({email:e,password:t}).then((function(e){var t;(null==e?void 0:e.ok)||null==(null==e||null===(t=e.body)||void 0===t?void 0:t.username)||(0,s.showInvalidUsernameToast)()}));S(!0)},onResend:function(){u.default.verifyResend()},onClose:n})};g.displayName="EmailVerificationModal";var E=g;t.default=E},403607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY=t.EMAIL_VERIFICATION_MODAL_KEY=void 0;t.default=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(47354),i=n(536211),u=N(n(118915)),l=N(n(939949)),s=n(264720),d=n(825185),f=N(n(88509)),c=N(n(145371)),p=N(n(14096)),v=N(n(185948)),y=n(947472),m=N(n(257867)),_=N(n(871778)),h=N(n(728429)),g=n(645758),E=N(n(288800)),S=N(n(749033)),O=N(n(502197)),b=n(194322),I=N(n(285209)),T=N(n(54725)),A=n(770348),C=n(52656),M=N(n(247001));function N(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k="Email Verification";t.EMAIL_VERIFICATION_MODAL_KEY=k;var j="PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY";t.PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY=j;function U(){var e=(0,i.useStateFromStoresObject)([h.default,m.default,_.default],(function(){return{user:h.default.getUser(),action:m.default.getAction(),theme:_.default.theme}})),t=e.user,n=e.action,r=e.theme,N=null!=t&&null!=t.phone,P=A.VerificationTypes.CAPTCHA
;n===A.UserRequiredActions.REQUIRE_VERIFIED_EMAIL&&N?P=A.VerificationTypes.EMAIL:n===A.UserRequiredActions.REQUIRE_VERIFIED_EMAIL?P=A.VerificationTypes.EMAIL_OR_PHONE:n===A.UserRequiredActions.REQUIRE_VERIFIED_PHONE&&(P=A.VerificationTypes.PHONE);var L=D(a.useState(0),2),U=L[0],G=L[1],F=(0,c.default)(P);(0,v.default)({type:o.ImpressionTypes.MODAL,name:o.ImpressionNames.USER_ACTION_REQUIRED,properties:{verification_type:P}},{},[P]);var x=function(){(0,d.accountDetailsInit)();(0,b.openModal)((function(e){return a.createElement(I.default,e)}),{modalKey:k,Layer:S.default})};a.useEffect((function(){p.default.disable();return function(){p.default.enable()}}),[]);a.useEffect((function(){F===A.VerificationTypes.PHONE&&P===A.VerificationTypes.EMAIL&&(0,b.openModal)((function(e){return a.createElement(f.default,w({},e,{title:M.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_TITLE,body:M.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_BODY,
confirmText:M.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_CONFIRM}))}),{modalKey:j,Layer:S.default,onCloseCallback:x})}),[P,F]);return R(E.default,{type:P,captchaKey:U,onCaptchaVerify:function(e){u.default.post({url:A.Endpoints.CAPTCHA,body:{captcha_key:e},oldFormErrors:!0}).then(s.popLayer,(function(){G((function(e){return e+1}))}))},theme:r,onClick:function(e){e===A.VerificationTypes.EMAIL_OR_PHONE||e===A.VerificationTypes.EMAIL?x():(0,b.openModal)((function(e){return a.createElement(T.default,w({reason:y.ChangePhoneReason.USER_ACTION_REQUIRED},e))}),{modalKey:C.PHONE_VERIFICATION_MODAL_KEY,Layer:S.default})},onLogout:function(){return(0,b.openModal)((function(e){return a.createElement(O.default,w({header:M.default.Messages.LOGOUT,confirmText:M.default.Messages.LOGOUT,cancelText:M.default.Messages.CANCEL,onConfirm:function(){return l.default.logout()}},e),R(g.Text,{variant:"text-md/normal"},void 0,M.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))}),{Layer:S.default})}})}
U.displayName="Verification"},259880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.close=c;t.open=function(){f=(0,i.openModal)((function(e){return r.createElement(o.default,d({title:u.default.Messages.CONFIRM_DISABLE_SILENCE_TITLE,body:u.default.Messages.CONFIRM_DISABLE_SILENCE_BODY,secondaryConfirmText:u.default.Messages.CONFIRM_DISABLE_SILENCE_DONT_SHOW,onConfirmSecondary:p,onConfirm:c,confirmText:u.default.Messages.OKAY},e))}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(740207)),o=l(n(88509)),i=n(194322),u=l(n(247001));function l(e){
return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var f=null;function c(){null!==f&&(0,i.closeModal)(f);f=null}function p(){a.default.setSilenceWarning(!1);c()}},294398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return a.createElement(a.Fragment,null,D,L,k,j,U,G,F)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(747868),u=n(104144),l=n(567186),s=O(n(607209)),d=O(n(423046)),f=O(n(644263)),c=O(n(30098)),p=O(n(635014)),v=O(n(919935)),y=O(n(893160)),m=O(n(211136)),_=O(n(397228)),h=O(n(387692)),g=O(n(487372)),E=n(179379),S=n(770348);function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n){a.useEffect((function(){
var r=t(),a=new o.BatchedStoreListener(e,(function(){var e=t(),a=n(r,e);null==a||v.default.isSoundDisabled(a)||(0,E.playSound)(a,.4);r=e}));a.attach("useSound");return function(){return a.detach()}}))}function A(){T([p.default],(function(){return{selfMute:p.default.isSelfMute(),selfDeaf:p.default.isSelfDeaf(),audioPermissionReady:p.default.isNativeAudioPermissionReady()}}),(function(e,t){var n=t.selfMute,r=t.selfDeaf,a=t.audioPermissionReady;if(e.audioPermissionReady&&a)return e.selfDeaf!==r?r?"deafen":"undeafen":e.selfMute!==n?n?"mute":"unmute":void 0}));return null}function C(){T([f.default,y.default,m.default],(function(){var e=f.default.getChannel(m.default.getVoiceChannelId());return{channelType:null==e?void 0:e.type,disconnected:y.default.isDisconnected()}}),(function(e,t){var n=t.channelType,r=t.disconnected,a=e.channelType,o=e.disconnected;if(o&&o!==r){if(null!=n&&l.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(n))return;return"user_join"}if(!o&&o!==r){
if(null!=a&&l.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(a))return;return"disconnect"}}));return null}function M(){T([_.default],(function(){return _.default.isCurrentUserSpeaking()}),(function(e,t){if(e!==t){var n=p.default.isSelfMute();if(p.default.getMode()===S.InputModes.PUSH_TO_TALK&&!n)return t?"ptt_start":"ptt_stop"}}));return null}function N(){T([p.default],(function(){return p.default.isSelfMutedTemporarily()}),(function(e,t){if(e!==t){var n=p.default.isSelfMute();if(p.default.getMode()===S.InputModes.VOICE_ACTIVITY&&!n)return t?"ptt_stop":"ptt_start"}}));return null}function P(){T([h.default],(function(){return h.default.userHasBeenMovedVersion}),(function(e,t){if(e!==t)return"user_moved"}));return null}function R(){T([m.default,h.default],(function(){var e=m.default.getVoiceChannelId();if(null==e)return u.RequestToSpeakStates.NONE;var t=h.default.getVoiceStateForChannel(e);return(0,u.getAudienceRequestToSpeakState)(t)}),(function(e,t){
if(e!==t&&t===u.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK)return"reconnect"}));return null}function w(){T([m.default,s.default,d.default,h.default,f.default],(function(){var e,t,n=m.default.getVoiceChannelId(),r=d.default.getId(),a=0,o=[],u=null,l=0,c=s.default.getAllActiveStreams();if(null!=n){var p=f.default.getChannel(n);if(null!=p){t=p.type;a=g.default.countVoiceStatesForChannel(p.id)-1;o=s.default.getAllApplicationStreamsForChannel(p.id).map((function(e){return e.ownerId}))}}var v=null;(null===(e=v=1===c.length?c[0]:null!=r?s.default.getActiveStreamForUser(r):null)||void 0===e?void 0:e.state)===S.ApplicationStreamStates.CONNECTING&&(v=null);if(null!=v){u=(0,i.encodeStreamKey)(v);l=s.default.getViewerIds(u).filter((function(e){return e!==r})).length}return{channelType:t,voiceChannelId:n,voiceChannelUserCount:a,streamingUserIds:o,singleActiveStreamKey:u,singleActiveStreamViewerCount:l,currentUserId:r,allActiveStreams:c}}),(function(e,t){
var n=t.channelType,r=t.voiceChannelId,a=t.voiceChannelUserCount,o=t.streamingUserIds,i=t.singleActiveStreamKey,u=t.singleActiveStreamViewerCount,s=t.currentUserId;if(e.voiceChannelId===r&&null!=r&&!(function(e){var t=f.default.getChannel(e);if(null==t)return!1;var n=t.getGuildId();if(null==n)return!1;var r=c.default.getGuild(n);return null!=r&&r.afkChannelId===t.id}(r)||null!=n&&l.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(n))){var d=null!=i&&e.singleActiveStreamKey===i,p=o.some((function(t){return!e.streamingUserIds.includes(t)})),v=e.allActiveStreams.map((function(e){return e.ownerId})),y=e.streamingUserIds.some((function(e){return!o.includes(e)&&(e===s||v.includes(e))}))
;return p?"stream_started":y?"stream_ended":e.singleActiveStreamViewerCount<=25&&d&&u>e.singleActiveStreamViewerCount?"stream_user_joined":e.voiceChannelUserCount<=25&&a>e.voiceChannelUserCount?"user_join":e.voiceChannelUserCount<=25&&a<e.voiceChannelUserCount?"user_leave":e.singleActiveStreamViewerCount<=25&&d&&u<e.singleActiveStreamViewerCount?"stream_user_left":void 0}}));return null}var D=I(A,{}),L=I(C,{}),k=I(M,{}),j=I(N,{}),U=I(P,{}),G=I(w,{}),F=I(R,{})},351336:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-11_compact_avatars",label:"Compact Avatars",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});t.default=r},224276:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.HELP_CENTER_LINK=void 0;var r=n(373505);t.HELP_CENTER_LINK="https://support.discord.com/hc/en-us/articles/6181726888215";var a=(0,
r.createExperiment)({kind:"user",id:"2022-06_verification_required_copy_changes",label:"Show default copy on the Start Verification page",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Show updated copy and link to Help Center Article",config:{enabled:!0}}]});t.default=a},244165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=r.useRef(null),n=r.useCallback((function(n){if(null!=e){"function"==typeof e?e(n):e.current=n;t.current=n}}),[e]);return[t,n]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function a(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},267115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,l.useModalsStore)((function(e){return t=e,!Object.entries(t).every((function(e){var t=c(e,2);t[0];return 0===t[1].length}));var t})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.isOpen()})),n=(0,a.useStateFromStores)([i.default],(function(){return i.default.hasLayers()})),d=c(r.useState(!1),2),f=d[0],p=d[1],v=(0,o.useWindowDispatch)();r.useEffect((function(){function e(){p(!0)}function t(){p(!1)}v.subscribe(s.ComponentActions.POPOUT_SHOW,e);v.subscribe(s.ComponentActions.POPOUT_HIDE,t);return function(){v.unsubscribe(s.ComponentActions.POPOUT_SHOW,e);v.unsubscribe(s.ComponentActions.POPOUT_HIDE,t)}}),[v]);return e||t||f||n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=n(433383),i=d(n(122913)),u=d(n(433512)),l=n(194322),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},876647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(i=(0,r.useState)((function(){return window.matchMedia(e).matches})),u=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(i,u)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(i,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],o=t[1];var i,u;(0,r.useEffect)((function(){var t=window.matchMedia(e);function n(e){var t=e.matches;o(t)}t.addEventListener("change",n);return function(){t.removeEventListener("change",n)}}),[e]);return n};var r=n(667294);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},
606306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=u((0,o.default)(),2),t=e[0],n=e[1],r=u(a.useState(),2),i=r[0],l=r[1];a.useEffect((function(){null==i&&null!=n&&l(n)}),[i,n]);return[t,i]};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(391382))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},646002:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.uploadDebugFiles=function(){return y.apply(this,arguments)};var r=f(n(980569)),a=n(327269),o=f(n(791548)),i=f(n(635014)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(905835)),l=f(n(387316)),s=n(770348);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){
var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}var v=25e5;function y(){return(y=p(regeneratorRuntime.mark((function e(){var t,n,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=l.default.fileManager.readLogFiles){e.next=2;break}throw new a.UploadVoiceDebugLogsError(a.UploadErrorCodes.GENERAL);case 2:t=[];e.prev=3;e.next=6;return l.default.fileManager.readLogFiles(v);case 6:t=(t=e.sent).map((function(e){return u.transformNativeFile(e,"application/octet-stream")}));e.next=14;break;case 10:e.prev=10;e.t0=e.catch(3);console.log("uploadDebugFiles: read error '"+e.t0+"'");throw new a.UploadVoiceDebugLogsError(a.UploadErrorCodes.READ);case 14:if(0!==t.length){e.next=16;break}throw new a.UploadVoiceDebugLogsError(a.UploadErrorCodes.NO_FILE);case 16:e.prev=16;n=r.default.post(s.Endpoints.DEBUG_LOGS(s.DebugLogCategory.RTC));t.forEach((function(e){return n.attach(e.name,e,e.name)}))
;d=new Blob([JSON.stringify(i.default.getState(),void 0,2)]);n.attach("media_engine_state.json",d,"media_engine_state.json");e.next=23;return n;case 23:e.next=33;break;case 25:e.prev=25;e.t1=e.catch(16);if(429!==e.t1.status){e.next=31;break}throw new a.UploadVoiceDebugLogsError(a.UploadErrorCodes.PROGRESS);case 31:new o.default("DebugUploadManager").error("Debug log upload error: status: "+e.t1.status+", message: "+e.t1.message);throw new a.UploadVoiceDebugLogsError(a.UploadErrorCodes.UPLOAD);case 33:case"end":return e.stop()}}),e,null,[[3,10],[16,25]])})))).apply(this,arguments)}},191224:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(717187)),a=n(864489),o=l(n(922629)),i=n(339943),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=[],p=function(e,t,n){var r=(0,a.isWindows)()?0:1
;e===u.KeyboardDeviceTypes.MOUSE_BUTTON&&n===r||c.forEach((function(r){return r._handleEvent(e,t,n)}))},v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){var t;(t=e.call(this)||this).combo=[];c.push(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t));1===c.length&&o.default.setOnInputEventCallback(p);return t}var n=t.prototype;n.destroy=function(){var e=this;this.removeAllListeners();0===(c=c.filter((function(t){return t!==e}))).length&&o.default.setOnInputEventCallback(null)};n.toString=function(){return(0,i.toString)(this.combo)};n._handleEvent=function(e,t,n){if(0===t)this.combo=this.combo.filter((function(t){var r=s(t,2),a=r[0],o=r[1];return!(a===e&&o===n)}));else{this.combo.push([e,n,(0,i.getEnv)()]);this.emit("change",this)}};return t}(r.default);t.default=v},448549:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.cancelAll=function(){o&&speechSynthesis.cancel()};t.createUtterance=i;t.speak=function(e,t,n){if(o){var r=i(e,n);u(r,t);return r}};t.speakUtterance=u;t.supported=void 0;var r,a=(r=n(91603))&&r.__esModule?r:{default:r};var o=null!=window.speechSynthesis;t.supported=o;function i(e,t){var n=e.replace(/(https?:\/\/[^\s]+)/g,(function(e){var t=e.match(/^https?:\/\/(?:www\.)?([^/?#]+)(?:[/?#]|$)/i);return null!=t?t[1]:""}));null!=t&&n.length>t&&(n=(n=n.substr(0,t)).substr(0,Math.min(n.length,n.lastIndexOf(" "))));var r=new SpeechSynthesisUtterance(n);r.rate=a.default.speechRate;return r}function u(e,t){if(o){e.voice=t;speechSynthesis.speak(e)}}},697255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.analyze=f;t.createASTHighlighter=function(e){var t=new Set(f(e));return function(e){return p(e,t)}};t.highlightAST=p;t.shouldHighlight=c;var r=o(n(496486)),a=o(n(470661));function o(e){return e&&e.__esModule?e:{default:e}}
var i=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function u(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function l(e){return e.toLowerCase()}function s(e){return i.has(e)}function d(e){return 0===e.length}function f(e){return(0,r.default)(e.split(/\W+/)).map(u).reject(d).map(l).reject(s).map(a.default).value()}function c(e,t){return!d(e=l(u(e)))&&!s(e)&&t.has((0,a.default)(e))}function p(e,t){if(Array.isArray(e))e.forEach((function(e){return p(e,t)}));else if("string"==typeof e.content&&"codeBlock"!==e.type){var n=[],r="";e.content.split(/(\W+)/g).forEach((function(e){if(c(e,t)){r.length>0&&n.push({type:"text",content:r});n.push({type:"highlight",content:e});r=""}else r+=e}));if(n.length>0){r.length>0&&n.push({type:"text",content:r});"text"===e.type?e.content=n:e.content=[{type:"text",content:n}]}
}else null!=e.content&&p(e.content,t);return e}},79300:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2022-05_role_styles_setting",label:"Role Styles Setting",defaultConfig:{allowRoleStyles:!1},treatments:[{id:1,label:"Allow Role Styles Setting",config:{allowRoleStyles:!0}}]});t.default=r},866388:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.summerOfUsabilityEnabled=function(){return r.getCurrentConfig({}).enabled};var r=(0,n(373505).createExperiment)({kind:"user",id:"2022-07_summer_of_usability",label:"Summer of Usability Event",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Event experience enabled",config:{enabled:!0}}]}),a=r;t.default=a},143194:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchActiveChannels=function(e,t){return d.apply(this,arguments)}
;var r=u(n(118915)),a=u(n(636602)),o=u(n(568681)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,u,"next",e)}function u(e){l(o,r,a,i,u,"throw",e)}i(void 0)}))}}function d(){return(d=s(regeneratorRuntime.mark((function e(t,n){var u,l,s,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===n&&(n=10);a.default.dirtyDispatch({type:i.ActionTypes.ACTIVE_CHANNELS_FETCH_START,guildId:t});e.prev=2;e.next=5;return r.default.get({url:i.Endpoints.ACTIVE_CHANNELS(t),query:{channel_limit:n}});case 5:s=e.sent;d=null!==(u=null===(l=s.body)||void 0===l?void 0:l.channels)&&void 0!==u?u:[];a.default.dispatch({type:i.ActionTypes.ACTIVE_CHANNELS_FETCH_SUCCESS,guildId:t,channels:d});return e.abrupt("return",s)
;case 11:e.prev=11;e.t0=e.catch(2);a.default.dispatch({type:i.ActionTypes.ACTIVE_CHANNELS_FETCH_FAILURE,guildId:t,error:new o.default(e.t0)});throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}},65770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var s=(0,a.useStateFromStores)([o.default],(function(){var t=o.default.getActiveChannelsFetchStatus(e);return null!=t&&!t.loading}),[e]);r.useEffect((function(){s&&u.default.track(l.AnalyticEvents.ACTIVE_CHANNELS_LOADED,{guild_id:e,text_channels_shown:t.length,voice_channels_shown:n.length,home_session_id:i.default.getHomeSessionId(e)})}),[e,s])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=s(n(304242)),i=s(n(173101)),u=s(n(308920)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}},631735:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.activitiesNitroExperimentTreatments=t.activitiesNitroExperimentId=t.ActivitiesNitroExperiment=void 0;var r=n(373505),a="2022-04_activities_nitro";t.activitiesNitroExperimentId=a;var o=[{id:0,label:"Control",config:{enableNitroActivities:!1}},{id:1,label:"Enable Nitro Activities",config:{enableNitroActivities:!0}},{id:2,label:"Enable Nitro Activities 2",config:{enableNitroActivities:!0}}];t.activitiesNitroExperimentTreatments=o;var i=(0,r.createExperiment)({kind:"user",id:a,label:"Activities in Nitro",
defaultConfig:{enableNitroActivities:!1},treatments:o});t.ActivitiesNitroExperiment=i},678164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createRolloutExperiment=void 0;t.useActivitiesRolloutExperiments=function(e){r.useEffect((function(){null!=e&&u.forEach((function(t){t.trackExposure({guildId:e})}))}),[e])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(373505);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var i=function(e,t){return(0,a.createExperiment)({
kind:"guild",id:t,label:"Exposure tracking for "+e+" (do not override)",defaultConfig:{},treatments:[]})};t.createRolloutExperiment=i;var u=[i("Watch Together","2021-09_watch_together_rollout")]},608286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useNitroChatInputActivityButton=t.ChatInputNitroActivityButtonExperiment=void 0;var r,a=n(536211),o=n(373505),i=(r=n(728429))&&r.__esModule?r:{default:r},u=n(631735);var l=(0,o.createExperiment)({kind:"user",id:"2022-05_nitro_chat_input_activity_button",label:"Nitro chat input activity button",defaultConfig:{enableNitroActivityButton:!1},treatments:[{id:0,label:"Control",config:{enableNitroActivityButton:!1}},{id:1,label:"Enable Nitro chat input activity button - Treatment 1",config:{enableNitroActivityButton:!0}}]});t.ChatInputNitroActivityButtonExperiment=l;t.useNitroChatInputActivityButton=function(){var e,t,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.getCurrentUser()
})),r=u.ActivitiesNitroExperiment.useExperiment(null!==(e=null==n?void 0:n.id)&&void 0!==e?e:"").enableNitroActivities,o=l.useExperiment({userId:null!==(t=null==n?void 0:n.id)&&void 0!==t?t:""}).enableNitroActivityButton;if(r){var s;l.trackExposure({userId:null!==(s=null==n?void 0:n.id)&&void 0!==s?s:""})}return r&&o}},698462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useBeb=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=(r=n(30098))&&r.__esModule?r:{default:r},u=n(929659),l=n(746920),s=n(770348);function d(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}t.useBeb=function(e){var t=(0,o.useStateFromStores)([i.default],(function(){return i.default.getGuild(e)})),n=u.ActivitiesBebExperiment.useExperiment({guildId:null!=e?e:""}),r=n.enableBeb,d=n.exposedToBeb;a.useEffect((function(){null!=e&&u.ActivitiesBebExperiment.trackExposure({guildId:e})}),[e]);a.useEffect((function(){var e=setTimeout((function(){d&&null!=t&&!t.features.has(s.GuildFeatures.EXPOSED_TO_ACTIVITIES_WTP_EXPERIMENT)&&(0,l.enableWtpGuildFeature)(t.id)}),1e4+1e4*Math.random());return function(){return clearTimeout(e)}}),[t,d]);return r}},845715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=a.default.getId(),n=(0,r.useStateFromStoresObject)([o.default],(function(){var n,r=o.default.getSelfEmbeddedActivityForChannel(e.id),a=null===(n=o.default.getEmbeddedActivitiesForChannel(e.id).find((function(e){
return e.application_id===(null==r?void 0:r.application_id)})))||void 0===n?void 0:n.connections,i=null==a?void 0:a.has(t);return{userActivity:r,inActivity:null!=i&&i}})),i=n.userActivity,u=n.inActivity;return{userActivity:i,inActivity:u}};var r=n(536211),a=i(n(423046)),o=i(n(303798));function i(e){return e&&e.__esModule?e:{default:e}}},186096:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useFreeActivityIndicator=void 0;var r=n(536211),a=l(n(30098)),o=n(929659),i=l(n(303798)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}t.useFreeActivityIndicator=function(e){var t=e.guildId,n=e.appId,l=(0,r.useStateFromStores)([a.default],(function(){return a.default.getGuild(t)})),s=null!=l&&l.premiumTier===u.BoostedGuildTiers.NONE,d=o.ActivitiesBebExperiment.useExperiment({guildId:null!=t?t:""}).hasRotatingActivity,f=(0,r.useStateFromStoresObject)([i.default],(function(){return{
shouldShowFreeIndicator:i.default.getState().shouldShowNewActivityIndicator||d&&s&&i.default.shouldShowIndicatorForActivity(n),isRotatingFreeActivity:d&&s&&i.default.getState().currentFreeActivity===n}}));return{shouldShowFreeIndicator:f.shouldShowFreeIndicator,isRotatingFreeActivity:f.isRotatingFreeActivity}}},845260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){void 0===n&&(n=window);var a=(0,o.useStateFromStores)([l.default],(function(){return l.default.keyboardModeEnabled})),f=(0,i.default)(),c=(h=r.useState(!1),g=2,function(e){if(Array.isArray(e))return e}(h)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(h,g)||function(e,t){if(e){
if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(h,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=c[0],m=c[1],_=(0,u.useWindowDispatch)();var h,g;r.useEffect((function(){if(t){n.addEventListener("blur",e);return function(){return n.removeEventListener("blur",e)}}function e(){if(f){_.dispatch(d.ComponentActions.POPOUT_CLOSE);s.ComponentDispatch.dispatch(d.ComponentActions.CONTEXT_MENU_CLOSE)}}}),[n,f,t,_]);r.useEffect((function(){var r,o;if(!a&&y&&t){var i=f;null===(r=e.current)||void 0===r||r.addEventListener("focusout",l);if("IFRAME"!==(null===(o=n.document.activeElement)||void 0===o?void 0:o.tagName)&&!i){var u
;null===(u=e.current)||void 0===u||u.focus()}return function(){var t;null===(t=e.current)||void 0===t||t.removeEventListener("focusout",l);i=!0}}function l(t){var n=t.relatedTarget;setTimeout((function(){null!=n&&"BUTTON"!==n.tagName||i||v(e)}),100)}}),[t,y,a,e,n,f]);return m};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(496486),o=n(536211),i=f(n(267115)),u=n(433383),l=f(n(235879)),s=n(956506),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){
return e?n:t})(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=(0,a.debounce)((function(e){setTimeout((function(){var t;null===(t=e.current)||void 0===t||t.focus()}),0)}),50)},120021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useInflatedBundleItem=function(e,t,n){var r,a=m(e,n);return null!==(r=a.find((function(e){return e.application.id===t})))&&void 0!==r?r:null};t.useInflatedBundleItems=m;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=n(536211),o=c(n(469487)),i=c(n(424099)),u=n(71246),l=n(864489),s=c(n(303798)),d=c(n(493040)),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=(0,a.useStateFromStores)([i.default],(function(){return i.default.testModeEmbeddedApplicationId})),c=(0,a.useStateFromStoresArray)([s.default],(function(){return s.default.getBundleItems(null!=e?e:"")})),p=r.useMemo((function(){return null==n||""===n?c:[{application_id:n,expires_on:null,premium_tier_level:f.BoostedGuildTiers.NONE,new_until:null,always_free:!1,nitro_requirement:!1}].concat(v(c.filter((function(e){return e.application_id!==n}))))}),[c,n]);return(0,o.default)(p.map((function(e){return e.application_id}))).filter(u.isNotNullish).map((function(e){return{application:e,bundleItem:p.find((function(t){return t.application_id===e.id}))}})).filter((function(e){var r;return(null!==(r=null!=t?t:e.application.activitySupportedPlatforms)&&void 0!==r?r:[]).includes((0,d.default)((0,l.getOS)()))||e.application.id===n}))}},198016:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,r.useInflatedBundleItems)(e).length>0};var r=n(120021)},282827:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getEmbeddedActivitiesForChannel(t).some((function(e){return e.connections.size>0}))}))};var r,a=n(536211),o=(r=n(303798))&&r.__esModule?r:{default:r}},749401:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channel,n=e.userActivity,o=e.inActivity,i=e.embeddedActivitiesManager;r.useEffect((function(){if(!o){i.initialize();(0,a.launchEmbeddedActivity)(t.id)}}),[null==n?void 0:n.application_id,t.id,o,i])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(746920);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},645068:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.allowPopups,a=e.allowPointerLock,o=r;t&&(o=[].concat(r,["allow-popups","allow-popups-to-escape-sandbox"]));a&&(o=[].concat(function(e){if(Array.isArray(e))return n(e)}(i=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name)
;return"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["allow-pointer-lock"]));var i;return o.join(" ")};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r=["allow-scripts","allow-same-origin"]},493040:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){switch(e){case"android":return r.EmbeddedActivitySupportedPlatforms.ANDROID;case"ios":return r.EmbeddedActivitySupportedPlatforms.IOS;default:return r.EmbeddedActivitySupportedPlatforms.WEB}};var r=n(81069)},24803:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,o=e.applicationId,u=e.shouldDisconnectCall;(0,
a.openModalLazy)(l(regeneratorRuntime.mark((function e(){var a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(12404)]).then(n.bind(n,212404));case 2:a=e.sent;l=a.default;return e.abrupt("return",(function(e){return r.createElement(l,i({applicationId:o,channelId:t,shouldDisconnectCall:u},e))}));case 5:case"end":return e.stop()}}),e)}))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(194322);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(o=function(e){return e?n:t})(e)}function i(){i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return i.apply(this,arguments)}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))}}},933577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.applicationId,n=e.size,o=e.names,l=void 0===o?s:o,d=i(r.useState(null),2),f=d[0],c=d[1],p=i(r.useState(!0),2),v=p[0],y=p[1],m=(0,a.getAssetImage)(t,f,n),_=v?"loading":null!=m?"fetched":"not-found";r.useEffect((function(){(0,a.getAssetIds)(t,l).then((function(e){y(!1);for(var t,n=function(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=n()).done;){var r=t.value;if(null!=r&&""!==r){c(r);return}}}))}),[t]);return{url:m,state:_}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(698243)
;function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}
function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=["embedded_cover","embedded_background"]},695475:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useWarnLastEligibleHost=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(728429)),o=n(71246),i=n(631735),u=s(n(303798)),l=s(n(24803));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}
t.useWarnLastEligibleHost=function(e){var t=e.channelId,n=e.shouldDisconnectCall,s=void 0!==n&&n,d=i.ActivitiesNitroExperiment.useExperiment({},{autoTrackExposure:!0}).enableNitroActivities,f=u.default.getSelfEmbeddedActivityForChannel(t),c=a.default.getCurrentUser(),p=null==f?void 0:f.application_id,v=!(null==c||!(0,o.isNotNullish)(p))&&u.default.isLastEligibleHost(c.id,p);return r.useCallback((function(){if(d&&v&&(0,o.isNotNullish)(p)){(0,l.default)({applicationId:p,channelId:t,shouldDisconnectCall:s});return!0}return!1}),[p,t,d,v,s])}},345840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ACTIVITY_ENCOURAGES_HW_ACCELERATION=void 0;t.default=T;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(929031)),i=h(n(469487)),u=h(n(956117)),l=h(n(789446)),s=h(n(530250)),d=n(645758),f=n(3400),c=h(n(308920)),p=h(n(922629)),v=n(770348),y=h(n(247001)),m=h(n(131378)),_=["applicationId"];function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I="Activity Encourages Hardware Acceleration";t.ACTIVITY_ENCOURAGES_HW_ACCELERATION=I;function T(e){var t,n=e.applicationId,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,_),h=O(a.useState(!1),2),g=h[0],b=h[1],T=O((0,i.default)([n]),1)[0],A=null!==(t=null==T?void 0:T.name)&&void 0!==t?t:"This Activity";a.useEffect((function(){c.default.track(v.AnalyticEvents.OPEN_MODAL,{type:I})}),[]);var C=function(){var e="temporary";if(g){e="permanent";o.default.updatedUnsyncedSettings({disableActivityHardwareAccelerationPrompt:!0})}c.default.track(v.AnalyticEvents.MODAL_DISMISSED,{type:I,dismiss_type:e});r.onClose()}
;return a.createElement(f.ModalRoot,E({className:m.default.root,"aria-label":y.default.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_TITLE},r),S(f.ModalHeader,{separator:!1},void 0,S(d.Text,{className:m.default.header,variant:"text-lg/normal"},void 0,y.default.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_TITLE),S(f.ModalCloseButton,{onClick:C,className:m.default.closeButton})),S(f.ModalContent,{className:m.default.content},void 0,S(d.Text,{variant:"text-md/normal",className:m.default.ratingBody},void 0,y.default.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_BODY.format({applicationName:A}))),S(f.ModalFooter,{className:m.default.footer,direction:s.default.Direction.HORIZONTAL},void 0,S(l.default,{type:l.default.Types.INVERTED,size:18,value:g,onChange:function(){return b(!g)}},void 0,S(d.Text,{variant:"text-sm/normal"},void 0,y.default.Messages.DONT_SHOW_AGAIN)),S(u.default,{color:u.default.Colors.PRIMARY,onClick:C
},void 0,y.default.Messages.ACTIVITY_HARDWARE_ACCELERATION_NO_THANKS),S(u.default,{color:u.default.Colors.BRAND,onClick:function(){c.default.track(v.AnalyticEvents.ACTIVITY_ENABLE_HARDWARE_ACCELERATION,{application_id:n});p.default.setEnableHardwareAcceleration(!0)}},void 0,y.default.Messages.ACTIVITY_HARDWARE_ACCELERATION_TURN_IT_ON)))}T.displayName="ActivityHardwareAccelerationModal"},71805:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.url,n=e.className,r=e.style,y=e.onLoad,m=e.shouldRefocus,g=e.queryParams,E=e.allowPointerLock,S=void 0!==E&&E,O=e.allowPopups,b=void 0!==O&&O,I=e.referrerPolicy,T=void 0===I?"origin":I,A=(0,u.useStateFromStores)([l.default],(function(){return l.default.getWindow(v.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),C=(0,o.useMemoOne)((function(){return i.default.v4()}),[t]),M=a.useRef(null),N=(0,f.default)(M,m,null==A?window:A),P=h({},g,{frame_id:C,platform:p.ActivityPlatform.DESKTOP})
;a.useEffect((function(){d.ComponentDispatch.dispatch(v.ComponentActions.IFRAME_MOUNT,{id:C});return function(){d.ComponentDispatch.dispatch(v.ComponentActions.IFRAME_UNMOUNT,{id:C})}}),[C]);return null!=t?_("iframe",{style:r,allow:"autoplay",referrerPolicy:T,onLoad:function(e){var n;null==y||y(e.target);M.current=e.target;N(!0);null===(n=e.target.contentWindow)||void 0===n||n.postMessage([s.default.HELLO,P],null!=t?t:"")},sandbox:(0,c.default)({allowPopups:b,allowPointerLock:S}),className:n,src:t+"?"+new URLSearchParams(P)}):null};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(551163),i=y(n(468811)),u=n(536211),l=y(n(902305)),s=y(n(676606)),d=n(956506),f=y(n(845260)),c=y(n(645068)),p=n(418173),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}},769195:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=d(n(636602)),i=n(720409),u=d(n(902305)),l=n(956506),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var c=function(e,t){return o.default.wait((function(){(0,i.updateRect)(e,t)}))};function p(e){var t,n=e.embedId,o=e.className,i=e.style,d=(0,a.useStateFromStores)([u.default],(function(){
return u.default.getWindow(s.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),f=null!==(t=null==d?void 0:d.window)&&void 0!==t?t:window,p=r.useRef(null),v=r.useMemo((function(){var e=null;return function(){null==e&&(e=f.requestAnimationFrame((function(){var t,r;c(n,null!==(t=null===(r=p.current)||void 0===r?void 0:r.getBoundingClientRect())&&void 0!==t?t:null);e=null})))}}),[n,f]);r.useEffect((function(){f.addEventListener("resize",v);l.ComponentDispatch.subscribe(s.ComponentActions.REMEASURE_TARGET,v);return function(){f.removeEventListener("resize",v);l.ComponentDispatch.unsubscribe(s.ComponentActions.REMEASURE_TARGET,v)}}),[v,f]);r.useLayoutEffect((function(){var e=p.current;if(null!=e){var t=e.ownerDocument.defaultView;if(null!=t){v();var r=new t.ResizeObserver(v);r.observe(e);return function(){r.disconnect();c(n,null)}}}}),[n,v]);return r.createElement("div",{ref:p,style:i,className:o})}p.displayName="EmbedTarget"},245546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.MaskColor=t.FreeActivityIndicatorDot=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=u(n(294184)),i=u(n(250242));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.MaskColor=a;!function(e){e[e.POPOUT=0]="POPOUT";e[e.SECONDARY=1]="SECONDARY";e[e.BLACK=2]="BLACK"}(a||(t.MaskColor=a={}));var d=function(e){var t,n=e.left,r=void 0===n?void 0:n,u=e.top,l=void 0===u?0:u,d=e.right,f=void 0===d?0:d,c=e.bottom,p=void 0===c?void 0:c,v=e.size,y=void 0===v?8:v,m=e.alert,_=void 0!==m&&m,h=e.maskColor,g=void 0===h?a.SECONDARY:h;return s("span",{className:(0,o.default)(i.default.dot,(t={},t[i.default.alert]=_,t[i.default.maskPopout]=g===a.POPOUT,t[i.default.maskSecondary]=g===a.SECONDARY,t[i.default.maskBlack]=g===a.BLACK,t)),style:{height:y,width:y,left:r,top:l,right:f,bottom:p}})};t.FreeActivityIndicatorDot=d;d.displayName="FreeActivityIndicatorDot"},765304:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=g(n(636602)),o=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(720409)),i=g(n(177230)),u=g(n(902305)),l=g(n(644263)),s=g(n(122913)),d=g(n(218843)),f=g(n(893160)),c=g(n(211136)),p=g(n(790597)),v=g(n(387692)),y=g(n(303798)),m=g(n(322946)),_=n(770348);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function S(){
var e=f.default.getChannelId(),t=y.default.getSelfEmbeddedActivityForChannel(null!=e?e:""),n=l.default.getChannel(e);return null==e||null==n||null==t?function(){var e=r;if(null!=e&&d.default.isOpen(e)){a.default.wait((function(){return o.close(e)}));r=null}}():function(e,t){if(d.default.isOpen(t))return!1;a.default.wait((function(){return o.open(t,_.PictureInPictureComponents.EMBED_IFRAME,{channel:e})}));r=t}(n,(0,m.default)(n.id,t.application_id))}function O(){var e,t=s.default.hasLayers(),n=u.default.getWindowOpen(_.PopoutWindowKeys.CHANNEL_CALL_POPOUT);return t&&!n?void(null!=(e=r)&&d.default.isOpen(e)&&a.default.wait((function(){return o.hide(e)}))):function(){var e=r;null!=e&&d.default.isOpen(e)&&a.default.wait((function(){return o.show(e)}))}()}var b=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){c.default.addChangeListener(S)
;p.default.addChangeListener(S);f.default.addChangeListener(S);v.default.addChangeListener(S);u.default.addChangeListener(S);y.default.addChangeListener(S);s.default.addChangeListener(O)};n._terminate=function(){c.default.removeChangeListener(S);p.default.removeChangeListener(S);f.default.removeChangeListener(S);v.default.removeChangeListener(S);u.default.removeChangeListener(S);y.default.removeChangeListener(S);s.default.removeChangeListener(O)};n.__getLocalVars=function(){return{openEmbedId:r}};return t}(i.default));t.default=b},321405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=w(n(294184)),i=n(536211),u=w(n(636602)),l=w(n(229132)),s=w(n(505437)),d=n(264720),f=w(n(825724)),c=w(n(902305)),p=n(139982),v=w(n(611456)),y=n(421622),m=w(n(625905)),_=n(518180),h=w(n(218843)),g=w(n(211136)),E=w(n(949898)),S=w(n(80828)),O=w(n(303798)),b=w(n(71805)),I=n(982784),T=n(648927),A=n(418173),C=n(770348),M=n(859089),N=w(n(544009)),P=w(n(201768)),R=["channel"];function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=new Set([A.YOUTUBE_APPLICATION_ID,A.WATCH_YOUTUBE_DEV_APP_ID,A.WATCH_YOUTUBE_PROD_APP_ID]),F=new Set([A.PUTT_PARTY_APPLICATION_DEV_ID,A.PUTT_PARTY_APPLICATION_STG_ID,A.PUTT_PARTY_APPLICATION_QA_ID,A.PUTT_PARTY_APPLICATION_ID]),x=new Set([A.WATCH_YOUTUBE_DEV_APP_ID,A.WATCH_YOUTUBE_PROD_APP_ID]);function B(e){var t=e.channel,n=e.isLoading,r=j(a.useState(!1),2),T=r[0],A=r[1],R=(0,i.useStateFromStores)([O.default],(function(){return O.default.getSelfEmbeddedActivityForChannel(t.id)})),w=null==R?void 0:R.activity_id,D=(0,i.useStateFromStores)([g.default],(function(){return g.default.getChannelId()===t.id})),L=(0,
i.useStateFromStoresObject)([h.default],(function(){var e=h.default.pipWindow;return{dockedRect:null!=e?h.default.getDockedRect(e.id):null,isHidden:h.default.isEmbeddedActivityHidden()}})),U=L.dockedRect,B=L.isHidden,H=(0,i.useStateFromStoresObject)([c.default,E.default],(function(){var e=c.default.getWindow(C.PopoutWindowKeys.CHANNEL_CALL_POPOUT);return{popoutWindow:e,windowWidth:c.default.getWindowOpen(C.PopoutWindowKeys.CHANNEL_CALL_POPOUT)&&null!=e?e.innerWidth:E.default.windowSize().width-C.LEFT_PANEL_WIDTH}})),V=H.popoutWindow,W=H.windowWidth,Y=(0,i.useStateFromStoresObject)([f.default],(function(){return{activityParticipant:null!=R?f.default.getParticipant(t.id,R.application_id):null,selectedParticipant:f.default.getSelectedParticipant(t.id),participantsOpen:f.default.getParticipantsOpen(t.id),layout:f.default.getLayout(t.id,C.AppContext.APP)}})),K=Y.activityParticipant,z=Y.selectedParticipant,$=Y.participantsOpen,q=Y.layout,Q=(0,
_.useIsTextInVoiceEnabled)(t.guild_id),X=W<=y.FORCE_HIDE_PARTICIPANTS_WIDTH,Z=D||null!=V,J=Z&&(null==z?void 0:z.type)!==M.ParticipantTypes.ACTIVITY&&null==U,ee=(!Z||J)&&!B,te=!X&&!Q&&![C.ChannelLayouts.MINIMUM,C.ChannelLayouts.NORMAL].includes(q),ne=te&&$;a.useEffect((function(){null!=(null==R?void 0:R.application_id)&&u.default.dirtyDispatch({type:C.ActionTypes.ACTIVITY_PIP_MODE_UPDATE,isPIPMode:ee,applicationId:R.application_id})}),[null==R?void 0:R.application_id,ee]);function re(){var e;null!=R&&l.default.selectParticipant(t.id,R.application_id);if(null==V){(0,d.popAllLayers)();var n=null!==(e=t.getGuildId())&&void 0!==e?e:C.ME;s.default.channelListScrollTo(n,t.id);(0,p.transitionToGuild)(n,t.id)}}function ae(){A(!T)}return null==R||null==w||null==K?null:k(m.default,{timeout:2e3},void 0,(function(e){var r,i,u,l,s,d=e.idle,f=e.onActive;return k(v.default,{className:(0,o.default)(N.default.root,(i={},i[N.default.pipMode]=ee,
i[P.default.idle]=d&&!(null===(r=R.config)||void 0===r?void 0:r.useInteractivePIP),i[N.default.pipModeShort]=ee&&!T,i[N.default.pipModeTall]=ee&&T,i[N.default.hidden]=B,i)),noBorder:!ne&&!ee},void 0,function(e,n){var r;return ee&&null!=R&&(null==K?void 0:K.type)===M.ParticipantTypes.ACTIVITY?(null===(r=R.config)||void 0===r?void 0:r.useInteractivePIP)?k(I.InteractivePIPHeader,{onJumpToChannel:re,applicationId:R.application_id,channel:t,showControls:!n,onMouseMove:e,onMouseEnter:e,onToggleHeight:ae,isExpanded:T}):a.createElement(a.Fragment,null,k("div",{onMouseMove:e,onMouseDown:e,className:N.default.clickShield,onDoubleClick:re}),k(I.PIPOverlay,{idle:n,onJumpToChannel:re,channel:t,applicationId:R.application_id,selectedParticipant:K})):null}(f,d),n?k(S.default,{className:(0,o.default)(N.default.iframe,(u={},u[N.default.pipModeShort]=ee&&!T,u[N.default.pipModeTall]=ee&&T,u))}):k(b.default,{allowPopups:G.has(R.application_id),allowPointerLock:F.has(R.application_id),
referrerPolicy:x.has(R.application_id)?"no-referrer":"origin",url:R.url,queryParams:{instance_id:w,channel_id:t.id,guild_id:t.guild_id},className:(0,o.default)(N.default.iframe,(s={},s[N.default.pipModeShort]=ee&&!T,s[N.default.pipModeTall]=ee&&T,s[N.default.pipNonInteractive]=ee&&!(null===(l=R.config)||void 0===l?void 0:l.useInteractivePIP),s)),shouldRefocus:!ee&&D}),!ee&&k(I.TileOverlay,{participantsOpen:$,showToggleParticipants:te,channelId:t.id}))}))}B.displayName="PersistentIFrame";var H=function(e){var t=e.channel,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,R),r=(0,T.useEmbeddedActivityLifecycle)(t).isLoading;return a.createElement(B,L({channel:t,isLoading:r},n))};H.displayName="PictureInPictureEmbeddedActivity";var V=H;t.default=V},982784:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.InteractivePIPHeader=G;t.PIPOverlay=U;t.TileOverlay=function(e){
var t=e.channelId,n=e.participantsOpen;return e.showToggleParticipants?k(g.default,{channelId:t,isParticipantsOpen:n,className:P.default.participantsButton}):null};var r,a=L(n(667294)),o=w(n(294184)),i=n(536211),u=w(n(740207)),l=n(433383),s=w(n(469487)),d=w(n(310268)),f=L(n(8475)),c=w(n(770404)),p=w(n(493051)),v=w(n(134893)),y=n(244612),m=w(n(143414)),_=w(n(67286)),h=w(n(866219)),g=w(n(715801)),E=w(n(645675)),S=w(n(635014)),O=w(n(530250)),b=w(n(160490)),I=w(n(775803)),T=n(746920),A=w(n(804330)),C=n(770348),M=n(478036),N=w(n(247001)),P=w(n(844203)),R=w(n(201768));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e){var t,n=e.onClick,r=e.isExpanded;return k(m.default,{iconClassName:(0,o.default)(P.default.arrowIcon,(t={},t[P.default.arrowIconExpanded]=r,t)),onClick:n,iconComponent:b.default,label:r?N.default.Messages.PICTURE_IN_PICTURE_COLLAPSE:N.default.Messages.PICTURE_IN_PICTURE_EXPAND})}j.displayName="TogglePIPHeightButton";function U(e){
var t,n,r=e.channel,a=e.applicationId,o=e.onJumpToChannel,m=e.idle,g=e.selectedParticipant,b=(0,l.useAppContext)()===C.AppContext.POPOUT,I=(0,i.useStateFromStores)([S.default],(function(){return S.default.isVideoEnabled()})),N=(0,i.useStateFromStores)([S.default],(function(){return Object.values(S.default.getVideoDevices())[0]})),w=!1===(null===(t=null==N?void 0:N.disabled)||void 0===t||t),D=(0,s.default)([a])[0],L=(0,c.default)(r),j=function(e){u.default.setVideoEnabled(e)};return k("div",{className:R.default.videoControls},void 0,k("div",{className:R.default.topControls},void 0,k(y.PictureInPictureHeader,{idle:m,title:null!==(n=null==D?void 0:D.name)&&void 0!==n?n:r.name,onJumpToChannel:o,preventIdleComponent:v.default})),k("div",{className:R.default.bottomControls},void 0,k(O.default,{grow:0,shrink:1,basis:"50%",align:O.default.Align.CENTER},void 0,k(E.default,{className:P.default.leftPipIcon,enabled:I,cameraUnavailable:!w,hasPermission:L,onChange:j,onCameraUnavailable:function(){
w?j(!0):(0,p.default)()}}),k(v.default,{},void 0,k(d.default,{channelId:r.id,guildId:r.getGuildId(),className:R.default.leftTrayIcon,participant:g,compact:!0}))),k(O.default,{grow:0,shrink:1,justify:O.default.Justify.END,basis:"50%",align:O.default.Align.CENTER},void 0,b?null:k(h.default,{className:P.default.rightPipIcon,popoutOpen:!1,onOpenPopout:function(){(0,A.default)((function(){return f.openChannelCallPopout(r)}))},onClosePopout:M.NOOP_NULL}),k(_.default,{className:P.default.rightPipIcon,onClick:function(){return(0,T.stopEmbeddedActivity)({channelId:r.id,applicationId:a})}}))))}U.displayName="PIPOverlay";function G(e){var t,n,r=e.onMouseMove,i=e.onMouseEnter,u=e.showControls,l=e.applicationId,d=e.channel,f=e.onJumpToChannel,c=e.onToggleHeight,p=e.isExpanded,m=(0,s.default)([l])[0];return k("div",{className:P.default.pipHeader,onMouseMove:r,onMouseEnter:i},void 0,k("div",{className:(0,o.default)(R.default.topControls,P.default.pipHeaderContent,(t={},
t[P.default.pipHeaderContentOpen]=u,t))},void 0,!u&&k(I.default,{className:P.default.menuIcon,width:12,height:12}),u&&a.createElement(a.Fragment,null,k(y.PictureInPictureHeader,{idle:!u,title:null!==(n=null==m?void 0:m.name)&&void 0!==n?n:d.name,onJumpToChannel:f,preventIdleComponent:v.default}),k("div",{className:P.default.pipHeaderButtonsRight},void 0,k(j,{isExpanded:p,onClick:c}),k(_.default,{iconClassName:P.default.leaveActivityIcon,onClick:function(){return(0,T.stopEmbeddedActivity)({channelId:d.id,applicationId:l})}})))))}G.displayName="InteractivePIPHeader"},804330:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){void 0===t&&(t=function(){});var n=function(){a.default.updatedUnsyncedSettings({disableEmbeddedActivityPopOutAlert:!0});e()};i.default.disableEmbeddedActivityPopOutAlert?e():(0,u.openModal)((function(a){return r.createElement(o.default,f({confirmText:l.default.Messages.EMBEDDED_ACTIVITIES_YEP,
secondaryConfirmText:l.default.Messages.DONT_ASK_AGAIN,title:l.default.Messages.EMBEDDED_ACTIVITIES_CAREFUL,cancelText:l.default.Messages.EMBEDDED_ACTIVITIES_NVM,onConfirm:e,onConfirmSecondary:n,onCancel:t,body:l.default.Messages.EMBEDDED_ACTIVITIES_POP_OUT_WARNING},a))}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(929031)),o=s(n(88509)),i=s(n(174508)),u=n(194322),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){
f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}},480831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=(0,o.hasFlag)(null!==(t=e.flags)&&void 0!==t?t:0,i.ApplicationFlags.EMBEDDED),r=a.default.getWindowOpen(i.PopoutWindowKeys.CHANNEL_CALL_POPOUT);return n&&r};var r,a=(r=n(902305))&&r.__esModule?r:{default:r},o=n(685677),i=n(770348)},322946:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return"activityembed:"+e+":"+t}},977365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){a.default.disableActivityHardwareAccelerationPrompt||!u.isPlatformEmbedded||l.default.getEnableHardwareAcceleration()||(0,o.openModalLazy)(y(regeneratorRuntime.mark((function t(){var a,o
;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.resolve().then(n.bind(n,345840));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,p({applicationId:e},t))}));case 5:case"end":return t.stop()}}),t)}))),{modalKey:m,onCloseRequest:function(){i.default.track(d.AnalyticEvents.MODAL_DISMISSED,{type:s.ACTIVITY_ENCOURAGES_HW_ACCELERATION});(0,o.closeModal)(m)}})};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=f(n(174508)),o=n(194322),i=f(n(308920)),u=n(864489),l=f(n(922629)),s=n(345840),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}var m="activity-hardware-acceleration-modal"},648927:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useEmbeddedActivityLifecycle=void 0;var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(746920),o=l(n(845715)),i=l(n(749401)),u=l(n(697749));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.useEmbeddedActivityLifecycle=function(e){var t=(0,o.default)(e),n=t.userActivity,l=t.inActivity,s=u.default;(0,i.default)({channel:e,userActivity:n,inActivity:l,embeddedActivitiesManager:s});r.useEffect((function(){return function(){null!=(null==n?void 0:n.application_id)&&(0,
a.disconnectEmbeddedActivity)(e.id,null==n?void 0:n.application_id)}}),[e.id,null==n?void 0:n.application_id]);return{isLoading:!l}}},170328:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){function e(e){var t=e.applicationId;(0,a.openModalLazy)(d(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(47642)]).then(n.bind(n,925304));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,l({applicationId:t},e))}));case 5:case"end":return e.stop()}}),e)}))))}r.useEffect((function(){o.ComponentDispatch.subscribe(i.ComponentActions.SHOW_NO_ELIGIBLE_HOST_MODAL,e);return function(){o.ComponentDispatch.unsubscribe(i.ComponentActions.SHOW_NO_ELIGIBLE_HOST_MODAL,e)}}),[]);return null};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(194322),o=n(956506),i=n(770348);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){
s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},723220:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.closeAgeGateModal=function(){r.default.wait((function(){return r.default.dispatch({type:i.ActionTypes.AGE_GATE_MODAL_CLOSE})}))};t.closeFailedAgeGate=function(){r.default.dispatch({type:i.ActionTypes.LOGOUT});(0,a.transitionTo)(i.Routes.LOGIN)};t.openAgeGateModal=function(e){o.default.track(i.AnalyticEvents.OPEN_MODAL,{type:"Enter Your Birthday",source:{section:e}});r.default.dispatch({type:i.ActionTypes.AGE_GATE_MODAL_OPEN,source:e})};t.openFailureAgeGateModal=function(e){r.default.wait((function(){r.default.dispatch({type:i.ActionTypes.AGE_GATE_FAILURE_MODAL_OPEN,underageMessage:e})}))};t.openSuccessAgeGateModal=function(){r.default.wait((function(){r.default.dispatch({type:i.ActionTypes.AGE_GATE_SUCCESS_MODAL_OPEN})}))};var r=u(n(636602)),a=n(139982),o=u(n(308920)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}},160866:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.userNeedsAgeGate=function(){var e=r.default.getCurrentUser();return null!=e&&a.default.extractTimestamp(e.id)>i.getTime()&&!e.isClaimed()&&null==e.nsfwAllowed};var r=o(n(728429)),a=o(n(71636));function o(e){return e&&e.__esModule?e:{default:e}}var i=new Date("06/16/2020")},676817:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=m(n(636602)),o=m(n(177230)),i=m(n(644263)),u=m(n(211136)),l=m(n(790597)),s=m(n(728429)),d=n(194322),f=n(723220),c=m(n(632062)),p=m(n(242049)),v=n(78330),y=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}function O(e,t){var n
;if(null!=e){var r=s.default.getCurrentUser();(null===(n=i.default.getChannel(t))||void 0===n?void 0:n.isNSFW())&&null!=r&&null==r.nsfwAllowed&&(0,f.openAgeGateModal)(v.AgeGateSource.NSFW_CHANNEL)}}var b=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var o=t.prototype;o._initialize=function(){a.default.subscribe(y.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);a.default.subscribe(y.ActionTypes.CHANNEL_SELECT,this.handleChannelSelect);a.default.subscribe(y.ActionTypes.AGE_GATE_MODAL_OPEN,this.handleAgeGateModalOpen);a.default.subscribe(y.ActionTypes.AGE_GATE_MODAL_CLOSE,this.handleAgeGateModalClose);a.default.subscribe(y.ActionTypes.AGE_GATE_SUCCESS_MODAL_OPEN,this.handleAgeGateSuccess);a.default.subscribe(y.ActionTypes.AGE_GATE_FAILURE_MODAL_OPEN,this.handleAgeGateFailure)};o._terminate=function(){
a.default.unsubscribe(y.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);a.default.unsubscribe(y.ActionTypes.CHANNEL_SELECT,this.handleChannelSelect);a.default.unsubscribe(y.ActionTypes.AGE_GATE_MODAL_OPEN,this.handleAgeGateModalOpen);a.default.unsubscribe(y.ActionTypes.AGE_GATE_MODAL_CLOSE,this.handleAgeGateModalClose);a.default.unsubscribe(y.ActionTypes.AGE_GATE_SUCCESS_MODAL_OPEN,this.handleAgeGateSuccess);a.default.unsubscribe(y.ActionTypes.AGE_GATE_FAILURE_MODAL_OPEN,this.handleAgeGateFailure)};o.handleChannelSelect=function(e){O(e.guildId,e.channelId)};o.handleConnectionOpen=function(){O(l.default.getGuildId(),u.default.getChannelId())};o.handleAgeGateModalOpen=function(){(0,d.openModalLazy)(E(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(73167)]).then(n.bind(n,273167));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){
return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:v.EXISTING_USER_AGE_GATE_MODAL_KEY,onCloseRequest:y.NOOP})};o.handleAgeGateSuccess=function(){(0,d.updateModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY,(function(e){return r.createElement(p.default,e)}))};o.handleAgeGateFailure=function(e){var t=e.underageMessage;(0,d.updateModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY,(function(e){return r.createElement(c.default,h({underageMessage:t},e))}))};o.handleAgeGateModalClose=function(){(0,d.closeModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY)};o.__getLocalVars=function(){return{}};return t}(o.default));t.default=b},632062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;h(n(667294));var r,a=n(47354),o=n(139982),i=h(n(956117)),u=n(772575),l=n(645758),s=n(354479),d=n(3400),f=m(n(550270)),c=n(723220),p=n(770348),v=m(n(247001)),y=m(n(987953));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function E(){(0,c.closeAgeGateModal)();(0,o.transitionTo)(p.Routes.LOGIN)}function S(e){var t=e.underageMessage,r=e.transitionState,o=(0,s.useUID)();return g(d.ModalRoot,{transitionState:r,size:d.ModalSize.SMALL,"aria-labelledby":o,impressionName:a.ImpressionNames.USER_AGE_GATE_UNDERAGE,impressionProperties:{existing_user:!0}},void 0,g(d.ModalContent,{},void 0,g("div",{className:y.default.container},void 0,g("img",{alt:"",src:n(697694),className:y.default.img}),g(u.Heading,{variant:"heading-xl/medium",className:y.default.title,id:o,level:3},void 0,v.default.Messages.AGE_GATE_UNDERAGE_EXISTING_HEADER),g(l.Text,{color:"header-secondary",className:y.default.subtitle,variant:"text-sm/normal"},void 0,v.default.Messages.AGE_GATE_UNDERAGE_BODY.format({underageMessage:null!=t?t:v.default.Messages.AGE_GATE_UNDERAGE_BODY_DEFAULT_REG_MESSAGE,helpURL:f.default.getArticleURL(p.HelpdeskArticles.AGE_GATE)})),g(l.Text,{color:"header-secondary",className:y.default.subtitle,variant:"text-sm/normal"
},void 0,v.default.Messages.AGE_GATE_UNDERAGE_EXISTING_BODY_DELETION_WITH_DAYS.format({days:30})))),g(d.ModalFooter,{},void 0,g(i.default,{size:i.ButtonSizes.SMALL,fullWidth:!0,onClick:E},void 0,v.default.Messages.AGE_GATE_UNDERAGE_BACK_TO_LOGIN)))}S.displayName="ExistingUserAgeGateUnderage"},242049:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;y(n(667294));var r,a=n(47354),o=y(n(956117)),i=n(772575),u=n(645758),l=n(354479),s=n(3400),d=n(723220),f=p(n(247001)),c=p(n(206052));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.transitionState,r=(0,l.useUID)();return m(s.ModalRoot,{transitionState:t,size:s.ModalSize.SMALL,"aria-labelledby":r,impressionName:a.ImpressionNames.USER_AGE_GATE,impressionProperties:{existing_user:!0}},void 0,m(s.ModalContent,{},void 0,m("div",{className:c.default.container},void 0,m("img",{alt:"",src:n(145911),className:c.default.img}),m(i.Heading,{variant:"heading-xl/medium",
className:c.default.title,id:r,level:3},void 0,f.default.Messages.AGE_GATE_AGE_VERIFIED),m(u.Text,{color:"header-secondary",className:c.default.subtitle,variant:"text-sm/normal"},void 0,f.default.Messages.AGE_GATE_AGE_VERIFIED_BODY))),m(s.ModalFooter,{},void 0,m(o.default,{size:o.ButtonSizes.SMALL,fullWidth:!0,onClick:function(){(0,d.closeAgeGateModal)()},autoFocus:!0},void 0,f.default.Messages.CLOSE)))}_.displayName="ExistingUserAgeGateVerified"},108101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.REPORT_MESSAGE_MODAL_KEY=void 0;var r,a=v(n(667294)),o=c(n(598694)),i=c(n(268660)),u=n(3400),l=v(n(174687)),s=c(n(817105)),d=c(n(247001)),f=c(n(50710));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){
m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E;t.REPORT_MESSAGE_MODAL_KEY="REPORT_MESSAGE";!function(e){e[e.REPORT_MESSAGE=0]="REPORT_MESSAGE";e[e.SUCCESS=1]="SUCCESS"}(E||(E={}));var S=[E.REPORT_MESSAGE,E.SUCCESS],O=y(l.ErrorState,{}),b=function(e){var t=e.message,n=e.channel,r=e.onClose,c=e.transitionState,p=h(a.useState(!1),2),v=p[0],m=p[1],g=h(a.useState(null),2),b=g[0],I=g[1],T=h(a.useState(E.REPORT_MESSAGE),2),A=T[0],C=T[1],M=h(a.useState(null),2),N=M[0],P=M[1],R=h(a.useState(null),2),w=R[0],D=R[1];a.useEffect((function(){var e=function(){var e=_(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.tokenizeReportedMessage(n.id,t.id);case 3:r=e.sent;I(r);e.next=10;break;case 7:e.prev=7;e.t0=e.catch(0);m(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),r=function(){
var e=_(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return o.default.getOptions();case 2:t=e.sent;n=t.typeOptions;r=t.subTypeOptions;P(n);D(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();v||r()}),[n.id,v,t.id]);var L=y(l.default,{token:b,message:t,channel:n,onClose:r,onSuccess:function(){C(E.SUCCESS)},typeOptions:N,subTypeOptions:w}),k=y(s.default,{message:t,channel:n,onClose:r});return y(u.ModalRoot,{transitionState:c,size:u.ModalSize.DYNAMIC,className:f.default.modal,"aria-label":d.default.Messages.REPORT_MODAL_REPORT_MESSAGE},void 0,v?O:y(i.default,{step:A,steps:S},void 0,A===E.REPORT_MESSAGE?null==N||null==w||null==b?null:L:k))};b.displayName="ReportMessageModal";var I=b;t.default=I},174687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.REPORT_MESSAGE_MODAL_KEY=t.ErrorState=void 0
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=S(n(598694)),i=n(483559),u=S(n(844784)),l=S(n(2914)),s=S(n(956117)),d=S(n(682473)),f=n(772575),c=S(n(39118)),p=S(n(279950)),v=n(688388),y=n(3400),m=n(967965),_=S(n(582945)),h=n(770348),g=S(n(247001)),E=S(n(50710));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.REPORT_MESSAGE_MODAL_KEY="REPORT_MESSAGE";var C=function(e){var t=e.className;return A(d.default,{className:t},void 0,g.default.Messages.REPORT_MODAL_ERROR.format({tnsReportUrl:"https://dis.gd/request"}))};t.ErrorState=C;C.displayName="ErrorState";var M=function(e){
var t,n,r=e.token,d=e.channel,S=e.message,O=e.typeOptions,T=e.subTypeOptions,M=e.onClose,N=e.onSuccess,P=I(a.useState(null),2),R=P[0],w=P[1],D=I(a.useState(null),2),L=D[0],k=D[1],j=I(a.useState(""),2),U=j[0],G=j[1],F=I(a.useState(""),2),x=F[0],B=F[1],H=I(a.useState(!1),2),V=H[0],W=H[1],Y=I(a.useState(!1),2),K=Y[0],z=Y[1],$=null!=R&&null!=T[R],q=null!=L||!$,Q=function(e){if(R!==e){w(e);k(null)}},X=function(e){L!==e&&k(e)},Z=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=R){e.next=2;break}return e.abrupt("return");case 2:W(!0);e.prev=3;e.next=6;return(0,i.fetchProfile)(d.getRecipientId(),{withMutualGuilds:!0});case 6:n=e.sent;a=null==n||null===(t=n.mutual_guilds)||void 0===t?void 0:t.map((function(e){return e.id}));u.default.trackWithMetadata(h.AnalyticEvents.MESSAGE_REPORTED,{report_type:R,report_sub_type:L,subject:U,description:x,location_object:"report_message_modal",
guild_id:d.getGuildId(),channel_id:d.id,message_id:S.id,mutual_guild_ids:a});e.next=11;return o.default.submitReport(r,R,L,U,x);case 11:W(!1);N();e.next=19;break;case 15:e.prev=15;e.t0=e.catch(3);W(!1);z(!0);case 19:case"end":return e.stop()}}),e,null,[[3,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),J=A(p.default,{value:U,onChange:G}),ee=A(c.default,{value:x,onChange:B});return a.createElement(a.Fragment,null,A(y.ModalContent,{className:E.default.content},void 0,A(f.Heading,{className:E.default.modalHeader,variant:"heading-xl/medium",level:3},void 0,g.default.Messages.REPORT_MODAL_REPORT_MESSAGE),K&&A(C,{className:E.default.formItem}),A(v.FormItem,{title:g.default.Messages.REPORT_MODAL_MESSAGE_SELECTED,className:E.default.formItem},void 0,A(_.default,{className:E.default.message
},void 0,A(l.default,{channel:d,message:S,animateAvatar:!1,disableInteraction:!0}))),(t=O.find((function(e){return e.value===R})),n=null!=t?t.description:null,a.createElement(a.Fragment,null,A(v.FormItem,{className:E.default.formItem,title:g.default.Messages.REPORT_MODAL_TYPE_TITLE,required:!0},void 0,A(m.SingleSelect,{placeholder:g.default.Messages.REPORT_MODAL_SELECT_ONE,options:O,value:R,onChange:Q,maxVisibleItems:6})),A(v.FormText,{type:v.FormText.Types.DESCRIPTION,className:E.default.description},void 0,n))),null!=R&&$?A(v.FormItem,{title:T[R].subTypeQuestion,className:E.default.formItem,required:!0},void 0,A(m.SingleSelect,{placeholder:g.default.Messages.REPORT_MODAL_SELECT_ONE,options:T[R].subTypes,value:L,onChange:X})):null,null!=R&&q?a.createElement(a.Fragment,null,A(v.FormItem,{title:g.default.Messages.REPORT_MODAL_SUBJECT,className:E.default.formItem,required:!0},void 0,J),A(v.FormItem,{title:g.default.Messages.REPORT_MODAL_DESCRIPTION,className:E.default.formItem,
required:!0},void 0,ee,A(v.FormText,{type:v.FormText.Types.DESCRIPTION,className:E.default.description},void 0,g.default.Messages.REPORT_MODAL_DESCRIPTION_MIN_MAX.format({min:0,max:800})),x.length>800?A(v.FormText,{type:v.FormText.Types.DESCRIPTION,className:E.default.descriptionError},void 0,g.default.Messages.REPORT_MODAL_DESCRIPTION_MAX_EXCEEDED):null)):null),A(y.ModalFooter,{className:E.default.footer},void 0,A(s.default,{color:s.default.Colors.PRIMARY,look:s.default.Looks.LINK,onClick:M},void 0,g.default.Messages.CANCEL),A(s.default,{onClick:Z,disabled:!q||0===U.length||x.length<0||x.length>800,submitting:V},void 0,g.default.Messages.REPORT_MODAL_SUBMIT)))};t.default=M},817105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(786345)),i=m(n(237923)),u=m(n(2914)),l=m(n(956117)),s=n(772575),d=n(688388),f=n(3400),c=m(n(582945)),p=n(770348),v=m(n(247001)),y=m(n(50710));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.onClose,n=e.message,r=e.channel,m=null==r.guild_id,_=m?v.default.Messages.REPORT_MODAL_SHOULD_BLOCK:v.default.Messages.REPORT_MODAL_SHOULD_DELETE,g=m?v.default.Messages.REPORT_MODAL_BLOCK_USER:v.default.Messages.DELETE_MESSAGE;return a.createElement(a.Fragment,null,h(f.ModalContent,{className:y.default.successModalContent},void 0,h(s.Heading,{variant:"heading-xl/medium",level:3},void 0,v.default.Messages.REPORT_MODAL_SUBMITTED),h(d.FormText,{type:d.FormText.Types.DESCRIPTION,className:y.default.successModalText},void 0,v.default.Messages.REPORT_MODAL_SUBMITTED_EMAIL_CONFIRMATION),h(d.FormItem,{className:y.default.messageFormItem,title:_},void 0,h(c.default,{className:y.default.message},void 0,h(u.default,{channel:r,message:n,animateAvatar:!1,disableInteraction:!0})))),h(f.ModalFooter,{className:y.default.footer},void 0,h(l.default,{color:l.default.Colors.PRIMARY,look:l.default.Looks.LINK,onClick:t
},void 0,v.default.Messages.CLOSE),h(l.default,{look:l.default.Looks.FILLED,color:l.default.Colors.RED,onClick:function(){m?i.default.addRelationship({userId:n.author.id,context:{location:"Report Modal"},type:p.RelationshipTypes.BLOCKED}):o.default.deleteMessage(r.id,n.id);t()}},void 0,g)))};t.default=g},504010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(392820).Z;t.default=r},392820:(e,t)=>{"use strict";({value:!0});t.Z=function(){return{}}},970483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={},d=null,f=null;function c(e,t){null==t?e in s&&delete s[e]:null!=e&&(s[e]=t)}function p(e){var t=e.user;f=t.id}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(s=e)};n.requiredActions=function(e){var t;return null!==(t=s[e])&&void 0!==t?t:null};n.requiredActionsIncludes=function(e,t){var n=this.requiredActions(e);return null!=n&&t.reduce((function(e,t){return e||n.includes(t)}),!1)};n.wasLoginAttemptedInSession=function(e){return d===e};n.getState=function(){return s};n.__getLocalVars=function(){return{requiredActionsByUserId:s,latestLoginAttemptedUserId:d,currentUserId:f}};return t}(a.default.PersistedStore);v.displayName="LoginRequiredActionStore";v.persistKey="LoginRequiredActionStore";var y=new v(o.default,((r={})[i.ActionTypes.LOGIN_ATTEMPTED]=function(e){var t=e.required_actions,n=e.user_id;c(d=n,t)},r[i.ActionTypes.CONNECTION_OPEN]=p,r[i.ActionTypes.CURRENT_USER_UPDATE]=p,r[i.ActionTypes.LOGOUT]=function(e){e.isSwitchingAccount||null==f||c(f,null)},r[i.ActionTypes.PASSWORD_UPDATED]=function(e){
c(e.userId,null)},r[i.ActionTypes.MULTI_ACCOUNT_REMOVE_ACCOUNT]=function(e){c(e.userId,null)},r));t.default=y},744727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getRedirectPath=d;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(505977),o=n(904312),i=n(770348),u=n(27577);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){var e=location.pathname+location.search;return u.CONFERENCE_MODE_ENABLED?i.Routes.REGISTER:(0,o.getLoginPath)(e,!1)}function f(){return s(a.Redirect,{to:d()})}f.displayName="RedirectUnauthenticated";var c=f;t.default=c},621287:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.makeAuthenticated=function(e,t,n){var r,u,s=f(t,{renderRedirect:p});void 0===n&&(n={passProps:!0});function d(r){return!(0,i.isAuthenticated)()&&o.default.getLoginStatus()!==l.LoginStates.LOGGING_IN&&o.default.allowLogoutRedirect()?null!=t?s:c:a.createElement(e,n.passProps?r:null)}d.displayName="Authenticated("+(null!==(r=null!==(u=e.displayName)&&void 0!==u?u:e.name)&&void 0!==r?r:"<Unknown>")+")"
;return d};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(423046)),i=n(549186),u=s(n(744727)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=f(u.default,{}),p=f(u.default,{})},190065:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.LOGIN_REQUIRED_ACTIONS_MODAL_KEY=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=p(n(636602)),o=p(n(939949)),i=p(n(177230)),u=n(194322),l=p(n(308920)),s=n(42031),d=p(n(970483)),f=n(770348),c=n(478036);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g="LOGIN_REQUIRED_ACTIONS_MODAL_KEY";t.LOGIN_REQUIRED_ACTIONS_MODAL_KEY=g;var E=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype
;i._initialize=function(){a.default.subscribe(f.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};i._terminate=function(){a.default.unsubscribe(f.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};i.handleConnectionOpen=function(e){var t=e.user;if(!s.ProcessArgs.isDisallowPopupsSet()){var a=d.default.requiredActionsIncludes(t.id,[f.LoginRequiredActions.UPDATE_PASSWORD]);d.default.wasLoginAttemptedInSession(t.id)&&a?(0,u.openModalLazy)(_(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,66272));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,y({},e,{onSuccess:function(){l.default.track(f.AnalyticEvents.FORCED_UPDATE_PASSWORD_SUCCEEDED);e.onClose()},onClose:function(){e.onClose();o.default.logout(f.Routes.LOGIN)},requirementsUpdated:!0}))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:g,
onCloseRequest:c.NOOP_NULL,instant:!0}):a&&o.default.logout(f.Routes.LOGIN)}};i.__getLocalVars=function(){return{}};return t}(i.default));t.default=E},285629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return E.apply(this,arguments)};var r=y(n(131795)),a=n(138864),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(997359)),i=n(919094),u=n(483559),l=n(139982),s=y(n(423046)),d=y(n(544196)),f=y(n(308920)),c=y(n(924117)),p=n(770348);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){
return e?n:t})(e)}function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e){return g.apply(this,arguments)}function g(){return(g=_(regeneratorRuntime.mark((function e(t){var n,i,l,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Android"!==(i=null===(n=r.default.os)||void 0===n?void 0:n.family)&&"iOS"!==i){e.next=14;break}d=null!==(l=s.default.getFingerprint())&&void 0!==l?l:s.default.getId();f=(0,o.generateAttemptId)();if(null!=d||!s.default.isAuthenticated()){e.next=13;break}e.prev=5;e.next=8;return(0,u.fetchCurrentUser)();case 8:d=s.default.getId();e.next=13;break;case 11:e.prev=11;e.t0=e.catch(5);case 13:
return e.abrupt("return",(0,o.default)((0,a.getDefaultDynamicLinkTemplate)(),{utmSource:t,fingerprint:d,attemptId:f}));case 14:return e.abrupt("return","discord://");case 15:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function E(){return(E=_(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return h(t);case 2:n=e.sent;null!=(r=(0,o.parseDynamicLink)(n))&&f.default.track(p.AnalyticEvents.DEEP_LINK_CLICKED,{fingerprint:(0,i.maybeExtractId)(r.fingerprint),attempt_id:r.attemptId,source:r.utmSource});c.default.launch(n,(function(e){e||(0,l.replaceWith)(d.default.fallbackRoute)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},892057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchBlockedDomainList=function(){return s.apply(this,arguments)};var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{
default:e}}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))}}function s(){return(s=l(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.get({url:"https://cdn.discordapp.com/bad-domains/hashes.json"});case 2:t=e.sent;n=t.body;a.default.dispatch({type:o.ActionTypes.BLOCKED_DOMAIN_LIST_FETCHED,list:n});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},694450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(177230))&&r.__esModule?r:{default:r},o=n(892057);function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}
var u=144e5,l=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){setTimeout((function(){return(0,o.fetchBlockedDomainList)()}),1e4);this.intervalID=setInterval(o.fetchBlockedDomainList,u)};n._terminate=function(){clearInterval(this.intervalID)};n.__getLocalVars=function(){return{FETCH_INTERVAL:u}};return t}(a.default));t.default=l},871615:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BUILD_OVERRIDE_RELEASE_CHANNEL_OPTIONS=t.BUILD_OVERRIDE_EXPIRATION_OPTIONS=void 0;t.BUILD_OVERRIDE_EXPIRATION_OPTIONS=[{value:3600,label:"1 Hour"},{value:86400,label:"1 Day"},{value:259200,label:"3 Days"},{value:604800,label:"1 Week"},{value:1209600,label:"2 Weeks"},{value:1814400,label:"3 Weeks"},{value:2628e3,label:"1 Month"}];t.BUILD_OVERRIDE_RELEASE_CHANNEL_OPTIONS=[{value:"all",label:"All"},{value:"canary",label:"Canary"},{
value:"ptb",label:"PTB"},{value:"stable",label:"Stable"},{value:"staging",label:"Staging"}]},322785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={setCallChatToastsEnabled:function(e,t){a.default.dispatch({type:o.ActionTypes.CALL_CHAT_TOASTS_SET_ENABLED,channelId:e,toastsEnabled:t})}};t.default=i},316309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=f(n(177230)),a=f(n(796608)),o=f(n(27245)),i=f(n(919935)),u=f(n(663303)),l=f(n(387692)),s=f(n(487372)),d=n(179379);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=(0,d.createSoundForPack)("call_calling",a.default.getSoundpack()),v=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){o.default.addChangeListener(this.handleRingUpdate);i.default.addChangeListener(this.handleRingUpdate);u.default.addChangeListener(this.handleRingUpdate);l.default.addChangeListener(this.handleRingUpdate);a.default.addChangeListener(this.handleSoundpackUpdate)};n._terminate=function(){o.default.removeChangeListener(this.handleRingUpdate);i.default.removeChangeListener(this.handleRingUpdate);u.default.removeChangeListener(this.handleRingUpdate);l.default.removeChangeListener(this.handleRingUpdate);a.default.removeChangeListener(this.handleSoundpackUpdate)};n.handleSoundpackUpdate=function(){p.stop();p=(0,d.createSoundForPack)("call_calling",a.default.getSoundpack())};n.handleRingUpdate=function(){var e=o.default.getCalls().filter((function(e){return e.ringing.length>0&&l.default.getCurrentClientVoiceChannelId(null)===e.channelId})),t=l.default.getCurrentClientVoiceChannelId(null)
;!(null!=t&&s.default.countVoiceStatesForChannel(t)>=2)&&e.length>0&&!i.default.isSoundDisabled("call_calling")&&!u.default.disableSounds?p.loop():p.stop()};n.__getLocalVars=function(){return{ringingSound:p}};return t}(r.default));t.default=v},845607:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SelfStreamAndVideoAlertType=void 0;var n;t.SelfStreamAndVideoAlertType=n;!function(e){e[e.STREAM=0]="STREAM";e[e.VIDEO=1]="VIDEO"}(n||(t.SelfStreamAndVideoAlertType=n={}))},235398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(177230)),a=i(n(893160)),o=i(n(825724));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var l=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){
o.default.addChangeListener(this.handleFocusParticipant)};n._terminate=function(){o.default.removeChangeListener(this.handleFocusParticipant)};n.handleFocusParticipant=function(){var e=a.default.getChannelId();if(null!=e){var t,n,r=o.default.getSelectedParticipantId(e),i=o.default.getVideoParticipants(e);null===(t=a.default.getRTCConnection())||void 0===t||t.setSelectedParticipant(null===(n=i.find((function(e){return e.id===r&&!e.localVideoDisabled})))||void 0===n?void 0:n.id)}};n.__getLocalVars=function(){return{}};return t}(r.default));t.default=l},32458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.VOICE_CHANNEL_EFFECT_COOLDOWN_DURATION_MS=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function s(e,t){
s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d={effectCooldownEndTime:void 0};t.VOICE_CHANNEL_EFFECT_COOLDOWN_DURATION_MS=3e4;var f=function(){d.effectCooldownEndTime=new Date(Date.now()+3e4)},c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){if(null!=e){null!=e.effectCooldownEndTime&&(e.effectCooldownEndTime=new Date(e.effectCooldownEndTime));d=e}};n.getState=function(){return d};n.__getLocalVars=function(){return{state:d,handleNewVoiceChannelEffect:f}};!function(e,t,n){t&&l(e.prototype,t);n&&l(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"effectCooldownEndTime",get:function(){var e;return null!==(e=d.effectCooldownEndTime)&&void 0!==e?e:new Date}}]);return t}(a.default.PersistedStore);c.displayName="VoiceChannelEffectsPersistedStore";c.persistKey="VoiceChannelEffectsPersistedStore"
;var p=new c(o.default,((r={})[i.ActionTypes.VOICE_CHANNEL_EFFECT_UPDATE_TIME_STAMP]=f,r));t.default=p},915502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(t)return a.default.Messages.SERVER_DEAFENED_DIALOG_TITLE;return e?a.default.Messages.UNDEAFEN:a.default.Messages.DEAFEN};var r,a=(r=n(247001))&&r.__esModule?r:{default:r}},945926:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){if(n)return a.default.Messages.SUPPRESSED;if(t)return a.default.Messages.SERVER_MUTED_DIALOG_TITLE;return e?a.default.Messages.UNMUTE:a.default.Messages.MUTE};var r,a=(r=n(247001))&&r.__esModule?r:{default:r}},66384:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return i[e]};var r,a=n(859089),o=n(376293),i=Object.freeze(((r={})[a.ParticipantTypes.STREAM]=o.MediaEngineContextTypes.STREAM,r[a.ParticipantTypes.HIDDEN_STREAM]=o.MediaEngineContextTypes.STREAM,
r[a.ParticipantTypes.USER]=o.MediaEngineContextTypes.DEFAULT,r[a.ParticipantTypes.ACTIVITY]=o.MediaEngineContextTypes.DEFAULT,r))},831566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=(0,r.useStateFromStores)([i.default],(function(){return i.default.getId()})),u=(0,r.useStateFromStores)([o.default],(function(){var t=o.default.getStreamForUser(n);return null!=t&&t.channelId===e}),[e,n]),l=(0,r.useStateFromStores)([o.default],(function(){return o.default.isSelfStreamHidden(e)}),[e]);return[(null==t||t===n)&&u,l,function(t){(0,a.toggleSelfStreamHidden)(e,t)}]};var r=n(536211),a=n(123516),o=u(n(607209)),i=u(n(423046));function u(e){return e&&e.__esModule?e:{default:e}}},25077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){void 0===t&&(t=u.MediaEngineContextTypes.DEFAULT);var n=(0,r.useStateFromStores)([o.default],(function(){return o.default.getId()})),l=(0,
r.useStateFromStores)([i.default],(function(){return i.default.supports(u.Features.DISABLE_VIDEO)&&i.default.isVideoEnabled()})),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.isLocalVideoDisabled(n,t)}),[n,t]);return[(null==e||e===n)&&(l||s),s,function(e){a.default.setDisableLocalVideo(n,e,t)}]};var r=n(536211),a=l(n(740207)),o=l(n(423046)),i=l(n(635014)),u=n(376293);function l(e){return e&&e.__esModule?e:{default:e}}},190320:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;_(n(667294));var r,a=y(n(284382)),o=_(n(145122)),i=y(n(989546)),u=y(n(197105)),l=y(n(793963)),s=y(n(441072)),d=y(n(16505)),f=y(n(815267)),c=n(770348),p=y(n(247001)),v=y(n(741937));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){
var t=e.onClose,n=e.renderOutputDevices,r=void 0!==n&&n,y=e.renderInputDevices,m=void 0!==y&&y,_=e.renderInputModes,g=void 0!==_&&_,E=e.renderInputVolume,S=void 0!==E&&E,O=e.renderOutputVolume,b=void 0!==O&&O,I=e.onSelect,T=(0,f.default)(),A=(0,s.default)(),C=(0,d.default)(),M=(0,i.default)(),N=(0,u.default)(),P=(0,l.default)();return h(a.default,{object:c.AnalyticsObjects.CONTEXT_MENU},void 0,h(o.default,{onSelect:I,className:v.default.menu,onClose:t,navId:"audio-device-context","aria-label":p.default.Messages.AUDIO_DEVICE_ACTIONS},void 0,m?h(o.MenuGroup,{label:p.default.Messages.INPUT_DEVICE},void 0,A):null,r?h(o.MenuGroup,{label:p.default.Messages.OUTPUT_DEVICE},void 0,C):null,g?h(o.MenuGroup,{label:p.default.Messages.FORM_LABEL_INPUT_MODE},void 0,M):null,h(o.MenuGroup,{},void 0,S?N:null,b?P:null,T)))}g.displayName="AudioDeviceMenu"},803121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i=Ue(n(667294)),u=ke(n(294184)),l=ke(n(441143)),s=n(536211),d=n(923387),f=n(91817),c=ke(n(636602)),p=ke(n(229132)),v=n(378158),y=ke(n(136873)),m=n(123516),_=ke(n(929031)),h=ke(n(989418)),g=ke(n(284382)),E=ke(n(673997)),S=Ue(n(33273)),O=n(433383),b=ke(n(303798)),I=ke(n(198016)),T=ke(n(804330)),A=ke(n(170328)),C=ke(n(954140)),M=n(844784),N=ke(n(37039)),P=n(684769),R=n(747868),w=n(385753),D=Ue(n(8475)),L=ke(n(902305)),k=n(139982),j=ke(n(915188)),U=ke(n(610929)),G=n(205809),F=ke(n(830900)),x=ke(n(174508)),B=ke(n(839166)),H=ke(n(828839)),V=ke(n(531334)),W=ke(n(625905)),Y=ke(n(134893)),K=ke(n(48102)),z=ke(n(430251)),$=ke(n(116790)),q=n(146529),Q=ke(n(278851)),X=ke(n(336156)),Z=ke(n(866219)),J=ke(n(861891)),ee=ke(n(561603)),te=ke(n(928034)),ne=n(14219),re=n(518180),ae=ke(n(607209)),oe=ke(n(423046)),ie=ke(n(938199)),ue=ke(n(27245)),le=ke(n(30098)),se=ke(n(689389)),de=ke(n(191391)),fe=ke(n(211136)),ce=ke(n(728429)),pe=ke(n(387692)),ve=ke(n(530250)),ye=n(248685),me=n(598671),_e=ke(n(308920)),he=n(319986),ge=n(956506),Ee=n(864489),Se=n(518802),Oe=ke(n(922629)),be=n(245838),Ie=ke(n(825724)),Te=ke(n(66384)),Ae=Ue(n(665597)),Ce=ke(n(368464)),Me=ke(n(789659)),Ne=ke(n(310268)),Pe=ke(n(326752)),Re=n(859089),we=n(770348),De=ke(n(247001)),Le=ke(n(661073))
;function ke(e){return e&&e.__esModule?e:{default:e}}function je(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(je=function(e){return e?n:t})(e)}function Ue(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=je(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Ge(){Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Ge.apply(this,arguments)}function Fe(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function xe(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Fe(o,r,a,i,u,"next",e)}function u(e){Fe(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function He(e,t){He=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return He(e,t)}function Ve(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ke=((r={})[we.ChannelLayouts.NORMAL]=Le.default.normal,
r[we.ChannelLayouts.MINIMUM]=Le.default.minimum,r[we.ChannelLayouts.NO_CHAT]=Le.default.noChat,r[we.ChannelLayouts.FULL_SCREEN]=Le.default.fullScreen,r),ze=((a={})[we.AppContext.POPOUT]=Le.default.popout,a[we.AppContext.APP]=null,a[we.AppContext.OVERLAY]=null,a);function $e(e){var t=e.resizableNode,n=e.onResize,r=e.onResizeEnd,a=e.maxHeight,o=We(i.useState(null),2),u=o[0],l=o[1];i.useEffect((function(){var e,n;l(null!==(e=null===(n=t.current)||void 0===n?void 0:n.offsetHeight)&&void 0!==e?e:null)}),[t]);return Ve("div",{onMouseDown:(0,S.default)({initialElementDimension:u,minDimension:200,maxDimension:a,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:r,orientation:S.ResizeOrientation.VERTICAL_BOTTOM}),className:Le.default.resizeHandle})}$e.displayName="ResizeHandle";var qe=Ve(ye.AppLayerContainer,{}),Qe=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;He(e,t)}(t,e);function t(){
for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this)._prevLayout=we.ChannelLayouts.MINIMUM;t._wrapperRef=i.createRef();t._contentRef=i.createRef();t._videoBackgroundTooltipTimeout=new f.Timeout;t._lastIdleProps=null;t.state={resizedHeight:x.default.callHeaderHeight};t.handleFullScreenChange=function(){var e=t.getRootNode();null!=e&&((0,be.isFullScreen)(e,t.currentDocument)||t.props.layout!==we.ChannelLayouts.FULL_SCREEN||t.handleFullScreen())};t.handleFullScreen=function(){var e=t.getRootNode();if(null!=e)if(t.props.layout!==we.ChannelLayouts.FULL_SCREEN){t._prevLayout=t.props.layout;t.handleChangeLayout(we.ChannelLayouts.FULL_SCREEN);(0,be.requestFullScreen)(e)}else t.maybeLeaveFullScreen()};t.maybeLeaveFullScreen=function(){var e=t.getRootNode();if(null!=e&&t.props.layout===we.ChannelLayouts.FULL_SCREEN){t.handleChangeLayout(t._prevLayout);(0,be.exitFullScreen)(e,t.currentDocument)}};t.handleToggleLayout=function(){
t.handleChangeLayout(t.props.layout===we.ChannelLayouts.NORMAL?we.ChannelLayouts.NO_CHAT:we.ChannelLayouts.NORMAL)};t.handleChangeLayout=function(e){var n=t.props,r=n.channel,a=n.appContext;if(n.layout!==e){p.default.updateLayout(r.id,e,a);e===we.ChannelLayouts.FULL_SCREEN&&r.isPrivate()&&ge.ComponentDispatch.dispatch(we.ComponentActions.TEXTAREA_BLUR)}};t.handleDisconnect=function(){t.props.layout===we.ChannelLayouts.FULL_SCREEN&&t.handleFullScreen()};t.handleContextMenu=function(e,r){var a,o,u=t.props,s=u.channel,d=u.appContext,f=u.layout,c={onClose:function(){var e;return null===(e=t._lastIdleProps)||void 0===e?void 0:e.onAllowIdle("menu")},context:d};null===(a=t._lastIdleProps)||void 0===a||a.onPreventIdle("menu");null===(o=t._lastIdleProps)||void 0===o||o.onActive();switch(e.type){case Re.ParticipantTypes.HIDDEN_STREAM:case Re.ParticipantTypes.STREAM:(0,v.openContextMenuLazy)(r,xe(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){
for(;;)switch(r.prev=r.next){case 0:r.next=2;return n.e(96434).then(n.bind(n,596434));case 2:a=r.sent;o=a.default;return r.abrupt("return",(function(n){return i.createElement(o,Ge({},n,{stream:e.stream,exitFullscreen:t.maybeLeaveFullScreen,appContext:d}))}));case 5:case"end":return r.stop()}}),r)}))),c);return;case Re.ParticipantTypes.USER:var p=ce.default.getUser(e.id);if(null!=p)switch(s.type){case we.ChannelTypes.DM:return(0,v.openContextMenuLazy)(r,xe(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(48811),n.e(81085)]).then(n.bind(n,81085));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return i.createElement(r,Ge({},e,{showChannelCallItems:!0,showMediaItems:!0,user:p,channel:s,showModalItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))),c);case we.ChannelTypes.GROUP_DM:return(0,
v.openContextMenuLazy)(r,xe(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(66822)]).then(n.bind(n,566822));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return i.createElement(r,Ge({},e,{showChannelCallItems:!0,showMediaItems:!0,showChatItems:f===we.ChannelLayouts.MINIMUM||f===we.ChannelLayouts.NORMAL,user:p,channel:s,showModalItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))),c);case we.ChannelTypes.GUILD_VOICE:var y=s.getGuildId();(0,l.default)(null!=y,"GuildID null for guild voice channel");return(0,v.openContextMenuLazy)(r,xe(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(5814)]).then(n.bind(n,205814));case 2:t=e.sent;r=t.default
;return e.abrupt("return",(function(e){return i.createElement(r,Ge({},e,{showMediaItems:!0,showChannelCallItems:!0,showChatItems:!1,user:p,channelId:s.id,guildId:y,showModalItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))),c)}}};t.handleCallResize=function(e){t.setState({resizedHeight:e})};t.handleSelectParticipant=function(e,n){var r=t.props,a=r.channel,o=r.selectedParticipant,i=r.allActiveStreams,u=r.inCall,l=r.mode;if((0,Re.isStreamParticipant)(e)){y.default.selectVoiceChannel(a.id);if(0===i.filter((function(t){return(0,R.encodeStreamKey)(t)===e.id&&t.state!==we.ApplicationStreamStates.ENDED})).length){if(!(0,w.canWatchStream)(a,pe.default,le.default,se.default))return;(0,m.watchStream)((0,R.decodeStreamKey)(e.id),{forceMultiple:n.shiftKey})}}u&&l===we.ChannelModes.VIDEO&&((null==o?void 0:o.id)===e.id?p.default.selectParticipant(a.id,null):p.default.selectParticipant(a.id,e.id))};t.handleOpenPopout=function(){var e=t.props,n=e.channel,r=function(){var e=n.getGuildId()
;null!=e&&(0,k.transitionTo)((0,he.previousTextChannelRouteForGuild)(e));D.openChannelCallPopout(n)};e.connectedToEmbeddedActivity?(0,T.default)(r):r()};t.handleStayOnTop=function(e){D.setAlwaysOnTop(we.PopoutWindowKeys.CHANNEL_CALL_POPOUT,e)};t.handleClosePopout=function(){D.close(we.PopoutWindowKeys.CHANNEL_CALL_POPOUT)};t.handleFullscreenParticipant=function(e,n){var r=t.props,a=r.layout,o=r.selectedParticipant,i=a===we.ChannelLayouts.FULL_SCREEN;(!i&&(null==o?void 0:o.id)!==e.id||i&&(null==o?void 0:o.id)===e.id)&&t.handleSelectParticipant(e,n);t.handleFullScreen()};t.renderRegionSelect=function(){var e,n=t.props,r=n.call,a=n.channel,o=n.layout;t.inPopout||o===we.ChannelLayouts.FULL_SCREEN||null==r||a.isManaged()||(e=Ve(h.default,{call:r}));return Ve(ve.default,{justify:ve.default.Justify.END},void 0,e)};t.renderBottomCenter=function(){var e=t.props,n=e.channel,r=e.mode,a=e.inCall,o=e.layout;return a||o===we.ChannelLayouts.MINIMUM||o===we.ChannelLayouts.NORMAL?Ve(B.default,{
exitFullScreen:t.maybeLeaveFullScreen,channel:n,mode:r,onDisconnectCall:t.handleDisconnect}):null};t.renderBottomLeft=function(){var e=t.props,n=e.layout,r=e.mentionCount,a=e.channel,o=e.appContext,u=e.useNewInviteButton,l=e.selectedParticipant,s=e.soundboardEnabled;if(!e.inCall)return null;var d=n===we.ChannelLayouts.NO_CHAT?$.default.Directions.UP:$.default.Directions.DOWN,f=[we.ChannelLayouts.FULL_SCREEN,we.ChannelLayouts.NO_CHAT].includes(n),c=n===we.ChannelLayouts.FULL_SCREEN?function(){t._prevLayout=we.ChannelLayouts.NORMAL;t.handleFullScreen()}:t.handleToggleLayout,p=t.viewProperties,v=p.canChangeLayout,y=p.canInvite,m=u?Ve(V.default,{channel:a,stream:(null==l?void 0:l.type)===Re.ParticipantTypes.STREAM?(0,R.decodeStreamKey)(l.id):void 0,applicationId:(null==l?void 0:l.type)===Re.ParticipantTypes.ACTIVITY?l.id:void 0,appContext:o,className:Le.default.leftTrayIcon,exitFullScreen:t.maybeLeaveFullScreen,
analyticsLocation:a.type===we.ChannelTypes.GUILD_VOICE?we.AnalyticsPages.GUILD_CHANNEL:we.AnalyticsPages.DM_CHANNEL}):Ve(X.default,{channel:a,stream:(null==l?void 0:l.type)===Re.ParticipantTypes.STREAM?(0,R.decodeStreamKey)(l.id):void 0,appContext:o,className:Le.default.leftTrayIcon,exitFullScreen:t.maybeLeaveFullScreen,analyticsLocation:a.type===we.ChannelTypes.GUILD_VOICE?we.AnalyticsPages.GUILD_CHANNEL:we.AnalyticsPages.DM_CHANNEL});return i.createElement(i.Fragment,null,s&&o===we.AppContext.POPOUT&&(0,U.default)(a)?Ve(F.default,{className:Le.default.leftTrayIcon,channel:a}):null,y?m:null,v?Ve(ve.default,{className:Le.default.iconWrapper,align:ve.default.Align.CENTER,grow:0},void 0,Ve($.default,{label:f?De.default.Messages.SHOW_CHAT:De.default.Messages.HIDE_CHAT,direction:d,className:Le.default.leftTrayIcon,onClick:c}),f&&r>0?Ve(me.NumberBadge,{className:Le.default.badge,count:r
}):null):null,(null==l?void 0:l.type)===Re.ParticipantTypes.STREAM||(null==l?void 0:l.type)===Re.ParticipantTypes.ACTIVITY?Ve(Y.default,{},void 0,Ve(Ne.default,{className:Le.default.viewersButton,participant:l,maxVisibleUsers:4,guildId:a.getGuildId(),channelId:a.id,disableInteraction:t.inPopout||n===we.ChannelLayouts.FULL_SCREEN})):null)};t.renderBottomRight=function(){var e=t.props,n=e.popoutWindow,r=e.popoutWindowAlwaysOnTop,a=e.currentUserId,o=e.selectedParticipant,u=t.viewProperties,l=u.canFullscreen,s=u.canStayOnTop,d=u.canPopout,f=u.useTheme;return i.createElement(i.Fragment,null,null!=o&&o.type!==Re.ParticipantTypes.ACTIVITY&&o.user.id!==a?Ve(ee.default,{context:(0,Te.default)(o.type),userId:o.user.id,currentWindow:t.inPopout?null!=n?n:void 0:window,sliderClassName:Le.default.volumeSlider}):null,s?Ve(J.default,{className:Le.default.rightTrayIcon,popoutWindowAlwaysOnTop:r,onToggleStayOnTop:t.handleStayOnTop}):null,d?Ve(Z.default,{themeable:f,popoutOpen:t.popoutOpen,
className:Le.default.rightTrayIcon,onOpenPopout:t.handleOpenPopout,onClosePopout:t.handleClosePopout}):null,l?Ve(Q.default,{themeable:f,node:t.getRootNode(),guestWindow:n,className:Le.default.rightTrayIcon,onClick:t.handleFullScreen}):null)};t.renderChatButton=function(e){var n=e.className,r=e.showingClassName,a=t.props,o=a.channel,i=a.chatOpen,u=a.inCall,l=a.textInVoiceInPopoutEnabled;return i||t.popoutOpen&&!t.inPopout&&u?null:Ve(q.ChatButton,{channelId:o.id,className:n,showingClassName:r,disabled:!l&&t.inPopout,inPopout:!l&&t.inPopout})};t.renderChatToasts=function(){var e=t.props,n=e.showChatToasts,r=e.chatOpen,a=e.channel,o=e.inCall;return!n||r||t.popoutOpen&&!t.inPopout&&o?null:Ve(Ae.default,{},void 0,Ve(K.default,{className:Le.default.chatToasts,channelId:a.id,inPopout:t.inPopout}))};t.renderVoiceChannelEffects=function(){var e=t.props,n=e.channel;return e.voiceChannelEffectsEnabled?Ve(Pe.default,{channel:n}):null};t.renderHeader=function(){
var e=t.props,n=e.renderExternalHeader,r=e.channel,a=e.appContext,o=e.layout,i=e.chatOpen,u=e.inCall,l=t.viewProperties,s=l.useExternalHeader,d=l.canSelectRegion,f=l.renderHeader,c=o===we.ChannelLayouts.FULL_SCREEN;return f?Ve(Y.default,{},void 0,Ve("div",{className:Le.default.headerWrapper},void 0,s?null==n?void 0:n():Ve(Me.default,{channel:r,appContext:a,inCall:u,inPopout:t.inPopout,isFullScreen:c,isChatOpen:i||t.popoutOpen&&!t.inPopout&&u,exitFullScreen:t.maybeLeaveFullScreen})),d?t.renderRegionSelect():null):null};return t}var r=t.prototype;r.getRootNode=function(){var e,t;return(null!==(e=null===(t=this.props.popoutWindow)||void 0===t?void 0:t.window)&&void 0!==e?e:window).document.getElementById("app-mount")};r.componentDidMount=function(){var e=this.props,t=e.channel,n=e.layout;this.currentDocument.addEventListener(be.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange);_e.default.track(we.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,Ge({video_layout:this.inPopout?"popout":n},(0,
M.collectVoiceAnalyticsMetadata)(t.id)))};r.componentWillUnmount=function(){this._videoBackgroundTooltipTimeout.stop();this.currentDocument.removeEventListener(be.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange);this.inPopout&&(0,Ee.isOSX)()||this.maybeLeaveFullScreen()};r.componentDidUpdate=function(e){var t=this,n=this.props,r=n.participantsOpen,a=n.inCall,o=n.mode,i=n.layout,u=this.getRootNode();null!=u&&e.mode===we.ChannelModes.VIDEO&&o===we.ChannelModes.VOICE&&(0,be.isFullScreen)(u,this.currentDocument)&&(0,be.exitFullScreen)(u,this.currentDocument);if(e.participantsOpen!==r||i!==e.layout){var l;null===(l=this._contentRef.current)||void 0===l||l.triggerResize()}e.inCall&&!a&&this.inPopout&&c.default.wait((function(){return t.handleClosePopout()}))};r.renderContent=function(e){
var t=this.props,n=t.selectedParticipant,r=t.inCall,a=t.hasConnectPermission,o=t.mode,u=t.popoutWindow,l=t.participantsOpen,s=t.participants,d=t.filteredParticipants,f=t.participantsVersion,c=t.channel,p=t.guild,v=t.layout,y=t.textInVoiceEnabled,m=t.forceShowControls,_=v===we.ChannelLayouts.MINIMUM,h=_||v===we.ChannelLayouts.NORMAL,g=r&&o===we.ChannelModes.VIDEO,E=c.isGuildVoice()&&y;this._lastIdleProps=e;return i.createElement(z.default,Ge({renderHeader:this.renderHeader,renderBottomLeft:this.renderBottomLeft,renderBottomCenter:this.renderBottomCenter,renderBottomRight:this.renderBottomRight,renderChatButton:E?this.renderChatButton:void 0,renderChatToasts:E?this.renderChatToasts:void 0,renderVoiceChannelEffects:this.renderVoiceChannelEffects},e,{screenMessage:this.screenMessage,disableGradients:_,idle:!m&&r&&!_&&e.idle}),r&&this.popoutOpen&&!this.inPopout?null:i.createElement(H.default,{ref:this._contentRef,inCall:r,paused:this.paused,channel:c,hasConnectPermission:a,guild:p,
participants:s,filteredParticipants:d,participantsVersion:f,selectedParticipant:g?n:null,layout:v,idle:e.idle,mode:o,onSelectParticipant:this.handleSelectParticipant,onContextMenuParticipant:this.handleContextMenu,showParticipants:l&&!h,popoutWindow:this.inPopout?u:null}))};r.render=function(){var e,t,n=this,r=this.props,a=r.layout,o=r.channel,l=r.guild,s=r.mode,d=r.chatOpen,f=r.appContext,c=r.width,p=r.maxHeight,v=r.inCall,y=this.state.resizedHeight,m=s===we.ChannelModes.VIDEO,_=c-550,h=a!==we.ChannelLayouts.NO_CHAT&&a!==we.ChannelLayouts.FULL_SCREEN&&null!=p;return i.createElement("div",{className:(0,u.default)(Le.default.wrapper,Ke[a],ze[f],(e={},e[Le.default.poppedOut]=this.popoutOpen&&!this.inPopout&&a!==we.ChannelLayouts.NO_CHAT&&o.isPrivate(),e[Le.default.video]=m,e[Le.default.chatSidebarOpen]=d,e)),ref:function(e){n._wrapperRef.current=e;n.props.wrapperRef.current=e},style:h&&null!=y?{minHeight:200,maxHeight:p,height:y}:void 0},Ve("div",{className:(0,
u.default)(Le.default.callContainer,(t={},t[(0,Se.getThemeClass)(we.ThemeTypes.DARK)]=m,t))},void 0,Ve(W.default,{timeout:2e3},void 0,(function(e){return n.viewProperties.usePositionLayer?Ve(ye.AppLayerProvider,{},void 0,n.renderContent(e),qe):n.renderContent(e)}))),h&&Ve($e,{maxHeight:p,resizableNode:this._wrapperRef,onResize:this.handleCallResize,onResizeEnd:this.props.updateStoredCallHeaderHeight}),d&&(!v||!this.popoutOpen||this.inPopout)&&Ve(Ce.default,{channel:o,guild:l,maxWidth:_}))};!function(e,t,n){t&&Be(e.prototype,t);n&&Be(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"nativePopoutSupported",get:function(){return Ee.isPlatformEmbedded&&Oe.default.supportsFeature(we.NativeFeatures.POPOUT_WINDOWS)}},{key:"popoutSupported",get:function(){return!Ee.isPlatformEmbedded||this.nativePopoutSupported}},{key:"popoutOpen",get:function(){var e=this.props.popoutWindow;return null!=e&&!e.closed}},{key:"currentDocument",get:function(){var e=this.props.popoutWindow
;return null!=e&&this.popoutOpen&&this.inPopout?e.document:document}},{key:"screenMessage",get:function(){return this.popoutOpen&&!this.inPopout&&this.props.inCall?{mainText:De.default.Messages.POPOUT_PLAYER_OPENED}:null}},{key:"paused",get:function(){return this.popoutOpen&&!this.inPopout}},{key:"inPopout",get:function(){return this.props.appContext===we.AppContext.POPOUT}},{key:"viewProperties",get:function(){var e=this.props,t=e.layout,n=e.mode,r=e.channel,a=e.inCall,o=n===we.ChannelModes.VIDEO&&a&&!(this.popoutOpen&&!this.inPopout),i=n===we.ChannelModes.VIDEO&&a&&!this.inPopout&&this.popoutSupported,u=n!==we.ChannelModes.VOICE&&r.isPrivate()&&!this.inPopout&&a,l=r.type===we.ChannelTypes.GUILD_VOICE,s=t===we.ChannelLayouts.MINIMUM||t===we.ChannelLayouts.NORMAL,d=this.inPopout&&this.nativePopoutSupported,f={renderHeader:!0,useTheme:!1,usePositionLayer:!1,useExternalHeader:s,canInvite:l,canPopout:i,canFullscreen:o,canSelectRegion:r.isPrivate(),canChangeLayout:u,canStayOnTop:d}
;if(!a)return Ge({},f,{canFullscreen:o,useTheme:!0});switch(t){case we.ChannelLayouts.FULL_SCREEN:return Ge({},f,{canPopout:!this.inPopout&&this.popoutOpen&&f.canPopout,usePositionLayer:!0});case we.ChannelLayouts.MINIMUM:return Ge({},f,{canPopout:!1});case we.ChannelLayouts.NO_CHAT:case we.ChannelLayouts.NORMAL:return Ge({},f)}}}]);return t}(i.PureComponent);Qe.displayName="ChannelCall";var Xe=Ve(Ae.ChannelCallChatLayerContainer,{});function Ze(e){var t,n=e.channel,r=e.renderExternalHeader,a=e.maxHeight,o=(0,E.default)(),u=o.width,l=void 0===u?0:u,f=o.ref,c=(0,O.useAppContext)(),p=(0,s.useStateFromStores)([fe.default],(function(){return fe.default.getVoiceChannelId()===n.id})),v=(0,s.useStateFromStoresObject)([Ie.default],(function(){var e=c===we.AppContext.POPOUT,t=Ie.default.getMode(n.id);e&&(t=we.ChannelModes.VIDEO);var r=t===we.ChannelModes.VIDEO?Ie.default.getLayout(n.id,c):we.ChannelLayouts.MINIMUM;e&&r!==we.ChannelLayouts.FULL_SCREEN&&(r=we.ChannelLayouts.NO_CHAT);return{
mode:t,layout:r,selectedParticipant:t!==we.ChannelModes.VOICE?Ie.default.getSelectedParticipant(n.id):null,participants:Ie.default.getParticipants(n.id),filteredParticipants:Ie.default.getFilteredParticipants(n.id),participantsOpen:Ie.default.getParticipantsOpen(n.id),chatOpen:Ie.default.getChatOpen(n.id),participantsVersion:Ie.default.getParticipantsVersion(n.id)}}),[n.id,n.type,p]),y=v.participants,m=v.filteredParticipants,h=v.participantsVersion,S=v.mode,T=v.layout,M=v.participantsOpen,R=v.chatOpen,w=v.selectedParticipant,D=(0,s.useStateFromStoresArray)([ae.default],(function(){return ae.default.getAllActiveStreams()})),k=(0,s.useStateFromStoresObject)([ae.default],(function(){return{selectedStream:null!=w?ae.default.getActiveStreamForStreamKey(w.id):null}}),[w]).selectedStream,U=(0,s.useStateFromStores)([le.default],(function(){return le.default.getGuild(n.getGuildId())})),F=(0,s.useStateFromStores)([ue.default],(function(){return ue.default.getCall(n.id)}),[n.id]),B=(0,
s.useStateFromStores)([de.default],(function(){return de.default.getMentionCount(n.id)}),[n.id]),H=(0,s.useStateFromStores)([oe.default],(function(){return oe.default.getId()})),V=(0,s.useStateFromStoresObject)([L.default],(function(){return{popoutWindow:L.default.getWindow(we.PopoutWindowKeys.CHANNEL_CALL_POPOUT),popoutWindowAlwaysOnTop:L.default.getIsAlwaysOnTop(we.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}})),W=V.popoutWindow,Y=V.popoutWindowAlwaysOnTop,K=(0,s.useStateFromStores)([se.default],(function(){return se.default.can(we.Permissions.CONNECT,n)})),z=(0,s.useStateFromStores)([ie.default],(function(){return ie.default.getToastsEnabled(n.id)})),$=(0,s.useStateFromStores)([x.default],(function(){return x.default.callHeaderHeight})),q=i.useCallback((function(e){_.default.updatedUnsyncedSettings({callHeaderHeight:e})}),[]),Q=null!==(t=null==U?void 0:U.id)&&void 0!==t?t:null,X=(0,I.default)(Q),Z=(0,s.useStateFromStores)([b.default],(function(){
return null!=b.default.getSelfEmbeddedActivityForChannel(n.id)}),[n]);(0,A.default)();var J=te.default.useExperiment({guildId:n.guild_id}).enabled;i.useEffect((function(){var e=!1,t=null,n=function(){var n=xe(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!p||S!==we.ChannelModes.VIDEO){n.next=5;break}n.next=3;return Oe.default.blockDisplaySleep();case 3:t=n.sent;e&&null!=t&&Oe.default.unblockDisplaySleep(t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n();return function(){null!=t?Oe.default.unblockDisplaySleep(t):e=!0}}),[p,S]);var ee=j.default.useExperiment({guildId:null!=Q?Q:""},{autoTrackExposure:!0}).allowSoundboard,ce=(0,G.useIsSoundboardSupported)(),pe=(0,re.useIsTextInVoiceEnabled)(Q),ve=ne.TextInVoiceInPopoutExperiment.useExperiment({guildId:null!=Q?Q:""}).isEnabled,ye=(0,
P.useIsContentShown)(d.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK);return Ve((0,N.default)(C.default.CHANNEL_CALL).AnalyticsLocationProvider,{},void 0,Ve(g.default,{page:we.AnalyticsPages.CHANNEL_CALL},void 0,Ve(Ae.ChannelCallChatLayerProvider,{},void 0,Ve(Qe,{channel:n,guild:U,hasConnectPermission:K,participantsOpen:M,renderExternalHeader:r,appContext:c,call:F,popoutWindow:W,popoutWindowAlwaysOnTop:Y,mentionCount:B,selectedStream:k,mode:S,inCall:p,participants:y,filteredParticipants:m,participantsVersion:h,layout:T,chatOpen:R,soundboardEnabled:ee&&ce,currentUserId:H,selectedParticipant:w,allActiveStreams:D,useNewInviteButton:X,connectedToEmbeddedActivity:Z,showChatToasts:z,storedCallHeaderHeight:$,updateStoredCallHeaderHeight:q,wrapperRef:f,width:l,maxHeight:a,textInVoiceEnabled:pe,textInVoiceInPopoutEnabled:ve,forceShowControls:ye,voiceChannelEffectsEnabled:J}),Xe)))}Ze.displayName="ChannelCallConnected";var Je=Ze;t.default=Je},665597:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ChannelCallChatLayerProvider=t.ChannelCallChatLayerContainer=void 0;var r=(0,n(933503).createLayer)("ChannelCallChat"),a=r.Layer,o=r.LayerContainer,i=r.LayerProvider,u=o;t.ChannelCallChatLayerContainer=u;var l=i;t.ChannelCallChatLayerProvider=l;var s=a;t.default=s},368464:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=I(n(667294)),o=n(923387),i=O(n(229132)),u=O(n(914789)),l=I(n(174851)),s=O(n(805918)),d=n(573285),f=n(203847),c=n(687549),p=O(n(37985)),v=O(n(259530)),y=O(n(878556)),m=n(956506),_=O(n(665597)),h=n(770348),g=n(583551),E=O(n(247001)),S=O(n(974290));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e){var t=e.channel,n=e.guild,r=e.maxWidth;a.useEffect((function(){(0,f.markDismissibleContentAsDismissed)(o.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK,{dismissAction:g.ContentDismissActionType.AUTO})}),[])
;var O=a.useCallback((function(){i.default.updateChatOpen(t.id,!1);m.ComponentDispatch.safeDispatch(h.ComponentActions.FOCUS_CHAT_BUTTON)}),[t.id]),b=T(y.default.Icon,{icon:v.default,tooltip:E.default.Messages.CLOSE,onClick:O});return T(l.default,{sidebarType:l.ChatSidebarType.CallChatSidebar,maxWidth:r,floatingLayer:_.default},void 0,T(s.default,{channel:t,draftType:c.DraftType.ChannelMessage}),T(y.default,{toolbar:b,"aria-label":E.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL},void 0,T(y.default.Icon,{icon:p.default,disabled:!0,"aria-label":E.default.Messages.VOICE_CHAT_TEXT_CHANNEL}),T(y.default.Title,{},void 0,t.name)),T("div",{className:S.default.chat},void 0,T(u.default,{channel:t,guild:n,chatInputType:d.ChatInputTypes.SIDEBAR},t.id)))}A.displayName="ChannelCallChatSidebar";var C=A;t.default=C},789659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=G
;var r,a=M(n(667294)),o=n(536211),i=M(n(538930)),u=A(n(411018)),l=A(n(469487)),s=A(n(678928)),d=A(n(786661)),f=n(902399),c=A(n(891036)),p=A(n(116780)),v=A(n(562475)),y=n(645758),m=A(n(878556)),_=n(864489),h=n(518802),g=A(n(922629)),E=A(n(825724)),S=A(n(156511)),O=n(859089),b=n(478036),I=A(n(247001)),T=A(n(34973));function A(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function N(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(){return k.apply(this,arguments)}function k(){return(k=D(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,_.isOSX)()||!_.isPlatformEmbedded){e.next=14;break}e.next=3
;return null===(n=(r=window.DiscordNative.remoteApp).getDefaultDoubleClickAction)||void 0===n?void 0:n.call(r);case 3:e.t1=t=e.sent;e.t0=null!==e.t1;if(!e.t0){e.next=7;break}e.t0=void 0!==t;case 7:if(!e.t0){e.next=11;break}e.t2=t;e.next=12;break;case 11:e.t2="Maximize";case 12:"Minimize"===(a=e.t2)?g.default.minimize():"Maximize"===a&&g.default.maximize();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){var t=e.user,n=e.channel,r=e.stream,o=(0,p.default)(n,t,r);return null==t||null==r?null:a.createElement(a.Fragment,null,R(i.default,{className:T.default.avatar,size:i.Sizes.SIZE_24,user:t,animate:!1}),R(y.Text,{className:T.default.playingText,variant:"text-md/normal",color:"none"},void 0,o))}function U(e){var t,n=e.focusedApplication,r=e.focusedParticipant,o=e.channel,i=(0,f.useActiveEvent)(o.id),l=null!=i;if((null==r?void 0:r.type)===O.ParticipantTypes.ACTIVITY)null!=n&&(t=a.createElement(a.Fragment,null,R(m.default.Divider,{className:T.default.divider
}),R(v.default,{game:n,className:T.default.activityIcon}),R(y.Text,{className:T.default.playingText,variant:"text-md/normal",color:"none"},void 0,(0,u.default)(n.name))));else if((null==r?void 0:r.type)===O.ParticipantTypes.STREAM){var s=r.user,d=r.stream;t=a.createElement(a.Fragment,null,R(m.default.Divider,{className:T.default.divider}),R(j,{user:s,channel:o,stream:d}))}else l&&(t=R(c.default,{guildEvent:i}));return R("div",{className:T.default.container},void 0,t)}U.displayName="ChannelTitle";function G(e){var t=e.channel,n=e.appContext,r=e.inCall,a=e.inPopout,i=e.isFullScreen,u=e.isChatOpen,f=e.exitFullScreen,c=(0,o.useStateFromStoresObject)([E.default],(function(){return{focusedParticipant:E.default.getSelectedParticipant(t.id),participantsOpen:E.default.getParticipantsOpen(t.id)}}),[t.id]).focusedParticipant,p=(0,s.default)(t),v=(0,d.default)(t),y=N((0,l.default)((null==c?void 0:c.type)===O.ParticipantTypes.ACTIVITY?[c.id]:[]),1)[0],_=I.default.Messages.VOICE_CHANNEL
;t.isDM()?_=I.default.Messages.DM:t.isGroupDM()&&(_=I.default.Messages.GROUP_DM);return R(m.default,{onDoubleClick:L,transparent:!0,className:(0,h.getThemeClass)(b.ThemeTypes.DARK),toolbar:R(S.default,{channel:t,appContext:n,inCall:r,inPopout:a,isFullScreen:i,isChatOpen:u,exitFullScreen:f})},void 0,null!=v?R(m.default.Icon,{icon:v,disabled:!0,"aria-label":_}):null,R(m.default.Title,{},void 0,p),R(U,{focusedApplication:y,focusedParticipant:c,channel:t}))}G.displayName="ChannelCallHeader"},156511:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channel,n=e.appContext,r=e.inCall,o=e.inPopout,i=e.isFullScreen,f=e.isChatOpen,S=e.exitFullScreen,b=t.id,T=(0,u.useStateFromStoresObject)([C.default],(function(){return{selectedParticipant:C.default.getSelectedParticipant(b),voiceParticipantsHidden:C.default.getVoiceParticipantsHidden(b),userParticipantCount:C.default.getUserParticipantCount(b)}
}),[t.id]),R=T.voiceParticipantsHidden,D=T.selectedParticipant,L=T.userParticipantCount,G=(0,E.useIsTextInVoiceEnabled)(t.guild_id),F=(0,p.usePreventIdle)("popup"),x=F.preventIdle,B=F.allowIdle,H=[];R&&H.push(k(U,{channelId:b,guildId:t.guild_id},"current-speaker"));if((null==D?void 0:D.type)===P.ParticipantTypes.STREAM){H.push(k(c.default,{className:w.default.button,participant:D},"warning"));H.push(k(l.default,{size:A.default.Sizes.LARGE,className:w.default.button,participant:D,showQuality:!0},"live-indicator"))}var V=k(v.default,{},void 0,k(N.default,{channel:t}));R&&H.push(k(O.default,{position:O.default.Positions.BOTTOM,renderPopout:function(){return V}},"call-members-popout",(function(e,t){var n=t.isShown;return a.createElement(h.default,j({},e,{active:n,count:L,key:"call-members",className:w.default.button}))})));H.push(k(s.default,{guildId:t.guild_id},"guild-events-browser-button"));r&&H.push(null!=D?k(_.default,{className:w.default.button,channelId:b
},"deselect-participant"):k(g.default,{className:w.default.button,channelId:b,isHorizontal:G},"select-participant"));G&&H.push(k(d.default,{onOpen:x,onClose:B,className:w.default.button},"recents"));H.push(k(O.default,{position:O.default.Positions.BOTTOM,renderPopout:function(e){var t=e.closePopout;return k(v.default,{},void 0,k(M.default,{channelId:b,onClose:t,appContext:n,exitFullScreen:S}))}},"more-options-popout",(function(e,t){var n=t.isShown;return a.createElement(m.default,j({},e,{key:"more-options",active:n,className:w.default.lastButton}))})));if(G){if(!f){H.push(k(I.default.Divider,{className:w.default.divider},"divider"));H.push(k(y.ChatButtonWithNUX,{channelId:t.id,className:w.default.chatButtonSpacer,disabled:!0}))}}else if(!o&&!i){H.push(k(I.default.Divider,{className:w.default.divider},"divider"));H.push(k(d.default,{className:w.default.button,onOpen:x,onClose:B},"recents"))}return a.createElement(a.Fragment,null,H)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=D(n(294184)),i=D(n(496486)),u=n(536211),l=D(n(57697)),s=D(n(981706)),d=D(n(386195)),f=D(n(183612)),c=D(n(697252)),p=n(134893),v=D(n(222935)),y=n(146529),m=D(n(928221)),_=D(n(56396)),h=D(n(975577)),g=D(n(727012)),E=n(518180),S=D(n(397228)),O=D(n(160629)),b=D(n(730977)),I=D(n(878556)),T=D(n(528739)),A=D(n(528175)),C=D(n(825724)),M=D(n(948861)),N=D(n(252986)),P=n(859089),R=D(n(247001)),w=D(n(942751));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}
function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(){j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return j.apply(this,arguments)}function U(e){var t=e.channelId,n=e.guildId,r=Date.now(),l=(0,u.useStateFromStores)([S.default,C.default],(function(){return(0,i.default)(S.default.getSpeakers()).map((function(e){return C.default.getParticipant(t,e)})).filter((function(e){return null!=e&&e.type===P.ParticipantTypes.USER&&!(0,f.default)(e)&&e.speaking})).sortBy((function(e){
return-S.default.getSpeakingDuration(e.user.id,r)})).slice(0,3).value()}));return 0===l.length?null:a.createElement(a.Fragment,null,l.map((function(e,t){return k(b.default,{position:b.default.Positions.BOTTOM,color:b.default.Colors.GREY,text:R.default.Messages.CHANNEL_CALL_CURRENT_SPEAKER.format({username:e.user.username})},e.id,(function(r){var i;return a.createElement(T.default,j({},r,{className:(0,o.default)(w.default.speaker,(i={},i[w.default.last]=t===l.length-1,i)),user:e.user,speaking:!0,collapsed:!0,guildId:n}))}))})))}},121791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=c(n(636602)),a=c(n(740207)),o=c(n(177230)),i=c(n(902305)),u=c(n(635014)),l=c(n(834162)),s=c(n(949898)),d=n(770348),f=n(376293);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=new Set,_=new Set,h=null;function g(){for(var e,t=v(m);!(e=t()).done;){var n=e.value;a.default.setDisableLocalVideo(n,!1,f.MediaEngineContextTypes.DEFAULT,!1)}_.clear();m.clear()}var E=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleWindowFocus=function(e){e.focused&&g()};t.handleVoiceChannelSelect=function(e){var t=e.channelId;if(t!==h){g();h=t}};t.handlePopoutChange=function(){i.default.getWindowFocused(d.PopoutWindowKeys.CHANNEL_CALL_POPOUT)&&g()};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(d.ActionTypes.RTC_CONNECTION_VIDEO,this.handleIncomingVideo);r.default.subscribe(d.ActionTypes.AUDIO_SET_LOCAL_VIDEO_DISABLED,this.handleManualLocalVideoToggle);r.default.subscribe(d.ActionTypes.WINDOW_FOCUS,this.handleWindowFocus);r.default.subscribe(d.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect);i.default.addChangeListener(this.handlePopoutChange)};n._terminate=function(){r.default.unsubscribe(d.ActionTypes.RTC_CONNECTION_VIDEO,this.handleIncomingVideo)
;r.default.unsubscribe(d.ActionTypes.AUDIO_SET_LOCAL_VIDEO_DISABLED,this.handleManualLocalVideoToggle);r.default.unsubscribe(d.ActionTypes.WINDOW_FOCUS,this.handleWindowFocus);r.default.unsubscribe(d.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect);i.default.removeChangeListener(this.handlePopoutChange);g();h=null};n.handleIncomingVideo=function(e){var t=e.userId,n=e.context,r=e.streamId;if(n===f.MediaEngineContextTypes.DEFAULT&&null!=r){var o=null!=l.default.getCurrentGame(),c=s.default.isFocused(),p=i.default.getWindowFocused(d.PopoutWindowKeys.CHANNEL_CALL_POPOUT),v=u.default.isLocalVideoDisabled(t,n),y=_.has(t);if(o&&!c&&!p&&!v&&!y){m.add(t);a.default.setDisableLocalVideo(t,!0,n,!1)}}};n.handleManualLocalVideoToggle=function(e){var t=e.userId;if(e.persist){_.add(t);m.delete(t)}};n.__getLocalVars=function(){return{tempVideoMutes:m,manualOverrides:_,currentVoiceChannelId:h}};return t}(o.default));t.default=E},948861:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=h;m(n(667294));var r,a=n(536211),o=m(n(145122)),i=v(n(825724)),u=v(n(856015)),l=v(n(48712)),s=v(n(845442)),d=v(n(681064)),f=v(n(630601)),c=n(859089),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.channelId,n=e.onClose,r=e.appContext,v=e.exitFullScreen,y=e.onSelect,m=(0,a.useStateFromStores)([i.default],(function(){return i.default.getSelectedParticipant(t)})),h=(null==m?void 0:m.type)===c.ParticipantTypes.STREAM?m.stream:null;return _(o.default,{navId:"channel-call-overflow-popout",style:o.MenuStyle.FLEXIBLE,onClose:n,"aria-label":p.default.Messages.CHANNEL_CALL_OVERFLOW_MENU_LABEL,onSelect:y},void 0,(0,u.default)(t),(0,s.default)(),(0,l.default)(t),(0,f.default)(t),(0,d.default)(h,r,v))}h.displayName="ChannelCallOverflowMenu"},252986:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=c(n(692244)),i=c(n(487372)),u=n(645758),l=c(n(582945)),s=n(770348),d=c(n(247001)),f=c(n(498082));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.channel,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.getVoiceStatesForChannel(t)}));return v("div",{className:f.default.root},void 0,v(u.Text,{variant:"text-xs/normal",className:f.default.header},void 0,d.default.Messages.CHANNEL_CALL_MEMBERS_POPOUT_HEADER.format({count:n.length})),v(l.default,{className:f.default.scroller},void 0,v(o.default,{allowDragging:!1,allowPreviews:!1,className:f.default.voiceUsers,channel:t,voiceStates:n,collapsed:!1,location:s.AnalyticsLocations.CHANNEL_CALL})))}y.displayName="ChannelCallParticipantsPopout"},297452:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=te;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=V(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=H(n(294184)),i=n(248088),u=n(536211),l=H(n(88500)),s=H(n(72690)),d=H(n(136873)),f=H(n(61689)),c=n(460784),p=H(n(678928)),v=n(139982),y=n(659022),m=n(700192),_=H(n(712594)),h=H(n(373115)),g=H(n(770404)),E=H(n(493051)),S=n(143414),O=H(n(643779)),b=H(n(645675)),I=H(n(635014)),T=H(n(728429)),A=H(n(949898)),C=H(n(956117)),M=H(n(160629)),N=H(n(80828)),P=H(n(259530)),R=H(n(114655)),w=H(n(57754)),D=n(518802),L=H(n(825724)),k=H(n(932018)),j=n(770348),U=n(942675),G=n(376293),F=H(n(247001)),x=H(n(299005)),B=H(n(480798));function H(e){return e&&e.__esModule?e:{default:e}}function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(V=function(e){return e?n:t})(e)}
function W(){W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return W.apply(this,arguments)}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var $={width:232,height:315},q={width:232,height:267},Q=475,X=267,Z=z(N.default,{});function J(e){var t=e.header,n=I.default.getCameraComponent(),r=(0,u.useStateFromStores)([I.default],(function(){return I.default.getVideoDeviceId()})),o=(0,_.default)();a.useEffect((function(){
var e=T.default.getCurrentUser();if(o&&null!=e){var t=(0,y.getLastUsedVideoBackgroundOption)(e);(0,m.applyBackgroundOptionPreview)(t,r,{track:!1}).catch(j.NOOP)}}),[o,r]);return z("div",{className:x.default.previewRoot},void 0,Z,z("div",{className:x.default.preview},void 0,z(n,{disabled:!1,deviceId:r,width:Q,height:X})),z("div",{className:x.default.previewChannelHeader},void 0,t))}J.displayName="CameraPreview";function ee(e){var t=e.canVideo,n=e.channel,r=e.numVideoDevices,a=(0,h.default)(),i=a.cameraUnavailable,u=a.enabled,s=(0,g.default)(n);return z("div",{className:x.default.actions},void 0,z(S.CenterControlButton,{iconComponent:P.default,color:"red",className:x.default.actionButton,label:F.default.Messages.DISMISS,onClick:function(){return l.default.stopRinging(n.id)}}),t&&z(M.default,{renderPopout:function(e){var t=e.closePopout;return z(k.default,{onClose:t})},position:M.default.Positions.TOP,align:M.default.Align.CENTER,animation:M.default.Animation.FADE},void 0,(function(e,t){
var a=e.onClick,o=t.isShown;return z(b.default,{join:!0,enabled:u,color:"green",centerButton:!0,hasPermission:s,cameraUnavailable:i,channel:n,onPopoutClick:r>1?a:null,className:x.default.actionButton,popoutOpen:o,onCameraUnavailable:E.default,onChange:function(){d.default.selectVoiceChannel(n.id,!0);(0,v.transitionToGuild)(j.ME,n.id)}})})),z(O.default,{channel:n,color:"green",centerButton:!0,className:(0,o.default)(x.default.actionButton,x.default.last),onClick:function(){return d.default.selectVoiceChannel(n.id)}}))}ee.displayName="CallActionButtons";function te(e){var t,n=e.animatedStyle,r=e.y,d=e.x,v=e.channel,y=Y(a.useState(!1),2),m=y[0],_=y[1],h=(0,c.getChannelIconURL)(v),g=(0,p.default)(v),E=Y((0,u.useStateFromStoresArray)([I.default],(function(){return[I.default.supports(G.Features.VIDEO),Object.keys(I.default.getVideoDevices()).length]})),2),S=E[0],O=E[1],b=(0,u.useStateFromStores)([A.default],(function(){return A.default.isFocused()})),T=(0,
u.useStateFromStores)([L.default],(function(){return L.default.getMode(v.id)})),M=a.useCallback((function(e){null!=e.top&&null!=e.left&&s.default.move(e.left,e.top)}),[]),N=(0,i.useSpring)({value:m?1:0,config:W({},i.config.stiff,{clamp:!0})});a.useEffect((function(){var e=function(e){e.keyCode===j.KeyboardKeys.ESCAPE&&l.default.stopRinging(v.id)};window.addEventListener("keydown",e);return function(){return window.removeEventListener("keydown",e)}}),[v]);var P=T===j.ChannelModes.VIDEO&&S&&O>0,k=a.createElement(a.Fragment,null,z(w.default,{className:x.default.icon,ringing:b,src:null!=h?h:"",ringingType:w.default.RingingType.INCOMING,size:m?U.Sizes.SIZE_40:U.Sizes.SIZE_80}),z("div",{className:x.default.titleGroup},void 0,z(R.default,{color:R.default.Colors.CUSTOM,className:x.default.title,size:m?R.default.Sizes.SIZE_16:R.default.Sizes.SIZE_20},void 0,g),z(R.default,{color:R.default.Colors.CUSTOM,className:x.default.subtitle,size:m?R.default.Sizes.SIZE_14:R.default.Sizes.SIZE_16
},void 0,T===j.ChannelModes.VOICE?F.default.Messages.INCOMING_CALL_ELLIPSIS:F.default.Messages.INCOMING_VIDEO_CALL_ELLIPSIS))),H=P?$:q;return z(f.default,{className:x.default.wrapper,selector:"."+x.default.root,initialPosition:{left:d,top:r},maxX:window.innerWidth,maxY:window.innerHeight,onDragEnd:M,dragAnywhere:!0},void 0,a.createElement(a.Fragment,null,z(i.animated.div,{className:(0,o.default)(x.default.root,B.default.elevationHigh,(t={},t[x.default.previewCamera]=m,t),m?(0,D.getThemeClass)("dark"):null),style:W({},n,{width:N.value.interpolate([0,1],[H.width,Q]),minHeight:N.value.interpolate([0,1],[H.height,X]),translateX:N.value.interpolate([0,1],[0,-1*Math.abs(Q-H.width)/2])})},void 0,m?z(J,{header:k}):z("div",{className:x.default.mainChannelInfo},void 0,k),z(ee,{canVideo:P,channel:v,numVideoDevices:O}),P&&!m?z(C.default,{size:C.default.Sizes.SMALL,fullWidth:!0,look:C.default.Looks.LINK,color:C.default.Colors.PRIMARY,className:x.default.previewButton,onClick:function(){return _(!0)
}},void 0,F.default.Messages.INCOMING_CALL_PREVIEW_CAMERA):null)))}te.displayName="IncomingCallModal"},310268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=F;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=C(n(294184)),i=C(n(496486)),u=n(536211),l=n(91817),s=n(378158),d=C(n(762921)),f=C(n(284382)),c=C(n(607209)),p=C(n(728429)),v=C(n(265851)),y=n(772575),m=C(n(160629)),_=n(730977),h=C(n(268478)),g=C(n(628551)),E=C(n(582945)),S=n(71246),O=C(n(29652)),b=n(859089),I=n(770348),T=C(n(247001)),A=C(n(168088));function C(e){
return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e
}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){switch(e){case b.ParticipantTypes.ACTIVITY:return T.default.Messages.EMBEDDED_ACTIVITIES_NUM_PARTICIPANTS.format({numUsers:t});case b.ParticipantTypes.STREAM:return T.default.Messages.SPECTATORS.format({numViewers:t});default:throw new Error("Unknown participant type.")}}function j(e){var t=e.users,n=e.disableInteraction,r=e.guildId,a=e.participantType,i=e.channelId,u=e.handleUserContextMenu,l=k(a,t.length);return L(v.default,{"aria-label":l,className:A.default.popoutWrapper},void 0,L(E.default,{className:A.default.scroller},void 0,L(y.Heading,{variant:"heading-sm/medium",className:A.default.memberListHeader,level:3},void 0,l),L("div",{},void 0,t.map((function(e){var t;return L(d.default,{guildId:null!=r?r:void 0,className:(0,o.default)(A.default.memberListItem,(t={},t[A.default.popoutDisabled]=n,t)),
textClassName:A.default.memberListItemText,user:e,disablePopout:n,nick:O.default.getNickname(r,i,e),onContextMenu:function(t){return n?null:u(t,e)}},e.id)})))))}j.displayName="PopoutList";function U(e){var t=e.users,n=e.guildId,r=e.channelId,a=e.maxVisibleUsers,i=void 0===a?3:a,u=e.className,l=k(e.participantType,t.length),s=t.length<i?t.map((function(e){return L("div",{className:A.default.viewersTooltipItem},e.id,O.default.getName(n,r,e))})):l;return L(_.TooltipContainer,{text:s,"aria-label":l},void 0,L("div",{className:(0,o.default)(A.default.viewers,u)},void 0,L(h.default,{className:A.default.viewersIcon}),L("span",{"aria-hidden":"true"},void 0,t.length)))}U.displayName="CompactUsers";var G=[];function F(e){var t=e.channelId,r=e.guildId,d=e.participant,v=e.className,y=e.compact,_=void 0!==y&&y,h=e.disableInteraction,E=void 0!==h&&h,O=e.maxVisibleUsers,T=void 0===O?3:O,C=w(a.useState(!1),2),M=C[0],P=C[1],D=a.useRef(new l.DelayedCall(150,(function(){return P(!1)}))),k=(0,
u.useStateFromStoresArray)([c.default,p.default],(function(){if(d.type===b.ParticipantTypes.STREAM){var e=c.default.getViewerIds(d.id);return e.length>0?e.map((function(e){return p.default.getUser(e)})).filter(S.isNotNullish):G}return d.type===b.ParticipantTypes.ACTIVITY&&d.participants.size>0?Array.from(d.participants).map((function(e){return p.default.getUser(e)})).filter(S.isNotNullish):G}),[d]),F=a.useCallback((function(){D.current.cancel();P(!0)}),[]),x=a.useCallback((function(){D.current.delay()}),[]),B=a.useCallback((function(e,t){F();(0,s.openContextMenuLazy)(e,R(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,N({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:x})}),[x,F]);if(0===k.length)return null
;if(_)return L(U,{maxVisibleUsers:T,users:k,guildId:r,channelId:t,className:v,participantType:d.type});var H=(0,i.default)(k).take(T).map((function(e){return L(g.default,{src:e.getAvatarURL(r,24),"aria-label":e.username,size:g.default.Sizes.SIZE_24,className:A.default.viewer},e.id)})).value();k.length>T&&(H[H.length-1]=L("div",{className:A.default.overflow},"overflow","+",k.length-T+1));return L(f.default,{section:I.AnalyticsSections.STREAM_VIEWER_POPOUT},void 0,L("div",{onMouseEnter:F,onMouseLeave:x},void 0,L(m.default,{renderPopout:function(){return L(j,{participantType:d.type,handleUserContextMenu:B,guildId:r,channelId:t,users:k,disableInteraction:E})},shouldShow:M,position:m.default.Positions.TOP},void 0,(function(){return L("div",{className:(0,o.default)(A.default.viewers,v)},void 0,H)}))))}F.displayName="ParticipantsForSelectedParticipant"},932018:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;y(n(667294))
;var r,a=p(n(441143)),o=n(536211),i=p(n(284382)),u=y(n(145122)),l=p(n(728429)),s=p(n(161409)),d=p(n(376638)),f=n(770348),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.onClose,n=e.onSelect,r=(0,o.useStateFromStores)([l.default],(function(){var e=l.default.getCurrentUser();(0,a.default)(null!=e,"VideoDeviceMenu: currentUser cannot be undefined");return e})),p=(0,s.default)(),v=(0,d.default)(r.id);return m(i.default,{object:f.AnalyticsObjects.CONTEXT_MENU},void 0,m(u.default,{onClose:t,navId:"video-device-context","aria-label":c.default.Messages.FORM_LABEL_VIDEO_DEVICE,onSelect:n},void 0,m(u.MenuGroup,{label:c.default.Messages.FORM_LABEL_VIDEO_DEVICE},void 0,p),m(u.MenuGroup,{},void 0,v)))}_.displayName="VideoDeviceMenu"},936353:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(294184)),i=h(n(74854)),u=n(536211),l=h(n(550024)),s=h(n(213847)),d=h(n(949898)),f=h(n(57754)),c=n(859089),p=n(770348),v=n(942675),y=h(n(25578)),m=h(n(3066)),_=h(n(476600));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}var O=23,b=17,I=26,T={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,EASING_IN:i.default.Easing.inOut(i.default.Easing.back()),EASING_OUT:i.default.Easing.quad},A=200,C=125,M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).scaleAnimation=new i.default.Value(0);t.spriteAnimation=new i.default.Value(0);t.spriteOpacity=new i.default.Value(0);t.widthAnimation=new i.default.Value(0);return t}var n=t.prototype;n.componentDidMount=function(){this.componentDidAppear()}
;n.componentDidAppear=function(){var e=this.scaleAnimation,t=this.widthAnimation;e.setValue(1);t.setValue(1)};n.componentWillEnter=function(e){var t=this.scaleAnimation,n=this.widthAnimation;t.setValue(0);n.setValue(0);i.default.parallel([i.default.timing(t,{toValue:1,duration:T.DURATION_IN,easing:T.EASING_IN}),i.default.timing(n,{toValue:1,duration:A})]).start(e)};n.componentWillLeave=function(e){var t=this.scaleAnimation,n=this.spriteAnimation,r=this.spriteOpacity,a=this.widthAnimation;r.setValue(1);n.setValue(0);for(var o=[],u=0;u<O;u++)o.push(i.default.timing(n,{toValue:-I*u,duration:b}));i.default.sequence([i.default.timing(t,{toValue:0,duration:T.DURATION_OUT,easing:T.EASING_OUT}),i.default.sequence(o),i.default.timing(a,{toValue:0,duration:C})]).start(e)};n.getScaleStyle=function(){var e=this.scaleAnimation;return i.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[T.SCALE_MIN,T.SCALE_MAX]})}],opacity:e})};n.getSpriteStyle=function(){return{
backgroundPosition:this.spriteAnimation,opacity:this.spriteOpacity}};n.getWidthStyle=function(){return{width:this.widthAnimation.interpolate({inputRange:[0,1],outputRange:["0px",this.props.width+"px"]})}};n.render=function(){var e,t=this.props,n=t.theme,r=t.children,a=t.className,u=n===p.ThemeTypes.DARK,l=(0,o.default)(y.default.sprite,((e={})[_.default.crossWhite]=u,e[_.default.crossGrey]=!u,e));return E(i.default.div,{className:(0,o.default)(y.default.transition,a),style:this.getWidthStyle()},void 0,E("div",{className:(0,o.default)(y.default.spriteWrapper,m.default.horizontal,m.default.justifyCenter,m.default.alignCenter)},void 0,E(i.default.div,{className:l,style:this.getSpriteStyle()})),E(i.default.div,{style:this.getScaleStyle()},void 0,r))};return t}(a.PureComponent);M.displayName="AvatarTransition";function N(e){var t=e.participants,n=e.onContextMenu,r=e.className,a=e.onClick,i=e.width,p=e.guildId,m=(0,s.default)(),_=function(e,t){return((0,
v.getAvatarSize)(v.Sizes.SIZE_80)+16)*t>e?v.Sizes.SIZE_40:v.Sizes.SIZE_80}(i,t.length),h=(0,u.useStateFromStores)([d.default],(function(){return d.default.isFocused()})),g=t.map((function(e){var t,r;if(e.type!==c.ParticipantTypes.USER)return null;var o=e.user,i=e.voiceState,u=e.speaking,l=e.ringing;return E(M,{className:y.default.participant,width:(0,v.getAvatarSize)(_),theme:m},o.id,E(f.default,{src:o.getAvatarURL(p,v.SizeSpecs[_].size,u&&h),size:_,muted:null!==(t=null==i?void 0:i.isVoiceMuted())&&void 0!==t&&t,deafen:null!==(r=null==i?void 0:i.isVoiceDeafened())&&void 0!==r&&r,speaking:u,ringing:l,onClick:function(t){return null==a?void 0:a(e,t)},onContextMenu:function(t){return null==n?void 0:n(e,t)}},e.id))}));return E(l.default,{component:"div",className:(0,o.default)(y.default.root,r)},void 0,g)}N.displayName="VoiceCallParticipants"},326752:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channel,n=(0,
i.useStateFromStores)([s.default],(function(){return s.default.useReducedMotion})),r=(g=a.useState([]),E=2,function(e){if(Array.isArray(e))return e}(g)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(g,E)||h(g,E)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=r[0],y=r[1];var g,E;a.useEffect((function(){function e(e){var n=e.channelId,r=e.emoji;if(n===t.id){var a=function(e,t){var n;if(null!=t.id){var r;return f.default.getEmojiURL({id:t.id,animated:null!==(r=t.animated)&&void 0!==r&&r,size:32})}var a=l.default.getByName(l.default.convertSurrogateToName(t.name,!1))
;return null!==(n=null==a?void 0:a.url)&&void 0!==n?n:""}(0,r),i=(0,o.default)();y((function(e){return[].concat(_(e),[{animationId:i,source:a}])}))}}u.default.subscribe(c.ActionTypes.VOICE_CHANNEL_EFFECT_SEND,e);return function(){u.default.unsubscribe(c.ActionTypes.VOICE_CHANNEL_EFFECT_SEND,e)}}),[t]);var S=a.useCallback((function(e){y((function(t){var n=_(t),r=n.findIndex((function(t){return t.animationId===e}));n.splice(r,1);return n}))}),[]);return n?null:a.createElement(a.Fragment,null,v.map((function(e){return m(d.default,{className:p.default.effect,id:e.animationId,source:e.source,onComplete:S},e.animationId)})))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(468811)),i=n(536211),u=v(n(636602)),l=v(n(37146)),s=v(n(235879)),d=v(n(439702)),f=v(n(692711)),c=n(770348),p=v(n(492297));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},330493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(e){(0,i.openModal)((function(e){return r.createElement(o.default,d({},e,{title:u.default.Messages.SERVER_DEAFENED_DIALOG_TITLE,body:u.default.Messages.SERVER_DEAFENED_DIALOG_BODY}))}));return}a.default.toggleSelfDeaf()}
;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(740207)),o=l(n(88509)),i=n(194322),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}},590087:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(e,t){if(t&&(0,i.isRTCConnectedInHub)()){(0,u.openModalLazy)(p(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(2422)]).then(n.bind(n,202422));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))));return}if(t){(0,u.openModal)((function(e){return r.createElement(o.default,f({},e,{title:l.default.Messages.SUPPRESSED,body:l.default.Messages.SUPPRESSED_PERMISSION_BODY}))}));return}if(e){(0,u.openModal)((function(e){return r.createElement(o.default,f({},e,{title:l.default.Messages.SERVER_MUTED_DIALOG_TITLE,body:l.default.Messages.SERVER_MUTED_DIALOG_BODY}))}));return}a.default.toggleSelfMute()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(740207)),o=s(n(88509)),i=n(864227),u=n(194322),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){
c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}},893146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(929031)),o=s(n(88509)),i=n(845607),u=s(n(247001)),l=["type","onConfirm"];function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){var t=e.type,n=e.onConfirm,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),d=t===i.SelfStreamAndVideoAlertType.STREAM?u.default.Messages.HIDE_SELF_STREAM_CONFIRMATION_HEADER:u.default.Messages.HIDE_SELF_VIDEO_CONFIRMATION_HEADER,c=t===i.SelfStreamAndVideoAlertType.STREAM?u.default.Messages.HIDE_SELF_STREAM_CONFIRMATION_BODY:u.default.Messages.HIDE_SELF_VIDEO_CONFIRMATION_BODY;return r.createElement(o.default,f({confirmText:u.default.Messages.CONFIRM,secondaryConfirmText:u.default.Messages.DONT_ASK_AGAIN,title:d,cancelText:u.default.Messages.CANCEL,onConfirm:n,onConfirmSecondary:function(){a.default.updatedUnsyncedSettings({disableHideSelfStreamAndVideoConfirmationAlert:!0});n()},body:c},s))}c.displayName="HideSelfStreamAndVideoConfirmationAlert"},856015:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=s(n(229132)),i=n(145122),u=s(n(825724)),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getVoiceParticipantsHidden(e)}));return f(i.MenuCheckboxItem,{id:"no-video-hide",label:l.default.Messages.STREAM_SHOW_NON_VIDEO,checked:!t,action:function(){return o.default.toggleVoiceParticipantsHidden(e,!t)}})}c.displayName="useHideNoVideoParticipantsItem"},48712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(145122),u=p(n(174508)),l=n(194322),s=p(n(831566)),d=p(n(893146)),f=n(845607),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=_((0,s.default)(e,t),3),r=n[0],p=n[1],v=n[2],h=(0,o.useStateFromStores)([u.default],(function(){return u.default.disableHideSelfStreamAndVideoConfirmationAlert}));return r?y(i.MenuCheckboxItem,{id:"self-stream-hide",label:c.default.Messages.SHOW_SELF_STREAM,checked:!p,action:function(){if(h||p)return v(!p);(0,l.openModal)((function(e){return a.createElement(d.default,m({},e,{type:f.SelfStreamAndVideoAlertType.STREAM,onConfirm:function(){return v(!p)}}))}))}}):null}g.displayName="useHideSelfStreamItem"},845442:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(145122),u=v(n(174508)),l=n(194322),s=v(n(25077)),d=v(n(893146)),f=n(845607),c=n(376293),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){void 0===t&&(t=c.MediaEngineContextTypes.DEFAULT);var n=h((0,s.default)(e,t),3),r=n[0],v=n[1],y=n[2],g=(0,o.useStateFromStores)([u.default],(function(){return u.default.disableHideSelfStreamAndVideoConfirmationAlert}));return r?m(i.MenuCheckboxItem,{id:"self-video-hide",label:p.default.Messages.SHOW_SELF_VIDEO,checked:!v,action:function(){if(g||v)return y(!v);(0,l.openModal)((function(e){return a.createElement(d.default,_({},e,{type:f.SelfStreamAndVideoAlertType.VIDEO,onConfirm:function(){return y(!v)}}))}))}}):null}E.displayName="useHideSelfVideoItem"},441072:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,
a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getInputDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getInputDeviceId()}));return e.map((function(e){var n=e.id,r=e.disabled,a=e.name;return d(i.MenuRadioItem,{id:"input-"+n,group:"input-devices",disabled:r,label:a,checked:n===t,action:function(){return o.default.setInputDevice(n)}},"input-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},161409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getVideoDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getVideoDeviceId()}));return e.map((function(e){var n=e.id,r=e.disabled,a=e.name;return d(i.MenuRadioItem,{group:"video-devices",id:"video-device-"+n,disabled:r,label:a,
checked:n===t,action:function(){return o.default.setVideoDevice(n)}},"video-device-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},16505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getOutputDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getOutputDeviceId()}));return e.map((function(e){var n=e.id,r=e.disabled,a=e.name;return d(i.MenuRadioItem,{group:"output-devices",id:"output-"+n,disabled:r,label:a,checked:n===t,action:function(){return o.default.setOutputDevice(n)}},"output-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},376638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(199649),u=v(n(712594)),l=v(n(423046)),s=v(n(635014)),d=n(194322),f=n(499458),c=v(n(247001)),p=v(n(352062));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e){var t=(0,f.useModalContext)(),r=(0,o.useStateFromStores)([s.default],(function(){return s.default.isVideoEnabled()})),v=(0,o.useStateFromStores)([l.default],(function(){return l.default.getId()===e})),y=(0,u.default)()
;return r&&!y||!v?null:m(i.MenuItem,{id:"change-video-background",label:m("div",{className:p.default.item},void 0,r?c.default.Messages.CAMERA_CHANGE_VIDEO_BACKGROUND_MENU_ITEM:c.default.Messages.CAMERA_PREVIEW_MENU_ITEM),action:function(){(0,d.openModalLazy)(g(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(67965),n.e(93198),n.e(24326)]).then(n.bind(n,635390));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,_({},e,{videoEnabled:r}))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:"camera-preview",contextKey:t})}})}E.displayName="usePreviewVideoItem"},630601:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(145122),i=n(518180),u=f(n(938199)),l=f(n(644263)),s=f(n(322785)),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function v(e){var t=(0,a.useStateFromStores)([l.default],(function(){return l.default.getChannel(e)})),n=(0,i.useIsTextInVoiceEnabled)(null==t?void 0:t.guild_id),r=(0,a.useStateFromStores)([u.default],(function(){return u.default.getToastsEnabled(e)}));return(null==t?void 0:t.isGuildVoice())&&!n?null:p(o.MenuCheckboxItem,{id:"show-call-chat-toasts",label:d.default.Messages.SHOW_NEW_MESSAGE_PREVIEWS,checked:r,action:function(){return s.default.setCallChatToastsEnabled(e,!r)}})}v.displayName="useShowChatToastsItem"},815267:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(226800)),o=n(145122),i=s(n(634230)),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return f(o.MenuItem,{id:"voice-settings",label:l.default.Messages.VOICE_SETTINGS,action:function(){return a.default.open(u.UserSettingsSections.VOICE)},icon:i.default})}c.displayName="useVoiceSettingsItem"},
296285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){a.useEffect((function(){if(null!=e){o.default.lockChangeLog(e);return function(){o.default.unlockChangeLog(e)}}}),[e])};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(241165))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}},216672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,r=e.baseChannelId,C=(0,
o.useStateFromStores)([m.default],(function(){return m.default.getChannel(t)})),M=(0,o.useStateFromStores)([h.default],(function(){return h.default.getGuild(null==C?void 0:C.getGuildId())})),R=(0,b.default)(C),D=(0,o.useStateFromStores)([p.default],(function(){return null!=(null==M?void 0:M.id)&&p.default.isLurking(M.id)}),[M]),L=(0,o.useStateFromStores)([E.default],(function(){return E.default.can(I.Permissions.SEND_MESSAGES,C)})),k=a.useRef(!1);a.useEffect((function(){if(null!=C&&!k.current){k.current=!0;(0,s.trackWithMetadata)(I.AnalyticEvents.CHANNEL_OPENED,{channel_id:C.id,guild_id:C.guild_id,parent_id:C.parent_id,channel_view:"Split View",can_send_message:L})}}),[C,L]);if(null==C||null==M)return null;var j=[];D||j.push(N(f.default,{channel:C},"notifications"));j.push(N(O.default.Icon,{icon:S.default,tooltip:T.default.Messages.CLOSE,onClick:function(){return y.default.closeChannelSidebar(r)}},"close"));return a.createElement(a.Fragment,null,N(l.default,{channel:C,
draftType:_.DraftType.ChannelMessage}),N(O.default,{toolbar:j,"aria-label":T.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL},void 0,(0,c.renderTitle)({channel:C,channelName:R,guild:M,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(14560),n.e(32318)]).then(n.bind(n,532318));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,P({},e,{channel:C,guild:M}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){var e=g.default.getMessages(C.id);(0,v.transitionToGuild)(C.guild_id,C.id,e.jumpTargetId)}})),N("div",{className:A.default.chat},void 0,N(u.default,{channel:C,guild:M,chatInputType:d.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=C(n(914789)),l=C(n(805918)),s=n(844784),d=n(573285),f=C(n(818378)),c=n(451115),p=C(n(930409)),v=n(139982),y=C(n(546914)),m=C(n(644263)),_=n(687549),h=C(n(30098)),g=C(n(201292)),E=C(n(689389)),S=C(n(259530)),O=C(n(878556)),b=C(n(678928)),I=n(770348),T=C(n(247001)),A=C(n(895383));function C(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}},691692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n,r,c=(0,l.useCanManageThread)(e),p=(0,l.useCanUnarchiveThread)(e),y=(0,l.useIsThreadModerator)(e)
;if(!(!0===(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)?p:c))return;var m=new Date((0,s.default)(e)).toLocaleString(d.default.getLocale(),{month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"});return(null===(n=e.threadMetadata)||void 0===n?void 0:n.archived)?v(o.MenuItem,{id:"unarchive-thread",label:e.isForumPost()?d.default.Messages.UNARCHIVE_FORUM_POST:d.default.Messages.UNARCHIVE_THREAD,action:function(){return i.default.unarchiveThread(e,y)}}):v(o.MenuItem,{id:"auto-archive-thread",label:d.default.Messages.ARCHIVE,subtext:d.default.Messages.AUTO_ARCHIVE_THREAD_AT.format({time:m})},void 0,v(o.MenuGroup,{},void 0,v(o.MenuItem,{id:"archive-thread",label:e.isForumPost()?d.default.Messages.ARCHIVE_FORUM_POST:d.default.Messages.ARCHIVE_THREAD,action:function(){return i.default.archiveThread(e,!1)}}),y&&!(null===(r=e.threadMetadata)||void 0===r?void 0:r.locked)?v(o.MenuItem,{id:"archive-lock-thread",
label:e.isForumPost()?d.default.Messages.LOCK_FORUM_POST:d.default.Messages.LOCK_THREAD,action:function(){return i.default.archiveThread(e,!0)}}):null),v(o.MenuGroup,{label:d.default.Messages.AUTO_ARCHIVE_AFTER},void 0,(0,u.getAutoArchiveOptions)().map((function(t){var n,r=t.value,u=t.label;return v(o.MenuCheckboxItem,{id:String(r),label:u,checked:r===(null===(n=e.threadMetadata)||void 0===n?void 0:n.autoArchiveDuration),className:f.default.menuItem,focusedClassName:f.default.focused,action:function(){(0,a.closeContextMenu)();return i.default.setAutoArchiveDuration(e,r)}},r)}))))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(378158),o=n(145122),i=c(n(887174)),u=n(192751),l=n(819235),s=c(n(447840)),d=c(n(247001)),f=c(n(313657));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},609510:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=p(n(968494)),u=n(145122),l=p(n(689389)),s=n(194322),d=n(770348),f=n(474477),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e){return(0,o.useStateFromStores)([l.default],(function(){return!l.default.can(e.isThread()?d.Permissions.MANAGE_THREADS:d.Permissions.MANAGE_CHANNELS,e)||!l.default.can(e.accessPermissions,e)}),[e])?null:y(u.MenuItem,{id:"delete-channel",
label:e.type===d.ChannelTypes.GUILD_CATEGORY?c.default.Messages.DELETE_CATEGORY:e.isThread()?e.isForumPost()?c.default.Messages.DELETE_FORUM_POST:c.default.Messages.DELETE_THREAD:c.default.Messages.DELETE_CHANNEL,color:f.MenuItemColor.DANGER,action:function(){return(0,s.openModalLazy)(h(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(87466)]).then(n.bind(n,59337));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,m({},t,{onConfirm:function(){t.onClose();i.default.deleteChannel(e.id)},channel:e}))}));case 5:case"end":return t.stop()}}),t)}))))}})}g.displayName="useChannelDeleteItem"},783938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=(0,a.useStateFromStores)([d.default],(function(){return d.default.getChannel(e.parent_id)})),r=(0,s.useIsThreadModerator)(e),p=(0,
i.useExistingPin)(e);if(!(null==n?void 0:n.isForumChannel()))return null;if(!r)return null;if(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)return null;return e.hasFlag(f.ChannelFlags.PINNED)?y(u.MenuItem,{id:"unpin-thread",label:c.default.Messages.UNPIN_POST,action:function(){return l.default.unpin(e)}}):y(u.MenuItem,{id:"pin-thread",label:c.default.Messages.PIN_POST,action:function(){null!=p?o.default.show({title:c.default.Messages.FORUM_PIN_CONFIRM_TITLE,body:c.default.Messages.FORUM_PIN_CONFIRM_BODY,onConfirm:(n=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return l.default.unpin(p);case 2:l.default.pin(e);case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}),function(){return n.apply(this,arguments)})}):l.default.pin(e)
;var t,n}})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=p(n(896108)),i=n(973523),u=n(145122),l=p(n(887174)),s=n(819235),d=p(n(644263)),f=n(173652),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}},326348:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(968494)),o=n(145122),i=n(819235),u=n(194322),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}
function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t;return!(0,i.useCanManageThread)(e)||(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)||__OVERLAY__?null:f(o.MenuItem,{id:"edit-thread",label:e.isForumPost()?l.default.Messages.EDIT_FORUM_POST:l.default.Messages.EDIT_THREAD,action:function(){(0,u.closeAllModals)();a.default.open(e.id)}})}c.displayName="useThreadEditItem"},412649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(441143)),i=n(536211),u=_(n(498773)),l=_(n(649563)),s=n(973523),d=n(145122),f=n(819235),c=_(n(644263)),p=_(n(433385)),v=n(264426),y=_(n(247001)),m=_(n(179537));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.tag,n=t.name,r=t.emojiId,o=t.emojiName,l=(0,i.useStateFromStores)([p.default],(function(){return null!=r?p.default.getUsableCustomEmojiById(r):null}));return a.createElement(a.Fragment,null,g(u.default,{className:m.default.emoji,emojiId:r,emojiName:o,animated:Boolean(null==l?void 0:l.animated)}),n)}function S(e){var t=(0,i.useStateFromStores)([c.default],(function(){return c.default.getChannel(e)}),[e]);(0,o.default)(null!=t,"Unexpected missing thread");var n=(0,f.useCanManageThread)(t),r=(0,i.useStateFromStoresArray)([c.default],(function(){var e,n;return null!==(e=null===(n=c.default.getChannel(t.parent_id))||void 0===n?void 0:n.availableTags)&&void 0!==e?e:[]}),[t.parent_id]),a=(0,
s.useAppliedTags)(t),u=a.length>=v.MAX_FORUM_POST_TAGS;if(!n)return null;if(__OVERLAY__)return null;if(!t.isForumPost())return null;if(0===r.length)return null;var p=r.map((function(e){var n=a.includes(e);return g(d.MenuCheckboxItem,{id:e.id,label:g(E,{tag:e}),disabled:u&&!n,action:function(){return function(e){var n=new Set(a);if(n.has(e))n.delete(e);else{if(u)return;n.add(e)}var r=Array.from(n).map((function(e){return e.id}));l.default.updateForumPostTags(t.id,r)}(e)},checked:n},e.id)}));return g(d.MenuItem,{id:"edit-tags",label:y.default.Messages.FORUM_TAG_POST_EDIT},void 0,p)}S.displayName="useThreadEditTagsItem"},233557:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(145122),o=s(n(887174)),i=n(895431),u=n(64072),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=(0,i.useThreadNotificationSetting)(e)
;return e.isArchivedThread()?null:f(a.MenuItem,{id:"thread-notifications",label:l.default.Messages.NOTIFICATION_SETTINGS},void 0,(0,u.getThreadNotificationOptions)().map((function(n){var r=n.setting,i=n.label;return f(a.MenuRadioItem,{group:"thread-notifications",id:""+r,label:i,action:function(){return o.default.setNotificationSettings(e,{flags:r})},checked:r===t},r)})))}c.displayName="useThreadNotificationItem"},730205:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(145122),o=s(n(887174)),i=n(819235),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t,n;if(!(0,i.useIsThreadModerator)(e)||e.type!==u.ChannelTypes.PRIVATE_THREAD)return null;var r=null===(t=null===(n=e.threadMetadata)||void 0===n?void 0:n.invitable)||void 0===t||t;return f(a.MenuCheckboxItem,{id:"toggle-thread-invitable",label:l.default.Messages.THREAD_INVITABLE_TOGGLE_LABEL,
checked:r,action:function(){return o.default.setInvitable(e,!r)}})}c.displayName="useToggleThreadInvitableItem"},918667:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(496486)),i=y(n(844784)),u=y(n(956117)),l=y(n(16941)),s=n(645758),d=y(n(259530)),f=y(n(308920)),c=n(770348),p=y(n(247001)),v=y(n(76889));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}
function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=o.default.debounce(i.default.trackWithMetadata,500),g=function(e){var t=e.guild,n=e.message,r=e.image,o=e.type,y=e.imageMarginX,m=e.imageMarginTop,g=e.trackingSource,E=e.undismissable,S=e.onDismissed,O=e.onClick,b=e.cta;a.useEffect((function(){h(c.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:o,guild_id:t.id})}),[t.id,o]);var I=null;"function"==typeof b?I=b():null!=b&&(I=_(u.default,{className:v.default.btn,size:u.default.Sizes.SMALL,onClick:function(){null!=o&&f.default.track(c.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED,{source:g,guild_id:t.id,
notice_type:o});null==O||O()},fullWidth:!0},void 0,b));var T=null!=y?y+"px":"16px";return _("div",{className:v.default.channelNotice},void 0,!0===E?null:_(l.default,{onClick:function(){i.default.trackWithMetadata(c.AnalyticEvents.CHANNEL_NOTICE_CLOSED,{notice_type:o});null==S||S()},className:v.default.close,"aria-label":p.default.Messages.DISMISS},void 0,_(d.default,{className:v.default.closeIcon})),_("div",{className:v.default.imageContainer,style:{marginTop:m+"px",marginLeft:T,marginRight:T}},void 0,_("img",{className:v.default.image,src:r,alt:""})),_("div",{className:v.default.message},void 0,_(s.Text,{variant:"text-sm/normal"},void 0,n),I))};g.displayName="ChannelNotice";var E=g;t.default=E},35333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(923387),u=w(n(972247)),l=n(233271),s=w(n(305081)),d=w(n(408692)),f=w(n(578628)),c=w(n(559759)),p=n(157949),v=w(n(513696)),y=w(n(185836)),m=w(n(126515)),_=w(n(666280)),h=w(n(751122)),g=w(n(689389)),E=w(n(329669)),S=w(n(535711)),O=w(n(24e4)),b=n(682937),I=n(42031),T=w(n(264271)),A=w(n(71685)),C=w(n(198883)),M=w(n(715458)),N=n(7812),P=n(770348),R=n(583551);function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e){e.stopPropagation()}var G=function(e){var t=e.guild,n=e.setHasSubheader,r=(0,o.useStateFromStoresObject)([h.default],(function(){return{appliedGuildBoosts:h.default.getAppliedGuildBoostsForGuild(t.id),lastFetchedAt:h.default.getLastFetchedAtForGuild(t.id)}})),i=r.appliedGuildBoosts,u=r.lastFetchedAt,s=(0,o.useStateFromStoresObject)([E.default],(function(){return{lastDismissedGracePeriod:E.default.getLastDismissedGracePeriodForGuild(t.id),isGracePeriodVisible:E.default.isVisible(t.id)}})),f=s.lastDismissedGracePeriod,c=s.isGracePeriodVisible,y=(0,o.useStateFromStores)([m.default],(function(){return m.default.isVisible(t)})),A=(0,
o.useStateFromStores)([O.default],(function(){return O.default.isVisible(t)})),M=(0,o.useStateFromStores)([g.default],(function(){return g.default.can(P.Permissions.ADMINISTRATOR,t)})),N=null!=f&&Date.now()-f<=P.GRACE_PERIOD_CHANNEL_NOTICE_SHOW_DELAY,R=null!=t?t.premiumSubscriberCount:0,w=(0,b.getGuildTierFromAppliedBoostCount)(R,t.id)!==P.BoostedGuildTiers.NONE,D=!(null!=u&&Date.now()-u<=432e5)&&(!N&&M&&w),L=(0,p.useGuildHasLiveChannelNotice)(t.id),k=(0,o.useStateFromStores)([S.default],(function(){return S.default.isVisible(t)}));a.useEffect((function(){var e=-1;D&&(e=window.setTimeout((function(){(0,l.fetchAppliedGuildBoostsForGuild)(t.id)}),30*Math.random()*1e3));return function(){window.clearTimeout(e)}}),[t.id,D]);if(y){n(!0);return j(_.default,{guild:t})}if(c){n(!0);return j(d.default,{guild:t,appliedGuildBoosts:i})}if(A){n(!0);return j(C.default,{guild:t})}if(L){n(!0);return j(v.default,{guild:t})}if(k){n(!0);return j(T.default,{guild:t})}
if(I.ProcessArgs.isDisallowPopupsSet()){n(!1);return null}return j(F,{guild:e.guild,setHasSubheader:n})};G.displayName="ConnectedNotices";function F(e){var t,n=e.guild,r=e.setHasSubheader,l=L(a.useState(null!==(t=u.default.get(N.LAST_HIDDEN_CHANNEL_NOTICE))&&void 0!==t?t:0),2),d=l[0],p=l[1],v=(0,o.useStateFromStoresArray)(N.CHANNEL_NOTICE_STORES,(function(){return N.CHANNEL_NOTICES.filter((function(e){return e.store.channelNoticePredicate(n,d)})).map((function(e){return e.dismissibleContentType}))}));return j("div",{onContextMenu:U},void 0,j(s.default,{contentTypes:v,groupName:R.DismissibleContentGroupName.CHANNEL_NOTICES},void 0,(function(e){var t=e.visibleContent,a=e.markAsDismissed,o=function(){!function(e){u.default.set(N.LAST_HIDDEN_CHANNEL_NOTICE,e);p(e)}(Date.now());a()};switch(t){case i.DismissibleContent.CHANNEL_NOTICE_HUBLINK:r(!0);return j(y.default,{guild:n,markAsDismissed:o});case i.DismissibleContent.CHANNEL_NOTICE_INVITE:r(!0);return j(A.default,{guild:n,
markAsDismissed:o});case i.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION:r(!0);return j(c.default,{guild:n,markAsDismissed:o});case i.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER:r(!0);return j(M.default,{guild:n,markAsDismissed:o});case i.DismissibleContent.CHANNEL_NOTICE_GUILD_BANNER:r(!0);return j(f.default,{guild:n,markAsDismissed:o});default:r(!1);return null}})))}F.displayName="ChannelNoticesGuard";var x=G;t.default=x},7812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LAST_HIDDEN_CHANNEL_NOTICE=t.CHANNEL_NOTICE_STORES=t.CHANNEL_NOTICES=void 0;var r=n(923387),a=d(n(523946)),o=d(n(538647)),i=d(n(20446)),u=d(n(735653)),l=d(n(477566)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}t.LAST_HIDDEN_CHANNEL_NOTICE="lastHiddenChannelNotice";var f=[{type:s.ChannelNoticeTypes.GUILD_BOOSTING,store:i.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION},{
type:s.ChannelNoticeTypes.GUILD_BANNER,store:o.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_GUILD_BANNER},{type:s.ChannelNoticeTypes.INVITE,store:l.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_INVITE},{type:s.ChannelNoticeTypes.HUB_LINK,store:u.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_HUBLINK},{type:s.ChannelNoticeTypes.QUICKSWITCHER,store:a.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER}];t.CHANNEL_NOTICES=f;var c=f.map((function(e){return e.store}));t.CHANNEL_NOTICE_STORES=c},264271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(226800)),i=d(n(918667)),u=n(770348),l=d(n(247001)),s=d(n(785538));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return c(i.default,{guild:this.props.guild,onClick:function(){return o.default.open(u.UserSettingsSections.ACCOUNT)},message:l.default.Messages.TWO_FA_GUILD_MFA_WARNING_MESSAGE_WITH_SPACING.format(),cta:l.default.Messages.TWO_FA_GUILD_MFA_WARNING_RESOLVE_BUTTON,trackingSource:u.ChannelNoticeCtaSources.GUILD_MFA_WARNING,type:u.ChannelNoticeTypes.MFA_WARNING,image:s.default,imageMarginX:54,undismissable:!0})};return t}(a.PureComponent);v.displayName="GuildMFAWarning";var y=v;t.default=y},71685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(786345)),i=c(n(211136)),u=n(194322),l=c(n(918667)),s=n(770348),d=c(n(247001)),f=c(n(947079));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,r=arguments.length,l=new Array(r),f=0;f<r;f++)l[f]=arguments[f];(t=e.call.apply(e,[this].concat(l))||this).handleInvite=function(){var e=t.props.guild;(0,u.openModalLazy)(_(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){
case 0:t.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,y({},t,{guild:e,source:s.InstantInviteSources.INVITE_NOTICE}))}));case 5:case"end":return t.stop()}}),t)}))))};t.handleClose=function(){var e=i.default.getChannelId();t.props.markAsDismissed();null!=e&&o.default.sendBotMessage(e,d.default.Messages.HOW_TO_INVITE_OTHERS.format({invitePeople:d.default.Messages.INVITE_PEOPLE}))};return t}t.prototype.render=function(){var e=d.default.Messages.INVITE_NOTICE_MESSAGE+"\n"+d.default.Messages.INVITE_NOTICE_MESSAGE_PART_2;return v(l.default,{guild:this.props.guild,onDismissed:this.handleClose,onClick:this.handleInvite,message:e,cta:d.default.Messages.INVITE_PEOPLE,trackingSource:s.ChannelNoticeCtaSources.INVITE_NOTICE,type:s.ChannelNoticeTypes.INVITE,image:f.default,imageMarginX:46})};return t}(a.PureComponent);g.displayName="InviteNotice";var E=g;t.default=E},
198883:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=f(n(550270)),u=f(n(918667)),l=n(770348),s=f(n(247001)),d=f(n(389515));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0
}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.guild,n=a.useCallback((function(){(0,o.hideMaxMemberCountChannelNotice)(t.id)}),[t.id]);return p(u.default,{guild:t,onDismissed:n,message:s.default.Messages.NOTICE_CHANNEL_MAX_MEMBERS_CAP_REACHED_MESSAGE.format({maxMemberCount:t.maxMembers,maxMembersUrl:i.default.getArticleURL(l.HelpdeskArticles.MAX_MEMBERS)}),type:l.ChannelNoticeTypes.MAX_MEMBER_COUNT,image:d.default,imageMarginX:61})};v.displayName="MaxMemberCountNotice";var y=v;t.default=y},715458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(221107),o=n(749666),i=n(835282),u=f(n(918667)),l=n(770348),s=f(n(247001)),d=f(n(10439));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var v=function(e){var t=a.QUICKSWITCHER_SHOW.binds[0].split("+").map((function(e){return null!=o.PRETTY_KEYS[e]?o.PRETTY_KEYS[e]():e})).join(" + ").toUpperCase();return p(u.default,{guild:e.guild,onDismissed:e.markAsDismissed,onClick:function(){return(0,i.show)("CHANNEL_NOTICE")},message:s.default.Messages.QUICKSWITCHER_NOTICE,cta:t,trackingSource:l.ChannelNoticeCtaSources.QUICK_SWITCHER_NOTICE,type:l.ChannelNoticeTypes.QUICKSWITCHER,image:d.default,imageMarginX:50})};v.displayName="QuickSwitcherNotice";var y=v;t.default=y},739889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TrackExposureLocations=t.SettingMode=t.RowType=t.MEMBER_REQUEST_COUNT=t.AddMembersSections=t.ADVANCED_MODE_ON_KEY=void 0;t.getChannelPermissionSpecMap=function(e,t,n,r){var a;return(a={})[s.Permissions.VIEW_CHANNEL.toString()]={title:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL:d.default.Messages.VIEW_CHANNEL,description:function(){if(t)switch(e){
case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CATEGORY_EVERYONE;case s.ChannelTypes.GUILD_VOICE:case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_VOICE_EVERYONE;default:return d.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_TEXT_EVERYONE}return e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CHANNEL}(),flag:s.Permissions.VIEW_CHANNEL},a[s.Permissions.MANAGE_CHANNELS.toString()]={title:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.MANAGE_CHANNELS:d.default.Messages.MANAGE_CHANNEL,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_VOICE:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_VOICE
;case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_STAGE;default:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_TEXT}}(),flag:s.Permissions.MANAGE_CHANNELS},a[s.Permissions.MANAGE_ROLES.toString()]={title:d.default.Messages.MANAGE_PERMISSIONS,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_STAGE;default:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_CHANNEL}}(),flag:s.Permissions.MANAGE_ROLES},a[s.Permissions.MANAGE_WEBHOOKS.toString()]={title:d.default.Messages.MANAGE_WEBHOOKS,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_MANAGE_WEBHOOKS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_MANAGE_WEBHOOKS_DESCRIPTION_CHANNEL,
flag:s.Permissions.MANAGE_WEBHOOKS},a[s.Permissions.CREATE_INSTANT_INVITE.toString()]={title:d.default.Messages.CREATE_INSTANT_INVITE,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_VOICE:case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_VOICE;default:return d.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_TEXT}}(),flag:s.Permissions.CREATE_INSTANT_INVITE},a[s.Permissions.SEND_MESSAGES.toString()]={title:e===s.ChannelTypes.GUILD_FORUM?d.default.Messages.CREATE_FORUM_POSTS:n&&e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.SEND_MESSAGES_AND_CREATE_FORUM_POSTS:d.default.Messages.SEND_MESSAGES,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:
return n?d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_FORUM:return(null==r?void 0:r.createPostsDisabled)?i.default.getForumChannelPermissionText():d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_TEXT;case s.ChannelTypes.GUILD_ANNOUNCEMENT:return d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_ANNOUNCEMENT.format({articleURL:l.default.getArticleURL(s.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)});case s.ChannelTypes.GUILD_VOICE:return u.default.getTextInVoiceSendMessageChannelPermissionText(null==r?void 0:r.sendMessagesDisabled);default:return d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_TEXT}}(),flag:s.Permissions.SEND_MESSAGES},a[s.Permissions.EMBED_LINKS.toString()]={title:d.default.Messages.EMBED_LINKS,
description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_EMBED_LINKS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_EMBED_LINKS_DESCRIPTION_TEXT,flag:s.Permissions.EMBED_LINKS},a[s.Permissions.ATTACH_FILES.toString()]={title:d.default.Messages.ATTACH_FILES,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_ATTACH_FILES_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_ATTACH_FILES_DESCRIPTION_TEXT,flag:s.Permissions.ATTACH_FILES},a[s.Permissions.ADD_REACTIONS.toString()]={title:d.default.Messages.ADD_REACTIONS,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_TEXT,flag:s.Permissions.ADD_REACTIONS},a[s.Permissions.USE_EXTERNAL_EMOJIS.toString()]={title:d.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS,
description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS_DESCRIPTION_TEXT,flag:s.Permissions.USE_EXTERNAL_EMOJIS},a[s.Permissions.USE_EXTERNAL_STICKERS.toString()]={title:d.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS_DESCRIPTION_TEXT,flag:s.Permissions.USE_EXTERNAL_STICKERS},a[s.Permissions.MENTION_EVERYONE.toString()]={title:e===s.ChannelTypes.GUILD_STAGE_VOICE?d.default.Messages.MENTION_EVERYONE_STAGE:d.default.Messages.MENTION_EVERYONE,
description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_CATEGORY:e===s.ChannelTypes.GUILD_STAGE_VOICE?d.default.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_STAGE:d.default.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_TEXT,flag:s.Permissions.MENTION_EVERYONE},a[s.Permissions.MANAGE_MESSAGES.toString()]={title:d.default.Messages.MANAGE_MESSAGES,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_ANNOUNCEMENT:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_ANNOUNCEMENT.format({articleURL:l.default.getArticleURL(s.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)});default:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_TEXT}}(),flag:s.Permissions.MANAGE_MESSAGES},a[s.Permissions.READ_MESSAGE_HISTORY.toString()]={title:d.default.Messages.READ_MESSAGE_HISTORY,
description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_VOICE:return u.default.getTextInVoiceReadMessageHistoryChannelPermissionText(null==r?void 0:r.readMessageHistoryDisabled);default:return d.default.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_TEXT}}(),flag:s.Permissions.READ_MESSAGE_HISTORY},a[s.Permissions.SEND_TTS_MESSAGES.toString()]={title:d.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES_DESCRIPTION_TEXT,flag:s.Permissions.SEND_TTS_MESSAGES},a[s.Permissions.USE_APPLICATION_COMMANDS.toString()]={title:d.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS,
description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS_DESCRIPTION_TEXT,flag:s.Permissions.USE_APPLICATION_COMMANDS},a[s.Permissions.CONNECT.toString()]={title:d.default.Messages.CONNECT,description:function(){if(t)switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_CATEGORY_EVERYONE;case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_STAGE_EVERYONE;default:return d.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_VOICE_EVERYONE}switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_STAGE;default:return d.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_VOICE}}(),
flag:s.Permissions.CONNECT},a[s.Permissions.SPEAK.toString()]={title:d.default.Messages.SPEAK,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_STAGE;default:return d.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_VOICE}}(),flag:s.Permissions.SPEAK},a[s.Permissions.STREAM.toString()]={title:d.default.Messages.VIDEO,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_STREAM_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_STREAM_DESCRIPTION_VOICE,flag:s.Permissions.STREAM},a[s.Permissions.USE_EMBEDDED_ACTIVITIES.toString()]={title:d.default.Messages.USE_EMBEDDED_ACTIVITIES,
description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_USE_EMBEDDED_ACTIVITIES_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_USE_EMBEDDED_ACTIVITIES_DESCRIPTION_VOICE,flag:s.Permissions.USE_EMBEDDED_ACTIVITIES},a[s.Permissions.USE_VAD.toString()]={title:d.default.Messages.USE_VAD,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_STAGE;default:return d.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_VOICE}}(),flag:s.Permissions.USE_VAD},a[s.Permissions.PRIORITY_SPEAKER.toString()]={title:d.default.Messages.PRIORITY_SPEAKER,description:function(){0;var t={keybind:d.default.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY,onClick:function(){o.default.open(s.UserSettingsSections.KEYBINDS)}}
;return e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_PRIORITY_SPEAKER_DESCRIPTION_CATEGORY.format(t):d.default.Messages.ROLE_PERMISSIONS_PRIORITY_SPEAKER_DESCRIPTION_VOICE.format(t)}(),flag:s.Permissions.PRIORITY_SPEAKER},a[s.Permissions.MUTE_MEMBERS.toString()]={title:d.default.Messages.MUTE_MEMBERS,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_STAGE;default:return d.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_VOICE}}(),flag:s.Permissions.MUTE_MEMBERS},a[s.Permissions.DEAFEN_MEMBERS.toString()]={title:d.default.Messages.DEAFEN_MEMBERS,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_DEAFEN_MEMBERS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_DEAFEN_MEMBERS_DESCRIPTION_VOICE,
flag:s.Permissions.DEAFEN_MEMBERS},a[s.Permissions.MOVE_MEMBERS.toString()]={title:d.default.Messages.MOVE_MEMBERS,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_STAGE;default:return d.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_VOICE}}(),flag:s.Permissions.MOVE_MEMBERS},a[s.Permissions.REQUEST_TO_SPEAK.toString()]={title:d.default.Messages.REQUEST_TO_SPEAK,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_REQUEST_TO_SPEAK_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_REQUEST_TO_SPEAK_DESCRIPTION_STAGE,flag:s.Permissions.REQUEST_TO_SPEAK},a[s.Permissions.MANAGE_THREADS.toString()]={
title:e===s.ChannelTypes.GUILD_FORUM?d.default.Messages.MANAGE_FORUM_POSTS:n&&e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.MANAGE_THREADS_AND_FORUM_POSTS:d.default.Messages.MANAGE_THREADS,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return n?d.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_AND_FORUMS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_FORUM:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_AND_FORUMS_DESCRIPTION_TEXT;default:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_DESCRIPTION_TEXT}}(),flag:s.Permissions.MANAGE_THREADS},a[s.Permissions.CREATE_PUBLIC_THREADS.toString()]={title:d.default.Messages.CREATE_PUBLIC_THREADS,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_CREATE_PUBLIC_THREADS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_CREATE_PUBLIC_THREADS_DESCRIPTION_TEXT,
flag:s.Permissions.CREATE_PUBLIC_THREADS},a[s.Permissions.CREATE_PRIVATE_THREADS.toString()]={title:d.default.Messages.CREATE_PRIVATE_THREADS,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_CREATE_PRIVATE_THREADS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_CREATE_PRIVATE_THREADS_DESCRIPTION_TEXT,flag:s.Permissions.CREATE_PRIVATE_THREADS},a[s.Permissions.SEND_MESSAGES_IN_THREADS.toString()]={title:e===s.ChannelTypes.GUILD_FORUM?d.default.Messages.SEND_MESSAGES_IN_FORUM_POSTS:n&&e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS:d.default.Messages.SEND_MESSAGES_IN_THREADS,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return n?d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_FORUM:
return d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS_DESCRIPTION_TEXT;default:return d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_DESCRIPTION_TEXT}}(),flag:s.Permissions.SEND_MESSAGES_IN_THREADS},a[s.Permissions.MANAGE_EVENTS.toString()]={title:d.default.Messages.MANAGE_EVENTS,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_MANAGE_EVENTS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_MANAGE_EVENTS_DESCRIPTION_CHANNEL,flag:s.Permissions.MANAGE_EVENTS},a};var r,a,o=f(n(226800)),i=f(n(328798)),u=f(n(179274)),l=f(n(550270)),s=n(770348),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}t.RowType=r;!function(e){e[e.EMPTY_STATE=0]="EMPTY_STATE";e[e.ADMINISTRATOR=1]="ADMINISTRATOR";e[e.ROLE=2]="ROLE";e[e.OWNER=3]="OWNER";e[e.MEMBER=4]="MEMBER"}(r||(t.RowType=r={}));t.AddMembersSections=a;!function(e){e[e.ROLES=0]="ROLES";e[e.MEMBERS=1]="MEMBERS"}(a||(t.AddMembersSections=a={}))
;t.MEMBER_REQUEST_COUNT=20;var c,p;t.ADVANCED_MODE_ON_KEY="channelPermissionSettingsAdvancedModeOn";t.TrackExposureLocations=c;!function(e){e.SETTINGS_PAGE="settings-page";e.MEMBERS_LIST="members-list";e.EMPTY_STATE="empty-state";e.CREATE_CHANNEL="create-channel"}(c||(t.TrackExposureLocations=c={}));t.SettingMode=p;!function(e){e.BASIC="basic";e.ADVANCED="advanced"}(p||(t.SettingMode=p={}))},668339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=s(n(294184)),i=n(396229),u=s(n(730977)),l=s(n(348336));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e){var t,n=e.className,r=e.channel,s=e.section,d=null!=s?(0,i.getIconComponent)(s):null;return f("div",{
className:(0,o.default)(n,l.default.wrapper)},void 0,f("div",{className:l.default.icon},void 0,null!=d?f(u.default,{text:null!==(t=null==s?void 0:s.name)&&void 0!==t?t:"",position:u.default.Positions.TOP},void 0,(function(e){return a.createElement(d,c({},e,{channel:r,section:s,width:24,height:24}))})):null))}p.displayName="ChannelApplicationIcon";var v=a.memo(p);t.default=v},915539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(194322),o=n(78330),i=n(478036);function u(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}var f={openNewUserAgeGateModal:function(e){(0,a.openModalLazy)(d(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(90140)]).then(n.bind(n,990140));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}))
;case 5:case"end":return e.stop()}}),e)}))),{modalKey:o.NEW_USER_AGE_GATE_MODAL_KEY,onCloseRequest:i.NOOP,onCloseCallback:e})},openClaimAccountModal:function(e,t){void 0===e&&(e=!1);(0,a.openModalLazy)(d(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(41597)]).then(n.bind(n,304388));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,l({claimRequired:e},t))}));case 5:case"end":return t.stop()}}),t)}))),{onCloseRequest:e?i.NOOP:null,onCloseCallback:t})}};t.default=f},179714:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useCustomStatusMenuItem=O;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(294184)),i=y(n(929031)),u=n(433473),l=n(556470),s=n(145122),d=y(n(16941)),f=y(n(930600)),c=n(194322),p=y(n(247001)),v=y(n(184518));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){
h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}var S=_(f.default,{width:18,height:18});function O(e){var t=(0,l.useAnalyticsContext)();function r(e){e.stopPropagation();i.default.updateRemoteSettings({customStatus:null})}function f(){(0,c.openModalLazy)(E(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74213)]).then(n.bind(n,793954));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){
return a.createElement(o,h({sourceAnalyticsContext:t},e))}));case 5:case"end":return e.stop()}}),e)}))))}if(null!=e){var y=null!=e.emoji?function(t){var n=t.className;return _(u.ActivityEmoji,{className:n,emoji:e.emoji,animate:!0,hideTooltip:!0})}:void 0;return _(s.MenuItem,{id:"edit-custom-status",label:p.default.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER,icon:y,showIconFirst:!0,hint:function(e){return a.createElement(d.default,h({},e,{onClick:r,tabIndex:0}),S)},action:f})}return _(s.MenuItem,{id:"set-custom-status",label:p.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS_CTA,icon:function(e){return _("div",{className:(0,o.default)(v.default.customEmojiPlaceholder,e)})},action:f,showIconFirst:!0})}O.displayName="useCustomStatusMenuItem"},421910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchDirectoryEntries=void 0;var r=l(n(23279)),a=l(n(118915)),o=l(n(636602)),i=n(218044),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}
function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var d=(0,r.default)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;o.default.dispatch({type:u.ActionTypes.EVENT_DIRECTORY_FETCH_START});e.next=4;return a.default.get({url:u.Endpoints.DIRECTORY_CHANNEL_ENTRIES(t),query:{type:i.DirectoryEntryTypes.GUILD_SCHEDULED_EVENT}});case 4:n=e.sent;o.default.dispatch({type:u.ActionTypes.EVENT_DIRECTORY_FETCH_SUCCESS,channelId:t,entries:n.body});e.next=11;break;case 8:e.prev=8;e.t0=e.catch(0);o.default.dispatch({type:u.ActionTypes.EVENT_DIRECTORY_FETCH_FAILURE});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){
return t.apply(this,arguments)}}(),200);t.fetchDirectoryEntries=d},435625:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addDirectoryGuildEntry=function(e,t,n,r){return m.apply(this,arguments)};t.fetchGuildEntriesForIds=t.fetchDirectoryEntries=t.fetchDirectoryCounts=t.clearDirectorySearch=void 0;t.removeDirectoryGuildEntry=function(e,t){u.default.delete({url:d.Endpoints.DIRECTORY_CHANNEL_ENTRY(e,t),trackedActionData:{event:a.NetworkActionNames.DIRECTORY_GUILD_ENTRY_DELETE,properties:{directory_channel_id:e,guild_id:t}}});i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_ENTRY_DELETE,channelId:e,guildId:t})};t.updateDirectoryEntry=t.selectDirectoryCategory=t.searchDirectoryEntries=void 0;var r=f(n(23279)),a=n(47354),o=f(n(118915)),i=f(n(636602)),u=f(n(351772)),l=f(n(917582)),s=n(218044),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}var v=(0,r.default)(function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_FETCH_START});e.next=4;return o.default.get({url:d.Endpoints.DIRECTORY_CHANNEL_ENTRIES(t),query:{category_id:n}});case 4:r=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_FETCH_SUCCESS,channelId:t,entries:r.body});e.next=11;break;case 8:e.prev=8;e.t0=e.catch(0);i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_FETCH_FAILURE});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),200);t.fetchDirectoryEntries=v;var y=(0,r.default)(function(){
var e=p(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.get({url:d.Endpoints.DIRECTORY_CHANNEL_CATEGORY_COUNTS(t)});case 3:n=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS,channelId:t,counts:n.body});e.next=9;break;case 7:e.prev=7;e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),200);t.fetchDirectoryCounts=y;function m(){return(m=p(regeneratorRuntime.mark((function e(t,n,r,o){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===o&&(o=s.DirectoryEntryCategories.UNCATEGORIZED);e.next=3;return u.default.post({url:d.Endpoints.DIRECTORY_CHANNEL_ENTRY(t,n),body:{description:r,primary_category_id:o},trackedActionData:{event:a.NetworkActionNames.DIRECTORY_GUILD_ENTRY_CREATE,properties:{directory_channel_id:t,guild_id:n,
primary_category_id:o}}});case 3:l=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_ENTRY_CREATE,channelId:t,entry:l.body});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=(0,r.default)(function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.default.shouldFetch(t,n)){e.next=4;break}i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_CACHED_SEARCH,channelId:t,query:n});return e.abrupt("return");case 4:e.prev=4;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_SEARCH_START,channelId:t,query:n});e.next=8;return o.default.get({url:d.Endpoints.DIRECTORY_ENTRIES_SEARCH(t),query:{query:n}});case 8:r=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_SEARCH_SUCCESS,channelId:t,query:n,results:r.body});e.next=15;break;case 12:e.prev=12;e.t0=e.catch(4);i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_FETCH_FAILURE});case 15:case"end":
return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}(),200);t.searchDirectoryEntries=_;t.clearDirectorySearch=function(e){i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_SEARCH_CLEAR,channelId:e})};var h=function(){var e=p(regeneratorRuntime.mark((function e(t,n,r,a){var u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===a&&(a=s.DirectoryEntryCategories.UNCATEGORIZED);e.next=3;return o.default.patch({url:d.Endpoints.DIRECTORY_CHANNEL_ENTRY(t,n),body:{description:r,primary_category_id:a}});case 3:u=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_ENTRY_UPDATE,channelId:t,entry:u.body});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.updateDirectoryEntry=h;t.selectDirectoryCategory=function(e,t){i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_CATEGORY_SELECT,channelId:e,categoryId:t})};var g=function(){
var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.get({url:d.Endpoints.DIRECTORY_CHANNEL_LIST_BY_ID(t),query:{entity_ids:n}});case 3:r=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS,channelId:t,entries:r.body});e.next=9;break;case 7:e.prev=7;e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();t.fetchGuildEntriesForIds=g},917582:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=n(448406),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var f=12e4,c={},p={};var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getSearchState=function(e){var t;return null!==(t=c[e])&&void 0!==t?t:{mostRecentQuery:"",fetching:!1}};n.getSearchResults=function(e,t){var n,r,a;return null!==(n=null===(r=p[e])||void 0===r||null===(a=r[t])||void 0===a?void 0:a.results)&&void 0!==n?n:[]};n.shouldFetch=function(e,t){var n,r,a=null===(n=p[e])||void 0===n||null===(r=n[t])||void 0===r?void 0:r.lastSearchedAt;return null==a||Date.now()-a>f};n.__getLocalVars=function(){return{CACHE_TIME:f,directorySearchState:c,directorySearchResults:p}};return t}(a.default.Store);v.displayName="GuildDirectorySearchStore";var y=new v(o.default,((r={})[u.ActionTypes.GUILD_DIRECTORY_SEARCH_START]=function(e){
var t=e.channelId,n=e.query;c[t]={fetching:!0,mostRecentQuery:n}},r[u.ActionTypes.GUILD_DIRECTORY_SEARCH_SUCCESS]=function(e){var t,n=e.channelId,r=e.query,a=e.results;c[n]=d({},c[n],{fetching:!1});var o=[];a.forEach((function(e){var t=(0,i.guildDirectoryEntryFromServer)(e);o.push(t)}));p[n]=d({},p[n],((t={})[r]={results:(0,i.orderByTotalMemberCount)(o),lastSearchedAt:Date.now()},t))},r[u.ActionTypes.GUILD_DIRECTORY_SEARCH_FAILURE]=function(e){var t=e.channelId;c[t]=d({},c[t],{fetching:!1})},r[u.ActionTypes.GUILD_DIRECTORY_SEARCH_CLEAR]=function(e){var t=e.channelId;c[t]={fetching:!1,mostRecentQuery:""}},r[u.ActionTypes.GUILD_DIRECTORY_CACHED_SEARCH]=function(e){var t=e.channelId,n=e.query;c[t]={fetching:!1,mostRecentQuery:n}},r[u.ActionTypes.GUILD_DIRECTORY_ENTRY_DELETE]=function(e){var t,n,r=e.channelId,a=e.guildId,o=null===(t=c[r])||void 0===t?void 0:t.mostRecentQuery;if(null!=o){var i=p[r][o];if(null!=i){var u=i.results.filter((function(e){return e.guildId!==a}))
;p[r]=d({},p[r],((n={})[c[r].mostRecentQuery]=d({},i,{results:u}),n))}}},r));t.default=y},229164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,r.useStateFromStores)([o.default],(function(){return o.default.getGuild(e.guildId)})),n=(0,r.useStateFromStores)([a.default],(function(){return a.default.getChannel(e.channelId)})),l=(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.ADMINISTRATOR,t)})),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.MANAGE_MESSAGES,n)}));return{isEntryAdmin:l,canEdit:l||s,canRemove:l||s}};t.useCanCreateOrAddGuildInDirectory=function(e){return(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.SEND_MESSAGES,e)}))};var r=n(536211),a=l(n(644263)),o=l(n(30098)),i=l(n(689389)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},63608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r,a=C(n(667294)),o=n(536211),i=T(n(636602)),u=n(508510),l=T(n(97982)),s=T(n(191391)),d=T(n(80828)),f=n(194322),c=T(n(308920)),p=C(n(421910)),v=C(n(435625)),y=T(n(917582)),m=T(n(447364)),_=n(229164),h=T(n(434324)),g=T(n(308607)),E=n(1698),S=T(n(670539)),O=n(218044),b=n(770348),I=T(n(447763));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e){var t,r=e.channel,T=e.guild,A=(0,
o.useStateFromStoresObject)([m.default],(function(){var e=m.default.getCurrentCategoryId(r.id);return{currentCategoryId:e,directoryEntries:m.default.getDirectoryEntries(r.id,e===O.DirectoryEntryCategories.ALL?null:e),categoryCounts:m.default.getDirectoryCategoryCounts(r.id),allEntriesCount:m.default.getDirectoryAllEntriesCount(r.id),isLoading:m.default.isFetching()}})),C=A.currentCategoryId,P=A.directoryEntries,D=A.categoryCounts,L=A.allEntriesCount,k=A.isLoading;a.useEffect((function(){return function(){var e=s.default.lastMessageId(r.id);null!=e&&i.default.wait((function(){(0,u.ack)(r.id,!0,!0,e)}))}}),[r.id]);var j=a.useMemo((function(){return null!=P?(0,E.generateDirectoryRows)(Object.values(P),C):null}),[P,C]),U=(0,o.useStateFromStoresObject)([y.default],(function(){var e=y.default.getSearchState(r.id),t=e.mostRecentQuery;return{mostRecentQuery:t,searchFetching:e.fetching,searchResults:y.default.getSearchResults(r.id,t)}
})),G=U.mostRecentQuery,F=U.searchFetching,x=U.searchResults,B=w(a.useState(G),2),H=B[0],V=B[1],W=""!==G,Y=l.default.useExperiment({guildId:null!==(t=T.id)&&void 0!==t?t:""}).showHubEventsList;a.useEffect((function(){v.fetchDirectoryEntries(r.id);v.fetchDirectoryCounts(r.id);Y&&p.fetchDirectoryEntries(r.id);V(G)}),[r.id]);a.useEffect((function(){c.default.track(b.AnalyticEvents.GUILD_DIRECTORY_CHANNEL_VIEWED,{directory_channel_id:r.id,directory_guild_id:T.id,primary_category_id:C})}),[r.id,T.id,C]);var K=(0,_.useCanCreateOrAddGuildInDirectory)(r)?function(){(0,f.openModalLazy)(R(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(62884),n.e(87248)]).then(n.bind(n,887248));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,N({},e,{directoryGuildName:T.name,directoryGuildId:T.id,directoryChannelId:r.id,
currentCategoryId:C===O.DirectoryEntryCategories.ALL?null:C}))}));case 5:case"end":return e.stop()}}),e)}))))}:void 0,z=function(e){if(0!==H.trim().length&&e.charCode===b.KeyboardKeys.ENTER){v.searchDirectoryEntries(r.id,H);c.default.track(b.AnalyticEvents.GUILD_DIRECTORY_SEARCH,{directory_channel_id:r.id,directory_guild_id:T.id})}},$=function(){V("");v.clearDirectorySearch(r.id)};return W?M(S.default,{searchQuery:H,setSearchQuery:V,mostRecentQuery:G,handleSearchKeyPress:z,handleClearSearch:$,handleCreateOrAddGuild:K,searchResults:x,searchFetching:F}):null==j&&null==C?M("div",{className:I.default.pageContainer},void 0,M(d.default,{className:I.default.spinner})):0===(null==j?void 0:j.length)&&null==C?M("div",{className:I.default.pageContainer},void 0,M(h.default,{guild:T,onAddGuild:K})):M(g.default,{channel:r,searchQuery:H,setSearchQuery:V,handleSearchKeyPress:z,handleClearSearch:$,handleCreateOrAddGuild:K,currentCategoryId:C,handleSelectCategory:function(e){
v.selectDirectoryCategory(r.id,e)},directoryEntries:j,categoryCounts:D,allEntriesCount:L,isLoading:k})};L.displayName="GuildDirectory";var k=L;t.default=k},434324:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(888746),i=n(772575),u=n(645758),l=n(194322),s=n(770348),d=c(n(247001)),f=c(n(889775));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}
function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}var h=function(e){
var t=e.guild,r=e.onAddGuild,c=a.useCallback((function(){(0,l.openModalLazy)(_(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,y({},e,{guild:t,source:s.InstantInviteSources.HUB_DIRECTORY,analyticsLocation:{section:s.AnalyticsSections.HUB_WELCOME_CTA}}))}));case 5:case"end":return e.stop()}}),e)}))))}),[t]);return v("div",{className:f.default.emptyWrapper},void 0,v("img",{className:f.default.emptyImage,alt:"",src:n(655916)}),v(i.Heading,{className:f.default.emptyTitle,variant:"heading-xl/medium",level:3},void 0,d.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_TITLE.format({guildName:t.name})),v(u.Text,{variant:"text-md/normal",className:f.default.emptySubtitle
},void 0,d.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_SUBTITLE),null!=r?v(o.WelcomeMessageCTA,{className:f.default.emptyCTA,iconUrl:n(755645),header:d.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_ADD_SERVER,completed:!1,onClick:r}):null,v(o.WelcomeMessageCTA,{className:f.default.emptyCTA,iconUrl:n(930519),header:d.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_INVITE,completed:!1,onClick:c}))};h.displayName="DirectoryEmptyState";var g=h;t.default=g},923117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.AddEntryCard=void 0;var r,a=j(n(667294)),o=L(n(294184)),i=n(536211),u=n(378158),l=L(n(415275)),s=n(800055),d=n(95034),f=L(n(539563)),c=L(n(30098)),p=L(n(956117)),v=L(n(16941)),y=L(n(189950)),m=L(n(380439)),_=n(645758),h=L(n(730977)),g=L(n(775803)),E=L(n(975165)),S=n(194322),O=L(n(272544)),b=j(n(962989)),I=L(n(692711)),T=L(n(229164)),A=L(n(71472)),C=n(770348),M=L(n(247001)),N=L(n(423973)),P=L(n(928793)),R=["onClick"],w=["onClick"],D=["onClick"]
;function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function F(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){G(o,r,a,i,u,"next",e)}function u(e){G(o,r,a,i,u,"throw",e)}i(void 0)}))}}function x(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var W=V("img",{alt:"",src:P.default}),Y=function(e){var t=e.onClick;return V(v.default,{onClick:t,className:N.default.addEntryCard},void 0,W,V(_.Text,{variant:"text-sm/normal",color:"header-primary",className:N.default.addServerText},void 0,M.default.Messages.HUB_ADD_SERVER_CTA))}
;t.AddEntryCard=Y;Y.displayName="AddEntryCard";function K(e){var t,r=e.entry,i=B(a.useState(!1),2),u=i[0],l=i[1],s=(0,T.default)(r).canEdit;return V("div",{className:(0,o.default)(N.default.actionButtonsContainer,(t={},t[N.default.forceButtonsShow]=u,t))},void 0,V(b.default,{},void 0,s?V(h.default,{text:M.default.Messages.HUB_ENTRY_UPDATE,hideOnClick:!0},void 0,(function(e){var t=e.onClick,o=x(e,R);return a.createElement(b.Button,U({},o,{onClick:function(){null==t||t();(0,S.openModalLazy)(F(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(50012)]).then(n.bind(n,950012));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,U({},e,{entry:r}))}));case 5:case"end":return e.stop()}}),e)}))))},"aria-label":M.default.Messages.HUB_ENTRY_UPDATE}),V(E.default,{className:N.default.overflowIcon}))})):null,V(A.default,{
onRequestOpen:function(){return l(!0)},onRequestClose:function(){return l(!1)},entry:r,hideEditButton:!0},void 0,(function(e){var t=e.onClick,n=x(e,w);return V(h.default,{text:M.default.Messages.MORE,hideOnClick:!0},void 0,(function(e){var r=e.onClick,o=x(e,D);return a.createElement(b.Button,U({},n,o,{onClick:function(e){null==r||r();t(e)},"aria-label":M.default.Messages.MORE}),V(g.default,{className:N.default.overflowIcon}))}))}))))}K.displayName="ActionButtons";var z=function(e){var t,r=e.entry,o=B(a.useState(!1),2),v=o[0],g=o[1],E=null!=(0,i.useStateFromStores)([c.default],(function(){return c.default.getGuild(r.guildId)})),S=function(){var e=F(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0);e.prev=1;if(E){e.next=7;break}e.next=5;return l.default.joinGuild(r.guildId,{source:C.JoinGuildSources.DIRECTORY_ENTRY});case 5:e.next=8;break;case 7:(0,d.transitionToGuild)(r.guildId);case 8:e.prev=8;g(!1)
;return e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[1,,8,11]])})));return function(){return e.apply(this,arguments)}}(),b=I.default.getGuildSplashURL({id:r.guildId,splash:r.splash,size:300*(0,s.getDevicePixelRatio)()}),T=null!==(t=I.default.getGuildIconURL({id:r.guildId,icon:r.icon,size:40}))&&void 0!==t?t:void 0,A=M.default.Messages.JOIN;E&&(A=M.default.Messages.HUB_DIRECTORY_CARD_JOINED_GUILD_BUTTON);return V("div",{className:N.default.card,onContextMenu:function(e){(0,u.openContextMenuLazy)(e,F(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,88020));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,U({},e,{entry:r}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,V("div",{className:N.default.cardHeader},void 0,V("div",{className:N.default.splash},void 0,null!=b&&V("img",{src:b,alt:"",
className:N.default.splashImage})),V("div",{className:N.default.guildIcon},void 0,V(O.default,{mask:O.default.Masks.SQUIRCLE,width:48,height:48},void 0,V("div",{className:N.default.iconMask},void 0,V(m.default,{className:N.default.icon,iconSrc:T,guild:new f.default(r),size:m.default.Sizes.MEDIUM,active:!0}))))),V("div",{className:N.default.guildInfo},void 0,V("div",{className:N.default.title},void 0,V(y.default,{className:N.default.guildBadge,guild:r,tooltipColor:h.default.Colors.PRIMARY}),V(_.Text,{className:N.default.guildName,variant:"text-md/normal",color:"header-primary"},void 0,r.name)),V(_.Text,{className:N.default.description,variant:"text-sm/normal",color:"header-secondary"},void 0,r.description),V("div",{className:N.default.memberInfo},void 0,null!=r.approximatePresenceCount&&V("div",{className:N.default.memberCount},void 0,V("div",{className:N.default.dotOnline}),V(_.Text,{variant:"text-xs/normal",color:"header-secondary"
},void 0,M.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:r.approximatePresenceCount}))),null!=r.approximateMemberCount&&V("div",{className:N.default.memberCount},void 0,V("div",{className:N.default.dotOffline}),V(_.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,M.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:r.approximateMemberCount})))),V(p.default,{submitting:v,className:N.default.joinButton,color:E?p.default.Colors.PRIMARY:p.default.Colors.GREEN,onClick:S},void 0,A)),V(K,{entry:r}))};z.displayName="GuildDirectoryEntryCard";var $=z;t.default=$},88020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=I;var r,a=g(n(667294)),o=n(378158),i=_(n(730487)),u=n(837797),l=g(n(145122)),s=n(645758),d=_(n(907509)),f=_(n(502197)),c=n(194322),p=g(n(435625)),v=_(n(229164)),y=n(474477),m=_(n(247001));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t=e.entry,r=e.onSelect,_=e.closePopout,h=e.forceLightTheme,g=e.hideEditButton,E=void 0!==g&&g,I=(0,v.default)(t),T=I.isEntryAdmin,A=I.canEdit,C=I.canRemove,M=(0,i.default)(t.guildId,void 0,void 0,_);a.useEffect((function(){A||C||null!=M||(0,o.closeContextMenu)()}));var N=function(){p.removeDirectoryGuildEntry(t.channelId,t.guildId)};function P(){(0,o.closeContextMenu)();null==_||_()}return b(l.default,{className:h?"theme-light":null,
navId:"guild-entry-context",onClose:P,"aria-label":m.default.Messages.GUILD_ACTIONS_MENU_LABEL,onSelect:r},void 0,b(l.MenuGroup,{},void 0,A&&!E?b(l.MenuItem,{id:"update-entry",label:m.default.Messages.HUB_ENTRY_UPDATE,action:function(){(0,c.openModalLazy)(S(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(50012)]).then(n.bind(n,950012));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,O({},e,{entry:t}))}));case 5:case"end":return e.stop()}}),e)}))));P()}}):null,C?b(l.MenuItem,{id:"remove-from-hub",label:m.default.Messages.HUB_ENTRY_REMOVE,action:function(){(0,c.openModal)((function(e){return a.createElement(f.default,O({header:m.default.Messages.HUB_ENTRY_REMOVE,confirmText:m.default.Messages.REMOVE,cancelText:m.default.Messages.CANCEL,onConfirm:N},e),b(s.Text,{variant:"text-md/normal"
},void 0,m.default.Messages.HUB_ENTRY_REMOVE_BODY.format({guildName:t.name})))}));P()},color:y.MenuItemColor.DANGER}):null,T?null:a.createElement(a.Fragment,null,b(l.MenuItem,{id:"report-server-listing",label:m.default.Messages.REPORT_SERVER_NO_NAME,action:function(){if(null!=t){(0,u.showReportModalForGuildDirectoryEntry)(t);P()}},icon:d.default,color:y.MenuItemColor.DANGER}))),b(l.MenuGroup,{},void 0,M))}I.displayName="GuildDirectoryEntryContextMenu"},71472:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=i(n(160629)),o=i(n(88020));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t=e.entry,n=e.forceLightTheme,r=e.hideEditButton,i=e.children,u=e.onRequestOpen,s=e.onRequestClose;return l(a.default,{onRequestOpen:u,onRequestClose:s,animation:a.default.Animation.NONE,position:a.default.Positions.BOTTOM,spacing:4,align:a.default.Align.RIGHT,renderPopout:function(e){var a=e.closePopout;return l(o.default,{entry:t,
closePopout:a,forceLightTheme:n,hideEditButton:r})}},void 0,i)};s.displayName="GuildDirectoryEntryOptionsMenu";var d=s;t.default=d},308607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=O(n(667294)),o=E(n(294184)),i=E(n(864345)),u=n(772575),l=E(n(535813)),s=E(n(80828)),d=E(n(186465)),f=n(645758),c=n(235742),p=O(n(923117)),v=n(218044),y=E(n(247001)),m=E(n(447763)),_=E(n(552564)),h=E(n(324752)),g=E(n(315879));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=(0,i.default)((function(e){var t,n=e.searchQuery,r=e.setSearchQuery,a=e.handleClearSearch,i=e.handleSearchKeyPress,s=e.width,d=null!=s&&s<=780;return b("div",{className:_.default.header},void 0,b("img",{alt:"",className:_.default.headerImage,src:d?g.default:h.default}),b("div",{className:_.default.headerContentWrapper},void 0,b("div",{className:(0,o.default)(_.default.headerContent,(t={},t[_.default.headerContentSmall]=d,t))},void 0,b(u.Heading,{
variant:"heading-xl/medium",className:_.default.searchTitle,level:3},void 0,y.default.Messages.HUB_DIRECTORY_SEARCH_TITLE),b(f.Text,{variant:"text-md/normal",className:_.default.searchSubtitle},void 0,y.default.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE),b(l.default,{searchTerm:n,className:_.default.searchBox,inputClassName:_.default.searchBoxInput,closeIconClassName:_.default.closeIcon,searchIconClassName:_.default.searchIcon,label:y.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,placeholder:y.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:r,onClear:a,onKeyPress:i,cta:null!=n&&n.length>0?y.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null}))))})),T=function(e){var t=e.channel,n=e.directoryEntries,r=e.handleCreateOrAddGuild,o=e.searchQuery,i=e.setSearchQuery,u=e.handleClearSearch,l=e.handleSearchKeyPress,h=e.currentCategoryId,g=e.handleSelectCategory,E=e.categoryCounts,S=e.allEntriesCount,O=e.isLoading,T=b(p.AddEntryCard,{onClick:r});return b("div",{
className:m.default.pageContainer},void 0,b(c.AdvancedScrollerAuto,{className:m.default.scroller},void 0,b(I,{searchQuery:o,setSearchQuery:i,handleClearSearch:u,handleSearchKeyPress:l}),b(c.AdvancedScrollerThin,{orientation:"horizontal"},void 0,b(d.default,{className:_.default.tabBar,type:d.default.Types.TOP,look:d.default.Looks.BRAND,selectedItem:h,onItemSelect:function(e){g(e)}},void 0,b(d.default.Item,{className:_.default.tabBarItem,id:v.DirectoryEntryCategories.ALL},v.DirectoryEntryCategories.ALL,y.default.Messages.DIRECTORY_CATEGORY_ALL+" ("+S+")"),(0,v.getHubCategories)(t.id).map((function(e){var t=e.value,n=e.label;return b(d.default.Item,{className:_.default.tabBarItem,id:t},t,n+" "+(null!=E[t]?"("+E[t]+")":""))})))),O&&null==n?b(s.default,{className:m.default.spinner}):null==n?void 0:n.map((function(e){return a.createElement(a.Fragment,null,void 0!==e.header?b(f.Text,{variant:"text-md/normal",className:_.default.sectionHeader},void 0,e.header):null,b("div",{
className:m.default.cardsContainer},void 0,e.entries.map((function(e){return b(p.default,{entry:e},e.guildId)})),e.appendEndCard&&null!=r?T:null))}))))};T.displayName="GuildDirectoryLanding";var A=T;t.default=A},1698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.generateDirectoryRows=function(e,t){if(t!==o.DirectoryEntryCategories.ALL)return[{entries:(0,a.rankGuildEntries)(e),appendEndCard:!0}];var n=[],r=(0,a.rankByDateAdded)(e),u=new Set(r.map((function(e){return e.guildId})));r.length>0&&n.push({header:i.default.Messages.SEARCH_NEWEST,entries:r,appendEndCard:!1});var l=e.filter((function(e){return!u.has(e.guildId)}));(l=(0,a.orderByTotalMemberCount)(l)).length>0&&n.push({header:i.default.Messages.ALL_SERVERS,entries:l,appendEndCard:!0});return n};var r,a=n(448406),o=n(218044),i=(r=n(247001))&&r.__esModule?r:{default:r}},670539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=_(n(151097)),o=_(n(16941)),i=n(772575),u=_(n(535813)),l=_(n(80828)),s=n(645758),d=_(n(204014)),f=n(582945),c=_(n(923117)),p=_(n(247001)),v=_(n(447763)),y=_(n(885735)),m=_(n(123451));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t,n=e.searchQuery,r=e.setSearchQuery,_=e.mostRecentQuery,h=e.handleClearSearch,E=e.handleSearchKeyPress,S=e.handleCreateOrAddGuild,O=e.searchResults;if(e.searchFetching)t=g("div",{className:v.default.pageContainer},void 0,g(l.default,{className:v.default.spinner}));else if(0===O.length){var b=null!=S?p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_SUBTITLE.format({addServerHook:function(e,t){return g(a.default,{onClick:S},t,e)}}):p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_NO_ADD;t=g("div",{className:y.default.emptySearchWrapper},void 0,g("img",{className:y.default.emptySearchImage,alt:"",src:m.default}),g(i.Heading,{variant:"heading-xl/medium",color:"header-primary",className:y.default.emptySearchTitle,level:3
},void 0,p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_TITLE),g(s.Text,{variant:"text-md/normal",color:"header-secondary",className:y.default.emptySearchSubtitle},void 0,b))}else t=g("div",{className:v.default.cardsContainer},void 0,O.map((function(e){return g(c.default,{entry:e},e.guildId)})));return g("div",{className:v.default.pageContainer},void 0,g(f.ScrollerAuto,{className:v.default.scroller},void 0,g("div",{className:y.default.searchHeader},void 0,g("div",{className:y.default.headerTitleWrapper},void 0,g(o.default,{onClick:h,className:y.default.arrow},void 0,g(d.default,{direction:d.default.Directions.LEFT})),g(i.Heading,{variant:"heading-xl/medium",className:y.default.searchPageTitle,level:3},void 0,p.default.Messages.DIRECTORY_SEARCH_RESULTS_HEADER.format({numResults:O.length,query:_}))),g(u.default,{searchTerm:n,className:y.default.searchPageBox,inputClassName:y.default.searchPageInput,label:p.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,
placeholder:p.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:r,onClear:h,onKeyPress:E,cta:null!=n&&n.length>0?p.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})),t))};E.displayName="GuildDirectorySearchResults";var S=E;t.default=S},523024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryInAppReportingExperiment=void 0;t.useCanSeeDiscoveryContextMenu=function(){var e=u.useExperiment({}).canSeeInAppReportingButtons,t=o.DeveloperMode.useSetting(),n=e||t;r.useEffect((function(){u.trackExposure({})}),[]);return n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),a=n(373505),o=n(894826);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var u=(0,a.createExperiment)({kind:"user",id:"2022-01_discovery_iar",label:"Ability to report servers in Server Discovery",defaultConfig:{canSeeInAppReportingButtons:!1},treatments:[{id:1,label:"Show IAR buttons in Server Discovery",config:{canSeeInAppReportingButtons:!0}}]});t.DiscoveryInAppReportingExperiment=u},328092:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryTagsExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-11_discovery_tags",label:"Discovery Tags",defaultConfig:{shouldDisplayTags:!1,shouldDisplayRecommendedSearchTags:!1},treatments:[{id:1,label:"Show keyword tags on home and search result pages",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!1}},{id:2,
label:"Show keyword tags on home and search result pages and under the search bar",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!0}}]});t.DiscoveryTagsExperiment=r},332743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(803949)),i=m(n(965419)),u=m(n(161679)),l=m(n(450474)),s=m(n(167646)),d=m(n(332282)),f=m(n(890422)),c=m(n(97751)),p=n(71246),v=n(227445),y=m(n(596964));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=h(o.default,{}),E=h(i.default,{}),S=h(u.default,{}),O=h(l.default,{}),b=h(s.default,{}),I=h(d.default,{height:22,width:22}),T=h(f.default,{}),A=function(e){switch(e){case v.CategoryIcons.Activity:return g;case v.CategoryIcons.Discover:return E;case v.CategoryIcons.Education:return S;case v.CategoryIcons.Music:return O;case v.CategoryIcons.Science:return b;case v.CategoryIcons.Stage:return I;case v.CategoryIcons.Television:return T;default:(0,
p.assertNever)(e)}},C=function(e){var t=e.categories,n=e.currentCategoryId,r=e.handleCategorySelect,o=e.shouldDisplaySelectedCategory,i=void 0===o||o;return a.createElement(a.Fragment,null,t.map((function(e){return h(c.default,{avatar:A(e.icon),name:e.name,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){return r(e.categoryId)},wrapContent:!0,selected:i&&e.categoryId===n,className:y.default.categoryItem,selectedClassName:y.default.selectedCategoryItem,innerClassName:y.default.itemInner},e.categoryId)})))};C.Icons=v.CategoryIcons;var M=C;t.default=M},841354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoverySidebarHeader=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=n(772575),i=(r=n(45622))&&r.__esModule?r:{default:r};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.text;return l(o.Heading,{variant:"heading-xl/medium",className:i.default.discoverHeader,level:2},void 0,t)}s.displayName="DiscoverySidebarHeader"},734696:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(636602)),i=y(n(37039)),u=n(531254),l=y(n(275198)),s=y(n(2022)),d=n(772575),f=n(645758),c=y(n(684631)),p=n(770348),v=y(n(922179));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var g=[[1696,20],[1432,16],[1168,12],[0,8]],E=[[1696,30],[1432,24],[1168,18],[0,12]],S=function(e){var t=e.title,n=e.subtitle,r=e.guildsData,y=e.analyticsContext,m=e.theme,S=e.onViewGuild,O=e.fetchGuilds,b=e.onGuildCardSeen,I=e.currentCategoryId,T=e.loadId,A=e.onTagClick,C=e.showMoreCards,M=void 0!==C&&C;a.useEffect((function(){o.default.wait((function(){return O()}))}),[I]);var N=M?E:g,P=(0,c.default)(N),R=(0,i.default)().analyticsLocations;if(null==r)return null;var w=r.guilds,D=r.loading,L=null==w||0===w.length;if(!D&&L)return null;var k,j=function(){
var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.isAtGuildCapAndNonPremium)()){e.next=4;break}(0,l.default)({analyticsSource:{page:p.AnalyticsPages.GUILD_DISCOVERY},analyticsLocation:{page:p.AnalyticsPages.GUILD_DISCOVERY,section:p.AnalyticsSections.GUILD_CAP_UPSELL_MODAL},analyticsLocations:R});e.next=7;break;case 4:n=w.findIndex((function(e){return e.id===t}));e.next=7;return S(t,n,y,T);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();if(D||null==w){for(var U=[],G=0;G<P;G++)U.push(_(s.default.Placeholder,{},G));k=U}else k=w.slice(0,P).map((function(e){return _(s.default,{className:v.default.guildCard,guild:e,onView:j,theme:m,onGuildCardSeen:b,onTagClick:A},e.id)}))
;return _("section",{className:v.default.guildListSection},void 0,_(d.Heading,{className:v.default.title,variant:"heading-lg/medium",level:3},void 0,t),null!=n&&_(f.Text,{className:v.default.subtitle,variant:"text-sm/normal",color:"header-secondary"},void 0,n),_("div",{className:v.default.guildList},void 0,k))};S.displayName="DiscoverFeaturedGuildsSection";var O=S;t.default=O},473124:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MAX_GUILDS_PER_PAGE=void 0;var r,a=I(n(667294)),o=O(n(496486)),i=O(n(817673)),u=n(536211),l=I(n(598319)),s=O(n(815428)),d=O(n(651386)),f=O(n(55027)),c=n(139982),p=O(n(199846)),v=O(n(16941)),y=n(772575),m=n(645758),_=O(n(204014)),h=I(n(465537)),g=n(227445),E=O(n(247001)),S=O(n(691288));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=12;t.MAX_GUILDS_PER_PAGE=M;var N=function(){var e=(0,c.getHistory)().location.search
;return null!=e&&e.length>0&&e.startsWith("?")?i.default.parse(e):{}},P=function(e){var t=e.categoryId,n=e.categoryName,r=e.onClick,a=t===g.DISCOVERY_ALL_CATEGORIES_ID,o=a?E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_HEADER:E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_HEADER.format({categoryName:n}),i=a?E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_BODY:E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_BODY.format({onClick:r});return C("div",{className:S.default.emptyContainer},void 0,C("div",{className:S.default.emptyImage}),C(y.Heading,{variant:"heading-xl/medium",className:S.default.emptyHeader,level:3},void 0,o),C(m.Text,{variant:"text-md/normal",color:"header-secondary"},void 0,i))};P.displayName="EmptySearchResults";var R=function(){return C("div",{className:S.default.emptyContainer},void 0,C("div",{className:S.default.errorImage}),C(m.Text,{variant:"text-md/normal",color:"header-secondary",className:S.default.emptyHeader
},void 0,E.default.Messages.GUILD_DISCOVERY_SEARCH_ERROR))};R.displayName="ErrorState";var w=C(R,{}),D=function(e){var t=e.loadId,n=e.searchResults,r=e.mostRecentQuery,i=e.defaultLanguage,c=e.availableLanguages,m=e.isFetchingSearch,O=e.scroller,b=e.loadingGuildId,I=e.theme,A=e.currentCategoryId,R=e.currentCategoryName,D=e.onViewGuild,L=e.onGuildCardSeen,k=e.placeholder,j=e.onTagClick,U=o.default.uniqueId("GuildDiscovery"),G=n.guilds,F=n.loading,x=n.total,B=T(a.useState(!1),2),H=B[0],V=B[1],W=N().tag,Y=T(a.useState(W),2),K=Y[0],z=Y[1],$=(0,u.useStateFromStores)([p.default],(function(){return p.default.hasSearchError()})),q=function(e,t,n){l.doAlgoliaSearch(r,{categoryId:n?g.DISCOVERY_ALL_CATEGORIES_ID:A,preferredLocale:i.code,offset:e,length:t,filters:{approximate_member_count:h.MINIMUM_MEMBER_COUNT}});V(!1)};a.useEffect((function(){var e=N(),t=e.offset,n=e.tag,r=null!=t?Math.floor(parseInt(t,10)/M)+1:1;z(!!n);1===r&&V(!0)}),[r])
;var Q=A===g.DISCOVERY_ALL_CATEGORIES_ID?E.default.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_HEADER.format({count:null!=x?x.toLocaleString():"0",query:r}):E.default.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_CATEGORY_HEADER.format({count:null!=x?x.toLocaleString():"0",query:r,category:R});return C("div",{className:S.default.container},void 0,C("div",{className:S.default.searchHeader},void 0,C(v.default,{onClick:function(){l.clearSearch();h.trackSearchClosed(t)},className:S.default.arrow,"aria-label":E.default.Messages.BACK},void 0,C(_.default,{direction:_.default.Directions.LEFT})),C(y.Heading,{variant:"heading-xl/medium",className:S.default.header,level:3},void 0,Q)),C(d.default,{loadId:t,searchResults:n,mostRecentQuery:r,isFetchingSearch:m,defaultLanguage:i,placeholder:k,availableLanguages:c,isSearchPage:!0,currentCategoryId:A,isTagSearch:K}),$?w:x<=0?C(P,{categoryId:A,categoryName:R,onClick:function(){l.selectCategory(g.DISCOVERY_ALL_CATEGORIES_ID);q(0,M,!0)}}):C("div",{
className:S.default.results},void 0,C(s.default,{pageSize:M,totalCount:x,resetCurrentPage:H,onPageChange:function(e){q((e-1)*M,M);null==O||O.scrollTo({to:0})}},void 0,(function(e){var t=e.controller;return C("section",{"aria-labelledby":U},void 0,C(f.default,{guilds:G,loading:F,loadingPlaceholderCount:M,onViewGuild:D,loadingGuildId:b,theme:I,analyticsContext:h.AnalyticsContexts.SEARCH,onGuildCardSeen:L,onTagClick:j}),t)}))))};D.displayName="DiscoverSearchResults";var L=D;t.default=L},184767:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildDiscoveryMenuPopout=void 0;t.default=S;g(n(667294));var r,a=n(536211),o=n(378158),i=_(n(730487)),u=n(837797),l=g(n(145122)),s=_(n(30098)),d=_(n(689389)),f=_(n(160629)),c=_(n(907509)),p=n(523024),v=n(770348),y=n(474477),m=_(n(247001));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}
function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){var t=e.guild,n=e.shiftId,r=e.onSelect,f=e.closePopout,_=e["aria-label"],h=(0,i.default)(t.id,n,void 0,f),g=(0,
a.useStateFromStores)([s.default],(function(){return s.default.getGuild(t.id)}),[t.id]),S=(0,a.useStateFromStores)([d.default],(function(){return d.default.can(v.Permissions.ADMINISTRATOR,g)})),O=p.DiscoveryInAppReportingExperiment.useExperiment({}).canSeeInAppReportingButtons;return E(l.default,{onSelect:r,navId:"guild-discovery-context-menu","aria-label":null!=_?_:m.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:o.closeContextMenu},void 0,E(l.MenuGroup,{},void 0,!S&&O?E(l.MenuItem,{id:"report-guild-discovery-listing",label:m.default.Messages.REPORT_SERVER_NO_NAME,action:function(){(0,u.showReportModalForDiscoverableGuild)(t);!function(){(0,o.closeContextMenu)();null==f||f()}()},icon:c.default,color:y.MenuItemColor.DANGER}):null),E(l.MenuGroup,{},void 0,h))}S.displayName="GuildDiscoveryContextMenu";var O=function(e){var t=e.guild,n=e.children,r=e.onRequestOpen,a=e.onRequestClose;return E(f.default,{onRequestOpen:r,onRequestClose:a,animation:f.default.Animation.NONE,
position:f.default.Positions.BOTTOM,spacing:4,align:f.default.Align.RIGHT,renderPopout:function(e){var n=e.closePopout;return E(S,{guild:t,closePopout:n})}},void 0,n)};t.GuildDiscoveryMenuPopout=O;O.displayName="GuildDiscoveryMenuPopout"},167739:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(964285)),o=d(n(735172)),i=d(n(142024)),u=n(770348),l=d(n(247001)),s=d(n(722100));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=c("img",{alt:"",src:d(n(694111)).default});function v(e){var t=e.guild,n=e.markAsDismissed;return c(i.default,{onComponentMount:function(){return o.default.trackExposure({guildId:t.id})},header:l.default.Messages.DISCOVERY_LANDING_PAGE_UPSELL_TITLE,content:l.default.Messages.DISCOVERY_LANDING_PAGE_UPSELL_DESCRIPTION,asset:c("div",{className:s.default.image},void 0,p),buttonCTA:l.default.Messages.DISCOVERY_LANDING_PAGE_UPSELL_BUTTON_ACCEPT,onClick:function(e){!function(e,t){
t&&a.default.open(e.id,u.GuildSettingsSections.DISCOVERY_LANDING_PAGE)}(t,!0)},secondaryButtonCTA:l.default.Messages.DISCOVERY_LANDING_PAGE_UPSELL_BUTTON_DISMISS,onSecondaryClick:function(){},markAsDismissed:n})}v.displayName="GuildDiscoveryLandingPageSettingsTooltip"},638098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(956117)),i=n(772575),u=n(645758),l=n(294126),s=n(583551),d=c(n(247001)),f=c(n(812099));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.onClick,n=e.onSecondaryClick,r=e.onComponentMount,c=e.markAsDismissed;a.useEffect((function(){null==r||r()}),[r]);var p=a.useCallback((function(e){t(e);null==c||c(s.ContentDismissActionType.PRIMARY)}),[t,c]),y=a.useCallback((function(){null==n||n();null==c||c(s.ContentDismissActionType.SECONDARY)}),[n,c]);return v("div",{className:f.default.tooltipWrapper},void 0,v(i.Heading,{className:f.default.tooltipHeader,
variant:"heading-md/medium",level:3},void 0,d.default.Messages.SERVER_DISCOVERY_TOOLTIP_TITLE),v(u.Text,{className:f.default.tooltipText,variant:"text-sm/normal"},void 0,d.default.Messages.SERVER_DISCOVERY_TOOLTIP_DESCRIPTION.format({count:l.LOWERED_MINIMUM_SIZE})),v("div",{className:f.default.buttonsContainer},void 0,v(o.default,{fullWidth:!0,size:o.default.Sizes.SMALL,color:o.default.Colors.BRAND,onClick:p},void 0,d.default.Messages.LEARN_MORE),v(o.default,{fullWidth:!0,size:o.default.Sizes.SMALL,look:o.default.Looks.BLANK,onClick:y},void 0,d.default.Messages.NO_THANKS)))}y.displayName="GuildHeaderDiscoveryTooltip"},648831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.DiscoverSearchResultPlaceholder=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=M(n(294184)),i=n(378158),u=n(263996),l=M(n(37039)),s=n(800055),d=n(531254),f=M(n(275198)),c=M(n(16941)),p=M(n(189950)),v=n(772575),y=M(n(80828)),m=n(645758),_=M(n(272544)),h=M(n(692711)),g=n(465537),E=n(523024),S=n(328092),O=M(n(886836)),b=n(770348),I=M(n(247001)),T=M(n(895889)),A=M(n(860321)),C=M(n(145792));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e)
;return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var j=function(){return k("div",{className:T.default.placeholder})};t.DiscoverSearchResultPlaceholder=j;j.displayName="DiscoverSearchResultPlaceholder";var U=function(e){
var t,r,M,N,R=e.guild,L=e.theme,j=e.onView,U=e.onTagClick,G=R.id,F=R.discoverySplash,x=R.icon,B=R.name,H=R.description,V=R.presenceCount,W=R.memberCount,Y=R.keywords,K=D(a.useState(!1),2),z=K[0],$=K[1],q=D(a.useState(!1),2),Q=q[0],X=q[1],Z=(0,l.default)().analyticsLocations,J=h.default.getGuildDiscoverySplashURL({id:G,splash:F,size:240*(0,s.getDevicePixelRatio)()}),ee=null!=J?J:function(e){switch(e){case b.ThemeTypes.DARK:return A.default;case b.ThemeTypes.LIGHT:return C.default}}(L),te=null!==(t=h.default.getGuildIconURL({id:G,icon:x,size:32}))&&void 0!==t?t:void 0,ne=function(){var e=w(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target;if(!n.className.includes("Menu")){e.next=3;break}return e.abrupt("return");case 3:if(!(0,d.isAtGuildCapAndNonPremium)()){e.next=6;break}(0,f.default)({analyticsSource:{page:b.AnalyticsPages.GUILD_DISCOVERY},analyticsLocation:{page:b.AnalyticsPages.GUILD_DISCOVERY,
section:b.AnalyticsSections.GUILD_CAP_UPSELL_MODAL},analyticsLocations:Z});return e.abrupt("return");case 6:X(!0);e.prev=7;e.t0=null!=j;if(!e.t0){e.next=12;break}e.next=12;return j(R.id);case 12:e.prev=12;X(!1);return e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[7,,12,15]])})));return function(t){return e.apply(this,arguments)}}();a.useEffect((function(){return S.DiscoveryTagsExperiment.trackExposure({})}));var re=S.DiscoveryTagsExperiment.useExperiment({}).shouldDisplayTags,ae=(0,E.useCanSeeDiscoveryContextMenu)();return a.createElement(a.Fragment,null,k("div",{className:T.default.card},void 0,Q?k(y.default,{type:y.default.Type.PULSING_ELLIPSIS,className:T.default.spinner}):null,k(c.default,{className:(0,o.default)(T.default.container,(r={},r[T.default.hover]=z,r[T.default.submitting]=Q,r)),onClick:ne,onContextMenu:function(e){(0,i.openContextMenuLazy)(e,w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,184767));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,P({},e,{guild:R}))}));case 5:case"end":return e.stop()}}),e)}))))},onMouseEnter:function(){return $(!0)},onMouseLeave:function(){return $(!1)}},void 0,k("div",{className:(0,o.default)(T.default.splashContainer,(M={},M[T.default.splashContainerWithTags]=re,M))},void 0,k("img",{src:ee,alt:"",className:T.default.splashImage,width:240})),k("div",{className:(0,o.default)(T.default.content,(N={},N[T.default.contentWithTags]=re,N))},void 0,k("div",{className:T.default.header},void 0,k(_.default,{mask:_.default.Masks.SQUIRCLE,width:32,height:32},void 0,k("img",{src:te,alt:"",className:T.default.avatar})),k("div",{className:T.default.headerName},void 0,k(p.default,{guild:R,className:T.default.guildBadge}),k(v.Heading,{variant:"heading-md/medium",className:T.default.headerTitle,level:3},void 0,B))),k(m.Text,{
className:T.default.description,variant:"text-sm/normal"},void 0,H),re&&Y&&U&&k(u.DiscoveryTags,{guildId:R.id,discoveryTagStyle:u.DiscoveryTagStyle.ALT,onTagClick:function(e){return U(e,R.id)},tags:Y,section:g.AnalyticsContexts.SEARCH}),k("div",{className:T.default.memberInfo},void 0,null!=V&&k("div",{className:T.default.memberCount},void 0,k(m.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:V}))),null!=W&&a.createElement(a.Fragment,null,k("div",{className:T.default.dotSeparator}),k("div",{className:T.default.memberCount},void 0,k(m.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:W})))))),ae?k("div",{className:T.default.actionButtons},void 0,k(O.default,{guild:R})):null)),k("hr",{className:T.default.separator}))};t.default=U},886836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=m(n(667294)),o=v(n(294184)),i=v(n(730977)),u=v(n(775803)),l=m(n(962989)),s=n(184767),d=v(n(247001)),f=v(n(498154)),c=["onClick"],p=["onClick"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)
}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t,n=e.guild,r=E(a.useState(!1),2),v=r[0],y=r[1],m=a.useCallback((function(){return y(!0)}),[y]),S=a.useCallback((function(){return y(!0)}),[y]);return h("div",{className:(0,o.default)(f.default.actionButtonsContainer,(t={},t[f.default.forceButtonsShow]=v,t))},void 0,h(l.default,{},void 0,h(s.GuildDiscoveryMenuPopout,{onRequestOpen:m,onRequestClose:S,guild:n},void 0,(function(e){var t=e.onClick,n=g(e,c)
;return h(i.default,{text:d.default.Messages.MORE,hideOnClick:!0},void 0,(function(e){var r=e.onClick,o=g(e,p);return a.createElement(l.Button,_({},n,o,{onClick:function(e){e.stopPropagation();null==r||r();t(e)},"aria-label":d.default.Messages.MORE}),h(u.default,{className:f.default.overflowIcon}))}))}))))}O.displayName="DiscoveryCardActionButtons";var b=O;t.default=b},684631:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=o(r.useState(0),2),n=t[0],a=t[1],u=r.useCallback((function(){for(var t,n=window.innerWidth,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=r()).done;){var u=o(t.value,2),l=u[0],s=u[1];if(n>=l){a(s);return}}}),[e]);r.useEffect((function(){u()}),[u]);r.useEffect((function(){window.addEventListener("resize",u);return function(){window.removeEventListener("resize",u)}}));return n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}
function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},730034:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(684769),i=n(770348);var u={init:function(){a.default.subscribe(i.ActionTypes.CONNECTION_OPEN,(function(){(0,o.reset)()}));a.default.subscribe(i.ActionTypes.LOGOUT,(function(){(0,o.reset)()}))}};t.default=u},797132:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useIsDismissibleContentTypeDismissed=function(e){var t=(0,a.useStateFromStores)([o.default],(function(){var e;return null===(e=o.default.settings.userContent)||void 0===e?void 0:e.dismissedContents}));if(null==t)return!1;return(0,i.hasBit)(t,e)};var r,a=n(536211),o=(r=n(960441))&&r.__esModule?r:{default:r},i=n(925179)},142721:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(923387),u=n(828593),l=_(n(960441)),s=_(n(956117)),d=_(n(530250)),f=_(n(665759)),c=_(n(567668)),p=n(688388),v=_(n(114655)),y=n(925179),m=_(n(380203));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()
}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e){var t=e.contents,n=e.content,r=(0,y.hasBit)(t,i.DismissibleContent[n]);return a.createElement(a.Fragment,null,S(c.default,{value:r,onChange:function(){r?(0,u.removeDismissedContent)(i.DismissibleContent[n]):(0,u.addDismissedContent)(i.DismissibleContent[n])}},void 0,S(p.FormText,{size:v.default.Sizes.SIZE_16,className:m.default.marginTop4},void 0,n.toLowerCase()+" ("+i.DismissibleContent[n]+")")))}var b=S(p.FormTitle,{},void 0,"Available Dismissible Contents"),I=S("div",{},void 0,S(p.FormTitle,{},void 0,"Dismissed"));function T(){var e,t=g(a.useState(""),2),n=t[0],r=t[1],c=null!==(e=(0,o.useStateFromStores)([l.default],(function(){var e;return null===(e=l.default.settings.userContent)||void 0===e?void 0:e.dismissedContents})))&&void 0!==e?e:new Uint8Array;return S(p.FormSection,{title:"Dismissible Contents",tag:p.FormTitleTags.H1},void 0,S(f.default,{className:m.default.marginBottom20,size:f.default.Sizes.LARGE,
query:n,onChange:r,onClear:function(){return r("")}}),S(d.default,{className:m.default.marginBottom20},void 0,b,I),Object.keys(i.DismissibleContent).filter((function(e){return e.toLowerCase().includes(n.toLowerCase())})).sort((function(e,t){return e.localeCompare(t)})).map((function(e){if(isNaN(Number(e)))return S(O,{contents:c,content:e},e)})),S(s.default,{look:s.default.Looks.LINK,onClick:u.clearDismissedContents},void 0,"Clear All Dismissed Contents"))}T.displayName="DismissibleContentConfiguration"},802922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DismissibleContentNotices=void 0;var r,a=T(n(667294)),o=n(536211),i=n(923387),u=n(483559),l=b(n(226800)),s=b(n(155502)),d=b(n(754416)),f=b(n(959487)),c=b(n(29864)),p=b(n(877454)),v=b(n(296005)),y=b(n(11888)),m=n(194322),_=T(n(177101)),h=b(n(308920)),g=b(n(305081)),E=n(770348),S=b(n(247001)),O=b(n(202192));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function C(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){C(o,r,a,i,u,"next",e)}function u(e){C(o,r,a,i,u,"throw",e)}i(void 0)}))}}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=function(e){var t=e.dismissibleContent,r=e.noticeType,b=(0,o.useStateFromStores)([v.default],(function(){return v.default.getNotice()}));return N(g.default,{contentTypes:[t]},void 0,(function(e){var t=e.visibleContent,o=e.markAsDismissed;switch(t){case i.DismissibleContent.NAGBAR_NOTICE_DOWNLOAD:return N(_.default,{color:_.NoticeColors.DEFAULT},void 0,N(_.NoticeCloseButton,{onClick:o,noticeType:r}),S.default.Messages.NOTICE_NATIVE_APPS_2020_06,N("i",{
className:O.default.iconApple}),N("i",{className:O.default.iconAndroid}),N("i",{className:O.default.iconWindows}),N(_.PrimaryCTANoticeButton,{noticeType:r,onClick:function(){(0,m.openModalLazy)(M(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,A({source:"Top Bar Nag"},e))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,S.default.Messages.DOWNLOAD));case i.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY:return N(_.default,{color:_.NoticeColors.SPOTIFY},void 0,N(_.NoticeCloseButton,{onClick:o,noticeType:r}),N(y.default,{className:O.default.platformIcon}),S.default.Messages.NOTICE_CONNECT_SPOTIFY,N(_.PrimaryCTANoticeButton,{onClick:function(){return(0,d.default)(E.PlatformTypes.SPOTIFY,"Notice Bar")},noticeType:r},void 0,S.default.Messages.CONNECT))
;case i.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION:return N(_.default,{color:_.NoticeColors.PLAYSTATION},void 0,N(_.NoticeCloseButton,{onClick:o}),N("img",{alt:"",className:O.default.platformIcon,src:s.default.get(E.PlatformTypes.PLAYSTATION).icon.whiteSVG}),S.default.Messages.NOTICE_CONNECT_PLAYSTATION,N(_.NoticeButton,{onClick:function(){return(0,d.default)(E.PlatformTypes.PLAYSTATION,"Notice Bar")}},void 0,S.default.Messages.CONNECT));case i.DismissibleContent.NAGBAR_NOTICE_MFA_SMS_BACKUP:return N(_.default,{color:_.NoticeColors.DEFAULT},void 0,N(_.NoticeCloseButton,{onClick:o,noticeType:r}),S.default.Messages.NOTICE_MFA_SMS_BACKUP,N(_.PrimaryCTANoticeButton,{onClick:function(){return l.default.open(E.UserSettingsSections.ACCOUNT)},noticeType:r},void 0,S.default.Messages.NOTICE_MFA_SMS_BACKUP_BUTTON));case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_PROMO:return N(_.default,{color:_.NoticeColors.PREMIUM_TIER_2},void 0,N("span",{className:O.default.premiumLogo}),N("span",{
className:O.default.premiumText},void 0,S.default.Messages.NOTICE_PREMIUM_PROMO_MESSAGE),N(_.PrimaryCTANoticeButton,{className:O.default.premiumAction,noticeType:r,onClick:function(){h.default.track(E.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_section:E.AnalyticsSections.NOTIFICATION_BAR,location_object:E.AnalyticsObjects.BUTTON_CTA});l.default.open(E.UserSettingsSections.PREMIUM)}},void 0,S.default.Messages.NOTICE_PREMIUM_PROMO_ACTION),N(_.NoticeCloseButton,{onClick:function(){o();(0,u.setFlag)(E.UserFlags.PREMIUM_PROMO_DISMISSED,!0)},noticeType:r}));case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING:return N(p.default,{dismissCurrentNotice:o});case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_REACTIVATE:return N(_.default,{color:_.NoticeColors.PREMIUM_TIER_2},void 0,N(_.NoticeCloseButton,{noticeType:r,onClick:o}),S.default.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_TEXT,N(_.PrimaryCTANoticeButton,{noticeType:r,onClick:function(){o()
;l.default.open(E.UserSettingsSections.PREMIUM)}},void 0,S.default.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_BUTTON_TEXT));case i.DismissibleContent.NAGBAR_NOTICE_LOCALIZED_PRICING:return N(c.default,{notice:b,noticeType:r,dismissCurrentNotice:o});case i.DismissibleContent.DROPS_GO_LIVE_BANNER_NOTICE:return N(f.default,{noticeType:r,markAsDismissed:o})}}))};t.DismissibleContentNotices=P;P.displayName="DismissibleContentNotices"},528831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.allowMessagesFromSpamUser=function(e){a.default.dispatch({type:o.ActionTypes.ALLOW_SPAM_MESSAGES_FOR_USER,userId:e})};t.hideMessagesFromSpamUser=function(e){a.default.dispatch({type:o.ActionTypes.HIDE_SPAM_MESSAGES_FOR_USER,userId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},448673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){
return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new Set;var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(s=new Set(e))};n.hasAllowedSpamUser=function(e){return s.has(e)};n.getState=function(){return s};n.__getLocalVars=function(){return{allowedSpamUsers:s}};return t}(a.default.PersistedStore);d.displayName="SpamMessageAcceptStore";d.persistKey="SpamMessageAcceptStore";var f=new d(o.default,((r={})[i.ActionTypes.ALLOW_SPAM_MESSAGES_FOR_USER]=function(e){var t=e.userId;s.add(t)},r[i.ActionTypes.HIDE_SPAM_MESSAGES_FOR_USER]=function(e){var t=e.userId;s.delete(t)},r));t.default=f},78528:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useDisplayDMSpamBanner=function(e){
var t=e.isDM()&&!e.isSystemDM()&&!e.rawRecipients.some((function(e){return e.bot})),n=(0,r.useStateFromStores)([o.default],(function(){var t;return!0===(null===(t=o.default.getUser(e.getRecipientId()))||void 0===t?void 0:t.hasFlag(u.UserFlags.SPAMMER))}),[e]),l=(0,r.useStateFromStores)([a.default],(function(){return a.default.getMessages(e.id).length>0}),[e]),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.hasAllowedSpamUser(e.getRecipientId())}),[e]);return t&&n&&l&&!s};var r=n(536211),a=l(n(201292)),o=l(n(728429)),i=l(n(448673)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},105149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SenderSpammerBanner=T;E(n(667294));var r,a=n(536211),o=h(n(190040)),i=h(n(709403)),u=h(n(237923)),l=n(960736),s=h(n(728429)),d=E(n(956117)),f=n(767019),c=n(143586),p=h(n(308920)),v=n(528831),y=n(770348),m=h(n(247001)),_=h(n(157358));function h(e){return e&&e.__esModule?e:{default:e}}
function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null
}}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}var I=n(513157);function T(e){var t=e.channel,n=t.getRecipientId(),r=(0,a.useStateFromStores)([s.default],(function(){var e=s.default.getUser(n);return null!=e?e.username:null})),h=function(){var e=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"block_modal_cancel_click"});e.next=3;return i.default.closePrivateChannel(t.id,!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=b(regeneratorRuntime.mark((function e(){
return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"block_modal_block_click"});e.next=3;return u.default.addRelationship({userId:n,context:{location:"DMSpamModal"},type:y.RelationshipTypes.BLOCKED});case 3:e.next=5;return i.default.closePrivateChannel(t.id,!0);case 5:(0,c.showToast)((0,f.createToast)(m.default.Messages.SPAMMER_BLOCKED.format({username:r}),f.ToastType.SUCCESS));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return S(l.MessageNoticeBanner,{bannerIcon:I,bannerHeader:m.default.Messages.ACCEPT_SPAM_DM_HEADER,bannerSubtext:m.default.Messages.ACCEPT_SPAM_DM_SUBTEXT},void 0,S(d.default,{className:_.default.largeButton,look:d.default.Looks.LINK,size:d.default.Sizes.SMALL,color:d.default.Colors.TRANSPARENT,onClick:function(){p.default.track(y.AnalyticEvents.DM_SAFETY,{
channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"not_spam"});(0,v.allowMessagesFromSpamUser)(n)}},void 0,m.default.Messages.REPORT_NOT_SPAM),S(d.default,{className:_.default.largeButton,look:d.default.Looks.FILLED,size:d.default.Sizes.SMALL,color:d.ButtonColors.RED,onClick:function(){p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"close_channel_click"});o.default.show({title:m.default.Messages.BLOCK_SPAMMER_HEADER,body:m.default.Messages.BLOCK_SPAMMER_SUBHEADER.format({username:r}),onCancel:h,cancelText:m.default.Messages.CANCEL,onConfirm:g,confirmText:m.default.Messages.BLOCK});i.default.closePrivateChannel(t.id,!0)}},void 0,m.default.Messages.CLOSE_DM))}T.displayName="SenderSpammerBanner"},916239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=[{keybinds:["Spacebar","Enter"],name:f.default.Messages.DND_OPERATION_LABEL_DROP},{
keybinds:["up","down"],name:f.default.Messages.DND_OPERATION_LABEL_MOVE},{keybinds:["ESC"],name:f.default.Messages.DND_OPERATION_LABEL_CANCEL}],t=(0,i.useStateFromStores)([u.default],(function(){return u.default.useReducedMotion})),n=(0,d.useDndMode)();return(0,o.useTransition)(n,{enter:{from:{opacity:0,y:t?0:80},to:{opacity:1,y:0}},leave:{opacity:0,y:t?0:80},config:o.config.stiff})((function(t,n){return n?y("div",{className:c.default.positioner},void 0,y(o.animated.div,{className:c.default.container,style:t},void 0,e.map((function(t,n){var r=t.keybinds,o=t.name;return y(a.Fragment,{},o,y(s.Text,{variant:"text-md/normal",className:c.default.bindName},void 0,o),r.map((function(e){return y(l.default,{shortcut:e,className:c.default.shortcut},e)})),n<e.length-1?y("span",{className:c.default.separator}):null)})))):null}))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(248088),i=n(536211),u=p(n(235879)),l=p(n(749666)),s=n(645758),d=n(412317),f=p(n(247001)),c=p(n(923947));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}},204953:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(972247)),i=v(n(226800)),u=v(n(956117)),l=n(772575),s=n(645758),d=n(169749),f=n(770348),c=n(583551),p=v(n(816043));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.markAsDismissed;a.useEffect((function(){d.DropsForGoLiveExperiment.trackExposure({})}));return m("div",{className:p.default.container},void 0,m(l.Heading,{className:p.default.title,level:3,variant:"heading-md/bold"},void 0,"Sea of Thieves Battlepass"),m(s.Text,{variant:"text-sm/medium",className:p.default.subTitle},void 0,"Go Live in Sea of Thieves for [x] minutes to unlock a free battlepass!"),m(u.default,{innerClassName:p.default.button,look:u.default.Looks.INVERTED,fullWidth:!0,onClick:function(){o.default.set(d.STORAGE_GO_LIVE_ENROLLMENT_KEY,1);i.default.open(f.UserSettingsSections.INVENTORY);t(c.ContentDismissActionType.PRIMARY)}
},void 0,"Enroll Account"),m(u.default,{className:p.default.linkButtonContainer,innerClassName:p.default.linkButton,onClick:function(){t(c.ContentDismissActionType.DISMISS)},look:u.default.Looks.LINK,fullWidth:!0,color:u.default.Colors.WHITE},void 0,"Not Right Now"),m("div",{className:p.default.pointer}))}_.displayName="EligibilityEnrollmentTooltip"},959487:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=_(n(667294)),o=y(n(954140)),i=y(n(644263)),u=y(n(211136)),l=y(n(790597)),s=y(n(956117)),d=n(194322),f=_(n(177101)),c=n(583551),p=y(n(247001)),v=y(n(494284));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}var O=function(e){var t=e.noticeType,r=e.markAsDismissed;return h(f.default,{className:v.default.colorGuildBlue},void 0,"You're enrolled! Go Live now for [x] minutes and unlock a free Sea of Thieves battlepass!",h(f.PrimaryCTANoticeButton,{onClick:function(){var e=i.default.getChannel(u.default.getVoiceChannelId()),t=l.default.getGuildId(),r=null!=e?e.getGuildId():t;(0,d.openModalLazy)(S(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15084)]).then(n.bind(n,815084));case 2:t=e.sent;i=t.default;return e.abrupt("return",(function(e){return a.createElement(i,g({},e,{selectSource:!1,guildId:r,
analyticsLocation:o.default.DROPS_GO_LIVE_BANNER_NOTICE}))}));case 5:case"end":return e.stop()}}),e)}))))},noticeType:t},void 0,p.default.Messages.GO_LIVE_MODAL_CTA),h(s.default,{className:v.default.button,size:s.default.Sizes.SMALL,onClick:function(){r(c.ContentDismissActionType.DISMISS)},look:s.default.Looks.LINK,color:s.default.Colors.PRIMARY},void 0,"Stop reminding me"),h(f.NoticeCloseButton,{onClick:function(){r(c.ContentDismissActionType.SECONDARY)},noticeType:t}))};O.displayName="GoLiveExperimentBannerNotice";var b=O;t.default=b},245275:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=v(n(226800)),o=v(n(956117)),i=v(n(16941)),u=n(772575),l=n(645758),s=v(n(259530)),d=n(770348),f=n(583551),c=v(n(247001)),p=v(n(748594));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.markAsDismissed;return m("div",{className:p.default.container},void 0,m(i.default,{className:p.default.closeButtonContainer,
onClick:function(){t(f.ContentDismissActionType.DISMISS)},"aria-label":c.default.Messages.DISMISS},void 0,m(s.default,{className:p.default.closeIcon,width:16,height:16,color:d.Colors.WHITE})),m(u.Heading,{className:p.default.title,level:3,variant:"heading-md/bold"},void 0,"YOU DID IT!"),m(l.Text,{variant:"text-sm/medium",className:p.default.subTitle},void 0,"Go collect your free Sea of Thieves battlepass in your gift inventory."),m(o.default,{innerClassName:p.default.button,look:o.default.Looks.INVERTED,fullWidth:!0,onClick:function(){a.default.open(d.UserSettingsSections.INVENTORY);t(f.ContentDismissActionType.PRIMARY)}},void 0,"Claim Reward"),m("div",{className:p.default.pointer}))}_.displayName="QuestCompletionTooltip"},480519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(177230)),o=n(754126),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return l(e,t)}function s(e){var t=e.channel.id;(0,o.removeFavoriteChannel)(t)}var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(i.ActionTypes.CHANNEL_DELETE,s)};n._terminate=function(){r.default.unsubscribe(i.ActionTypes.CHANNEL_DELETE,s)};n.__getLocalVars=function(){return{}};return t}(a.default));t.default=d},978664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,r.useStateFromStores)([o.default,a.default,i.default],(function(){if(e!==u.FAVORITES)return o.default.getVoiceStates(e);var t=i.default.getFavoriteChannels(),n={};for(var r in t){var l=a.default.getChannel(r);null!=l&&(n[r]=o.default.getVoiceStatesForChannel(l))}return n}),[e])};var r=n(536211),a=l(n(644263)),o=l(n(487372)),i=l(n(982879)),u=n(770348);function l(e){
return e&&e.__esModule?e:{default:e}}},265328:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(956117)),u=n(645758),l=c(n(308920)),s=n(770348),d=c(n(247001)),f=c(n(495188));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=a.forwardRef((function(e,t){var n,r=e.closePopout,c=e.body,p=e.header,y=e.artClassName,m=e.tryItText,_=e.onTryFeature,h=e.analyticsName,g=e.analyticsSection,E=e.className;a.useEffect((function(){l.default.track(s.AnalyticEvents.UPSELL_VIEWED,{type:s.DesktopUpsellTypes.FEATURE_EDUCATION_TOOLTIP,subtype:h,location_section:g})}),[]);function S(e){l.default.track(s.AnalyticEvents.UPSELL_CLICKED,{type:s.DesktopUpsellTypes.FEATURE_EDUCATION_TOOLTIP,subtype:h,action:e,location_section:g})}return a.createElement("div",{className:(0,o.default)(f.default.container,E),ref:t},v("div",{className:(0,o.default)(f.default.content,(n={},n[f.default.contentNoArt]=null==y,n))
},void 0,v("div",{className:(0,o.default)(y,f.default.art)}),v(u.Text,{className:f.default.headerText,variant:"text-md/normal",color:"none"},void 0,p),v("div",{className:f.default.bodyContainer},void 0,null==c?null:"string"==typeof c?v(u.Text,{className:f.default.bodyText,variant:"text-sm/normal",color:"none"},void 0,c):c),null!=_?a.createElement(a.Fragment,null,v(i.default,{className:f.default.tryButton,size:i.default.Sizes.MAX,onClick:function(){r();_();S(s.UpsellActionTypes.PRIMARY)},color:i.default.Colors.WHITE},void 0,null!=m?m:d.default.Messages.EDUCATION_NEW_FEATURE_TRY_IT),v(i.default,{className:f.default.dismissButton,size:i.default.Sizes.MAX,onClick:function(){r();S(s.UpsellActionTypes.DISMISS)},color:i.default.Colors.BRAND},void 0,d.default.Messages.EDUCATION_NEW_FEATURE_DISMISS)):v(i.default,{className:f.default.confirmButton,size:i.default.Sizes.MAX,onClick:function(){r();S(s.UpsellActionTypes.PRIMARY)},color:i.default.Colors.WHITE
},void 0,d.default.Messages.EDUCATION_NEW_FEATURE_CONFIRM),v("div",{className:f.default.pointer})))}));t.default=y},455002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FeedbackTypePrecedence=t.FeedbackType=t.FeedbackRating=t.FEEDBACK_FREEFORM_LENGTH=void 0;function n(){n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return n.apply(this,arguments)}var r;t.FeedbackRating=r;!function(e){e.BAD="bad";e.NEUTRAL="neutral";e.GOOD="good"}(r||(t.FeedbackRating=r={}));var a;t.FEEDBACK_FREEFORM_LENGTH=1024;t.FeedbackType=a;!function(e){e[e.VOICE=0]="VOICE";e[e.STREAM=1]="STREAM";e[e.VIDEO_BACKGROUND=2]="VIDEO_BACKGROUND";e[e.ACTIVITY=3]="ACTIVITY"}(a||(t.FeedbackType=a={}));var o=[a.VIDEO_BACKGROUND,a.ACTIVITY,a.STREAM,a.VOICE].reduce((function(e,t,r){var a;return n({},e,((a={})[t]=r,a))}),{});t.FeedbackTypePrecedence=o},755540:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(496486)),o=f(n(972247)),i=f(n(177230)),u=n(6505),l=f(n(652566)),s=f(n(893160)),d=n(455002);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v={chance:.2,cooldown:864e5},y=((r={})[d.FeedbackType.VOICE]=p({},v,{hotspot:u.HotspotLocations.VOICE_CALL_FEEDBACK,storageKey:"lastVoiceFeedback",eligibilityChecks:[function(e){if(!s.default.getWasEverRtcConnected())return!0;return s.default.getWasEverMultiParticipant()}]}),r[d.FeedbackType.STREAM]=p({},v,{hotspot:u.HotspotLocations.REPORT_PROBLEM_POST_STREAM}),r[d.FeedbackType.VIDEO_BACKGROUND]=p({},v,{hotspot:u.HotspotLocations.VIDEO_BACKGROUND_FEEDBACK,
storageKey:"lastVideoBackgroundFeedback"}),r[d.FeedbackType.ACTIVITY]={cooldown:0,chance:1,hotspot:u.HotspotLocations.POST_ACTIVITY_FEEDBACK,storageKey:"lastActivityFeedback"},r);function m(e){return l.default.hasHotspot(e.hotspot)}function _(e){return Math.random()<e.chance}function h(e){if(null!=e.storageKey){var t=o.default.get(e.storageKey);if(null!=t&&Date.now()-t<e.cooldown)return!1}return!0}function g(e){var t=y[e];null!=t.storageKey&&o.default.set(t.storageKey,Date.now())}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).feedbackTypeToShow=null;t.showFeedbackModalDebounced=a.default.debounce((function(e){if(null!=t.feedbackTypeToShow){g(t.feedbackTypeToShow);t.feedbackTypeToShow=null;e()}}),200);return t}t.prototype.possiblyShowFeedbackModal=function(e,t){if(function(e){
var t,n=y[e],r=[h,_,m],a=null!==(t=n.eligibilityChecks)&&void 0!==t?t:[];return r.every((function(e){return e(n)}))&&a.every((function(e){return e(n)}))}(e)&&!(null!=this.feedbackTypeToShow&&d.FeedbackTypePrecedence[this.feedbackTypeToShow]<d.FeedbackTypePrecedence[e])){this.feedbackTypeToShow=e;this.showFeedbackModalDebounced(t)}};return t}(i.default);t.default=E},41194:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.shuffleProblems=void 0;var r,a=(r=n(496486))&&r.__esModule?r:{default:r};t.shuffleProblems=function(e,t){var n=a.default.shuffle(e),r=n.findIndex((function(e){return e.value===t}));if(r>-1){var o=n[r];n.splice(r,1);n.push(o)}return n}},697786:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=S(n(667294)),a=g(n(636602)),o=n(747868),i=n(10614),u=g(n(902305)),l=g(n(423046)),s=g(n(644263)),d=g(n(288356)),f=g(n(788739)),c=g(n(893160)),p=g(n(359973)),v=S(n(194322)),y=g(n(755540)),m=n(455002),_=n(770348),h=n(371621);function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))}}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}var A=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}(t,e);function t(){for(var t,a=arguments.length,y=new Array(a),g=0;g<a;g++)y[g]=arguments[g];(t=e.call.apply(e,[this].concat(y))||this).handleVoiceChannelFeedback=function(e){var a=e.analyticsData;t.possiblyShowFeedbackModal(m.FeedbackType.VOICE,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(11956).then(n.bind(n,411956));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return r.createElement(o,O({},e,{analyticsData:a}))}));case 5:case"end":return e.stop()}}),e)}))))}))};t.handleStreamClose=function(e){var a=e.streamKey,u=e.canShowFeedback,s=(0,o.decodeStreamKey)(a),d=(0,i.getStreamerApplication)(s,f.default),c={media_session_id:p.default.getActiveMediaSessionId(),rtc_connection_id:p.default.getActiveRTCConnectionId()};u&&t.possiblyShowFeedbackModal(m.FeedbackType.STREAM,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(20070).then(n.bind(n,20070));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,O({stream:s,streamApplication:d,isStreamer:s.ownerId===l.default.getId()},e,{analyticsData:c}))}));case 5:case"end":return e.stop()}}),e)}))))
}))};t.handleVideoBackgroundShowFeedback=function(e){var a=e.analyticsData;t.possiblyShowFeedbackModal(m.FeedbackType.VIDEO_BACKGROUND,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(95159).then(n.bind(n,995159));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return r.createElement(o,O({},e,{analyticsData:a}))}));case 5:case"end":return e.stop()}}),e)}))))}))};t.handleActivityClose=function(e){var a=e.applicationId,o=e.channelId,i=e.showFeedback,l=d.default.getGame(a),f=s.default.getChannel(o),p={rtc_connection_id:c.default.getRTCConnectionId(),media_session_id:c.default.getMediaSessionId()},y=u.default.getWindowOpen(_.PopoutWindowKeys.CHANNEL_CALL_POPOUT)?h.POPOUT_MODAL_CONTEXT:h.DEFAULT_MODAL_CONTEXT;null!=l&&null!=f&&i&&t.possiblyShowFeedbackModal(m.FeedbackType.ACTIVITY,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){
var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(79020).then(n.bind(n,879020));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,O({},e,{activityApplication:l,channel:f,analyticsData:p}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:y})}))};return t}var y=t.prototype;y._initialize=function(){a.default.subscribe(_.ActionTypes.VOICE_CHANNEL_SHOW_FEEDBACK,this.handleVoiceChannelFeedback);a.default.subscribe(_.ActionTypes.STREAM_CLOSE,this.handleStreamClose);a.default.subscribe(_.ActionTypes.VIDEO_BACKGROUND_SHOW_FEEDBACK,this.handleVideoBackgroundShowFeedback);a.default.subscribe(_.ActionTypes.EMBEDDED_ACTIVITY_CLOSE,this.handleActivityClose)};y._terminate=function(){a.default.unsubscribe(_.ActionTypes.VOICE_CHANNEL_SHOW_FEEDBACK,this.handleVoiceChannelFeedback);a.default.unsubscribe(_.ActionTypes.STREAM_CLOSE,this.handleStreamClose)
;a.default.unsubscribe(_.ActionTypes.VIDEO_BACKGROUND_SHOW_FEEDBACK,this.handleVideoBackgroundShowFeedback);a.default.unsubscribe(_.ActionTypes.EMBEDDED_ACTIVITY_CLOSE,this.handleActivityClose)};return t}(y.default));t.default=A},392110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RatingsSelector=R;t.default=L;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=T(n(294184)),i=T(n(496486)),u=T(n(145371)),l=T(n(956117)),s=T(n(789446)),d=T(n(168391)),f=T(n(16941)),c=T(n(530250)),p=n(645758),v=T(n(39118)),y=n(354479),m=n(688388),_=T(n(942575)),h=T(n(114655)),g=n(3400),E=T(n(550270)),S=n(41194),O=n(455002),b=T(n(247001)),I=T(n(839319));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=[{className:I.default.emojiSad,rating:O.FeedbackRating.BAD},{className:I.default.emojiNeutral,
rating:O.FeedbackRating.NEUTRAL},{className:I.default.emojiHappy,rating:O.FeedbackRating.GOOD}];function R(e){var t=e.className,n=e.selectedRating,r=e.onChangeRating;return N(c.default,{justify:c.default.Justify.BETWEEN,align:c.default.Align.CENTER,className:(0,o.default)(I.default.ratingsSelector,t)},void 0,P.map((function(e){var t=e.rating,a=e.className;return N(f.default,{onClick:function(){return r(t)},"aria-label":t},t,N("div",{className:(0,o.default)(a,n===t?I.default.selected:null)}))})))}R.displayName="RatingsSelector";function w(){return N(p.Text,{className:I.default.helpdeskLink,variant:"text-xs/normal",color:"text-muted"},void 0,b.default.Messages.FEEDBACK_NEED_MORE_HELP.format({helpdeskURL:E.default.getSubmitRequestURL()}))}w.displayName="HelpdeskLink";var D=N(w,{});function L(e){var t=e.header,n=e.body,r=e.problemTitle,o=e.problems,f=e.transitionState,E=e.feedbackProblems,T=void 0===E?[]:E,A=e.otherKey,M=e.onSubmit,P=e.onClose,w=(0,
u.default)(o),L=C(a.useState(!1),2),k=L[0],j=L[1],U=C(a.useState(null),2),G=U[0],F=U[1],x=C(a.useState(null),2),B=x[0],H=x[1],V=C(a.useState(i.default.shuffle(o)),2),W=V[0],Y=V[1],K=C(a.useState(""),2),z=K[0],$=K[1],q=(0,y.useUID)(),Q=(0,_.default)(G),X=(0,_.default)(k),Z=(0,_.default)(B),J=(0,_.default)(M),ee=(0,_.default)(z),te=null!=B&&T.includes(B);a.useEffect((function(){i.default.isEqual(w,o)||Y((0,S.shuffleProblems)(o,A))}),[o,w,A]);a.useEffect((function(){return function(){J.current({rating:Q.current,problem:Z.current,dontShowAgain:X.current,feedback:ee.current})}}),[]);return N(g.ModalRoot,{transitionState:f,className:I.default.modalRoot,"aria-labelledby":q},void 0,N(g.ModalHeader,{separator:!1,className:I.default.headerContainer},void 0,N(h.default,{id:q,className:I.default.header,color:h.default.Colors.CUSTOM,size:h.default.Sizes.SIZE_24},void 0,t),N(p.Text,{variant:"text-md/normal",color:"none",className:I.default.ratingBody},void 0,n),te?null:N(R,{
className:I.default.emojis,selectedRating:G,onChangeRating:function(e){F(e);e===O.FeedbackRating.GOOD&&P()}})),N(g.ModalContent,{className:I.default.content},void 0,null==G||G===O.FeedbackRating.GOOD||te?null:N(m.FormItem,{title:r,className:I.default.problemInfo},void 0,N(d.default,{options:W,onClick:function(e){var t=e.value;H(t);T.includes(t)||P()}})),te?N(m.FormItem,{title:b.default.Messages.FEEDBACK_DESCRIBE_ISSUE,className:I.default.problemInfo},void 0,N(v.default,{value:z,maxLength:O.FEEDBACK_FREEFORM_LENGTH,onChange:$}),D):null),N(g.ModalFooter,{className:I.default.footer,direction:c.default.Direction.HORIZONTAL},void 0,te?a.createElement(a.Fragment,null,N(l.default,{size:l.default.Sizes.SMALL,look:l.default.Looks.LINK,color:l.default.Colors.PRIMARY,onClick:function(){H(null);$("")}},void 0,b.default.Messages.BACK),N(l.default,{size:l.default.Sizes.SMALL,onClick:P},void 0,b.default.Messages.SUBMIT)):N(s.default,{type:s.default.Types.INVERTED,size:18,value:k,onChange:function(){
return j(!k)}},void 0,N(p.Text,{variant:"text-sm/normal"},void 0,b.default.Messages.DONT_SHOW_AGAIN))))}L.displayName="FeedbackModal"},264426:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_FORUM_TEMPLATE_LENGTH=t.MAX_FORUM_TAGS=t.MAX_FORUM_POST_TAGS=t.ForumOnboardingCTAs=t.FORUM_GUIDELINES_ACTION_SHEET=void 0;t.FORUM_GUIDELINES_ACTION_SHEET="forum-guidelines-action-sheet";t.MAX_FORUM_TAGS=20;t.MAX_FORUM_POST_TAGS=5;var n;t.MAX_FORUM_TEMPLATE_LENGTH=256;t.ForumOnboardingCTAs=n;!function(e){e.PERMISSIONS="Permissions";e.GUIDELINES="Guidelines";e.DEFAULT_REACTION="Default Reaction";e.CREATE_POST="Create Post"}(n||(t.ForumOnboardingCTAs=n={}))},475859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(972247)),a=o(n(177230));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}
var u="formGuidelinesStorageKey",l=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).seenForumGuidelines=new Set;return t}var n=t.prototype;n._initialize=function(){var e=r.default.get(u);null!=e&&(this.seenForumGuidelines=new Set(e))};n._terminate=function(){r.default.set(u,this.seenForumGuidelines)};n.markAsSeen=function(e){this.seenForumGuidelines.add(e);r.default.set(u,this.seenForumGuidelines)};n.hasSeen=function(e){return this.seenForumGuidelines.has(e)};n.__getLocalVars=function(){return{FORUM_GUIDELINES_STORAGE_KEY:u}};return t}(a.default));t.default=l},719192:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(636602)),a=l(n(177230)),o=l(n(644263)),i=n(988298),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){
s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(u.ActionTypes.CHANNEL_PRELOAD,this.handleChannelPreload)};n._terminate=function(){r.default.unsubscribe(u.ActionTypes.CHANNEL_PRELOAD,this.handleChannelPreload)};n.handleChannelPreload=function(e){var t=e.channelId,n=o.default.getChannel(t);null!=n&&n.isForumChannel()&&(0,i.preloadForumThreads)(n)};n.__getLocalVars=function(){return{}};return t}(a.default));t.default=d},328798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(645758),o=u(n(417184)),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=s(o.default,{width:14,height:14}),f=function(e,t){return s(a.Text,{color:"text-danger",style:{display:"flex",
gap:"4px",margin:"8px 0 4px 0",alignItems:"center"},variant:"text-sm/normal"},t,d,e)};f.displayName="createPostsDisabledHook";var c={getForumChannelPermissionText:function(){return i.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_TEXT_DISABLED.format({warningHook:f})}};t.default=c},638534:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.canCurrentUserSeeForumChannelUpsell=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=n(923387),o=y(n(636602)),i=y(n(177230)),u=n(844784),l=n(203847),s=y(n(30098)),d=y(n(689389)),f=n(194322),c=n(973523),p=n(770348),v=n(583551);function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var S=function(e,t){var n=(0,
c.getEnableForumPermissions)(e),r=s.default.getGuild(e),o=Boolean(null==r?void 0:r.hasFeature(p.GuildFeatures.COMMUNITY)),i=d.default.can(p.Permissions.MANAGE_CHANNELS,r),u=(0,l.isDismissibleContentDismissed)(a.DismissibleContent.FORUM_CHANNEL_UPSELL_MODAL),f=o&&i;f&&t&&c.GuildForumExperiment.trackExposure({guildId:e});return n&&f&&!u};t.canCurrentUserSeeForumChannelUpsell=function(e){return S(e,!1)};var O=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){o.default.subscribe(p.ActionTypes.CHANNEL_SELECT,this.handleChannelSelect)};i._terminate=function(){o.default.unsubscribe(p.ActionTypes.CHANNEL_SELECT,this.handleChannelSelect)};i.handleChannelSelect=function(e){var t=e.guildId;if(null!=t){if(S(t,!0)){(0,u.trackWithMetadata)(p.AnalyticEvents.OPEN_MODAL,{type:"Forum Channel Upsell Modal"});(0,
l.requestMarkDismissibleContentAsShown)(a.DismissibleContent.FORUM_CHANNEL_UPSELL_MODAL);var o=function(e){void 0===e&&(e=v.ContentDismissActionType.DISMISS);(0,l.markDismissibleContentAsDismissed)(a.DismissibleContent.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:e})};(0,f.openModalLazy)(g(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(83074)]).then(n.bind(n,583074));case 2:a=e.sent;i=a.default;return e.abrupt("return",(function(e){return r.createElement(i,_({},e,{onClose:function(t){o(t);e.onClose()},guildId:t,shouldUpsellCreation:!0}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){return(0,l.markDismissibleContentAsDismissed)(a.DismissibleContent.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:v.ContentDismissActionType.DISMISS})},onCloseRequest:p.NOOP_NULL})}}};i.__getLocalVars=function(){return{isEligibleForForumChannelExperiment:S}};return t
}(i.default));t.default=O},324935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,r=(0,o.useStateFromStores)([y.default],(function(){return y.default.getChannel(t)})),O=(0,o.useStateFromStores)([y.default],(function(){return y.default.getChannel(null==r?void 0:r.parent_id)})),b=(0,o.useStateFromStores)([_.default],(function(){return _.default.getGuild(null==r?void 0:r.getGuildId())})),T=(0,d.default)(r),M=a.useRef(!1);a.useEffect((function(){if(null!=r&&!M.current){M.current=!0;var e=(0,s.collectThreadMetadata)(y.default.getChannel(r.id),!0);(0,s.trackWithMetadata)(g.AnalyticEvents.CHANNEL_OPENED,C({},e,{channel_id:r.id,guild_id:r.guild_id,parent_id:r.parent_id,channel_view:"Split View"}))}}),[r]);if(null==r||null==b)return null;var N=I(v.default,{channel:r});return a.createElement(a.Fragment,null,I(l.default,{channel:r,draftType:m.DraftType.ChannelMessage}),I(h.default,{toolbar:N,
"aria-label":E.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL},void 0,(0,c.renderTitle)({channel:r,parentChannel:O,channelName:T,guild:b,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,A(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,C({},e,{channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){null!=r&&(0,p.transitionToGuild)(r.guild_id,r.id)}})),I("div",{className:S.default.chat},void 0,I(u.default,{channel:r,guild:b,chatInputType:f.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=O(n(914789)),l=O(n(805918)),s=n(844784),d=O(n(678928)),f=n(573285),c=n(451115),p=n(139982),v=O(n(621688)),y=O(n(644263)),m=n(687549),_=O(n(30098)),h=O(n(878556)),g=n(770348),E=O(n(247001)),S=O(n(452159));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}},651473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={fetch:function(){r.default.get(o.Endpoints.FRIEND_SUGGESTIONS).then((function(e){return a.default.dispatch({type:o.ActionTypes.LOAD_FRIEND_SUGGESTIONS_SUCCESS,suggestions:e.body})}),(function(){
return a.default.dispatch({type:o.ActionTypes.LOAD_FRIEND_SUGGESTIONS_FAILURE})}))},ignore:function(e){r.default.delete(o.Endpoints.FRIEND_SUGGESTION(e))}};t.default=u},677520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(496486)),o=f(n(536211)),i=f(n(636602)),u=f(n(759027)),l=f(n(728429)),s=f(n(651473)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var m={},_=0,h=!1,g=!1;function E(e){var t;return{key:e.suggested_user.id,name:null===(t=a.default.first(e.reasons))||void 0===t?void 0:t.name,user:new u.default(e.suggested_user)}}var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e
;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default)};n.getSuggestionCount=function(){return _};n.getSuggestions=function(){return Object.entries(m).map((function(e){var t=c(e,2);t[0];return t[1]}))};n.getSuggestion=function(e){return m[e]};n.__getLocalVars=function(){return{suggestions:m,suggestionCount:_,fetching:h,shouldFetch:g}};return t}(o.default.Store);S.displayName="FriendSuggestionStore";var O=new S(i.default,((r={})[d.ActionTypes.CONNECTION_OPEN]=function(e){m={};if((_=e.friendSuggestionCount)>0){g=!0;!function(){if(!h&&g){h=!0;g=!1;s.default.fetch()}}()}},r[d.ActionTypes.FRIEND_SUGGESTION_CREATE]=function(e){var t,n=E(e.suggestion);if(null!=m[n.key])return!1;_++;m=y({},m,((t={})[n.key]=n,t))},r[d.ActionTypes.FRIEND_SUGGESTION_DELETE]=function(e){_=Math.max(0,--_);delete m[e.suggestedUserId]},r[d.ActionTypes.LOAD_FRIEND_SUGGESTIONS_SUCCESS]=function(e){h=!1
;m=a.default.chain(e.suggestions).map(E).keyBy((function(e){return e.key})).value();_=a.default.keys(m).length},r[d.ActionTypes.LOAD_FRIEND_SUGGESTIONS_FAILURE]=function(){h=!1;m={}},r));t.default=O},344368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(636602)),a=l(n(234161)),o=l(n(791548)),i=l(n(288356)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={};function c(e){var t=e.name,n=e.hash,r=e.missingData;i.default.markGameReported(t);for(var u,l=s(r);!(u=l()).done;){var d=u.value;if("icon"===d){var c=f[t];null!=c&&a.default.uploadIcon(t,n,c);return}new o.default("GameStoreIconManager").log("Could not find missing data key: "+d)}}function p(e){var t=e.gameName,n=e.icon;f[t]=n}var v={initialize:function(){r.default.subscribe(u.ActionTypes.UNVERIFIED_GAME_UPDATE,c);r.default.subscribe(u.ActionTypes.GAME_ICON_UPDATE,p)}};t.default=v},735592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(636602)),a=s(n(234161)),o=n(671694),i=s(n(177230)),u=s(n(191839)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}
function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).handleConnectionOpen=function(){u.default.fetched||(0,o.fetchLibrary)();a.default.getDetectableGames()};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(l.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};n._terminate=function(){r.default.unsubscribe(l.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};n.__getLocalVars=function(){return{}};return t}(i.default));t.default=f},829392:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.checkLaunchableGame=s;t.default=void 0;var r=l(n(636602)),a=l(n(288356)),o=l(n(188023)),i=l(n(703124)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}
function s(e){var t=i.default.launchableGames[e],n=a.default.getGame(e);return(null!=n?o.default.isLaunchable(n):o.default.isGameLaunchable(e)).then((function(n){n!==t&&r.default.dispatch({type:u.ActionTypes.GAME_LAUNCHABLE_UPDATE,gameId:e,isLaunchable:n})}))}function d(e){s(e.gameId)}var f={initialize:function(){r.default.subscribe(u.ActionTypes.CHECK_LAUNCHABLE_GAME,d)}};t.default=f},519386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(446637),a=i(n(191839)),o=i(n(424099));function i(e){return e&&e.__esModule?e:{default:e}}var u={init:function(){a.default.whenInitialized((function(){null!=o.default.testModeApplicationId&&(0,r.authorizeAndSetTestModeApplication)(o.default.testModeApplicationId,o.default.testModeOriginURL)}))}};t.default=u},782950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(636602)),a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(27555)),o=s(n(423046)),i=n(539331),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function d(){if((0,i.isSupportedPlatform)()){var e=o.default.getToken(),t=o.default.getId();if(null==e)throw new Error("missing user token");a.init(e,t)}}function f(){a.destroy()}var c={init:function(){r.default.subscribe(u.ActionTypes.CONNECTION_OPEN,d);r.default.subscribe(u.ActionTypes.LOGOUT,f)}};t.default=c},279235:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-11_instream_gifting",label:"In-stream gifting",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Shows in stream gifting upsell",config:{enabled:!0}}]});t.default=r},58659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=v(n(636602)),o=n(123516),i=v(n(607209)),u=v(n(423046)),l=v(n(644263)),s=v(n(290482)),d=v(n(211136)),f=v(n(359973)),c=n(747868),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=new r.Timeout,h=new r.Timeout,g=null;function E(e,t){var n=l.default.getChannel(e),r=i.default.getActiveStreamForUser(t);if((null==n?void 0:n.isDM())&&d.default.getVoiceChannelId()===e&&null==r){var a=i.default.getStreamForUser(t);if(null==a)return!1;var u=(0,c.encodeStreamKey)(a);if(u===g)return!1;g=u;(0,o.watchStream)(a,{noFocus:!0});return!0}return!1}function S(e,t){var n=null!=t?t:s.default.getPreferredRegion();null!=n&&n!==s.default.getRegion(f.default.getHostname())&&(0,o.changeStreamRegion)(e,n)}var O={
init:function(){var e=function(e){f.default.getAllActiveStreamKeys().includes(e)||h.start(5e3,(function(){a.default.dispatch({type:p.ActionTypes.STREAM_TIMED_OUT,streamKey:e})}))};a.default.subscribe(p.ActionTypes.STREAM_WATCH,(function(t){var n=t.streamKey;e(n)}));a.default.subscribe(p.ActionTypes.STREAM_START,(function(t){var n=t.streamType,r=t.guildId,a=t.channelId;e((0,c.encodeStreamKey)({streamType:n,guildId:r,channelId:a,ownerId:u.default.getId()}))}));a.default.subscribe(p.ActionTypes.STREAM_CREATE,(function(){h.stop()}));a.default.subscribe(p.ActionTypes.STREAM_UPDATE,(function(){h.stop()}));a.default.subscribe(p.ActionTypes.STREAM_DELETE,(function(){h.stop()}));a.default.subscribe(p.ActionTypes.STREAM_CLOSE,(function(){_.stop();h.stop()}));a.default.subscribe(p.ActionTypes.VOICE_CHANNEL_SELECT,(function(e){var t=e.channelId;if(null!=t){g=null;var n=i.default.getAllApplicationStreamsForChannel(t).filter((function(e){return e.ownerId!==u.default.getId()}))[0]
;null!=n&&E(t,n.ownerId)}}));a.default.subscribe(p.ActionTypes.VOICE_STATE_UPDATES,(function(e){e.voiceStates.forEach((function(e){var t=e.userId,n=e.channelId,r=e.selfStream;if(t!==u.default.getId()&&null!=n){if(r&&E(n,t))return;var a=i.default.getActiveStreamForUser(t);if(null!=a&&a.channelId===n){r||a.state===p.ApplicationStreamStates.ENDED||_.start(18e4,(function(){return(0,o.closeStream)((0,c.encodeStreamKey)(a),!1)}));if(r&&a.state===p.ApplicationStreamStates.ENDED){_.stop();var l=i.default.getStreamForUser(t);if(null==l)return;(0,o.watchStream)(l)}}}}))}));a.default.subscribe(p.ActionTypes.CALL_UPDATE,(function(e){var t=e.channelId,n=e.region,r=i.default.getActiveStreamForUser(u.default.getId());(null==r?void 0:r.channelId)===t&&S((0,c.encodeStreamKey)(r),n)}));a.default.subscribe(p.ActionTypes.CHANNEL_UPDATES,(function(e){var t=e.updates,n=i.default.getActiveStreamForUser(u.default.getId());if(null!=n)for(var r,a=y(t);!(r=a()).done;){var o=r.value
;n.channelId===o.channel.id&&S((0,c.encodeStreamKey)(n),o.channel.rtcRegion)}}))}};t.default=O},910333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,u.getMaxQuality)(e),n=e.stream.ownerId;return(0,r.useStateFromStores)([i.default,o.default,a.default],(function(){return null!=n?(0,l.default)(i.default.getQuality(),i.default.getStatsHistory(n,n===a.default.getId()),null!=o.default.getHookError(s.MediaEngineHookTypes.SOUND),t):null}),[t,n])};var r=n(536211),a=d(n(423046)),o=d(n(438567)),i=d(n(359973)),u=n(143369),l=d(n(571425)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}},939790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SUPPORTED_HARDWARE_ACCEL_VENDORS=void 0;t.default=function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var a=r[t],o=e[a];if(null!=o&&null==o.error&&n.has(a))return!0}return!1};var n=new Set(["nvidia"]);t.SUPPORTED_HARDWARE_ACCEL_VENDORS=n},925013:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,i){if(e.state===a.ApplicationStreamStates.ENDED||e.state===a.ApplicationStreamStates.FAILED)return null;if(e.state===a.ApplicationStreamStates.RECONNECTING)return{mainText:o.default.Messages.STREAM_RECONNECTING_ERROR,supportingText:o.default.Messages.STREAM_RECONNECTING_ERROR_SUBTEXT};if(e.state===a.ApplicationStreamStates.PAUSED)return n?{mainText:o.default.Messages.STREAM_CAPTURE_PAUSED,supportingText:o.default.Messages.STREAM_CAPTURE_PAUSED_DETAILS}:{mainText:o.default.Messages.STREAM_CAPTURE_PAUSED,supportingText:o.default.Messages.STREAM_CAPTURE_PAUSED_DETAILS_VIEWER.format({username:r.default.getName(e.guildId,e.channelId,t)})};if(i)return{mainText:o.default.Messages.STREAM_PREVIEW_PAUSED,supportingText:o.default.Messages.STREAM_PREVIEW_PAUSED_SUBTEXT};return null};var r=i(n(29652)),a=n(770348),o=i(n(247001));function i(e){return e&&e.__esModule?e:{default:e}}},571425:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,r){if(n)return c(u.default.Messages.STREAM_SOUNDSHARE_FAILED,s.SOUNDSHARE_FAILED);if(null!=t){var a=f(t,5),o=f(t,30);if(o.numDatapoints>=5){var l;return null!==(l=p(a,null==r?void 0:r.maxFrameRate))&&void 0!==l?l:p(o,null==r?void 0:r.maxFrameRate)}}if(e===i.RTCConnectionQuality.BAD)return c(u.default.Messages.STREAM_NETWORK_QUALITY_ERROR,s.BAD_CONNECTION);return null};var r,a=n(862728),o=n(71246),i=n(770348),u=(r=n(247001))&&r.__esModule?r:{default:r};function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s;!function(e){e.PACKET_LOSS="Packet Loss";e.FRAME_RATE_INPUT="Frame Rate Encode";e.FRAME_RATE_NETWORK="Frame Rate Decode";e.SOUNDSHARE_FAILED="Soundshare Failed";e.BAD_CONNECTION="Bad Connection"}(s||(s={}));function d(e){void 0===e&&(e=30)
;return e<=5?3:e<=15?10:15}function f(e,t){var n={packetsSentOrReceived:0,packetsLost:0,packetLossRate:0,frameRate:0,resolution:0,numDatapoints:0},r=e.slice(-1*t).filter(o.isNotNullish);if(0===r.length)return l({type:"streamer"},n);r.forEach((function(e,t,r){n.packetsSentOrReceived+=t>0?r[t].packetsSentOrReceived-r[t-1].packetsSentOrReceived:0;n.packetsLost+=t>0?r[t].packetsLost-r[t-1].packetsLost:0;n.frameRate+=e.frameRate;n.resolution+=e.resolution}));var a=r[0].type,i=r.length;return{type:a,packetsSentOrReceived:n.packetsSentOrReceived,packetsLost:n.packetsLost,packetLossRate:n.packetsLost/(n.packetsLost+n.packetsSentOrReceived),frameRate:n.frameRate/i,resolution:n.resolution/i,numDatapoints:i}}var c=(0,a.cachedFunction)((function(e,t){return{message:e,errorType:t}}));function p(e,t){if("streamer"===e.type){if(100*e.packetLossRate>10)return c(u.default.Messages.STREAM_BAD_STREAMER,s.PACKET_LOSS);if(e.frameRate<=d(t))return c(u.default.Messages.STREAM_BAD_STREAMER,s.FRAME_RATE_INPUT)
}else{if(100*e.packetLossRate>10)return c(u.default.Messages.STREAM_BAD_SPECTATOR,s.PACKET_LOSS);if(e.frameRate<=d(t))return c(u.default.Messages.STREAM_BAD_SPECTATOR,s.FRAME_RATE_NETWORK)}return null}},729136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.REQUIRED_DRIVER_VERSIONS_BY_PLATFORM=void 0;t.default=function(e){var t=u[(0,i.getPlatform)()];if(null==t)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n],l=e[a],s=t[a];if(null!=l&&null!=s&&null==l.error){var d=(c=void 0,p=void 0,(null!==(c=(f=l).major)&&void 0!==c?c:0)+"."+(null!==(p=f.minor)&&void 0!==p?p:0)+".0");if(!o.default.satisfies(d,s))return!0}}var f,c,p;return!1};var r,a,o=(r=n(236625))&&r.__esModule?r:{default:r},i=n(864489);var u=((a={})[i.PlatformTypes.WINDOWS]={nvidia:">=397.93.0"},a);t.REQUIRED_DRIVER_VERSIONS_BY_PLATFORM=u},100223:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=O(n(667294)),a=n(496486),o=E(n(636602)),i=E(n(740207)),u=n(123516),l=n(894826),s=E(n(607209)),d=E(n(423046)),f=E(n(311492)),c=E(n(893160)),p=E(n(728429)),v=O(n(194322)),y=E(n(58659)),m=n(747868),_=E(n(908921)),h=n(739898),g=n(770348);function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))}}var T=(0,a.debounce)(u.notifyStreamStart,1e3),A={init:function(){y.default.init();o.default.subscribe(g.ActionTypes.MEDIA_ENGINE_VIDEO_STATE_CHANGED,(function(e){var t=e.videoState,n=s.default.getActiveStreamForUser(d.default.getId());if(null!=n){var r=t===g.MediaEngineVideoStates.PAUSED;(0,u.setStreamPaused)(n,r)}}));o.default.subscribe(g.ActionTypes.STREAM_DELETE,(function(e){if(e.reason===g.ApplicationStreamDeleteReasons.STREAM_FULL){(0,u.closeStream)(e.streamKey,!1);v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(26495)]).then(n.bind(n,126495));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":
return e.stop()}}),e)}))))}}));o.default.subscribe(g.ActionTypes.STREAM_WATCH,(function(e){var t=e.streamKey;if(!e.allowMultiple){var n=(0,m.decodeStreamKey)(t);s.default.getAllActiveStreams().forEach((function(e){if(e.ownerId!==n.ownerId&&e.ownerId!==d.default.getId()){e.ownerId===d.default.getId()&&i.default.setDesktopSource({sourceId:null});(0,u.closeStream)((0,m.encodeStreamKey)(e),!1)}}))}}));o.default.subscribe(g.ActionTypes.VOICE_STATE_UPDATES,(function(e){e.voiceStates.forEach((function(e){if(e.userId===d.default.getId()){var t=s.default.getAllActiveStreams(),n=c.default.getChannelId();t.forEach((function(e){e.channelId!==n&&(0,_.default)(e,!1)}))}}))}));o.default.subscribe(g.ActionTypes.STREAM_CREATE,(function(e){var t,n=e.streamKey,r=(0,m.decodeStreamKey)(n),a=r.ownerId,o=r.guildId;if(null!=o&&null!=a&&a===(null===(t=p.default.getCurrentUser())||void 0===t?void 0:t.id)){var i=f.default.getMemberCount(o)
;null==i||i<2||i>h.STREAM_NOTIFY_GUILD_MAX_SIZE||l.NotifyFriendsOnGoLive.getSetting()&&T(n)}}))}};t.default=A},57697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=H(n(667294)),o=x(n(294184)),i=n(248088),u=n(425916),l=n(536211),s=n(556470),d=n(836233),f=x(n(954140)),c=x(n(37039)),p=n(6505),v=x(n(655205)),y=x(n(715419)),m=x(n(711195)),_=x(n(728429)),h=x(n(956117)),g=x(n(16941)),E=x(n(160629)),S=n(645758),O=x(n(730977)),b=x(n(447522)),I=x(n(41024)),T=x(n(436081)),A=x(n(114655)),C=n(194322),M=n(598671),N=H(n(528175)),P=x(n(308920)),R=x(n(838583)),w=n(143369),D=x(n(279235)),L=x(n(910333)),k=n(770348),j=n(265517),U=x(n(247001)),G=x(n(214156)),F=x(n(592551));function x(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function H(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function K(){K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return K.apply(this,arguments)}function z(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){z(o,r,a,i,u,"next",e)}function u(e){z(o,r,a,i,u,"throw",e)}i(void 0)}))}}var q=(0,u.cssValueToNumber)(F.default.borderRadius),Q={opacity:0,transform:"translate3d(100%, 0, 0)"},X={opacity:1,transform:"translate3d(0%, 0, 0)"},Z={opacity:0},J={opacity:1},ee={borderRadius:q+"px "+q+"px "+q+"px "+q+"px"},te={borderRadius:"0px "+q+"px "+q+"px 0px"},ne={mass:1,tension:500,friction:18,clamp:!0},re=function(e){var t,r,i=e.participant,u=e.isUpsellEnabled,d=e.shape,f=e.size,p=e.didTrackUpsellViewed,v=e.setDidTrackUpsellViewed,y=e.inStreamGiftingEnabled,m=e.handleGiftingCheckout,h=e.className,E=(0,w.getMaxQuality)(i),S=(0,c.default)().analyticsLocations,b=null!=(0,L.default)(i);try{t=(0,w.isPremiumFPS)(E)}catch(e){t=!1}try{r=(0,
w.isPremiumResolution)(E)}catch(e){r=!1}var T=t||r,A=(0,s.useAnalyticsContext)().location,D=(0,l.useStateFromStores)([_.default],(function(){return _.default.getCurrentUser()})),F=u&&!R.default.isPremium(D,k.PremiumTypes.TIER_1),x=a.useCallback((function(){F&&T&&(0,C.openModalLazy)($(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(21438).then(n.bind(n,421438));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,K({},e,{analyticsSource:A}))}));case 5:case"end":return e.stop()}}),e)}))))}),[F,T,A]);a.useEffect((function(){if(!p&&T){P.default.track(k.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:j.PremiumUpsellTypes.STREAM_QUALITY_INDICATOR,has_premium_stream_fps:t,has_premium_stream_resolution:r,location_stack:S});v(!0)}}),[t,r,T,p,v,S]);if(null==E)return null;var B=Y(O.default,{
text:y?null:b?U.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_REDUCED:T?U.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_PREMIUM:U.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_NORMAL,position:O.default.Positions.BOTTOM,color:O.default.Colors.GREY},void 0,(function(e){var t;return a.createElement(g.default,K({},e,{onClick:y?m:x,className:(0,o.default)(G.default.qualityIndicator,f,N.LiveIndicatorShapes[d],b?G.default.qualityIndicatorLowQuality:G.default.qualityIndicatorFullQuality,(t={},t[G.default.clickable]=F&&T||y,t))}),T?Y(I.default,{className:G.default.premiumStreamIcon}):null,Y("span",{className:G.default.qualityResolution},void 0,(0,w.getResolutionText)(E.maxResolution)),Y("span",{},void 0,(0,w.getFPSText)(E.maxFrameRate)))}));return Y(M.TextBadge,{text:B,className:(0,o.default)(h,G.default.qualityIndicatorBadge),color:k.Colors.PRIMARY_DARK_500,shape:d})};re.displayName="StreamQualityIndicator";var ae=function(e){
var t=e.participant,n=e.showQuality,r=e.isUpsellEnabled,u=void 0===r||r,s=e.size,O=e.className,C=V(a.useState(!1),2),L=C[0],F=C[1],x=V(a.useState(!1),2),B=x[0],H=x[1],W=V(a.useState(!1),2),z=W[0],$=W[1],q=(0,c.default)(f.default.STREAM_QUALITY_INDICATOR).analyticsLocations,ae=(0,w.getMaxQuality)(t),oe=a.useContext(d.AccessibilityPreferencesContext).reducedMotion,ie=n&&null!=ae,ue=D.default.useExperiment({}).enabled,le=(0,l.useStateFromStores)([_.default],(function(){return _.default.getCurrentUser()}));a.useEffect((function(){(0,m.default)(t.stream.ownerId,t.user.getAvatarURL(t.stream.guildId,80),{dispatchWait:!0})}),[t]);var se=(0,l.useStateFromStores)([y.default],(function(){return y.default.getUserProfile(t.stream.ownerId)}),[t.stream.ownerId]),de=R.default.isPremium(le)&&null!=se&&null==se.premiumSince;a.useEffect((function(){u&&de&&D.default.trackExposure({})}),[u,de]);var fe=u&&ue&&de,ce=ie&&fe&&p.HotspotStore.hasHotspot(p.HotspotLocations.IN_STREAM_GIFTING_UPSELL),pe=(0,
i.useTransition)(ie,{enter:{from:oe.enabled?Z:Q,to:oe.enabled?J:X},leave:oe.enabled?Z:Q,config:ne}),ve=(0,i.useSpring)({to:ie?te:ee,config:ne}),ye=V(a.useState(!1),2),me=ye[0],_e=ye[1],he=V(a.useState(0),2),ge=he[0],Ee=he[1],Se=function(e){clearTimeout(ge);Ee(setTimeout((function(){_e(e)}),100))};if(fe&&!B){P.default.track(k.AnalyticEvents.PREMIUM_GIFT_UPSELL_VIEWED,{type:j.PremiumUpsellTypes.STREAM_QUALITY_INDICATOR,location_section:k.AnalyticsSections.STREAM_QUALITY_INDICATOR,location_object_type:k.AnalyticsObjectTypes.GIFT,location_object:k.AnalyticsObjects.BUTTON_ICON,location_stack:q});H(!0)}var Oe=function(e){be();(0,v.default)({isGift:!0,giftMessage:U.default.Messages.PREMIUM_PAYMENT_IS_GIFT_STREAM_QUALITY_UPSELL,initialPlanId:null,subscriptionTier:k.PremiumSubscriptionSKUs.TIER_2,analyticsLocations:q,analyticsObject:{section:k.AnalyticsSections.STREAM_QUALITY_INDICATOR,object:e,objectType:k.AnalyticsObjectTypes.GIFT}})},be=function(){(0,
p.hideHotspot)(p.HotspotLocations.IN_STREAM_GIFTING_UPSELL)},Ie=function(e){var n=e.className,r=e.popoutProps;return a.createElement("div",K({className:(0,o.default)(G.default.streamQualityIndicator,n)},r),fe?Y(g.default,{onClick:function(){return Oe(k.AnalyticsObjects.BUTTON_ICON)},className:(0,o.default)(G.default.qualityIndicator,G.default.clickable)},void 0,Y(b.default,{className:G.default.giftIcon})):null,pe((function(e,n){return n?Y(i.animated.div,{style:e},void 0,Y(re,{className:G.default.liveQualityIndicator,participant:t,size:s,shape:M.BadgeShapes.ROUND_LEFT,isUpsellEnabled:u,didTrackUpsellViewed:L,setDidTrackUpsellViewed:F,inStreamGiftingEnabled:fe,handleGiftingCheckout:function(){return Oe(k.AnalyticsObjects.BUTTON_ICON)}})):null})),Y(i.animated.div,{style:ve,className:G.default.liveIndicator},void 0,Y(N.default,{look:N.LiveIndicatorLooks.RED,size:s,shape:ie?M.BadgeShapes.ROUND_RIGHT:M.BadgeShapes.ROUND})))};return ce?Y("div",{className:(0,
o.default)(O,G.default.qualityIndicatorHighlightWrapper),onMouseEnter:function(){return Se(!0)},onMouseLeave:function(){return Se(!1)}},void 0,Y(E.default,{shouldShow:me,animation:E.default.Animation.NONE,position:E.default.Positions.BOTTOM,align:E.default.Align.CENTER,autoInvert:!1,onRequestClose:function(){return _e(!1)},renderPopout:function(){if(!z){P.default.track(k.AnalyticEvents.TOOLTIP_VIEWED,{type:j.PremiumUpsellTypes.GIFT_STREAM_QUALITY_INDICATOR,location_section:k.AnalyticsSections.STREAM_QUALITY_INDICATOR,location_object_type:k.AnalyticsObjectTypes.GIFT,location_object:k.AnalyticsObjects.TOOLTIP});$(!0)}return Y("div",{className:G.default.streamGiftingPopout},void 0,Y("div",{className:G.default.streamGiftingPopoutHeader},void 0,Y(I.default,{className:G.default.premiumStreamIconLarge}),Y(T.default,{size:T.default.Sizes.SIZE_14,color:A.default.Colors.HEADER_PRIMARY},void 0,U.default.Messages.SCREENSHARE_STREAM_GIFTING_HEADER)),Y(S.Text,{
className:G.default.streamGiftingPopoutText,variant:"text-md/normal",color:"header-primary"},void 0,U.default.Messages.SCREENSHARE_STREAM_GIFTING_BODY),Y("div",{className:G.default.streamGiftingPopoutCTA},void 0,Y(h.default,{onClick:be,size:h.default.Sizes.SMALL},void 0,U.default.Messages.SCREENSHARE_STREAM_GIFTING_DISMISS),Y(h.default,{className:G.default.streamGiftingPopoutButton,innerClassName:G.default.giftButton,onClick:function(){return Oe(k.AnalyticsObjects.TOOLTIP)},size:h.default.Sizes.SMALL,color:h.default.Colors.WHITE},void 0,Y(b.default,{className:G.default.giftIconBrand}),Y(S.Text,{className:G.default.streamGiftingPopoutButtonText,variant:"text-sm/normal"},void 0,U.default.Messages.SCREENSHARE_STREAM_GIFTING_CTA))))}},void 0,(function(e){return Ie({popoutProps:e})}))):Ie({className:O})};t.default=ae},587840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=f(n(536211)),o=f(n(636602)),i=n(864489),u=f(n(922629)),l=f(n(939790)),s=f(n(729136)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=!1,y=!0;var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e=this;i.isPlatformEmbedded&&!__OVERLAY__&&u.default.getGPUDriverVersions().then((function(t){v=(0,s.default)(t);y=(0,l.default)(t);e.emitChange()}))};n.getState=function(){return{GPUDriversOutdated:v,canUseHardwareAcceleration:y}};n.__getLocalVars=function(){return{GPUDriversOutdated:v,canUseHardwareAcceleration:y}};!function(e,t,n){t&&c(e.prototype,t)
;n&&c(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"GPUDriversOutdated",get:function(){return v}},{key:"canUseHardwareAcceleration",get:function(){return y}}]);return t}(a.default.Store);m.displayName="StreamingCapabilitiesStore";var _=new m(o.default,((r={})[d.ActionTypes.OVERLAY_INITIALIZE]=function(e){var t=e.streamingCapabilitiesStoreState;v=t.GPUDriversOutdated;y=t.canUseHardwareAcceleration},r));t.default=_},937196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){void 0===e&&(e=!0);var t=f.default.getCurrentUser();if(!(0,v.default)(u.default))return!1;if(null!=t&&null!=a.default.getActiveStreamForUser(t.id))return!1;var n=(0,y.default)(s.default,c.default);if(null==n)return!1;if(n.isLauncher&&!e)return!1;var m=d.default.getVoiceChannelId(),_=o.default.getChannel(m);if(null==_)return!1;var h=_.getGuildId();if(!(0,p.canStreamInChannel)(_,i.default,l.default,!1))return!1;(0,r.startStream)(h,_.id,{pid:n.pid});return!0}
;var r=n(123516),a=m(n(607209)),o=m(n(644263)),i=m(n(30098)),u=m(n(635014)),l=m(n(689389)),s=m(n(834162)),d=m(n(211136)),f=m(n(728429)),c=m(n(765287)),p=n(385753),v=m(n(379310)),y=m(n(343898));function m(e){return e&&e.__esModule?e:{default:e}}},460703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildPrompts=void 0;var r;var a=(0,((r=n(213192))&&r.__esModule?r:{default:r}).default)({REAL_NAME_PROMPT:null});t.GuildPrompts=a},780815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useGuildHeaderPopoutStore=t.showGuildHeaderPopout=void 0;var r,a=(r=n(219548))&&r.__esModule?r:{default:r};var o=Object.freeze({isPopoutOpen:!1}),i=(0,a.default)((function(e){return o}));t.showGuildHeaderPopout=function(e){i.setState((function(){return{isPopoutOpen:e}}))};var u=i;t.useGuildHeaderPopoutStore=u},689626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.viewPrompt=i
;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);function i(e,t){a.default.wait((function(){a.default.dispatch({type:o.ActionTypes.GUILD_PROMPT_VIEWED,prompt:e,guildId:t})}))}var u={viewPrompt:i};t.default=u},81026:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={};var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){for(var t in e){var n=e[t];s[t]=new Set(n)}};n.hasViewedPrompt=function(e,t){var n=s[t];return null!=n&&!!n.has(e)};n.getState=function(){return s};n.__getLocalVars=function(){return{viewedPrompts:s}};return t}(a.default.PersistedStore);d.displayName="GuildPromptsStore"
;d.persistKey="GuildPromptsStore";var f=new d(o.default,((r={})[i.ActionTypes.GUILD_PROMPT_VIEWED]=function(e){var t=e.prompt,n=e.guildId,r=s[n];if(null==r){s[n]=new Set;s[n].add(t);return!0}if(r.has(t))return!1;r.add(t);return!0},r[i.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild;if(null==s[t.id]||t.unavailable)return!1;delete s[t.id];return!0},r));t.default=f},967523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.useStateFromStores)([o.default],(function(){var t;return null!==(t=o.default.getChannels(e)[o.GUILD_SELECTABLE_CHANNELS_KEY])&&void 0!==t?t:[]}),[e]);return 0===t.length?0:t.filter((function(e){var t=e.channel;return i.default.can(r.default.combine(u.Permissions.SEND_MESSAGES,u.Permissions.VIEW_CHANNEL),t)})).length};var r=s(n(267258)),a=n(536211),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(517286)),i=s(n(689389)),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}},754452:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=v(n(444693)),o=v(n(964285)),i=v(n(142024)),u=n(645758),l=v(n(164654)),s=v(n(628551)),d=n(914001),f=n(770348),c=v(n(247001)),p=v(n(894011));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){var e=(0,d.getAutomodAvatarURL)();return m("div",{},void 0,m(s.default,{src:e,size:s.default.Sizes.SIZE_40,
"aria-label":c.default.Messages.GUILD_AUTOMOD_USERNAME}))}_.displayName="AutomodAvatar";var h=m(_,{});function g(e){var t=e.guildId,n=e.onDismissed;return m(i.default,{header:c.default.Messages.GUILD_AUTOMOD_UPSELL_HEADER,content:c.default.Messages.GUILD_AUTOMOD_UPSELL_CONTENT.format(),asset:m("div",{className:p.default.container},void 0,m("div",{className:p.default.card},void 0,h,m("div",{className:p.default.content},void 0,m("div",{className:p.default.name},void 0,m(u.Text,{variant:"text-sm/semibold",color:"text-brand"},void 0,c.default.Messages.GUILD_AUTOMOD_UPSELL_ASSET_HEADER),m(l.default,{width:16,height:16,color:a.default.LINK,className:p.default.shield})),m("div",{className:p.default.spoiler})))),buttonCTA:c.default.Messages.GUILD_AUTOMOD_UPSELL_CTA,onClick:function(){n();o.default.open(t,f.GuildSettingsSections.GUILD_AUTOMOD)},secondaryButtonCTA:c.default.Messages.GUILD_AUTOMOD_UPSELL_DISMISSAL,onSecondaryClick:function(){},markAsDismissed:n})}
g.displayName="GuildAutomodUpsellTooltip"},232207:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a,o=c(n(667294)),i=c(n(145122)),u=n(194322),l=n(770348),s=n(474477),d=(r=n(247001))&&r.__esModule?r:{default:r};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e){var t=e.guildBoostSlot,r=e.onClose,a=e.hasCancelableGuildBoostSlot,f=e.premiumSubscription,c=e.onSelect;var y=f.status===l.SubscriptionStatusTypes.PAST_DUE;return p(i.default,{onSelect:c,
navId:"subscription-context",style:i.MenuStyle.FIXED,"aria-label":d.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:r},void 0,p(i.MenuItem,{id:"apply",label:null!=t.premiumGuildSubscription?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_BUTTON:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SELECT_SERVER_BUTTON,subtext:t.isOnCooldown()?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_BUTTON_DISABLED_TOOLTIP:null,action:function(){(0,u.openModalLazy)(m(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(58579),n.e(99431),n.e(95289)]).then(n.bind(n,195289));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return o.createElement(a,v({},e,{guildBoostSlots:[t],locationSection:l.AnalyticsSections.SETTINGS_PREMIUM}))}));case 5:case"end":return e.stop()}}),e)}))))},disabled:t.isOnCooldown()}),t.canceled?p(i.MenuItem,{id:"uncancel",
label:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_UNCANCEL_BUTTON,subtext:y?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_PAST_DUE_TOOLTIP:null,action:function(){(0,u.openModalLazy)(m(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(82188)]).then(n.bind(n,282188));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return o.createElement(a,v({},e,{guildBoostSlotId:t.id}))}));case 5:case"end":return e.stop()}}),e)}))))},disabled:y}):p(i.MenuItem,{id:"cancel",label:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_CANCEL_BUTTON,subtext:a?y?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_PAST_DUE_TOOLTIP:null:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_TOOLTIP,action:function(){(0,u.openModalLazy)(m(regeneratorRuntime.mark((function e(){var r,a
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(58579),n.e(8906)]).then(n.bind(n,908906));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return o.createElement(a,v({},e,{guildBoostSlot:t}))}));case 5:case"end":return e.stop()}}),e)}))))},disabled:!a||y,color:s.MenuItemColor.DANGER}))}_.displayName="GuildBoostSlotPopout"},843675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,u.useStateFromStores)([v.default],(function(){return v.default.getPremiumTypeSubscription()})),t=(0,u.useStateFromStores)([p.default],(function(){return p.default.boostSlots})),n=(0,i.default)(t).filter((function(e){return e.isAvailable()})).value(),r=(0,i.default)(t).groupBy((function(e){var t=e.premiumGuildSubscription;return null!=t?t.guildId:x})).value(),o=r[0],l=Object.keys(r).filter((function(e){return e!==x}));if(0===l.length&&null==o||null==e)return null
;var s=(0,i.default)(t).filter((function(e){return!e.canceled})).value().length,d=N.default.getNumIncludedPremiumGuildSubscriptionSlots(e.planId),f=s>d;return a.createElement(a.Fragment,null,G(S.Text,{variant:"text-sm/normal",className:k.default.blurb},void 0,L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBTITLE.format({helpdeskArticle:M.default.getArticleURL(D.HelpdeskArticles.GUILD_SUBSCRIPTIONS)})),null!=o?G(Y,{guildId:x,guildBoostSlots:o,premiumSubscription:e,availableGuildBoostSlots:n,hasCancelableGuildBoostSlot:f}):null,l.length>0?a.createElement(a.Fragment,null,G(h.Heading,{variant:"heading-sm/medium",className:k.default.subSectionHeader,level:3},void 0,L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_ACTIVE_TITLE),l.map((function(t){return G(Y,{guildId:t,guildBoostSlots:r[t],premiumSubscription:e,availableGuildBoostSlots:n,hasCancelableGuildBoostSlot:f},t)}))):null)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=j(n(294184)),i=j(n(496486)),u=n(536211),l=n(264720),s=j(n(683767)),d=j(n(37039)),f=n(95034),c=j(n(30098)),p=j(n(890535)),v=j(n(146771)),y=j(n(151097)),m=j(n(16941)),_=j(n(380439)),h=n(772575),g=j(n(160629)),E=j(n(638707)),S=n(645758),O=j(n(782732)),b=j(n(301927)),I=j(n(417184)),T=n(308920),A=j(n(692711)),C=n(682937),M=j(n(550270)),N=j(n(838583)),P=j(n(71636)),R=j(n(232207)),w=n(796274),D=n(770348),L=j(n(247001)),k=j(n(193655));function j(e){return e&&e.__esModule?e:{default:e}}function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(U=function(e){return e?n:t})(e)}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(){F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return F.apply(this,arguments)}var x="0";function B(e){var t=e.deadline,n=(0,s.default)(t,1e3),r=n.days,o=n.hours,i=n.minutes;return a.createElement(a.Fragment,null,L.default.Messages.PREMIUM_GUILD_COOLDOWN_AVAILABLE_COUNTDOWN.format({days:r,hours:o,minutes:i}))}function H(e){
var t=e.guild,n=e.guildBoostSlots,r=e.availableGuildBoostSlots,o=a.useContext(T.AnalyticsContext),i=(0,d.default)().analyticsLocations,u=t.premiumSubscriberCount,s=n.sort((function(e,t){return Number(null!=e.premiumGuildSubscription?e.premiumGuildSubscription.id:0)-Number(null!=t.premiumGuildSubscription?t.premiumGuildSubscription.id:0)}))[0];if(null==s)return null;var c=null!=s.premiumGuildSubscription?P.default.extractTimestamp(s.premiumGuildSubscription.id):0,p=(0,C.getAppliedGuildBoostMonths)(c);var v=null!=t.banner?A.default.getGuildBannerURL(t):null;return G("div",{className:k.default.guildHeader},void 0,G("div",{className:k.default.guildHeaderBackground,style:{backgroundImage:null!=v?"url("+v+")":void 0}}),G(_.default,{guild:t,className:k.default.guildIcon}),G("div",{className:k.default.guildHeaderContent},void 0,G(h.Heading,{variant:"heading-md/medium",className:k.default.guildName,level:3},void 0,t.name),G(S.Text,{variant:"text-xs/normal",
className:k.default.guildSubscriptionDuration},void 0,L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_DURATION.format({months:p,date:new Date(c)})),G(S.Text,{variant:"text-xs/normal",className:k.default.guildSubscriberCount},void 0,G(O.default,{className:k.default.guildSubscriberCountIcon}),G("div",{},void 0,L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:n.length})),0!==r.length?G(y.default,{onClick:function(){if(0!==r.length){var e=F({},o.location,{section:D.AnalyticsSections.SETTINGS_PREMIUM});(0,w.addAppliedGuildBoosts)({analyticsLocations:i,analyticsLocation:e,guild:t})}},className:k.default.guildSubscribeButton},void 0,L.default.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_SUBSCRIBE_THIS_SERVER):null)),G("div",{className:k.default.guildGemIndicatorContainer},void 0,G(m.default,{onClick:function(){(0,f.transitionToGuild)(t.id);(0,l.popLayer)()}},void 0,G(E.default,{className:k.default.gemIndicator,subscriberCount:u,guildId:t.id}))))}
H.displayName="BoostingTargetGuildHeader";var V=G(b.default,{});function W(e){var t,n=e.guildBoostSlot,r=e.premiumSubscription,i=e.hasCancelableGuildBoostSlot,u=null!=n.cooldownEndsAt?new Date(n.cooldownEndsAt):null,l=null!=u&&u>new Date,s=null!=n.premiumGuildSubscription?new Date(P.default.extractTimestamp(n.premiumGuildSubscription.id)):null,d=n.canceled;var f=d?I.default:O.default;return G("div",{className:k.default.guildSubscriptionSlot},void 0,G(f,{className:(0,o.default)(k.default.guildSubscriptionSlotIcon,(t={},t[k.default.guildSubscriptionSlotIconCanceled]=d,t))}),G("div",{className:k.default.guildSubscriptionSlotContent},void 0,G(S.Text,{variant:"text-sm/normal",className:k.default.guildSubscriptionCreationDate},void 0,null!=s?L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CREATION_DATE.format({date:s}):L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UNUSED_SLOT_DESCRIPTION),G(S.Text,{variant:"text-xs/normal",color:"text-muted"},void 0,l&&null!=u?G(B,{deadline:u.getTime()
}):null,l&&d?" • ":null,d?L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_PENDING_CANCELATION.format({date:r.currentPeriodEnd}):null)),G(g.default,{renderPopout:function(e){var t=e.closePopout;return G(R.default,{onClose:t,guildBoostSlot:n,premiumSubscription:r,hasCancelableGuildBoostSlot:i})},position:g.default.Positions.RIGHT,align:g.default.Align.CENTER},void 0,(function(e){return a.createElement(m.default,F({},e,{"aria-label":L.default.Messages.MORE_OPTIONS,className:k.default.guildSubscriptionSlotMenuIcon}),V)})))}W.displayName="GuildBoostSlot";function Y(e){var t=e.guildId,n=e.guildBoostSlots,r=e.premiumSubscription,a=e.availableGuildBoostSlots,o=e.hasCancelableGuildBoostSlot,i=(0,u.useStateFromStores)([c.default],(function(){return t!==x?c.default.getGuild(t):null}));return null==i&&t!==x?null:G("div",{className:k.default.guild},void 0,null!=i?G(H,{guild:i,guildBoostSlots:n,availableGuildBoostSlots:a}):null,G("div",{className:k.default.guildSubscriptionSlots
},void 0,n.map((function(e){return G(W,{guildBoostSlot:e,premiumSubscription:r,hasCancelableGuildBoostSlot:o},e.id)}))))}Y.displayName="BoostingTargetGuild"},408692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=y(n(964285)),u=y(n(956117)),l=y(n(16941)),s=y(n(259530)),d=y(n(308920)),f=n(682937),c=n(770348),p=y(n(247001)),v=y(n(258771));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.guild,n=e.appliedGuildBoosts,r=t.id;a.useEffect((function(){d.default.track(c.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:c.ChannelNoticeTypes.GUILD_BOOSTING_GRACE_PERIOD,guild_id:r})}),[r]);return null==n||(0,f.appliedGuildBoostsRequiredForPerks)(n,r)<=0?null:_("div",{className:v.default.channelNotice},void 0,_(l.default,{onClick:function(){(0,o.hidePremiumGuildGracePeriodNotice)(r)},className:v.default.close,"aria-label":p.default.Messages.DISMISS},void 0,_(s.default,{
className:v.default.closeIcon})),_("div",{className:v.default.message},void 0,p.default.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE),_(u.default,{fullWidth:!0,color:u.default.Colors.PRIMARY,size:u.default.Sizes.SMALL,onClick:function(){d.default.track(c.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED,{source:c.ChannelNoticeCtaSources.GRACE_PERIOD_NOTICE,guild_id:r,notice_type:c.ChannelNoticeTypes.GUILD_BOOSTING_GRACE_PERIOD});i.default.open(r,c.GuildSettingsSections.GUILD_PREMIUM)},className:v.default.checkStatusButton},void 0,p.default.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE_BUTTON))};h.displayName="AppliedGuildBoostGracePeriodNotice";var g=h;t.default=g},578628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=p(n(954140)),o=p(n(37039)),i=p(n(918667)),u=p(n(58941)),l=n(682937),s=n(770348),d=n(665984),f=p(n(247001)),c=p(n(484771));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){
var t=e.guild,n=e.markAsDismissed,r=(0,l.getNumberOfAppliedBoostsNeededForTier)(t,s.BoostedGuildTiers.TIER_2),p=(0,o.default)(a.default.GUILD_BANNER_NOTICE).analyticsLocations;return y(i.default,{guild:t,onDismissed:n,cta:f.default.Messages.GUILD_BANNER_NOTICE_CTA,message:f.default.Messages.GUILD_BANNER_NOTICE.format({boostsNeeded:r}),type:s.ChannelNoticeTypes.GUILD_BANNER,image:c.default,onClick:function(){return(0,u.default)({analyticsLocations:p,analyticsSourceLocation:{section:s.AnalyticsSections.CHANNEL_NOTICE,object:s.AnalyticsObjects.SERVER_BANNER_TOOLTIP},guild:t,perks:(0,d.guildBannerUpsellPerks)()})},imageMarginTop:15,imageMarginX:22})}m.displayName="GuildBannerNotice"},559759:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(536211)),i=c(n(918667)),u=n(75639),l=c(n(311492)),s=n(770348),d=c(n(247001)),f=c(n(727869));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null
}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleButtonClick=function(){var e=t.props.guild;(0,u.openGuildBoostingMarketingModal)({guildId:e.id,location:{section:s.AnalyticsSections.CHANNEL_NOTICE,object:s.AnalyticsObjects.SERVER_STATUS_CTA}})};return t}t.prototype.render=function(){var e=this.props,t=e.guild,n=e.memberCount,r=e.markAsDismissed,a=null==n||n<s.SMALL_GUILD_MEMBER_THRESHOLD;return v(i.default,{guild:t,onDismissed:r,onClick:this.handleButtonClick,message:a?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_SMALL_GUILD:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE,cta:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_BUTTON,
trackingSource:s.ChannelNoticeCtaSources.GUILD_SUBSCRIPTION_NOTICE,type:s.ChannelNoticeTypes.GUILD_BOOSTING,image:f.default,imageMarginX:26})};return t}(a.PureComponent);m.displayName="GuildBoostingNotice";var _=o.default.connectStores([l.default],(function(e){var t=e.guild;return{memberCount:l.default.getMemberCount(t.id)}}))(m);t.default=_},873113:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(636602)),a=d(n(177230)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(876874)),i=d(n(728429)),u=n(457676),l=n(770348);function s(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}var p=null,v=function(){var e=o.default.getCommunicationDisabledUserMap();Object.keys(e).forEach((function(t){var n=t,r=(0,o.getGuildIdFromCommunicationDisabledUserKey)(n),a=(0,o.getUserIdFromCommunicationDisabledUserKey)(n),i=e[n];(0,u.isCommunicationDisabled)(i)||y(r,a)}))},y=function(e,t){var n,a,s,d,f,p,v,y,m,_=o.default.getMember(e,t),h=i.default.getUser(t);if(null!=_&&null!=h&&!(0,u.isMemberCommunicationDisabled)(_)){var g=c({},_,{guildId:e,nick:null!==(n=_.nick)&&void 0!==n?n:h.username,
avatar:null!==(a=_.avatar)&&void 0!==a?a:void 0,banner:null!==(s=_.banner)&&void 0!==s?s:void 0,bio:null!==(d=_.bio)&&void 0!==d?d:void 0,premiumSince:null!==(f=_.premiumSince)&&void 0!==f?f:void 0,isPending:null!==(p=_.isPending)&&void 0!==p&&p,user:c({},h,{email:null!==(v=h.email)&&void 0!==v?v:void 0,phone:null!==(y=h.phone)&&void 0!==y?y:void 0,banner:null!==(m=h.banner)&&void 0!==m?m:void 0}),communicationDisabledUntil:null});r.default.dispatch(c({type:l.ActionTypes.GUILD_MEMBER_UPDATE},g))}},m=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).clearGuildMemberTimeout=y;return t}var n=t.prototype;n._initialize=function(){p=setInterval((function(){return v()}),1e4)};n._terminate=function(){clearInterval(p)};n.__getLocalVars=function(){return{COMMUNICATION_DISABLED_INTERVAL_MS:1e4,
communicationDisabledIntervalRef:p,_checkAllGuildMemberTimeouts:v,clearGuildMemberTimeout:y}};return t}(a.default));t.default=m},646832:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useCommunicationDisabledCountdownCleanup=function(e){var t=null!=e?e:{},n=t.communicationDisabledUntil,i=t.userId,u=t.guildId,l=(0,a.default)(null!=n?Date.parse(n):Date.now()),s=l.seconds,d=(0,r.useRef)(null);(0,r.useEffect)((function(){if(null!=e&&null!=u&&null!=i){s<=0&&null==d.current&&(d.current=setTimeout((function(){o.default.clearGuildMemberTimeout(u,i)}),1e3));return function(){if(null!=d.current){clearTimeout(d.current);d.current=null}}}clearTimeout(d.current)}),[u,i,s,n,e]);return l};var r=n(667294),a=i(n(683767)),o=i(n(873113));function i(e){return e&&e.__esModule?e:{default:e}}},62017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CommunicationDisabledBanner=O;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(960736),i=_(n(423046)),u=_(n(876874)),l=_(n(240469)),s=n(645758),d=_(n(769752)),f=n(646832),c=n(576458),p=_(n(257917)),v=n(397769),y=_(n(247001)),m=_(n(146615));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.guild,n=e.disabledUntil,r=E((0,c.useCommunicationDisabledNoticeStore)(t.id),2),_=r[0],h=r[1],S=(0,a.useStateFromStores)([u.default,i.default],(function(){return u.default.getMember(t.id,i.default.getId())}),[t.id]);(0,f.useCommunicationDisabledCountdownCleanup)(S);return g("div",{},void 0,_?g(p.default,{onClose:function(){return h(t.id)},guildName:t.name}):null,g(o.MessageNoticeBanner,{bannerIcon:g(d.default,{className:m.default.bannerIcon}),bannerHeader:y.default.Messages.GUILD_COMMUNICATION_DISABLED_NOTICE_HEADER,bannerSubtext:y.default.Messages.GUILD_COMMUNICATION_DISABLED_CHAT_NOTICE_DESCRIPTION.format({link:v.GUILD_COMMUNICATION_DISABLED_RESOURCE_LINK}),
containerStyles:m.default.bannerContainer,headerStyles:m.default.bannerHeader},void 0,g(s.Text,{variant:"text-sm/semibold"},void 0,g(l.default,{deadline:new Date(n),showUnits:!0,stopAtOneSec:!0}))))}O.displayName="CommunicationDisabledBanner"},257917:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(956117)),o=n(772575),i=n(645758),u=d(n(769752)),l=d(n(247001)),s=d(n(430294));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.onClose,n=e.guildName;return c("div",{className:s.default.container},void 0,c("div",{className:s.default.iconContainer},void 0,c(u.default,{className:s.default.icon,width:20,height:20})),c("div",{className:s.default.header},void 0,c(o.Heading,{variant:"heading-md/medium",className:s.default.headerText,level:3},void 0,l.default.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_HEADER),c(i.Text,{variant:"text-sm/normal"
},void 0,l.default.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_SUBHEADER.format({guildName:n})),c(a.default,{onClick:t,className:s.default.button},void 0,l.default.Messages.OKAY)))}p.displayName="CommunicationDisabledPopout"},742965:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.featureGuildFeedItem=function(e,t,n){return R.apply(this,arguments)};t.fetchGuildFeed=function(e){return C.apply(this,arguments)};t.fetchGuildFeedFeaturedItems=function(e){return P.apply(this,arguments)};t.hideItemFromGuildFeed=function(e,t){return N.apply(this,arguments)};t.markGuildFeedItemAsSeen=function(e,t,n){l.default.dirtyDispatch({type:h.ActionTypes.GUILD_FEED_ITEM_SEEN,guildId:e,itemId:t,timestampMillis:n})};t.markGuildFeedItemAsUnseen=function(e,t,n){l.default.dirtyDispatch({type:h.ActionTypes.GUILD_FEED_ITEM_UNSEEN,guildId:e,itemId:t,timestampMillis:n})};t.removeItemFromGuildFeed=function(e){return M.apply(this,arguments)};t.sendFeedShownAnalytics=function(e){
c.default.track(h.AnalyticEvents.FEED_SHOWN,{guild_id:e,load_id:v.default.getLoadId(e),home_session_id:d.default.getHomeSessionId(e)})};t.setFeedItemPreference=function(e,t){return L.apply(this,arguments)};t.unfeatureGuildFeedItem=function(e){return w.apply(this,arguments)};t.unhideItemFromGuildFeed=function(e,t){return D.apply(this,arguments)};var r=E(n(496486)),a=n(177661),o=n(582972),i=n(789666),u=E(n(118915)),l=E(n(636602)),s=E(n(568681)),d=E(n(173101)),f=E(n(290629)),c=E(n(308920)),p=n(71246),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(968078)),y=E(n(4024)),m=E(n(676509)),_=n(124042),h=n(770348);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e){return e&&e.__esModule?e:{default:e}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}function I(e,t){return t.map((function(t){return v.default.getItem(e,t)})).filter((function(e){return null!=(null==e?void 0:e.message)&&!f.default.isBlocked(e.message.author.id)})).filter(p.isNotNullish).map((function(e){return(0,
m.default)(e)}))}function T(e){var t=e.guildId,n=e.loadTime,r=e.startHomeSessionId,a=e.page,o=e.newUnreadFeedItemIds,i=e.newReadFeedItemIds;c.default.track(h.AnalyticEvents.FEED_LOADED,{guild_id:t,load_id:v.default.getLoadId(t),unread_feed_item_ids:I(t,o),read_feed_item_ids:I(t,i),load_time_millis:n,home_session_id:d.default.getHomeSessionId(t),start_home_session_id:r,page:a})}function A(e,t){var n=t.results.items.filter((function(e){return e.type===a.GuildFeedItemTypes.FORUM_POST}));n.length>0&&l.default.dispatch({type:h.ActionTypes.LOAD_THREADS_SUCCESS,threads:n.map((function(e){return e.thread})),firstMessages:n.map((function(e){return e.message})),guildId:e})}function C(){return(C=b(regeneratorRuntime.mark((function e(t){var n,a,o,i,f,c,p,y,m,g,E,O,b,I,C,M,N,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.guildId,a=t.refresh,o=t.flushSeenItems,i=t.highlightedItemData;f=Date.now();c=v.default.getPaginationStatus(n),p=c.offset;y=a||null==p||0===p
;l.default.dispatch({type:y?h.ActionTypes.GUILD_FEED_FETCH_FRESH_START:h.ActionTypes.GUILD_FEED_FETCH_PAGE_START,guildId:n});m=d.default.getHomeSessionId(n);e.prev=6;e.next=9;return null==o?void 0:o();case 9:g=S({limit:v.GUILD_FEED_FETCH_LIMIT,offset:y?0:p,load_id:y?null:v.default.getLoadId(n)},null!=i&&y&&{highlight_channel_id:i.channelId,highlight_message_id:i.messageId});e.next=12;return u.default.get({url:h.Endpoints.GUILD_FEED(n),query:g});case 12:E=e.sent;O=E.body;b=v.default.getFeedItemSection(n,_.GuildFeedSectionTypes.READ).map((function(e){return e.id}));I=v.default.getFeedItemSection(n,_.GuildFeedSectionTypes.UNREAD).map((function(e){return e.id}));l.default.dispatch({type:h.ActionTypes.GUILD_FEED_FETCH_SUCCESS,guildId:n,data:O,fresh:y});C=v.default.getFeedItemSection(n,_.GuildFeedSectionTypes.READ).map((function(e){return e.id}));M=v.default.getFeedItemSection(n,_.GuildFeedSectionTypes.UNREAD).map((function(e){return e.id}));N=Date.now()-f
;P=(null!=p?p:0)/v.GUILD_FEED_FETCH_LIMIT;T({guildId:n,loadTime:N,startHomeSessionId:m,page:P,newReadFeedItemIds:r.default.difference(C,b),newUnreadFeedItemIds:r.default.difference(M,I)});A(n,O);e.next=29;break;case 25:e.prev=25;e.t0=e.catch(6);l.default.dispatch({type:h.ActionTypes.GUILD_FEED_FETCH_FAILURE,guildId:n,error:new s.default(e.t0)});throw e.t0;case 29:case"end":return e.stop()}}),e,null,[[6,25]])})))).apply(this,arguments)}function M(){return(M=b(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return u.default.post({url:h.Endpoints.GUILD_FEED_MESSAGE_REMOVE(t.message.channel_id,t.message.id)});case 2:n=e.sent;l.default.dispatch({type:h.ActionTypes.GUILD_FEED_ITEM_REMOVE,item:t});return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=b(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return u.default.put({url:h.Endpoints.GUILD_FEED_MESSAGE_SET_PREFERENCE(n),body:{channel_id:t.message.channel_id,message_id:t.message.id,load_id:v.default.getLoadId(n),preference:i.GuildFeedPreferenceOptions.HIDDEN,entity_type:o.GuildFeedPreferenceEntityTypes.MESSAGE}});case 2:r=e.sent;l.default.dispatch({type:h.ActionTypes.GUILD_FEED_ITEM_HIDE,item:t});return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=b(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return u.default.get({url:h.Endpoints.GUILD_FEED_FEATURE_ITEM(t)});case 3:n=e.sent;r=n.body;l.default.dispatch({type:h.ActionTypes.GUILD_FEED_FEATURED_ITEMS_FETCH_SUCCESS,guildId:t,data:r});e.next=12;break;case 8:e.prev=8;e.t0=e.catch(0);l.default.dispatch({type:h.ActionTypes.GUILD_FEED_FEATURED_ITEMS_FETCH_FAILURE,guildId:t,
error:new s.default(e.t0)});throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function R(){return(R=b(regeneratorRuntime.mark((function e(t,n,r){var a,o,i,s,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(0,y.default)(t),o=a.entityId,i=a.details,s=a.guildId,d=a.entityType;e.prev=1;e.next=4;return u.default.put({url:h.Endpoints.GUILD_FEED_FEATURE_ITEM(s),body:{entity_id:o,entity_type:d,expires_at:n,details:i}});case 4:f=e.sent;l.default.dispatch({type:h.ActionTypes.GUILD_FEED_FEATURE_ITEM,featureableItem:t,options:r});return e.abrupt("return",f);case 9:e.prev=9;e.t0=e.catch(1);throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function w(){return(w=b(regeneratorRuntime.mark((function e(t){var n,r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,y.default)(t),r=n.entityId,a=n.guildId,o=n.entityType;e.prev=1;e.next=4
;return u.default.delete({url:h.Endpoints.GUILD_FEED_FEATURE_ITEM(a),body:{entity_id:r,entity_type:o}});case 4:i=e.sent;l.default.dispatch({type:h.ActionTypes.GUILD_FEED_UNFEATURE_ITEM,featureableItem:t});return e.abrupt("return",i);case 9:e.prev=9;e.t0=e.catch(1);throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function D(){return(D=b(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return u.default.delete({url:h.Endpoints.GUILD_FEED_MESSAGE_SET_PREFERENCE(n),body:{channel_id:t.message.channel_id,message_id:t.message.id,load_id:v.default.getLoadId(n),entity_type:o.GuildFeedPreferenceEntityTypes.MESSAGE}});case 2:r=e.sent;l.default.dispatch({type:h.ActionTypes.GUILD_FEED_ITEM_UNHIDE,item:t});return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=b(regeneratorRuntime.mark((function e(t,n){var r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return u.default.put({url:h.Endpoints.GUILD_FEED_MESSAGE_SET_PREFERENCE(t),body:S({},n,{load_id:v.default.getLoadId(t),preference:i.GuildFeedPreferenceOptions.DEMOTED})});case 2:r=e.sent;return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},922748:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=v(n(636602)),a=v(n(177230)),o=v(n(173101)),i=v(n(423046)),u=v(n(211136)),l=v(n(790597)),s=v(n(308920)),d=v(n(968078)),f=n(124042),c=n(770348),p=n(173652);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var m=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){
r.default.subscribe(c.ActionTypes.MESSAGE_REACTION_ADD,this.handleReaction);r.default.subscribe(c.ActionTypes.MESSAGE_REACTION_REMOVE,this.handleReaction);r.default.subscribe(c.ActionTypes.SIDEBAR_VIEW_THREAD,this.handleSidebarViewThread)};n._terminate=function(){r.default.unsubscribe(c.ActionTypes.MESSAGE_REACTION_ADD,this.handleReaction);r.default.unsubscribe(c.ActionTypes.MESSAGE_REACTION_REMOVE,this.handleReaction);r.default.unsubscribe(c.ActionTypes.SIDEBAR_VIEW_THREAD,this.handleSidebarViewThread)};n.handleReaction=function(e){var t=e.type,n=e.userId,r=e.messageId,a=e.optimistic;if(n===i.default.getId()&&a){var v=l.default.getGuildId();if(null!=v){var y=u.default.getChannelId();if((0,p.isGuildHomeChannel)(y)){var m=d.default.getItemForMessageId(v,r);null!=m&&null!=m.message&&s.default.track(c.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:m.type,load_id:d.default.getLoadId(v),
action_type:t===c.ActionTypes.MESSAGE_REACTION_ADD?f.FeedItemInteractionType.REACTION_ADDED:f.FeedItemInteractionType.REACTION_REMOVED,guild_id:v,channel_id:m.message.channel_id,message_id:m.message.id,home_session_id:o.default.getHomeSessionId(v)})}}}};n.handleSidebarViewThread=function(e){var t=e.channelId,n=e.baseChannelId;if((0,p.isGuildHomeChannel)(n)){var r=l.default.getGuildId();if(null!=r){var a=d.default.getItemForMessageId(r,t);null!=a&&null!=a.message&&s.default.track(c.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:a.type,load_id:d.default.getLoadId(r),action_type:f.FeedItemInteractionType.THREAD_EMBED_CLICKED,guild_id:r,channel_id:a.message.channel_id,message_id:a.message.id,home_session_id:o.default.getHomeSessionId(r)})}}};n.__getLocalVars=function(){return{}};return t}(a.default));t.default=m},741645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ForceFlushType=void 0
;var r=s(n(441143)),a=s(n(118915)),o=s(n(636602)),i=s(n(308920)),u=n(676509),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{
done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v;function y(e,t){for(var n,a=0,o=[],i=c(e);!(n=i()).done;){var u=n.value;null==u.endTimeMillis?t?a+=Date.now()-u.startTimeMillis:o.push(u):a+=u.endTimeMillis-u.startTimeMillis}(0,r.default)(o.length<2,"there should only be a single left over data");return{additionalSeenTimeMillis:Math.round(a),leftOverData:o}}function m(e){var t=e.guildId,n=e.loadId,r=e.homeSessionId,o=e.seenData,s=e.force,d={};for(var f in o){var c=y(o[f],s),p=c.additionalSeenTimeMillis,v=c.leftOverData;p>0&&(d[f]={additionalSeenTimeMillis:p});o[f]=v}if(0===Object.keys(d).length)return Promise.resolve();var m=[],_=[],h=[];for(var g in d){m.push(g);_.push(d[g].additionalSeenTimeMillis);d[g].additionalSeenTimeMillis>=1500&&h.push(g)}
i.default.track(l.AnalyticEvents.FEED_ITEM_SEEN_BATCH,{guild_id:t,load_id:n,feed_item_ids:m,additional_seen_time_millis:_,home_session_id:r});return a.default.post({url:l.Endpoints.GUILD_FEED_MARK_SEEN(t),body:{item_ids:h.map((function(e){return(0,u.getSnowflakeFromGuildFeedItemId)(e)}))}})}t.ForceFlushType=v;!function(e){e[e.FORCE=0]="FORCE";e[e.IMMEDIATE=1]="IMMEDIATE"}(v||(t.ForceFlushType=v={}));t.default=function(e,t,n){var r=this;this.maybeFlushSeenItems=function(e){var t=r.guildId,n=r.loadId,a=r.seenData,o=r.homeSessionId;if(null==n||null==o)return Promise.resolve();if(null==e&&Date.now()-r.lastFlushTimeMillis<6e4)return Promise.resolve();r.lastFlushTimeMillis=Date.now();var i={guildId:t,loadId:n,seenData:a,force:null!=e,homeSessionId:o};return e===v.IMMEDIATE?m(i):new Promise((function(e){setTimeout(f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return m(i);case 2:e();case 3:case"end":
return t.stop()}}),t)}))),100)}))};this.getItemSeenDataList=function(e){null==r.seenData[e]&&(r.seenData[e]=[]);return r.seenData[e]};this.getLastSeenData=function(e){if(null!=e&&0!==e.length)return e[e.length-1]};this.initialize=function(){o.default.subscribe(l.ActionTypes.GUILD_FEED_ITEM_SEEN,r.handleSeen);o.default.subscribe(l.ActionTypes.GUILD_FEED_ITEM_UNSEEN,r.handleUnseen);o.default.subscribe(l.ActionTypes.APP_STATE_UPDATE,r.handleAppStateUpdate)};this.terminate=function(){o.default.unsubscribe(l.ActionTypes.GUILD_FEED_ITEM_SEEN,r.handleSeen);o.default.unsubscribe(l.ActionTypes.GUILD_FEED_ITEM_UNSEEN,r.handleUnseen);o.default.unsubscribe(l.ActionTypes.APP_STATE_UPDATE,r.handleAppStateUpdate);r.maybeFlushSeenItems(v.FORCE)};this.handleSeen=function(e){var t=e.guildId,n=e.itemId,a=e.timestampMillis;if(t===r.guildId){var o=r.getItemSeenDataList(n),i=r.getLastSeenData(o);if(null==i||null!=i.endTimeMillis){o.push({startTimeMillis:a});r.paused&&r.pausedItemIds.add(n)}}}
;this.handleUnseen=function(e){var t=e.guildId,n=e.itemId,a=e.timestampMillis;if(t===r.guildId){var o=r.getItemSeenDataList(n),i=r.getLastSeenData(o);if(null!=i&&null==i.endTimeMillis){i.endTimeMillis=a;r.paused&&r.pausedItemIds.delete(n);r.maybeFlushSeenItems()}}};this.handleAppStateUpdate=function(e){var t=e.state;"active"===t&&r.isFocused&&r.resume(r.guildId);if("background"===t){r.isFocused&&r.pause(r.guildId);r.maybeFlushSeenItems(v.FORCE)}};this.clearPausedItemIds=function(){r.pausedItemIds=new Set;r.paused=!1};this.getSeenItemIds=function(){var e=new Set;for(var t in r.seenData){var n=r.getItemSeenDataList(t),a=r.getLastSeenData(n);null!=a&&null!=a.startTimeMillis&&null==a.endTimeMillis&&e.add(t)}return e};this.pause=function(e){if(e===r.guildId){if(!r.paused){r.paused=!0;var t=r.getSeenItemIds();t.forEach((function(t){r.handleUnseen({guildId:e,itemId:t,timestampMillis:Date.now(),type:"GUILD_FEED_ITEM_UNSEEN"})}));r.pausedItemIds=t}}else r.clearPausedItemIds()}
;this.resume=function(e){if(e===r.guildId){if(r.paused){r.paused=!1;r.pausedItemIds.forEach((function(t){r.handleSeen({guildId:e,itemId:t,timestampMillis:Date.now(),type:"GUILD_FEED_ITEM_SEEN"})}));r.clearPausedItemIds()}}else r.clearPausedItemIds()};this.handleFocus=function(e,t){r.isFocused=e;r.isFocused?r.resume(t):r.pause(t)};this.guildId=e;this.loadId=t;this.homeSessionId=n;this.seenData={};this.lastFlushTimeMillis=Date.now();this.paused=!1;this.pausedItemIds=new Set;this.isFocused=!0}},397898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.channelId,s=e.messageId,d=e.feedItemType,f=e.onChannelClick,c=e.onContentClick;return{handleMessageClick:function(e){e.stopPropagation();o.default.track(l.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:d,load_id:i.default.getLoadId(t),action_type:u.FeedItemInteractionType.MESSAGE_CLICKED,guild_id:t,channel_id:n,message_id:s,home_session_id:a.default.getHomeSessionId(t)});c()
},handleChannelClick:function(e){e.stopPropagation();o.default.track(l.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:d,load_id:i.default.getLoadId(t),action_type:u.FeedItemInteractionType.MESSAGE_CHANNEL_CLICKED,guild_id:t,channel_id:n,message_id:s,home_session_id:a.default.getHomeSessionId(t)});f()},handleCardClick:function(e,f,c){for(var p=e.target;(0,r.isElement)(p);){var v,y;if(p===f)break;var m=null!==(v=null===(y=p.getAttribute("data-role"))||void 0===y?void 0:y.toUpperCase())&&void 0!==v?v:p.tagName;if("A"===m){o.default.track(l.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:d,load_id:i.default.getLoadId(t),action_type:u.FeedItemInteractionType.LINK_CLICKED,guild_id:t,channel_id:n,message_id:s,home_session_id:a.default.getHomeSessionId(t)});return}if("IMG"===m){o.default.track(l.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:d,load_id:i.default.getLoadId(t),action_type:u.FeedItemInteractionType.IMAGE_CLICKED,guild_id:t,channel_id:n,message_id:s,
home_session_id:a.default.getHomeSessionId(t)});return}if("BUTTON"===m||"button"===p.getAttribute("role")){o.default.track(l.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:d,load_id:i.default.getLoadId(t),action_type:u.FeedItemInteractionType.BUTTON_CLICKED,guild_id:t,channel_id:n,message_id:s,home_session_id:a.default.getHomeSessionId(t)});return}p=p.parentNode}null==c||c()}}};var r=n(659779),a=s(n(173101)),o=s(n(308920)),i=s(n(968078)),u=n(124042),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}},389666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.highlightedItemData,u=(0,a.useStateFromStores)([i.default],(function(){return i.default.getFetchStatus(t)}),[t]),l=u.loading,s=u.error,c=r.useCallback((function(e){var r=e.force,a=e.flushSeenItems;f(t,null!=r&&r)&&function(){i.apply(this,arguments)}();function i(){return(i=d(regeneratorRuntime.mark((function e(){
return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return(0,o.fetchGuildFeed)({guildId:t,flushSeenItems:a,refresh:!0,highlightedItemData:n});case 3:e.next=8;break;case 5:e.prev=5;e.t0=e.catch(0);console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}}),[t,n]),p=r.useCallback((function(){f(t,!0)&&function(){e.apply(this,arguments)}();function e(){return(e=d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return(0,o.fetchGuildFeed)({guildId:t,refresh:!1});case 3:e.next=8;break;case 5:e.prev=5;e.t0=e.catch(0);console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}}),[t]);r.useEffect((function(){c({force:null!=n})}),[c,n]);return{fetchFresh:c,fetchPage:p,loading:l,error:s}};t.shouldFetchGuildFeed=f;var r=l(n(667294)),a=n(536211),o=n(742965),i=l(n(968078));function u(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function f(e,t){var n=i.default.getLastFetchedMillis(e)
;return!(!t&&null!=n&&Date.now()-n<72e5)&&i.default.getFetchStatus(e).loading===i.LoadingStatus.NONE}},47186:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(294184)),o=s(n(244165)),i=s(n(16941)),u=s(n(617493)),l=["className","children","ariaLabel","onContextMenu","onCardClick","onItemClick","listItemProps","itemId","selected"];function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){
return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=r.forwardRef((function(e,t){var n,s=e.className,d=e.children,p=e.ariaLabel,v=e.onContextMenu,y=e.onCardClick,m=e.onItemClick,_=e.listItemProps,h=e.itemId,g=e.selected,E=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),S=c((0,o.default)(t),2),O=S[0],b=S[1],I=r.useRef(null);return r.createElement("div",f({ref:b,className:(0,a.default)(u.default.card,u.default.interactiveCard,(n={},n[u.default.selected]=g,n),s),"data-item-id":h,onContextMenu:v,onClick:function(e){return null==y?void 0:y(e,O.current,(function(){var e,t;return null===(e=I.current)||void 0===e||null===(t=e.click)||void 0===t?void 0:t.call(e)}))}
},E),r.createElement(i.default,f({className:u.default.clickableTarget,innerRef:I,"aria-label":p,onClick:m},_)),d)}));t.default=v},952572:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(177661),i=n(536211),u=n(71246),l=n(742965),s=p(n(968078)),d=p(n(876859)),f=p(n(582652)),c=p(n(963481));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function _(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){for(var r,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n);!(r=a()).done;){var o=r.value,i=o.target.dataset.itemId;if(null==i)return;var u=Date.now();o.intersectionRatio>=t?(0,
l.markGuildFeedItemAsSeen)(e,i,u):(0,l.markGuildFeedItemAsUnseen)(e,i,u)}}var E=a.memo((function(e){var t=e.guildId,n=e.itemId,r=e.scrollerHeight,p=e.scrollerRef,v=m((0,i.useStateFromStoresArray)([s.default],(function(){return[s.default.getItem(t,n),s.default.getIsItemHiding(t,n),s.default.getIsItemHidden(t,n)]})),3),_=v[0],h=v[1],E=v[2],S=a.useRef(null);a.useEffect((function(){var e,a=S.current;if(null!=a&&null!=r){var o=a.clientHeight,i=null===(e=p.current)||void 0===e?void 0:e.getScrollerNode();if(null!=i){var u=Math.min(.5,.5*r/o),s=new IntersectionObserver((function(e){return g(t,u,e)}),{root:i,rootMargin:"0px 100000px 0px 100000px",threshold:u});s.observe(a);return function(){s.disconnect()}}}else(0,l.markGuildFeedItemAsUnseen)(t,n,Date.now())}),[n,t,p,r,h,E]);if(null==_||E)return null;if(h)return y(d.default,{guildId:t,feedItem:_});switch(_.type){case o.GuildFeedItemTypes.FORUM_POST:return a.createElement(c.default,{ref:S,guildId:t,postItem:_});case o.GuildFeedItemTypes.MESSAGE:
return a.createElement(f.default,{ref:S,guildId:t,messageItem:_});default:(0,u.assertNever)(_)}}));t.default=E},388884:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(25121));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t,n=e.children,r=e.hideBorder;return l("div",{className:(0,a.default)(o.default.feedItemHeader,(t={},t[o.default.hideBorder]=r,t))},void 0,n)}s.displayName="GuildFeedItemHeader"},876859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=R;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(393356),i=n(582972),u=n(536211),l=T(n(678928)),s=n(341186),d=T(n(644263)),f=T(n(876874)),c=T(n(290629)),p=T(n(728429)),v=T(n(956117)),y=T(n(16941)),m=n(645758),_=T(n(549998)),h=T(n(420303)),g=T(n(29652)),E=n(742965),S=T(n(47186)),O=T(n(388884)),b=T(n(247001)),I=T(n(469887));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function P(e){var t=e.guildId,n=e.feedItem,r=e.onSendFeedback,a=n.message.channel_id,o=(0,u.useStateFromStores)([d.default],(function(){return d.default.getChannel(a)})),v=(0,l.default)(o),h=(0,s.getChannelIconComponent)(o),S=(0,u.useStateFromStores)([p.default],(function(){return p.default.getUser(n.message.author.id)})),O=(0,u.useStateFromStores)([d.default,f.default,c.default],(function(){return g.default.getName(t,a,S)})),T=function(e){(0,E.setFeedItemPreference)(t,e);r()};return N("div",{className:I.default.options},void 0,N(y.default,{className:I.default.option,onClick:function(){return T({channel_id:a,message_id:n.message.id,entity_type:i.GuildFeedPreferenceEntityTypes.MESSAGE})}},void 0,N(m.Text,{variant:"text-md/normal",color:"interactive-active"},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_NO_LIKE)),N(y.default,{className:I.default.option,onClick:function(){return T({channel_id:a,entity_type:i.GuildFeedPreferenceEntityTypes.CHANNEL})}},void 0,N(m.Text,{
variant:"text-md/normal",color:"interactive-active"},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_SHOW_LESS_CHANNEL.format({channelName:v,channelNameHook:function(e,t){return N("span",{},t,null!=h&&N(h,{className:I.default.mentionIcon,width:20,height:20})," ",e)}}))),N(y.default,{className:I.default.option,onClick:function(){return T({user_id:n.message.author.id,entity_type:i.GuildFeedPreferenceEntityTypes.USER})}},void 0,N(m.Text,{variant:"text-md/normal",color:"interactive-active"},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_SHOW_LESS_USER.format({username:O,usernameHook:function(e,t){return N("span",{},t,N(_.default,{className:I.default.mentionIcon,width:20,height:20})," ",e)}}))))}P.displayName="GuildFeedItemFeedbackOptions";function R(e){var t=e.guildId,n=e.feedItem,r=C(a.useState(!1),2),i=r[0],u=r[1],l=(0,o.useListItem)(n.message.id);return N(S.default,{ariaLabel:b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM,listItemProps:l
},void 0,N(O.default,{hideBorder:i},void 0,N(h.default,{className:I.default.icon,width:16,height:16,foregroundColor:"currentColor"}),i?N("div",{className:I.default.title},void 0,N(m.Text,{className:I.default.title,variant:"text-md/normal",color:"interactive-active"},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM_FEEDBACK_RECEIVED_TITLE),N(m.Text,{className:I.default.title,variant:"text-xs/normal",color:"interactive-normal"},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM_FEEDBACK_RECEIVED_SUBTITLE)):N(m.Text,{className:I.default.title,variant:"text-md/normal",color:"interactive-active"},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM),N(v.default,{size:v.default.Sizes.SMALL,color:v.default.Colors.PRIMARY,onClick:function(){(0,E.unhideItemFromGuildFeed)(n,t)}},void 0,b.default.Messages.UNDO)),!i&&N(P,{guildId:t,feedItem:n,onSendFeedback:function(){return u(!0)}}))}R.displayName="GuildFeedItemHidden"},514563:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(956117)),i=n(160629),u=f(n(730977)),l=f(n(775803)),s=f(n(247001)),d=f(n(953346));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){e.stopPropagation()}function _(e){var t=e.renderContextPopout,n=v(a.useState(!1),2),r=n[0],f=n[1],c=a.useCallback((function(e){null==e||e.stopPropagation();f(!r)}),[r]),y=s.default.Messages.MORE;return p("div",{onClick:m,onContextMenu:m},void 0,p(i.LazyPopout,{renderPopout:function(){return t(c)},shouldShow:r,onRequestClose:c,position:i.Positions.LEFT,align:i.Align.TOP,animation:i.LazyPopout.Animation.NONE},void 0,(function(e,t){return p(u.default,{text:y,hideOnClick:!0},void 0,(function(e){var t=e.onMouseEnter,n=e.onMouseLeave,r=e.onClick;return p(o.default,{onMouseEnter:t,onMouseLeave:n,look:o.default.Looks.BLANK,size:o.default.Sizes.NONE,onClick:function(e){null==r||r();c(e)},"aria-label":y,
className:d.default.overflowButton},void 0,p(l.default,{className:d.default.icon}))}))})))}_.displayName="GuildFeedItemOverflowMenuButton"},373893:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=U(n(294184)),i=n(177661),u=n(536211),l=n(252404),s=U(n(173101)),d=U(n(477072)),f=U(n(907932)),c=n(377980),p=U(n(384792)),v=n(538105),y=U(n(316865)),m=U(n(507187)),_=U(n(691851)),h=U(n(326243)),g=U(n(227236)),E=U(n(749835)),S=U(n(86031)),O=U(n(546914)),b=U(n(644263)),I=U(n(16941)),T=U(n(383942)),A=U(n(152668)),C=U(n(293578)),M=U(n(308920)),N=U(n(968078)),P=n(124042),R=n(770348),w=n(173652),D=n(100678),L=U(n(247001)),k=U(n(328203)),j=["guildId","message","className","channel","animateAvatar"];function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}function F(){F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return F.apply(this,arguments)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var V=a.memo((function(e){var t=e.message,n=e.channel,r=e.animateAvatar,o=e.repliedMessage,i=(0,y.default)(t.id,D.DEFAULT_POPOUTS),u=i.popouts,s=i.setPopout,d=u.usernameProfile,c=u.avatarProfile,m=(0,v.useClickMessageAuthorUsername)(t,n,d,s),_=(0,v.useClickMessageAuthorAvatar)(c,s),h=a.useCallback((function(){return s({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1})}),[s]),g=(0,f.default)(t),E=(0,l.useRoleIcon)({guildId:n.guild_id,roleId:g.iconRoleId});return H(C.default,{guildId:n.guild_id,message:t,channel:n,repliedMessage:o,author:g,showTimestampOnHover:t.type!==R.MessageTypes.REPLY,renderPopout:p.default,showAvatarPopout:c,
showUsernamePopout:d,onClickAvatar:_,onClickUsername:m,onPopoutRequestClose:h,roleIcon:E,animate:r})}));function W(e){var t,n=e.guildId,r=e.message,l=e.className,f=e.channel,p=e.animateAvatar,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,j),y=(0,m.default)(r,{renderMediaEmbeds:!0}),C=y.content,D=y.hasSpoilerEmbeds,U=x(a.useState(!1),2),G=U[0],B=U[1],W=x(a.useState(!1),2),Y=W[0],K=W[1],z=r.type===R.MessageTypes.REPLY?r.messageReference:void 0,$=(0,u.useStateFromStores)([S.default],(function(){return S.default.getMessageByReference(z)})),q=(0,u.useStateFromStores)([b.default],(function(){return r.hasFlag(R.MessageFlags.HAS_THREAD)&&b.default.getChannel(r.id)})),Q=(0,c.getMessageAriaLabelledBy)(r),X=(0,c.getMessageAriaDescribedBy)(r),Z=r.attachments.length>0,J=null!=z?H(I.default,{onClick:function(e){if(null!=$.message){e.stopPropagation();M.default.track(R.AnalyticEvents.FEED_ITEM_INTERACTED,{
feed_item_type:i.GuildFeedItemTypes.MESSAGE,load_id:N.default.getLoadId(n),action_type:P.FeedItemInteractionType.REFERENCED_MESSAGE_CLICKED,guild_id:n,channel_id:f.id,message_id:$.message.id,home_session_id:s.default.getHomeSessionId(n)});O.default.openChannelAsSidebar({guildId:f.guild_id,channelId:f.id,messageId:$.message.id,baseChannelId:w.StaticChannelRoute.GUILD_HOME})}}},void 0,(0,E.default)(r,f,z,$,!1)):null,ee=(0,d.default)(r);return a.createElement(T.default,F({className:l,childrenRepliedMessage:J,childrenExecutedCommand:(0,g.default)(r,f,!1),childrenHeader:ee?null:H(V,{channel:f,message:r,animateAvatar:p,repliedMessage:$}),childrenAccessories:(0,_.default)({channelMessageProps:e,hasSpoilerEmbeds:D,isInteracting:!1,forceAddReactions:!0}),childrenMessageContent:a.createElement(a.Fragment,null,H(A.default,{className:(0,o.default)((t={},t[k.default.clampLarge]=!Y&&!Z,t[k.default.clampSmall]=!Y&&Z,t)),message:r,content:C,contentRef:function(e){
null!=e&&B(e.scrollHeight>e.clientHeight)}}),G&&!Y?H(I.default,{className:k.default.showMore,onClick:function(){return K(!0)},"aria-hidden":!0},void 0,L.default.Messages.GUILD_FEED_TRUNCATED_MESSAGE_SEE_MORE):null),childrenSystemMessage:(0,h.default)(e),hasThread:null!=q&&r.hasFlag(R.MessageFlags.HAS_THREAD),hasReply:r.type===R.MessageTypes.REPLY,isSystemMessage:ee,"aria-labelledby":Q,"aria-describedby":X},v))}W.displayName="GuildFeedMessage";var Y=a.memo(W);t.default=Y},582652:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ReferenceMessagesBase=W;t.default=void 0
;var r,a=j(n(667294)),o=n(393356),i=n(177661),u=n(536211),l=n(378158),s=L(n(678928)),d=n(341186),f=L(n(187295)),c=L(n(546914)),p=L(n(502546)),v=L(n(644263)),y=L(n(290629)),m=L(n(16941)),_=n(645758),h=L(n(730977)),g=L(n(436081)),E=L(n(114655)),S=j(n(152731)),O=L(n(968078)),b=L(n(676509)),I=L(n(397898)),T=L(n(722556)),A=L(n(47186)),C=L(n(388884)),M=L(n(514563)),N=L(n(373893)),P=n(770348),R=n(173652),w=L(n(247001)),D=L(n(364022));function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){B(o,r,a,i,u,"next",e)}function u(e){
B(o,r,a,i,u,"throw",e)}i(void 0)}))}}var V=function(){var e=H(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(91055).then(n.bind(n,991055));case 2:t=e.sent;r=t.default;return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function W(e){var t=e.guildId,n=e.maxUsers,r=e.users,a=e.text;return x("div",{className:D.default.referenceMessagesText},void 0,x(S.default,{guildId:t,users:r,size:S.Sizes.SIZE_16,className:D.default.userSummaryItem,max:n,showDefaultAvatarsForNullUsers:!0}),x(_.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,a))}W.displayName="ReferenceMessagesBase";function Y(e){var t=e.referenceMessages,n=e.guildId,r=a.useMemo((function(){var e=new Set;return t.map((function(e){return e.author})).filter((function(t){if(null==t||e.has(t.id))return!1;e.add(t.id);return!0})).slice(0,3)}),[t]),o=t.length
;return 0===o?null:x(W,{guildId:n,users:r,text:o>3?w.default.Messages.GUILD_FEED_MESSAGE_ITEM_MAX_REPLIES.format({maxReplies:3}):w.default.Messages.GUILD_FEED_MESSAGE_ITEM_NUM_REPLIES.format({numReplies:o})})}Y.displayName="ReferenceMessages";var K=a.forwardRef((function(e,t){var n,r,S=e.guildId,L=e.messageItem,k=L.message.channel_id,j=L.message.id,F=(0,u.useStateFromStoresObject)([O.default],(function(){var e=O.default.getCachedMessage(S,k,j);return{message:e,isFeaturedMessage:null!=e&&O.default.getIsItemFeatured({guildId:S,entity:e,entityType:i.GuildFeedItemTypes.MESSAGE})}}),[S,k,j]),B=F.message,W=F.isFeaturedMessage,K=(0,u.useStateFromStores)([v.default],(function(){return v.default.getChannel(k)})),z=(0,d.getChannelIconComponent)(K),$=(0,d.getChannelIconTooltipText)(K),q=null!==(n=null==L?void 0:L.referenceMessages)&&void 0!==n?n:[],Q=(0,s.default)(K),X=G(a.useState(!1),2),Z=X[0],J=X[1],ee=(0,u.useStateFromStores)([y.default],(function(){
return null!=B&&y.default.isBlocked(null==B?void 0:B.author.id)})),te=(0,o.useListItem)(null!==(r=null==B?void 0:B.id)&&void 0!==r?r:j),ne=(0,b.default)(L),re=(0,u.useStateFromStores)([p.default],(function(){return p.default.getSidebarState(R.StaticChannelRoute.GUILD_HOME)})),ae=null!=re&&"initialMessageId"in re&&L.message.id===(null==re?void 0:re.initialMessageId),oe=L.highlighted?w.default.Messages.GUILD_FEED_SPECIAL_HIGHLIGHT:W?w.default.Messages.GUILD_FEED_FEATURED_BY_MODERATORS:null,ie=(0,I.default)({guildId:S,channelId:k,messageId:j,feedItemType:i.GuildFeedItemTypes.MESSAGE,onChannelClick:function(){return(0,f.default)(P.Routes.CHANNEL(S,k,j))},onContentClick:function(){return c.default.openChannelAsSidebar({guildId:S,channelId:k,messageId:j,baseChannelId:R.StaticChannelRoute.GUILD_HOME})}}),ue=ie.handleMessageClick,le=ie.handleChannelClick,se=ie.handleCardClick;if(null==K||null==B||null==L||ee)return null;var de=function(){var e=H(regeneratorRuntime.mark((function e(t){var n,r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return V();case 2:n=e.sent;r=x(n,{messageItem:L,message:B,channel:K,onSelect:t});return e.abrupt("return",(function(e){return r}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.createElement(A.default,{className:D.default.container,ref:t,selected:ae,onCardClick:se,onItemClick:ue,onContextMenu:function(e){e.stopPropagation();(0,l.openContextMenuLazy)(e,H(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return V();case 2:t=e.sent;return e.abrupt("return",(function(e){return a.createElement(t,U({},e,{messageItem:L,channel:K,message:B}))}));case 4:case"end":return e.stop()}}),e)}))))},itemId:ne,ariaLabel:w.default.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:Q}),listItemProps:te,onMouseEnter:function(){return J(!0)},onMouseLeave:function(){
return J(!1)}},x(C.default,{},void 0,x("div",{className:D.default.messageHeaderMenuLeft},void 0,x(m.default,{className:D.default.channelNameContainer,onClick:le},void 0,null!=z?x(h.default,{text:$,delay:500},void 0,(function(e){return a.createElement(z,U({},e,{className:D.default.channelIcon,height:16,width:16}))})):null,x(g.default,{className:D.default.channelName,size:E.default.Sizes.SIZE_14},void 0,Q)),null!=oe&&x("div",{className:D.default.featuredMessageContainer},void 0,x(T.default,{height:4,width:4,"aria-hidden":"true",className:D.default.featuredMessageIcon}),x(_.Text,{className:D.default.featuredMessageText,variant:"text-sm/normal",color:"header-secondary"},void 0,oe))),x("div",{className:D.default.messageHeaderMenuRight},void 0,x(M.default,{feedItem:L,guildId:S,renderContextPopout:de}))),x(N.default,{className:D.default.messageItemBody,guildId:S,animateAvatar:Z,channel:K,message:B}),x(Y,{referenceMessages:q,guildId:S}))}));t.default=K},963481:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=H(n(667294)),o=n(393356),i=n(177661),u=n(536211),l=n(378158),s=x(n(678928)),d=n(341186),f=n(973523),c=H(n(487213)),p=x(n(187295)),v=x(n(546914)),y=x(n(864061)),m=x(n(979674)),_=x(n(502546)),h=x(n(644263)),g=x(n(290629)),E=x(n(16941)),S=n(772575),O=n(645758),b=x(n(730977)),I=x(n(436081)),T=x(n(114655)),A=x(n(968078)),C=x(n(676509)),M=x(n(397898)),N=x(n(722556)),P=x(n(47186)),R=x(n(388884)),w=x(n(514563)),D=x(n(373893)),L=n(582652),k=n(770348),j=n(173652),U=n(64072),G=x(n(247001)),F=x(n(775039));function x(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function H(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function V(){V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return V.apply(this,arguments)}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function z(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function $(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){z(o,r,a,i,u,"next",e)}function u(e){z(o,r,a,i,u,"throw",e)}i(void 0)}))}}var q=function(){var e=$(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(91055).then(n.bind(n,991055));case 2:t=e.sent;r=t.default;return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Q(e){var t=e.channel,n=(0,u.useStateFromStores)([m.default],(function(){var e;return null!==(e=m.default.getCount(t.id))&&void 0!==e?e:0})),r=n>=U.MAX_THREAD_MESSAGE_COUNT?G.default.Messages.GUILD_FEED_MESSAGE_ITEM_MAX_REPLIES.format({maxReplies:U.MAX_THREAD_MESSAGE_COUNT}):G.default.Messages.GUILD_FEED_MESSAGE_ITEM_NUM_REPLIES.format({numReplies:n}),a=(0,u.useStateFromStores)([y.default],(function(){return y.default.getMemberIdsPreview(t.id)})),o=(0,
f.useFacepileUsers)(t,null!=a?a:[]);return 0===n?null:K(L.ReferenceMessagesBase,{guildId:t.guild_id,maxUsers:5,users:o,text:r})}Q.displayName="Replies";var X=a.forwardRef((function(e,t){var n,r=e.guildId,y=e.postItem,m=y.thread,L=(0,u.useStateFromStoresObject)([A.default],(function(){return{message:A.default.getCachedMessage(r,m.id,y.message.id),isFeaturedPost:A.default.getIsItemFeatured({guildId:r,entity:m,entityType:i.GuildFeedItemTypes.FORUM_POST})}}),[r,y.message.id,m]),U=L.message,x=L.isFeaturedPost,B=(0,s.default)(m),H=(0,u.useStateFromStores)([g.default],(function(){return null!=U&&g.default.isBlocked(null==U?void 0:U.author.id)})),Y=(0,o.useListItem)(null!==(n=null==U?void 0:U.id)&&void 0!==n?n:y.message.id),z=(0,C.default)(y),X=(0,d.getChannelIconTooltipText)(m),Z=(0,u.useStateFromStores)([h.default],(function(){return h.default.getChannel(m.parent_id)})),J=(0,s.default)(Z),ee=(0,d.getChannelIconComponent)(Z),te=W(a.useState(!1),2),ne=te[0],re=te[1],ae=(0,
u.useStateFromStores)([_.default],(function(){return _.default.getSidebarState(j.StaticChannelRoute.GUILD_HOME)})),oe=null!=ae&&"initialMessageId"in ae&&y.message.id===(null==ae?void 0:ae.initialMessageId),ie=y.highlighted?G.default.Messages.GUILD_FEED_SPECIAL_HIGHLIGHT:x?G.default.Messages.GUILD_FEED_FEATURED_BY_MODERATORS:null,ue=(0,M.default)({guildId:r,channelId:m.id,messageId:y.message.id,feedItemType:i.GuildFeedItemTypes.FORUM_POST,onChannelClick:function(){return(0,p.default)(k.Routes.CHANNEL(r,m.parent_id))},onContentClick:function(){return v.default.openThreadAsSidebar({baseChannelId:j.StaticChannelRoute.GUILD_HOME,channelId:m.id,initialMessageId:m.id})}}),le=ue.handleMessageClick,se=ue.handleChannelClick,de=ue.handleCardClick,fe=W((0,f.useFirstAppliedTag)(m),2),ce=fe[0],pe=fe[1],ve=(0,f.useAppliedTags)(m).slice(1);if(null==m||null==U||null==y||H)return null;var ye=function(){var e=$(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return q();case 2:n=e.sent;r=K(n,{messageItem:y,message:U,channel:m,onSelect:t});return e.abrupt("return",(function(e){return r}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.createElement(P.default,{className:F.default.container,ref:t,selected:oe,onCardClick:de,onItemClick:le,onContextMenu:function(e){e.stopPropagation();(0,l.openContextMenuLazy)(e,$(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return q();case 2:t=e.sent;return e.abrupt("return",(function(e){return a.createElement(t,V({},e,{messageItem:y,channel:m,message:U}))}));case 4:case"end":return e.stop()}}),e)}))))},itemId:z,ariaLabel:G.default.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:B}),listItemProps:Y,onMouseEnter:function(){return re(!0)},onMouseLeave:function(){return re(!1)}},K(R.default,{},void 0,K("div",{
className:F.default.postHeaderMenuLeft},void 0,K(E.default,{className:F.default.channelNameContainer,onClick:se},void 0,null!=ee?K(b.default,{text:X,delay:500},void 0,(function(e){return a.createElement(ee,V({},e,{className:F.default.channelIcon,height:16,width:16}))})):null,K(I.default,{className:F.default.channelName,size:T.default.Sizes.SIZE_14},void 0,J)),null!=ie&&K("div",{className:F.default.featuredPostContainer},void 0,K(N.default,{height:4,width:4,"aria-hidden":"true",className:F.default.featuredPostIcon}),K(O.Text,{className:F.default.featuredPostText,variant:"text-sm/normal",color:"header-secondary"},void 0,ie))),K("div",{className:F.default.postHeaderMenuRight},void 0,K(w.default,{feedItem:y,guildId:r,renderContextPopout:ye}))),K("div",{className:F.default.titleContainer},void 0,K(S.Heading,{className:F.default.title,variant:"heading-lg/medium"},void 0,m.name),null!=ce?K("div",{className:F.default.tags},void 0,K(c.default,{tag:ce,size:c.default.Sizes.SMALL
}),pe>0?K(c.ForumTagOverflow,{tags:ve,count:pe,size:c.default.Sizes.SMALL}):null):null),K(D.default,{className:F.default.messageItemBody,guildId:m.guild_id,animateAvatar:ne,channel:m,message:U}),K(Q,{channel:m}))}));t.default=X},722556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){
s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 4 4"}),d("circle",{cx:"2",cy:"2",
r:"2",fill:f}))}f.displayName="DotSpacer"},304242:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MAX_STORED_MESSAGES=void 0;var r,a=f(n(496486)),o=f(n(536211)),i=f(n(636602)),u=f(n(644263)),l=(f(n(790597)),f(n(71636))),s=n(770348),d=n(173652);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=9e5,v=3e5;t.MAX_STORED_MESSAGES=26;var y={},m={},_={},h={};function g(e){var t=m[e];if(null!=t){var n=a.default.findIndex(t,(function(e){return e.id>l.default.fromTimestamp(Date.now()-p)}));if(-1===n)m[e]=[];else{var r=Math.max(n,t.length-26);m[e]=a.default.slice(t,r)}_[e]=Date.now()}}function E(e,t,n,r){y[e].add(t);var a=_[t];(null==a||a+v>Date.now())&&g(t);null==m[t]&&(m[t]=[]);m[t].push({id:n,userId:r})}function S(e){var t=e.channel;delete m[t.id];delete _[t.id]}var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e
;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getActiveChannelsFetchStatus=function(e){return h[e]};n.getActiveChannelIds=function(e){return y[e]};n.getChannelMessageData=function(e){return m[e]};n.shouldFetch=function(e){var t;return null==y[e]&&!(null===(t=h[e])||void 0===t?void 0:t.loading)};n.__getLocalVars=function(){return{LOOKBACK_PERIOD:p,TRUNCATION_RATE_LIMIT_PERIOD:v,activeChannelIdsByGuildId:y,recentMessageDataByChannelId:m,channelLastTruncationTime:_,fetchStatusByGuild:h}};return t}(o.default.Store);O.displayName="ActiveChannelsStore";var b=new O(i.default,((r={})[s.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.channelId,n=e.guildId;if(!(0,d.isGuildHomeChannel)(t)||null==n)return!1;var r=y[n];if(null==r)return!1;r.forEach((function(e){var t;g(e);0===(null===(t=m[e])||void 0===t?void 0:t.length)&&delete m[e]}));var o=a.default.chain(Array.from(r)).filter((function(e){return e in m})).sortBy((function(e){var t,n
;return-(null!==(t=null===(n=m[e])||void 0===n?void 0:n.length)&&void 0!==t?t:0)})).value();y[n]=new Set(o)},r[s.ActionTypes.MESSAGE_CREATE]=function(e){var t=e.channelId,n=e.message,r=e.optimistic,a=e.isPushNotification;if(r||a)return!1;var o=u.default.getChannel(t);if(null==o)return!1;var i=o.guild_id;if(null==i)return!1;if(null==y[i])return!1;E(i,t,n.id,n.author.id)},r[s.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild;delete y[t.id]},r[s.ActionTypes.CHANNEL_DELETE]=S,r[s.ActionTypes.THREAD_DELETE]=S,r[s.ActionTypes.ACTIVE_CHANNELS_FETCH_START]=function(e){var t=e.guildId;h[t]={loading:!0,error:null,fetchedAt:Date.now()}},r[s.ActionTypes.ACTIVE_CHANNELS_FETCH_SUCCESS]=function(e){var t=e.guildId,n=e.channels;h[t]={loading:!1,error:null,fetchedAt:Date.now()};y[t]=new Set;n.forEach((function(e){var n=e.channel_id;e.messages.forEach((function(e){E(t,n,e.message_id,e.user_id)}))}))},r[s.ActionTypes.ACTIVE_CHANNELS_FETCH_FAILURE]=function(e){var t=e.guildId,n=e.error;h[t]={loading:!1,
error:n,fetchedAt:null}},r[s.ActionTypes.CONNECTION_OPEN]=function(){},r));t.default=b},134866:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getHomeFeedbackSurvey=function(e,t){var n=a.default.getGuild(t),r=null!=n?encodeURIComponent(n.name):"unknown";return"https://survey.alchemer.com/s3/6852193/Home-Beta-Test-Feature-Feedback?user_id="+e+"&guild_id="+t+"&guild_name="+r};t.useHomeFeedbackCardInfo=function(e){var t=(0,r.useStateFromStores)([o.default],(function(){var t;return null!==(t=o.default.getSubmittedFeedback(e))&&void 0!==t?t:null}));return{shouldPrompt:(0,r.useStateFromStores)([o.default],(function(){return o.default.getNumCleanLoads(e)>10&&o.default.getNumCleanLoads(e)<=20&&!o.default.isGuildFeedbackFinished(e)})),submittedRating:t}};var r=n(536211),a=i(n(30098)),o=i(n(357762));function i(e){return e&&e.__esModule?e:{default:e}}},352781:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,
n(373505).createExperiment)({kind:"user",id:"2022-06_home_highlight_notification",label:"Home Highlight Notification",defaultConfig:{showHighlightOnGuildHome:!1},treatments:[{id:1,label:"Show highlight on guild home",config:{showHighlightOnGuildHome:!0}}]});t.default=r},1110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=f(n(636602)),a=f(n(177230)),o=n(143194),i=n(742965),u=n(389666),l=f(n(304242)),s=n(770348),d=n(173652);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleChannelPreload=function(e){var t=e.guildId,n=e.channelId;if(null==t)return!1;if(n!==d.StaticChannelRoute.GUILD_HOME)return!1;(0,
u.shouldFetchGuildFeed)(t,!1)&&(0,i.fetchGuildFeed)({guildId:t,refresh:!0});l.default.shouldFetch(t)&&(0,o.fetchActiveChannels)(t)};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(s.ActionTypes.CHANNEL_PRELOAD,this.handleChannelPreload)};n._terminate=function(){r.default.unsubscribe(s.ActionTypes.CHANNEL_PRELOAD,this.handleChannelPreload)};n.__getLocalVars=function(){return{}};return t}(a.default));t.default=p},560942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useActiveVoiceChannels=t.useActiveTextChannels=void 0;var r=n(536211),a=n(567186),o=c(n(644263)),i=c(n(30098)),u=c(n(689389)),l=n(71246),s=c(n(304242)),d=n(770348),f=n(173652);function c(e){return e&&e.__esModule?e:{default:e}}t.useActiveTextChannels=function(e){var t=(0,r.useStateFromStoresArray)([s.default],(function(){var t=s.default.getActiveChannelIds(e);return null!=t?Array.from(t):[]}));return(0,r.useStateFromStoresArray)([o.default,u.default],(function(){
return t.map((function(e){return o.default.getChannel(e)})).filter(l.isNotNullish).filter((function(e){if(null==e?void 0:e.hasFlag(f.ChannelFlags.ACTIVE_CHANNELS_REMOVED))return!1;if(!(0,a.isTextChannel)(e.type))return!1;if(!u.default.can(d.Permissions.VIEW_CHANNEL,e))return!1;var t=o.default.getChannel(e.parent_id);return!e.isThread()||null==t||!(null==t?void 0:t.hasFlag(f.ChannelFlags.ACTIVE_CHANNELS_REMOVED))}))}))};t.useActiveVoiceChannels=function(e,t,n){var a=(0,r.useStateFromStores)([i.default],(function(){var t;return null===(t=i.default.getGuild(e))||void 0===t?void 0:t.afkChannelId})),s=Object.keys(t).filter((function(e){return t[e].length>0}));return(0,r.useStateFromStoresArray)([u.default,o.default],(function(){return s.filter((function(e){return e!==a&&e!==(null==n?void 0:n.channel_id)})).map((function(e){return o.default.getChannel(e)})).filter(l.isNotNullish).filter((function(e){
return!(null==e?void 0:e.hasFlag(f.ChannelFlags.ACTIVE_CHANNELS_REMOVED))&&u.default.can(d.Permissions.VIEW_CHANNEL,e)}))}))}},490033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,o.default)(e);r.useEffect((function(){i.default.track(l.AnalyticEvents.HOME_EVENTS_LOADED,{guild_id:e,active_events_shown:t.some((function(e){return(0,a.isGuildScheduledEventActive)(e)}))?1:0,upcoming_events_shown:t.some((function(e){return!(0,a.isGuildScheduledEventActive)(e)}))?1:0,home_session_id:u.default.getHomeSessionId(e)})}),[e])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(330321),o=s(n(902399)),i=s(n(308920)),u=s(n(173101)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}},22892:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,o.useLocation)(),t=(0,a.parse)(e.search),n=t.highlight_channel_id,i=t.highlight_message_id;return r.useMemo((function(){return null!=i&&null!=n?{messageId:i,channelId:n}:null}),[n,i])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null
;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(517563),o=n(473727);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}},866797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.default)([i.default],(function(){return i.default.getTotalNumCleanLoads()<=2})),n=(0,a.default)([o.default],(function(){var e=o.default.getCurrentUser();return null==e||e.createdAt.getTime()<d.getTime()})),l=t&&n;r.useEffect((function(){l||e(u.ContentDismissActionType.AUTO)}),[l]);return l||!0};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(342518)),o=l(n(728429)),i=l(n(357762)),u=n(583551);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var d=new Date(Date.UTC(2022,6,6))},813092:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){r.useEffect((function(){var t=o.default.getHomeSessionId(e);return function(){a.default.track(i.AnalyticEvents.HOME_EXITED,{guild_id:e,home_session_id:t})}}),[e])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=u(n(308920)),o=u(n(173101)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},574486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ACTIVE_NOW_ICON_SIZE=void 0;t.ActiveChannelBase=b;t.ActiveNowBase=O;t.ActiveNowFiller=I;t.DISPLAYED_PARTICIPANT_AVATARS=t.COLLAPSED_VIEW_DISPLAYED_PARTICIPANT_AVATARS=void 0;var r,a=g(n(667294)),o=_(n(294184)),i=_(n(876647)),u=n(341186),l=_(n(16941)),s=n(645758),d=_(n(730977)),f=_(n(436081)),c=g(n(152731)),p=n(124042),v=_(n(247001)),y=_(n(462298)),m=_(n(572274));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}
function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}t.DISPLAYED_PARTICIPANT_AVATARS=3;t.COLLAPSED_VIEW_DISPLAYED_PARTICIPANT_AVATARS=5;t.ACTIVE_NOW_ICON_SIZE=16;function O(e){var t,n=e.shouldUseCollapsedLayout,r=void 0===n||n,u=e.onClick,s=e.icon,c=e.iconTooltipText,v=e.textNode,m=e.header,_=e.accessoryNode,h=e.children,g=(0,i.default)(p.COLLAPSED_SIZE_MEDIA_QUERY);return E("div",{className:(0,o.default)(y.default.container,(t={},t[y.default.containerCard]=g,t[y.default.collapsedLayout]=g&&r,t))},void 0,E(l.default,{className:y.default.body,onClick:u},void 0,E("div",{className:y.default.details},void 0,null!=s?E(d.default,{text:c,delay:500},void 0,(function(e){return a.createElement("div",S({},e,{className:y.default.iconContainer}),s)})):null,E(f.default,{className:y.default.title,size:f.default.Sizes.SIZE_14},void 0,m),E("div",{className:y.default.subtitle},void 0,v)),null!=_&&E("div",{className:y.default.accessoryContainer
},void 0,_)),h)}O.displayName="ActiveNowBase";function b(e){var t=e.children,n=e.guildId,r=e.channel,a=e.text,o=e.activityIndicator,l=e.usersInSummary,d=e.onChannelClick,f=e.channelIconOptions,v=(0,i.default)(p.COLLAPSED_SIZE_MEDIA_QUERY),y=(0,u.getChannelIconComponent)(r,null,f);return E(O,{textNode:null!=a?E(s.Text,{variant:"text-xs/normal"},void 0,a):null,accessoryNode:E(c.default,{guildId:n,users:l,size:v?c.Sizes.SIZE_24:c.Sizes.SIZE_16,max:v?5:3,extraDetail:o}),onClick:d,icon:null!=y&&E(y,{width:16,height:16}),iconTooltipText:(0,u.getChannelIconTooltipText)(r),header:r.name},void 0,t)}b.displayName="ActiveChannelBase";function I(){return E("div",{className:(0,o.default)(y.default.container,y.default.containerCard,y.default.fillerCard)},void 0,E("img",{src:m.default,className:y.default.spacerChannelImg,alt:"","aria-hidden":!0}),E("div",{className:y.default.fillerText},void 0,E(f.default,{className:y.default.title,size:f.default.Sizes.SIZE_14
},void 0,v.default.Messages.ACTIVE_CHANNELS_COLLAPSED_SPACER_TITLE),E(s.Text,{variant:"text-xs/normal"},void 0,v.default.Messages.ACTIVE_CHANNELS_COLLAPSED_SPACER_SUBTITLE)))}I.displayName="ActiveNowFiller"},466366:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=X;var r,a=x(n(667294)),o=G(n(294184)),i=x(n(496486)),u=n(393356),l=n(536211),s=G(n(876647)),d=G(n(213847)),f=n(143194),c=G(n(65770)),p=n(330321),v=x(n(902399)),y=G(n(751410)),m=G(n(487372)),_=G(n(16941)),h=n(772575),g=n(645758),E=G(n(69405)),S=n(235742),O=G(n(308920)),b=G(n(304242)),I=G(n(173101)),T=n(560942),A=n(574486),C=G(n(931108)),M=G(n(661129)),N=G(n(441626)),P=G(n(750931)),R=n(770348),w=n(124042),D=G(n(247001)),L=G(n(831689)),k=G(n(404024)),j=G(n(764728)),U=["ref"];function G(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return B.apply(this,arguments)}function H(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||W(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||W(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var z=153;function $(){var e="dark"===(0,d.default)()?k.default:j.default;return K("div",{className:L.default.emptyStateContainer},void 0,K("img",{className:L.default.image,src:e,width:154,height:48,alt:""}),K(h.Heading,{className:L.default.title,variant:"heading-md/medium",level:3},void 0,D.default.Messages.ACTIVE_CHANNELS_EMPTY_TITLE),K(g.Text,{className:L.default.subtitle,color:"header-secondary",variant:"text-sm/normal"},void 0,D.default.Messages.ACTIVE_CHANNELS_EMPTY_SUBTITLE))}$.displayName="ActiveChannelsEmpty";var q=K($,{}),Q=K(A.ActiveNowFiller,{});function X(e){
var t=e.guildId,n=(0,l.useStateFromStores)([b.default],(function(){return b.default.getActiveChannelsFetchStatus(t)})),r=(0,T.useActiveTextChannels)(t),d=(0,v.useGuildActiveEvent)(t),A=(0,l.useStateFromStores)([m.default],(function(){return m.default.getVoiceStates(t)})),k=(0,T.useActiveVoiceChannels)(t,A,d),j=r.length+k.length+(null!=d?1:0),G=j>0,F=a.useRef(null),x=(0,y.default)("active-channels",F),W=(0,v.default)(t).filter((function(e){return!(0,p.isGuildScheduledEventActive)(e)})),Y=V(a.useState(0===W.length),2),$=Y[0],X=Y[1],Z=(0,s.default)(w.COLLAPSED_SIZE_MEDIA_QUERY),J=V(a.useState(!0),2),ee=J[0],te=J[1],ne=V(a.useState(!1),2),re=ne[0],ae=ne[1],oe=function(){var e=F.current;if(null!=e){var t=e.getScrollerState(),n=t.scrollLeft,r=t.scrollWidth;te(n<=0);ae(n>=r-600-1)}},ie=a.useCallback((function(){var e=F.current;if(null!=e){var t=e.getScrollerState().scrollLeft,n=Math.ceil((t-612)/z)*z;e.scrollTo({to:Math.max(0,n),animate:!0})}}),[F]),ue=a.useCallback((function(){
var e=F.current;if(null!=e){var t=e.getScrollerState(),n=t.scrollLeft,r=t.scrollWidth,a=Math.floor((n+612)/z)*z;e.scrollTo({to:Math.min(r,a),animate:!0})}}),[F]);a.useEffect((function(){b.default.shouldFetch(t)&&(0,f.fetchActiveChannels)(t)}),[t]);(0,c.default)(t,r,k);var le=a.useCallback((function(e){O.default.track(R.AnalyticEvents.ACTIVE_CHANNEL_CLICKED,{guild_id:e.guild_id,channel_id:e.id,channel_type:e.type,text_channels_shown:r.length,voice_channels_shown:k.length,home_session_id:I.default.getHomeSessionId(e.guild_id)})}),[r,k]),se=r.map((function(e){return K(M.default,{guildId:t,channel:e,trackChannelClick:le},e.id)})),de=k.map((function(e){return K(N.default,{guildId:t,channel:e,voiceStates:A[e.id],trackChannelClick:le},e.id)})),fe=[];if(Z)fe=[].concat(H(se),H(de));else if($)fe=i.compact([null!=d&&K(P.default,{event:d},"event")].concat(H(se.slice(0,10)),H(de)));else{var ce=i.take(se,3-(de.length>0?1:0)-(null!=d?1:0)),pe=i.take(de,3-ce.length-(null!=d?1:0))
;fe=i.compact([null!=d&&K(P.default,{event:d},"event")].concat(H(ce),H(pe)))}return K("div",{className:L.default.container},void 0,K("div",{className:L.default.header},void 0,K(h.Heading,{variant:"heading-md/medium",level:3},void 0,D.default.Messages.ACTIVE_CHANNELS_HEADER),!0!==(null==n?void 0:n.loading)&&j>3&&K(_.default,{onClick:function(){return X(!$)}},void 0,K(g.Text,{className:L.default.showAll,variant:"text-sm/normal"},void 0,$?D.default.Messages.GUILD_HOME_SEE_LESS:D.default.Messages.GUILD_HOME_SEE_ALL.format({count:j})))),(null==n?void 0:n.loading)?K("div",{className:L.default.channelList,"aria-hidden":!0},void 0,K(C.default,{guildId:t})):G?K(u.ListNavigatorProvider,{navigator:x},void 0,K(u.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,U);return a.createElement(S.AdvancedScrollerNone,B({className:L.default.channelList,
orientation:"horizontal",paddingFix:!1,onScroll:oe,ref:function(e){var n;F.current=e;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null;oe()}},n),fe,Z&&j<4&&Q)}))):q,Z&&G&&!ee&&K(_.default,{className:(0,o.default)(L.default.scrollIcon,L.default.left),onClick:ie,"aria-hidden":!0},void 0,K(E.default,{direction:E.default.Directions.LEFT,height:12,width:12})),Z&&G&&!re&&K(_.default,{className:(0,o.default)(L.default.scrollIcon,L.default.right),onClick:ue,"aria-hidden":!0},void 0,K(E.default,{direction:E.default.Directions.RIGHT,height:12,width:12})))}X.displayName="ActiveChannels"},931108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=(0,u.default)(d.COLLAPSED_SIZE_MEDIA_QUERY);return a.createElement(a.Fragment,null,i.times(n?4:3,(function(e){var r;return y("div",{className:(0,o.default)(f.default.container,(r={},r[f.default.loadingContainer]=!0,r[f.default.containerCard]=n,
r[f.default.collapsedLayout]=n,r))},e,y("div",{className:f.default.body},void 0,y("div",{className:f.default.details},void 0,y("div",{className:f.default.iconContainer}),y(l.ContentBlob,{className:f.default.title,opacity:.2,width:72}),y(l.ContentBlob,{className:f.default.subtitle,opacity:.1,width:100})),y("div",{className:f.default.accessoryContainer},void 0,y(s.default,{guildId:t,renderUser:function(){return y("div",{className:f.default.loadingUser,style:{width:n?24:16,height:n?24:16}})},users:[null,null],size:n?s.Sizes.SIZE_24:s.Sizes.SIZE_16,extraDetail:y("div",{className:f.default.typingIndicator})}))),2===e&&y("div",{className:f.default.previewContainer}))})),m," ")};var r,a=v(n(667294)),o=c(n(294184)),i=v(n(496486)),u=c(n(876647)),l=n(114557),s=v(n(152731)),d=n(124042),f=c(n(462298));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=y("div",{})},661129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;g(n(667294))
;var r,a=_(n(496486)),o=n(536211),i=_(n(187295)),u=_(n(946447)),l=_(n(728429)),s=_(n(810919)),d=n(71246),f=_(n(71636)),c=g(n(304242)),p=n(574486),v=n(770348),y=_(n(247001)),m=_(n(462298));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){var t=e.guildId,n=e.channel,r=e.trackChannelClick,_=(0,o.useStateFromStoresArray)([c.default],(function(){var e;return null!==(e=c.default.getChannelMessageData(n.id))&&void 0!==e?e:[]})),h=a.default.uniq(a.default.map(_,"userId")),g=(0,o.useStateFromStoresArray)([l.default],(function(){return h.map((function(e){return l.default.getUser(e)}))})),S=(0,o.useStateFromStores)([u.default],(function(){var e=u.default.getTypingUsers(n.id);return Object.keys(e).length>0}),[n.id]),O=_.length<c.MAX_STORED_MESSAGES?y.default.Messages.ACTIVE_CHANNELS_FEW_MESSAGES.format({count:_.length}):y.default.Messages.ACTIVE_CHANNELS_MANY_MESSAGES,b=S?E("div",{className:m.default.typingIndicator},void 0,E(s.default,{className:m.default.ellipsis,
dotRadius:2,themed:!0})):null;return E(p.ActiveChannelBase,{guildId:t,channel:n,usersInSummary:g.filter(d.isNotNullish),text:O,activityIndicator:b,onChannelClick:function(){r(n);(0,i.default)(v.Routes.CHANNEL(n.guild_id,n.id,f.default.fromTimestamp(Date.now())))}})}S.displayName="ActiveTextChannel"},441626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=P;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=A(n(496486)),o=n(536211),i=A(n(136873)),u=n(123516),l=A(n(631294)),s=n(385753),d=A(n(910999)),f=A(n(645923)),c=A(n(141776)),p=n(567186),v=A(n(607209)),y=A(n(423046)),m=A(n(30098)),_=A(n(689389)),h=A(n(211136)),g=A(n(387692)),E=A(n(16941)),S=n(645758),O=A(n(68259)),b=n(574486),I=n(770348),T=A(n(462298));function A(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e){var t,n=e.channel,r=e.voiceStates,l=(0,
o.useStateFromStores)([v.default],(function(){return v.default.getAllApplicationStreamsForChannel(n.id)[0]})),c=(0,o.useStateFromStores)([v.default],(function(){return null!=l?v.default.getActiveStreamForApplicationStream(l):null})),p=(0,o.useStateFromStores)([y.default],(function(){return y.default.getId()})),h=(0,o.useStateFromStores)([g.default,m.default,_.default],(function(){return null!=l&&(0,s.canWatchStream)(n,g.default,m.default,_.default)}),[l,n]);if(null==l)return null;var b=a.default.chain(r).map("member").find(["userId",l.ownerId]).value(),A=a.default.chain(r).map("user").find(["id",l.ownerId]).value(),C=null!==(t=null==b?void 0:b.nick)&&void 0!==t?t:A.username,N=null!=c&&null!=l&&c.state!==I.ApplicationStreamStates.ENDED&&c.ownerId===l.ownerId;return M(E.default,{onClick:function(){i.default.selectVoiceChannel(n.id);N||(0,u.watchStreamAndTransitionToStream)(l)},className:T.default.previewContainer},void 0,M(f.default,{className:T.default.previewImage,stream:l
}),h?M("div",{className:T.default.previewHover},void 0,M(S.Text,{variant:"text-sm/normal",color:"none",className:T.default.previewButton},void 0,(0,d.default)(l,c,p))):null,null!=C&&M("div",{className:T.default.previewName},void 0,M(O.default,{width:18,height:18,className:T.default.icon}),M(S.Text,{variant:"text-sm/normal",color:"none"},void 0,C)))}N.displayName="VoiceStreamPreview";function P(e){var t,n=e.guildId,r=e.channel,i=e.voiceStates,u=e.trackChannelClick,s=i.map((function(e){return e.user})),d=(0,c.default)(null!==(t=null==r?void 0:r.id)&&void 0!==t?t:void 0).needSubscriptionToAccess,f=(0,o.useStateFromStores)([_.default],(function(){return!_.default.can(I.Permissions.CONNECT,r)})),v=a.default.map(i,(function(e){var t,n;return null!==(t=null===(n=e.member)||void 0===n?void 0:n.nick)&&void 0!==t?t:e.user.username})).join(", ");return M(b.ActiveChannelBase,{guildId:n,channel:r,text:v,usersInSummary:s,onChannelClick:function(){if((0,p.isGuildVocalChannelType)(r.type)){
var e=h.default.getVoiceChannelId(),t=!_.default.can(I.Permissions.CONNECT,r);u(r);l.default.handleVoiceConnect({channel:r,locked:t,connected:e===r.id,needSubscriptionToAccess:d})}},channelIconOptions:{locked:f}},void 0,M(N,{channel:r,voiceStates:i}))}P.displayName="ActiveVoiceChannel"},389396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=B;var r,a=A(n(667294)),o=n(536211),i=n(742965),u=I(n(922748)),l=A(n(741645)),s=A(n(968078)),d=n(676509),f=I(n(389666)),c=I(n(952572)),p=I(n(686305)),v=A(n(20902)),y=I(n(173101)),m=I(n(22892)),_=n(729869),h=I(n(429612)),g=I(n(541841)),E=I(n(377851)),S=n(124042),O=I(n(247001)),b=I(n(960251));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,u,"next",e)}function u(e){C(o,r,a,i,u,"throw",e)}i(void 0)}))}}function N(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function P(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=w(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||w(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var k=a.memo((function(e){var t=e.guildId;return(0,o.useStateFromStores)([p.default],(function(){return p.default.isViewingRoles(t)}))?L(v.default,{messageType:v.HelpMessageTypes.WARNING},void 0,O.default.Messages.GUILD_FEED_VIEW_AS_ROLE_WARNING):null}));var j=L(h.default,{}),U=L(h.default,{count:1}),G=L(h.default,{count:1}),F=L(E.default,{}),x=L(h.default,{count:1});function B(e){var t=e.guild,n=e.renderMode,r=e.scrollerRef,p=e.seenManagerRef,v=(0,m.default)(),h=R((0,o.useStateFromStoresArray)([s.default],(function(){return[S.GuildFeedSectionTypes.READ,S.GuildFeedSectionTypes.UNREAD,S.GuildFeedSectionTypes.HIGHLIGHTED,S.GuildFeedSectionTypes.ALL].map((function(e){return s.default.getFeedItemSection(t.id,e)}))})),4),E=h[0],O=h[1],I=h[2],T=h[3],A=(0,o.useStateFromStores)([s.default],(function(){return s.default.getLoadId(t.id)})),C=(0,o.useStateFromStores)([y.default],(function(){return y.default.getHomeSessionId(t.id)})),w=(0,f.default)({guildId:t.id,highlightedItemData:v
}),D=w.loading,B=w.error,H=w.fetchFresh,V=w.fetchPage,W=(0,o.useStateFromStores)([s.default],(function(){return s.default.getPaginationStatus(t.id)})).hasMoreItems,Y=a.useRef(null);a.useEffect((function(){u.default.initialize();return function(){u.default.terminate()}}),[]);a.useEffect((function(){var e,t=Y.current,n=null===(e=r.current)||void 0===e?void 0:e.getScrollerNode();if(null!=n&&null!=t&&W){var a=new IntersectionObserver((function(e){for(var t,n=P(e);!(t=n()).done;){t.value.intersectionRatio>0&&V()}}),{root:n,rootMargin:"0px 0px 200px 0px",threshold:0});a.observe(t);return function(){a.disconnect()}}}),[r,Y,V,t.id,W]);a.useLayoutEffect((function(){if(null!=A&&null!=C){(0,i.sendFeedShownAnalytics)(t.id);var e=new l.default(t.id,A,C);e.initialize();p.current=e;return function(){e.terminate()}}}),[p,t.id,A,C]);var K=function(e){var t=R(a.useState(null),2),n=t[0],r=t[1];a.useEffect((function(){var t,n=null===(t=e.current)||void 0===t?void 0:t.getScrollerNode();if(null!=n){
var a=new ResizeObserver((function(e){for(var t,n=P(e);!(t=n()).done;){var a=t.value;r(a.contentRect.height)}}));a.observe(n);return function(){a.disconnect()}}}),[e]);return n}(r),z=a.useMemo((function(){return n!==S.GuildFeedRenderMode.NEW?[]:N(T).sort((function(e,t){return-(0,d.getSnowflakeFromGuildFeedItemId)(e.id).localeCompare((0,d.getSnowflakeFromGuildFeedItemId)(t.id))}))}),[T,n]),$=a.useCallback(M(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return null===(t=p.current)||void 0===t?void 0:t.maybeFlushSeenItems(l.ForceFlushType.IMMEDIATE);case 2:H({force:!0,flushSeenItems:function(){var e;return null===(e=p.current)||void 0===e?void 0:e.maybeFlushSeenItems(l.ForceFlushType.IMMEDIATE)}});case 3:case"end":return e.stop()}}),e)}))),[p,H]);a.useEffect((function(){if(D===s.LoadingStatus.LOADING_FRESH_FEED){var e;null===(e=r.current)||void 0===e||e.scrollToTop()}}),[D])
;return 0===T.length?D===s.LoadingStatus.LOADING_FRESH_FEED?L("div",{className:b.default.container},void 0,j):L(null!=B?_.GuildFeedError:_.GuildFeedEmpty,{guildId:t.id,onReloadClick:$}):n===S.GuildFeedRenderMode.TOP?L("div",{className:b.default.container},void 0,L(g.default,{guild:t}),T.map((function(e){return L(c.default,{guildId:t.id,itemId:e.id,scrollerHeight:K,scrollerRef:r},e.id)})),W?a.createElement("div",{className:b.default.container,ref:Y},U):L(_.GuildFeedFooter,{guildId:t.id,onReloadClick:$})):n===S.GuildFeedRenderMode.NEW?L("div",{className:b.default.container},void 0,L(g.default,{guild:t}),z.map((function(e){return L(c.default,{guildId:t.id,itemId:e.id,scrollerHeight:K,scrollerRef:r},e.id)})),W?a.createElement("div",{className:b.default.container,ref:Y},G):L(_.GuildFeedFooter,{guildId:t.id,onReloadClick:$})):L("div",{className:b.default.container},void 0,L(k,{guildId:t.id}),L(g.default,{guild:t}),I.map((function(e){return L(c.default,{guildId:t.id,itemId:e.id,
scrollerHeight:K,scrollerRef:r},e.id)})),O.map((function(e){return L(c.default,{guildId:t.id,itemId:e.id,scrollerHeight:K,scrollerRef:r},e.id)})),E.length>0?F:null,E.map((function(e){return L(c.default,{guildId:t.id,itemId:e.id,scrollerHeight:K,scrollerRef:r},e.id)})),W?a.createElement("div",{className:b.default.container,ref:Y},x):L(_.GuildFeedFooter,{guildId:t.id,onReloadClick:$}))}B.displayName="GuildFeedContainer"},729869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildFeedFooter=t.GuildFeedError=t.GuildFeedEmpty=void 0;var r,a=S(n(667294)),o=g(n(294184)),i=n(536211),u=S(n(517286)),l=g(n(563621)),s=g(n(956117)),d=g(n(16941)),f=n(772575),c=n(645758),p=g(n(37985)),v=g(n(571830)),y=n(194322),m=n(770348),_=g(n(247001)),h=g(n(577084));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return b.apply(this,arguments)}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function A(e){var t=(0,i.useStateFromStores)([u.default],(function(){return u.default.getChannels(e)}))[u.GUILD_SELECTABLE_CHANNELS_KEY];return(0,i.useStateFromStoresArray)([l.default],(function(){return t.filter((function(e){var t=e.channel;return m.ChannelTypesSets.READABLE.has(t.type)&&!m.ChannelTypesSets.GUILD_VOCAL.has(t.type)})).filter((function(t){var n=t.channel;return l.default.isChannelMuted(e,n.id)||l.default.isCategoryMuted(e,n.id)}))}),[e,t]).length}function C(e,t,r){return O(d.default,{className:h.default.mutedChannelsHook,onClick:function(){(0,y.openModalLazy)(T(regeneratorRuntime.mark((function e(){var t,o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(38556)]).then(n.bind(n,289843));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,b({},e,{guildId:r}))}));case 5:case"end":return e.stop()}}),e)}))))}},t,e)}C.displayName="renderMutedChannelsHook";var M=a.memo((function(e){var t=e.guildId,n=e.onReloadClick,r=A(t);return O("div",{className:(0,o.default)(h.default.container,h.default.footerContainer)},void 0,O("div",{className:h.default.iconContainer},void 0,O(p.default,{className:h.default.icon,width:36,height:36}),O(v.default,{className:h.default.stars})),O(f.Heading,{className:h.default.header,variant:"heading-md/medium",level:3},void 0,_.default.Messages.GUILD_FEED_FOOTER_TITLE),O(c.Text,{color:"header-secondary",variant:"text-sm/normal"},void 0,r>0?_.default.Messages.GUILD_FEED_MUTED_CHANNELS_SUBTITLE.format({numMutedChannels:r,mutedChannelsHook:function(e,n){
return C(e,n,t)}}):_.default.Messages.GUILD_FEED_FOOTER_SUBTITLE),O(s.default,{onClick:n,className:h.default.button},void 0,_.default.Messages.GUILD_FEED_RELOAD))}));t.GuildFeedFooter=M;var N=a.memo((function(e){var t=e.guildId,n=e.onReloadClick,r=A(t);return O("div",{className:(0,o.default)(h.default.container,h.default.background)},void 0,O("div",{className:h.default.iconContainer},void 0,O(p.default,{className:h.default.icon,width:36,height:36}),O(v.default,{className:h.default.stars})),O(f.Heading,{className:h.default.header,variant:"heading-md/medium",level:3},void 0,_.default.Messages.GUILD_FEED_EMPTY_TITLE),O(c.Text,{color:"header-secondary",variant:"text-sm/normal"},void 0,r>0?_.default.Messages.GUILD_FEED_MUTED_CHANNELS_SUBTITLE.format({numMutedChannels:r,mutedChannelsHook:function(e,n){return C(e,n,t)}}):_.default.Messages.GUILD_FEED_EMPTY_SUBTITLE),O(s.default,{onClick:n,className:h.default.button},void 0,_.default.Messages.GUILD_FEED_RELOAD))}));t.GuildFeedEmpty=N
;var P=a.memo((function(e){var t=e.onReloadClick;return O("div",{className:(0,o.default)(h.default.container,h.default.background)},void 0,O("div",{className:h.default.iconContainer},void 0,O(p.default,{className:h.default.icon,width:36,height:36}),O(v.default,{className:h.default.stars})),O(f.Heading,{className:h.default.header,variant:"heading-md/medium",level:3},void 0,_.default.Messages.GUILD_FEED_ERROR_TITLE),O(c.Text,{color:"header-secondary",variant:"text-sm/normal"},void 0,_.default.Messages.GUILD_FEED_ERROR_SUBTITLE.format({url:m.Links.STATUS})),O(s.default,{onClick:t,className:h.default.button},void 0,_.default.Messages.GUILD_FEED_RELOAD))}));t.GuildFeedError=P},429612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=p(n(667294)),o=f(n(496486)),i=f(n(47186)),u=f(n(388884)),l=n(505280),s=p(n(114557)),d=f(n(266161));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(){var e=a.useMemo((function(){if(!(o.default.random(1)<.5))return y({},(0,l.generateAttachmentSpec)(),{last:!0})}),[]);return v(i.default,{"aria-hidden":!0,ariaLabel:""},void 0,v(u.default,{},void 0,v(s.ContentBlob,{className:d.default.channelName,opacity:.3,width:80})),v("div",{className:d.default.body},void 0,v(s.default,{messages:5,attachmentSpecs:e})))}m.displayName="PlaceholderCard";var _=a.memo((function(e){var t=e.count;return a.createElement(a.Fragment,null,o.default.times(null!=t?t:5,(function(e){return v(m,{},e)})))}));t.default=_},521388:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=R
;var r,a=b(n(667294)),o=S(n(294184)),i=n(536211),u=S(n(689389)),l=S(n(151097)),s=b(n(956117)),d=S(n(16941)),f=n(772575),c=n(645758),p=S(n(259530)),v=n(194322),y=S(n(550270)),m=S(n(866797)),_=n(770348),h=S(n(247001)),g=S(n(646756)),E=S(n(934104));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function T(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e){var t=e.children,n=e.onClose;return A("div",{className:g.default.container},void 0,A(d.default,{className:g.default.closeButton,onClick:n},void 0,A(p.default,{className:g.default.closeIcon})),A("div",{className:g.default.textContainer},void 0,t),A("img",{className:g.default.image,src:E.default,alt:""}))}C.displayName="CardContainer";function M(e){return A(C,{
onClose:e.onClose},void 0,A(f.Heading,{style:{color:"white"},level:2,variant:"heading-lg/medium",color:"none"},void 0,h.default.Messages.GUILD_FEED_NUX_MEMBER_TITLE),A(c.Text,{className:g.default.bodySection,variant:"text-sm/normal",color:"none"},void 0,h.default.Messages.GUILD_FEED_NUX_MEMBER_BODY_1),A(c.Text,{className:g.default.bodySection,variant:"text-sm/normal",color:"none"},void 0,h.default.Messages.GUILD_FEED_NUX_MEMBER_BODY_2),A(l.default,{className:(0,o.default)(g.default.cta,g.default.ctaLink,(0,s.getButtonStyle)({look:s.default.Looks.LINK,color:s.default.Colors.WHITE})),href:y.default.getArticleURL(_.HelpdeskArticles.GUILD_HOME)},void 0,h.default.Messages.GUILD_FEED_NUX_MEMBER_BODY_3))}M.displayName="MemberCard";function N(){(0,v.openModalLazy)(T(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(96545)]).then(n.bind(n,996545));case 2:t=e.sent;r=t.default
;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}function P(e){return A(C,{onClose:e.onClose},void 0,A(f.Heading,{style:{color:"white"},level:2,variant:"heading-lg/medium",color:"none"},void 0,h.default.Messages.GUILD_FEED_NUX_MODERATOR_TITLE),A(c.Text,{className:g.default.bodySection,variant:"text-sm/normal",color:"none"},void 0,h.default.Messages.GUILD_FEED_NUX_MEMBER_BODY_1),A(c.Text,{className:g.default.bodySection,variant:"text-sm/normal",color:"none"},void 0,h.default.Messages.GUILD_FEED_NUX_MEMBER_BODY_2),A(s.default,{className:g.default.cta,look:s.default.Looks.INVERTED,color:s.default.Colors.BRAND,onClick:N},void 0,h.default.Messages.GUILD_FEED_NUX_MODERATOR_CTA))}P.displayName="ModeratorCard";function R(e){var t=e.guild,n=e.onClose,r=(0,i.useStateFromStores)([u.default],(function(){return u.default.can(_.Permissions.MANAGE_MESSAGES,t)}));return(0,m.default)(n)?A(r?P:M,{onClose:n}):null}
R.displayName="GuildFeedNuxCard"},541841:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(923387),i=f(n(305081)),u=n(134866),l=f(n(521388)),s=n(554962),d=n(583551);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=[o.DismissibleContent.GUILD_FEED_NUX_CARD],y=a.memo((function(e){var t=e.guild,n=(0,u.useHomeFeedbackCardInfo)(t.id),r=n.shouldPrompt,a=n.submittedRating;return null!=a?p(s.GuildHomeReceivedFeedbackCard,{guildId:t.id,rating:a}):p(i.default,{contentTypes:v,groupName:d.DismissibleContentGroupName.GUILD_FEED_TOP},void 0,(function(e){var n=e.visibleContent,a=e.markAsDismissed;return n===o.DismissibleContent.GUILD_FEED_NUX_CARD?p(l.default,{guild:t,onClose:a}):r?p(s.GuildHomeSubmitFeedbackCard,{guildId:t.id}):null}))}));t.default=y},377851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(645758),i=s(n(992193)),u=s(n(247001)),l=s(n(12820));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=f(i.default,{height:24,width:24}),p=a.memo((function(){return f("div",{className:l.default.container},void 0,f("div",{className:l.default.divider},void 0,f("div",{className:l.default.line}),f("div",{className:l.default.icon},void 0,c),f("div",{className:l.default.line})),f(o.Text,{className:l.default.title,color:"header-primary",variant:"text-md/normal"},void 0,u.default.Messages.GUILD_FEED_UNREAD_DIVIDER_TITLE),f(o.Text,{className:l.default.subtitle,color:"header-secondary",variant:"text-sm/normal"},void 0,u.default.Messages.GUILD_FEED_UNREAD_DIVIDER_SUBTITLE))}));t.default=p},750931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=X
;var r,a=H(n(667294)),o=x(n(294184)),i=n(723360),u=n(536211),l=x(n(876647)),s=n(341186),d=n(452453),f=n(330321),c=n(990374),p=n(549905),v=n(834547),y=x(n(60667)),m=x(n(930409)),_=n(139982),h=n(637356),g=x(n(897191)),E=n(921867),S=x(n(644263)),O=x(n(689389)),b=x(n(487372)),I=x(n(956117)),T=x(n(16941)),A=n(645758),C=x(n(32443)),M=x(n(134947)),N=x(n(934018)),P=x(n(114655)),R=H(n(152731)),w=x(n(308920)),D=x(n(173101)),L=n(574486),k=n(770348),j=n(124042),U=n(198756),G=x(n(247001)),F=x(n(120227));function x(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function H(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function V(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K=12;function z(e){var t,n=e.event,r=n.scheduled_start_time,i=n.scheduled_end_time,u=(0,f.isGuildScheduledEventActive)(n),l=W(a.useState((0,v.getEventTimeData)(r,i)),2),s=l[0],d=s.startDateTimeString,c=s.endDateTimeString,p=s.currentOrPastEvent,y=s.upcomingEvent,m=s.diffMinutes,_=l[1];a.useEffect((function(){var e=setInterval((function(){return _((0,v.getEventTimeData)(r,i))}),1e3);return function(){clearInterval(e)}}),[]);var h=d
;u?h=G.default.Messages.STAGE_CHANNEL_LIVE_NOW:p?h=G.default.Messages.STARTING_SOON:y?h=m>0?G.default.Messages.STARTING_IN_MINUTES.format({minutes:m}):G.default.Messages.STARTING_SOON:null!=c&&""!==c&&(h=G.default.Messages.START_DATE_TO_END_DATE.format({start:d,end:c}));return V("div",{className:(0,o.default)(F.default.eventTime,(t={},t[F.default.isActive]=u,t))},void 0,V(M.default,{className:F.default.eventTimeIcon,width:K,height:K}),V(P.default,{color:u?P.default.Colors.STATUS_GREEN:P.default.Colors.HEADER_SECONDARY,size:P.default.Sizes.SIZE_12,className:F.default.eventTimeLabel},void 0,h,V("span",{className:F.default.separator},void 0,"•")))}z.displayName="GuildEventTime";function $(e){var t=e.event,n=e.channel,r=e.isCollapsedSize,o=e.onEventClick,i=(0,u.useStateFromStores)([O.default],(function(){return O.default.can(k.Permissions.CONNECT,n)})),l=a.useCallback((function(){if(null!=n&&null!=n.getGuildId()&&i){(0,h.connectAndOpen)(n);(0,_.transitionToGuild)(n.getGuildId(),n.id)}
}),[n,i]),s=(0,y.default)(t),d=t.entity_type===U.GuildScheduledEventEntityTypes.STAGE_INSTANCE?G.default.Messages.STAGE_CHANNEL_JOIN_BUTTON:G.default.Messages.JOIN;return null==t.image||r?null!=n&&i?V("div",{className:F.default.eventJoinContainer},void 0,V(I.default,{className:F.default.joinButton,onClick:l,fullWidth:!0,color:I.default.Colors.GREEN},void 0,d)):null:null!=n&&i?V(T.default,{onClick:l,className:F.default.eventJoinContainer},void 0,V("div",{className:F.default.eventImg,style:{backgroundImage:"url("+s+")"}}),V("div",{className:F.default.eventImgHover},void 0,V(A.Text,{variant:"text-sm/normal",color:"none",className:F.default.eventImgJoinButton},void 0,d))):V(T.default,{onClick:o,className:F.default.eventJoinContainer},void 0,V("div",{className:F.default.eventImg,style:{backgroundImage:"url("+s+")"}}))}function q(e){var t,n=e.event,r=e.channel,i=e.isActive,u=e.isCollapsedSize,l=(0,s.getChannelIconComponent)(r);return V("div",{className:F.default.eventInfo
},void 0,(!i||u)&&V(z,{event:n}),V("div",{className:F.default.location},void 0,null!=r&&null!=l?a.createElement(a.Fragment,null,V(l,{width:K,height:K,className:F.default.icon}),V(A.Text,{variant:"text-xs/normal",className:F.default.locationLabel},void 0,r.name)):a.createElement(a.Fragment,null,V(N.default,{height:K,width:K,className:(0,o.default)(F.default.channelContainer,F.default.icon)}),V(A.Text,{variant:"text-xs/normal",className:F.default.locationLabel},void 0,(0,c.guildEventDetailsParser)(null!==(t=(0,p.getLocationFromEvent)(n))&&void 0!==t?t:void 0,!0)))))}q.displayName="GuildEventInfo";var Q=V(C.default,{width:L.ACTIVE_NOW_ICON_SIZE,height:L.ACTIVE_NOW_ICON_SIZE});function X(e){var t=e.event,n=t.guild_id,r=(0,l.default)(j.COLLAPSED_SIZE_MEDIA_QUERY),o=(0,f.isGuildScheduledEventActive)(t),s=(0,u.useStateFromStores)([S.default],(function(){return S.default.getChannel(t.channel_id)})),c=(0,u.useStateFromStores)([m.default],(function(){return m.default.isLurking(n)
}),[n]),p=a.useCallback((function(){w.default.track(k.AnalyticEvents.HOME_EVENT_CLICKED,{guild_id:n,home_session_id:D.default.getHomeSessionId(n),guild_scheduled_event_id:t.id,is_active:o});(0,d.openGuildEventDetails)({eventId:t.id,parentGuildId:n})}),[t,n,o]),v=(0,u.useStateFromStoresArray)([b.default],(function(){return null==s?[]:b.default.getVoiceStatesForChannel(s).map((function(e){return e.user}))}),[s]),y=(0,u.useStateFromStores)([g.default],(function(){if(null!=s&&s.type===i.ChannelTypes.GUILD_STAGE_VOICE)return g.default.getParticipantCount(null==s?void 0:s.id,E.StageChannelParticipantNamedIndex.AUDIENCE)}),[s]);return V(L.ActiveNowBase,{shouldUseCollapsedLayout:!1,onClick:c?void 0:p,icon:o?V("div",{className:F.default.liveNowIcon}):Q,iconTooltipText:G.default.Messages.GUILD_HOME_EVENTS_TOOLTIP_TEXT,header:t.name,textNode:V(q,{event:t,channel:s,isActive:o,isCollapsedSize:r}),accessoryNode:o?V(R.default,{guildId:n,users:v,count:y,size:R.Sizes.SIZE_16,
max:L.DISPLAYED_PARTICIPANT_AVATARS}):null},void 0,o&&V($,{event:t,channel:s,isCollapsedSize:r,onEventClick:p}))}X.displayName="GuildHomeEvent"},663116:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=E(n(496486)),i=E(n(730381)),u=n(923387),l=E(n(876647)),s=n(203847),d=n(330321),f=E(n(902399)),c=E(n(16941)),p=n(772575),v=n(645758),y=n(194322),m=E(n(750931)),_=n(124042),h=E(n(247001)),g=E(n(516682));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){
I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function A(e){var t=e.guild,r=(0,l.default)(_.COLLAPSED_SIZE_MEDIA_QUERY),E=(0,f.default)(t.id),S=a.useMemo((function(){var e=E.filter((function(e){return(0,d.isGuildScheduledEventActive)(e)}));return r&&e.length>0?o.default.head(e):o.default.chain(E).filter((function(e){return!(0,d.isGuildScheduledEventActive)(e)})).minBy((function(e){return(0,i.default)(e.scheduled_start_time)})).value()}),[E,r]);if(null==S)return null;function I(){return(I=T(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,y.openModalLazy)(T(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15198),n.e(57166)]).then(n.bind(n,757166));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,O({},e,{
guildId:t.id}))}));case 5:case"end":return e.stop()}}),e)}))));case 2:(0,s.markDismissibleContentAsDismissed)(u.DismissibleContent.GUILD_HEADER_EVENT_UPSELL);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return b("div",{className:g.default.container},void 0,b("div",{className:g.default.header},void 0,b(p.Heading,{variant:"heading-md/medium",level:3},void 0,r?h.default.Messages.GUILD_EVENTS:h.default.Messages.GUILD_HOME_EVENTS_TITLE),b(c.default,{onClick:function(){return I.apply(this,arguments)}},void 0,b(v.Text,{className:g.default.showEvents,variant:"text-sm/normal"},void 0,h.default.Messages.GUILD_HOME_SEE_ALL.format({count:E.length})))),b("div",{className:g.default.events},void 0,b(m.default,{event:S})))}A.displayName="GuildHomeEvents"},554962:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildHomeReceivedFeedbackCard=A;t.GuildHomeSubmitFeedbackCard=T;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=E(n(294184)),u=n(392110),l=E(n(423046)),s=E(n(956117)),d=n(772575),f=n(645758),c=E(n(435012)),p=n(3400),v=n(82141),y=n(134866),m=n(455002),_=E(n(247001)),h=E(n(266827)),g=E(n(617493));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=((r={})[m.FeedbackRating.GOOD]=n(350115),r[m.FeedbackRating.NEUTRAL]=n(942473),r[m.FeedbackRating.BAD]=n(479307),r);function I(e){var t=e.className,n=e.guildId;return O(s.default,{color:s.default.Colors.PRIMARY,className:t,innerClassName:h.default.surveyContents,onClick:function(){var e=l.default.getId(),t=(0,y.getHomeFeedbackSurvey)(e,n);window.open(t,"_blank")}},void 0,_.default.Messages.GUILD_HOME_FEEDBACK_CARD_SURVEY_PROMPT,O(c.default,{className:h.default.launchIcon,width:16,height:16}))}I.displayName="SurveyButton";function T(e){var t=e.guildId,n=o.useCallback((function(e){(0,v.reportGuildHomeFeedback)(t,e)}),[t]),r=o.useCallback((function(){(0,v.dismissGuildHomeFeedback)(t)}),[t]);o.useEffect((function(){(0,v.trackGuildHomeFeedbackShown)(t)}),[t])
;return O("div",{className:(0,i.default)(g.default.card,h.default.submitContainer)},void 0,O(p.ModalCloseButton,{className:h.default.closeButton,onClick:r}),O(d.Heading,{variant:"heading-xl/medium",color:"header-primary"},void 0,_.default.Messages.GUILD_HOME_FEEDBACK_CARD_TITLE),O(f.Text,{variant:"text-md/normal",color:"text-normal",className:h.default.subtitle},void 0,_.default.Messages.GUILD_HOME_FEEDBACK_CARD_SUBTITLE),O(u.RatingsSelector,{className:h.default.ratings,selectedRating:null,onChangeRating:n}),O(I,{className:h.default.submitSurveyButton,guildId:t}))}T.displayName="GuildHomeSubmitFeedbackCard";function A(e){var t=e.guildId,n=e.rating,r=n===m.FeedbackRating.GOOD?_.default.Messages.GUILD_HOME_FEEDBACK_CARD_GOOD_TITLE:_.default.Messages.GUILD_HOME_FEEDBACK_CARD_IMPROVE_TITLE,a=n===m.FeedbackRating.GOOD?_.default.Messages.GUILD_HOME_FEEDBACK_CARD_GOOD_SUBTITLE:_.default.Messages.GUILD_HOME_FEEDBACK_CARD_IMPROVE_SUBTITLE;return O("div",{className:(0,
i.default)(g.default.card,h.default.receivedContainer)},void 0,O("img",{className:h.default.receivedImage,src:b[n],alt:""}),O("div",{className:h.default.receivedText},void 0,O(f.Text,{variant:"text-md/medium",color:"header-primary"},void 0,r),O(f.Text,{variant:"text-xs/normal",color:"text-normal"},void 0,a)),O(I,{className:h.default.receivedSurveyButton,guildId:t}))}A.displayName="GuildHomeReceivedFeedbackCard"},993407:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(539011),u=p(n(784320)),l=p(n(380439)),s=n(772575),d=n(645758),f=p(n(247001)),c=p(n(383198));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.guild;a.useEffect((function(){(0,i.fetchGuildForPopout)(t.id)}),[t.id]);var n=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(t.id)}),[t]);return y("div",{className:c.default.memberInfo
},void 0,null!=(null==n?void 0:n.presenceCount)?y("div",{className:c.default.memberCount},void 0,y("div",{className:c.default.dotOnline}),y(d.Text,{variant:"text-sm/normal",className:c.default.memberText},void 0,f.default.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:n.presenceCount}))):null,null!=(null==n?void 0:n.memberCount)?y("div",{className:c.default.memberCount},void 0,y("div",{className:c.default.dotOffline}),y(d.Text,{variant:"text-sm/normal",className:c.default.memberText},void 0,f.default.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:n.memberCount}))):null)}m.displayName="MemberCounts";function _(e){var t=e.guild;return y("div",{className:c.default.container},void 0,y(l.default,{className:c.default.icon,guild:t,size:l.default.Sizes.LARGER,active:!0}),y(s.Heading,{className:c.default.name,variant:"heading-xl/medium",level:3},void 0,t.name),null!=t.description?y(d.Text,{className:c.default.description,variant:"text-md/normal"
},void 0,t.description):null,y(m,{guild:t}))}_.displayName="GuildHomeInfoWidget"},928205:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=ne(n(667294)),o=ee(n(294184)),i=n(370405),u=n(393356),l=n(536211),s=ee(n(415275)),d=ne(n(174851)),f=ee(n(43233)),c=ee(n(864345)),p=ee(n(673997)),v=ee(n(876647)),y=ee(n(843314)),m=ee(n(216672)),_=n(742965),h=n(741645),g=ee(n(968078)),E=ee(n(463024)),S=ee(n(751410)),O=n(391869),b=ee(n(225379)),I=ee(n(546914)),T=ee(n(252283)),A=ne(n(502546)),C=ee(n(30098)),M=ee(n(205982)),N=n(772575),P=ee(n(226508)),R=ee(n(234069)),w=n(878556),D=ee(n(967965)),L=n(235742),k=n(82141),j=n(566627),U=ee(n(352781)),G=ee(n(173101)),F=ee(n(490033)),x=ee(n(22892)),B=ee(n(813092)),H=ee(n(466366)),V=ee(n(389396)),W=ee(n(663116)),Y=ee(n(993407)),K=n(770348),z=n(173652),$=n(124042),q=ee(n(247001)),Q=ee(n(738862)),X=ee(n(149563)),Z=ee(n(789278)),J=["ref"];function ee(e){return e&&e.__esModule?e:{default:e}}function te(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(te=function(e){return e?n:t})(e)}function ne(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=te(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function re(){re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return re.apply(this,arguments)}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ue=ie(E.default.Icon,{icon:P.default,"aria-hidden":!0}),le=ie(E.default.Divider,{});function se(e){var t=e.guildId,n=function(e,t){return j.GuildFeedRefreshButtonExperiment.useExperiment({}).showRefreshButton?[ie(w.Icon,{tooltip:q.default.Messages.REFRESH,icon:R.default,onClick:function(){(0,_.fetchGuildFeed)({guildId:e,refresh:!0,flushSeenItems:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.maybeFlushSeenItems(h.ForceFlushType.IMMEDIATE)}})}})]:[]}(t,e.seenManagerRef);return ie(E.default,{channelId:z.StaticChannelRoute.GUILD_HOME,guildId:t,className:(0,o.default)(X.default.title,Q.default.background),innerClassname:Q.default.headerBarInner,toolbar:n
},void 0,a.createElement(a.Fragment,null,ue,ie(y.default,{},void 0,q.default.Messages.GUILD_HOME)),ie(E.default.Title,{},void 0,q.default.Messages.GUILD_HOME),a.createElement(a.Fragment,null,le,ie("div",{className:Z.default.topic},void 0,q.default.Messages.GUILD_HOME_DESCRIPTION)))}se.displayName="GuildHomePageHeader";function de(e){var t=e.guild,n=e.containerHeight,r=ae(a.useState(0),2),o=r[0],i=r[1],u=(0,p.default)(),l=u.ref,s=u.height;(0,F.default)(t.id);a.useEffect((function(){if(null!=s){i(s+128-n)}}),[n,s]);return ie("div",{className:Q.default.widgets,style:{top:Math.min(-o,0)}},void 0,a.createElement("div",{className:Q.default.widgetsContainer,ref:l},ie(Y.default,{guild:t}),ie(H.default,{guildId:t.id}),ie(W.default,{guild:t})))}de.displayName="GuildHomeWidgets";function fe(e){var t=e.pageWidth,n=e.onSidebarResize,r=(0,l.useStateFromStores)([A.default],(function(){return A.default.getSidebarState(z.StaticChannelRoute.GUILD_HOME)}));if(null==r)return null
;var a,o=t-K.CHANNEL_SIDEBAR_WIDTH-632;r.type===A.SidebarType.VIEW_THREAD?a=ie(T.default,{channelId:r.channelId,baseChannelId:z.StaticChannelRoute.GUILD_HOME}):r.type===A.SidebarType.VIEW_CHANNEL&&(a=ie(m.default,{channelId:r.channelId,baseChannelId:z.StaticChannelRoute.GUILD_HOME}));return ie(d.default,{sidebarType:d.ChatSidebarType.ThreadSidebar,maxWidth:o,onWidthChange:n},void 0,a)}fe.displayName="GuildHomeSidebar";var ce=[{label:"Segment Reads",value:$.GuildFeedRenderMode.SEGMENTED_READ},{label:"Top",value:$.GuildFeedRenderMode.TOP},{label:"New",value:$.GuildFeedRenderMode.NEW}];function pe(e){var t=e.renderMode,n=e.setRenderMode;return j.GuildFeedRenderSelectorExperiment.useExperiment({}).showSelector?ie(D.default,{className:Q.default.selector,options:ce,select:n,isSelected:function(e){return e===t},serialize:function(e){return String(e)}}):null}pe.displayName="GuildFeedRenderSelector";var ve=(0,c.default)((function(e){var t,n=e.guild,r=e.width,d=e.height,f=n.id,c=(0,
x.default)(),y=(0,l.useStateFromStores)([A.default],(function(){return A.default.getSection(z.StaticChannelRoute.GUILD_HOME)})),m=(0,l.useStateFromStores)([M.default],(function(){return M.default.getCurrentSearchId()})),_=ae(a.useState(!1),2),h=_[0],E=_[1],T=ae(a.useState(K.DEFAULT_CHAT_SIDEBAR_WIDTH),2),C=T[0],P=T[1],R=y===K.ChannelSections.SEARCH,w=y===K.ChannelSections.SIDEBAR_CHAT,D=R||w,F=a.useRef(null),H=(0,S.default)("top-messages",F),W=(0,p.default)().ref,Y=ae(a.useState($.GuildFeedRenderMode.SEGMENTED_READ),2),Z=Y[0],ee=Y[1],te=(0,v.default)($.COLLAPSED_SIZE_MEDIA_QUERY);a.useEffect((function(){var e=(0,j.canSeeGuildHome)(f),t=G.default.getHomeSessionSource(f);if(null!=c){var n=c.channelId,r=c.messageId;if(!e){(0,O.transitionToMessage)(n,r);return}var a=U.default.getCurrentConfig({}).showHighlightOnGuildHome;U.default.trackExposure({});if(!a){(0,O.transitionToMessage)(n,r);return}t=$.GuildHomeLandingSource.HIGHLIGHTS}else if(!e){s.default.escapeToDefaultChannel(f);return}(0,
k.trackGuildHomeOpened)(f,t)}),[f,c]);a.useEffect((function(){null==g.default.getLoadId(f)&&I.default.closeChannelSidebar(z.StaticChannelRoute.GUILD_HOME)}),[f]);(0,B.default)(f);a.useLayoutEffect((function(){var e=G.default.getSavedScrollPosition(f);if(null!=e){var t;null===(t=F.current)||void 0===t||t.scrollTo({to:e})}return function(){var e,t=null===(e=F.current)||void 0===e?void 0:e.getScrollerState();null!=t&&(0,k.saveGuildHomeScrollPosition)(f,t.scrollTop)}}),[f]);var ne=r-K.CHANNEL_SIDEBAR_WIDTH-C,oe=!(D&&ne<1016)||te,ue=a.useRef(null),le=ie(pe,{renderMode:Z,setRenderMode:ee}),ce=ie(V.default,{guild:n,renderMode:Z,scrollerRef:F,seenManagerRef:ue}),ve=ie(de,{guild:n,containerHeight:d});return a.createElement(a.Fragment,null,ie(i.Helmet,{title:q.default.Messages.GUILD_HOME_HTML_TITLE.format({guildName:n.name})}),ie("div",{className:(0,o.default)(X.default.chat,Q.default.background,(t={},t[X.default.threadSidebarOpen]=D,t[X.default.threadSidebarFloating]=D&&h,t))},void 0,ie(se,{
guildId:f,seenManagerRef:ue}),a.createElement("div",{ref:W,className:X.default.content},ie(u.ListNavigatorProvider,{navigator:H},void 0,ie(u.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,J);return a.createElement(L.AdvancedScrollerAuto,re({className:Q.default.homeContainer,ref:function(e){var n;F.current=e;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null}},n),ie("div",{className:Q.default.homeContent},void 0,ie("div",{className:Q.default.topMessagesHeader},void 0,ie(N.Heading,{variant:"heading-md/medium",level:3},void 0,q.default.Messages.GUILD_FEED_TITLE),le),ce),oe?ve:null)}))),R&&null!=m&&ie(b.default,{searchId:m}))),w?ie(fe,{pageWidth:r,onSidebarResize:function(e,t){E(t);P(e)}}):null)})),ye=ie(f.default,{channelId:void 0});function me(e){var t=e.guildId,n=(0,l.useStateFromStores)([C.default],(function(){
return C.default.getGuild(t)}),[t]);return null==n?ye:ie(ve,{guild:n})}me.displayName="GuildHomePageGuard";var _e=me;t.default=_e},350957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s,d,f,c,p,v,y,m,_=i.FormStates.CLOSED,h={},g=!1;function E(){_=i.FormStates.CLOSED;h={};v=null;y=void 0;m=[]}function S(){s=void 0;d=void 0;f=void 0;c=void 0;p=void 0;h={};_=i.FormStates.OPEN}var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getFormState=function(){return _};n.getErrors=function(){return h};n.showNotice=function(){return void 0!==s||void 0!==d||void 0!==f||void 0!==c||void 0!==p};n.getPendingAvatar=function(){return s}
;n.getPendingBanner=function(){return d};n.getPendingBio=function(){return f};n.getPendingNickname=function(){return p};n.getPendingPronouns=function(){return c};n.getPendingAccentColor=function(){return p};n.getAllPending=function(){return{pendingAvatar:s,pendingBanner:d,pendingBio:f,pendingPronouns:c,pendingNickname:p}};n.getGuild=function(){return v};n.getSource=function(){return y};n.getAnalyticsLocations=function(){return m};n.getIsDisableSubmit=function(){return g};n.__getLocalVars=function(){return{formState:_,errors:h,pendingAvatar:s,pendingBanner:d,pendingBio:f,pendingPronouns:c,pendingNickname:p,guild:v,source:y,analyticsLocations:m,disableSubmit:g}};return t}(a.default.Store);O.displayName="GuildIdentitySettingsStore";var b=new O(o.default,((r={})[i.ActionTypes.GUILD_IDENTITY_SETTINGS_INIT]=function(e){v=e.guild;_=i.FormStates.OPEN;h={};y=e.source;m=e.analyticsLocations},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_CLOSE]=E,
r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_RESET_FULL_FORM]=function(){S();E()},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_GUILD]=function(e){v=e.guild;h={}},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SUBMIT]=function(){_=i.FormStates.SUBMITTING;h={}},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SUBMIT_FAILURE]=function(e){var t;if(_!==i.FormStates.SUBMITTING)return!1;_=i.FormStates.OPEN;h=null!==(t=e.errors)&&void 0!==t?t:{}},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_AVATAR]=function(e){var t=e.avatar;s=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_BANNER]=function(e){var t=e.banner;d=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_BIO]=function(e){var t=e.bio;f=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_PRONOUNS]=function(e){var t=e.pronouns;c=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_NICKNAME]=function(e){var t=e.nickname;p=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_RESET_ALL_PENDING]=S,
r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SUBMIT_SUCCESS]=S,r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_DISABLE_SUBMIT]=function(e){var t=e.disable;g=t},r));t.default=b},839924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getGuildIdentitySettingsPatch=function(e){var t=e.pendingAvatar,n=e.pendingNickname,r=e.pendingBanner,a=e.pendingBio,o=e.pendingPronouns,i={};void 0!==t&&(i.avatar=t);void 0!==r&&(i.banner=r);null!=a&&(i.bio=a);null!=o&&(i.pronouns=o);void 0!==n&&(i.nick=n);return i};t.setNewPendingGuildIdentityBio=function(e,t){(0,r.setPendingBio)(e===t?void 0:e)};t.setNewPendingGuildIdentityPronouns=function(e,t){(0,r.setPendingPronouns)(e===t?void 0:e)};t.setNewPendingNickname=function(e,t){(0,r.setPendingNickname)(e===t?void 0:e)};var r=n(799393)},240196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=G;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=R(n(441143)),i=n(536211),u=R(n(135631)),l=R(n(37039)),s=R(n(482117)),d=R(n(498163)),f=R(n(561511)),c=R(n(777018)),p=R(n(876874)),v=R(n(728429)),y=R(n(956117)),m=R(n(60097)),_=n(645758),h=R(n(730977)),g=R(n(41024)),E=n(194322),S=R(n(308920)),O=R(n(838583)),b=n(799393),I=R(n(350957)),T=n(839924),A=R(n(65139)),C=n(770348),M=n(265517),N=R(n(247001)),P=R(n(923247));function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}function k(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){k(o,r,a,i,u,"next",e)}function u(e){k(o,r,a,i,u,"throw",e)}i(void 0)}))}}function U(e){var t=e.onUpsellClick,n=(0,l.default)().analyticsLocations;a.useEffect((function(){
S.default.track(C.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:M.PremiumUpsellTypes.PREMIUM_GUILD_MEMBER_PROFILE_UPSELL_INLINE,location:{page:C.AnalyticsPages.GUILD_CHANNEL,section:C.AnalyticsSections.PREMIUM_GUILD_MEMBER_PROFILE},location_stack:n})}),[n]);return D("div",{className:P.default.upsellContainer},void 0,D(_.Text,{variant:"text-sm/normal"},void 0,N.default.Messages.GUILD_IDENTITY_SETTINGS_UPSELL_NO_LINK),D(m.default,{size:y.default.Sizes.SMALL,onClick:t,color:y.default.Colors.GREEN,className:P.default.upsellButton,innerClassName:P.default.upsellButtonInner},void 0,D(g.default,{className:P.default.premiumIconButton}),N.default.Messages.CHANGE_IDENTITY_UPSELL))}U.displayName="InlineUpsell";function G(e){var t,r,l=e.guild,y=(0,i.useStateFromStores)([v.default],(function(){var e=v.default.getCurrentUser();(0,o.default)(null!=e,"GuildIdentitySettingsPage: user cannot be undefined");return e})),m=(0,i.useStateFromStoresObject)([I.default],(function(){
var e=I.default.getAllPending(),t=e.pendingAvatar,n=e.pendingNickname,r=e.pendingBio,a=e.pendingPronouns;return{pendingAvatar:t,pendingNickname:n,pendingBanner:e.pendingBanner,pendingBio:r,pendingPronouns:a,errors:I.default.getErrors(),guild:I.default.getGuild()}})),_=m.pendingAvatar,S=m.pendingNickname,M=m.pendingBanner,R=m.pendingBio,w=m.pendingPronouns,k=m.errors,G=m.guild,F=null!=l?l:G;(0,o.default)(null!=F,"guild should not be null");var x=(0,i.useStateFromStores)([p.default],(function(){return null==F.id?null:p.default.getMember(F.id,y.id)})),B=O.default.canUsePremiumProfileCustomization(y),H=void 0===_?null!=(null==x?void 0:x.avatar):null!=_,V=void 0===M?null!=(null==x?void 0:x.banner):null!=M,W=null!==(t=null==x?void 0:x.bio)&&void 0!==t?t:"",Y=null!==(r=null==x?void 0:x.pronouns)&&void 0!==r?r:"",K=u.default.useExperiment({}).showPronouns,z=function(e,t,n){n(null!=e?e:null!=t?null:void 0)};return D("div",{},void 0,D(A.default,{username:y.toString(),pendingNick:S,
currentNick:null==x?void 0:x.nick,guild:F},"nick"),B?null:D(U,{onUpsellClick:function(){return e={object:C.AnalyticsObjects.BUTTON_CTA},void(0,E.openModalLazy)(j(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return n.e(83084).then(n.bind(n,858023));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,L({source:L({},e,{page:C.AnalyticsPages.GUILD_MEMBER_PROFILE_SETTINGS})},t))}));case 5:case"end":return t.stop()}}),t)}))));var e}}),D(d.default,{sectionTitle:a.createElement(a.Fragment,null,N.default.Messages.USER_SETTINGS_AVATAR,D(h.default,{text:N.default.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP},void 0,(function(e){return a.createElement(g.default,L({},e,{className:P.default.nitroWheel}))}))),showRemoveAvatarButton:H,onAvatarChange:function(e){return z(e,null==x?void 0:x.avatar,b.setPendingAvatar)},errors:k.avatar,guildId:F.id,disabled:!B
},"avatar"),D(f.default,{sectionTitle:N.default.Messages.USER_SETTINGS_PROFILE_BANNER,canUsePremiumCustomization:B,showRemoveBannerButton:V,errors:k.banner,upsellButton:null,onBannerChange:function(e){return z(e,null==x?void 0:x.banner,b.setPendingBanner)},guildId:null==F?void 0:F.id,disabled:!B},"banner"),K&&D(c.default,{sectionTitle:N.default.Messages.USER_SETTINGS_PRONOUNS,errors:k.pronouns,onPronounsChange:function(e){(0,T.setNewPendingGuildIdentityPronouns)(e,Y)},pendingPronouns:w,currentPronouns:Y},"pronouns"),D(s.default,{placeholder:N.default.Messages.CHANGE_IDENTITY_BIO_PLACEHOLDER,sectionTitle:a.createElement(a.Fragment,null,N.default.Messages.USER_PROFILE_ABOUT_ME,D(h.default,{text:N.default.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP},void 0,(function(e){return a.createElement(g.default,L({},e,{className:P.default.nitroWheel}))}))),onBioChange:function(e){(0,T.setNewPendingGuildIdentityBio)(e,W);(0,b.setDisableSubmit)(null!=e&&e.length>C.BIO_MAX_LENGTH)},errors:k.bio,
pendingBio:R,currentBio:W,disabled:!B},"about"))}G.displayName="GuildIdentityCustomizationSections"},862976:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=f(n(669879)),u=f(n(871778)),l=n(799393),s=f(n(350957)),d=n(839924);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value)
;if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(){var e=(0,o.useStateFromStores)([u.default],(function(){return u.default.theme})),t=(0,o.useStateFromStores)([s.default],(function(){return s.default.getIsDisableSubmit()})),n=(0,o.useStateFromStores)([s.default],(function(){return s.default.getGuild()
})),r=m(a.useState(!1),2),f=r[0],c=r[1],v=a.useCallback(y(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!0);t=s.default.getAllPending();r=(0,d.getGuildIdentitySettingsPatch)(t);if(0!==Object.keys(r).length){e.next=5;break}return e.abrupt("return");case 5:e.next=7;return(0,l.saveGuildIdentityChanges)(null==n?void 0:n.id,r);case 7:(null==(a=e.sent)?void 0:a.ok)&&(0,l.resetAllPending)();c(!1);case 10:case"end":return e.stop()}}),e)}))),[null==n?void 0:n.id]),_=a.useCallback((function(){(0,l.resetAllPending)()}),[]);return p(i.default,{theme:e,submitting:f,onSave:v,onReset:_,disabled:t})}h.displayName="GuildIdentitySettingsNotice"},799017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=V
;var r,a=w(n(667294)),o=P(n(441143)),i=n(235234),u=n(536211),l=P(n(636602)),s=P(n(226800)),d=P(n(844784)),f=w(n(125478)),c=P(n(931059)),p=n(102975),v=P(n(468532)),y=P(n(845176)),m=P(n(711195)),_=P(n(728429)),h=P(n(380439)),g=P(n(80828)),E=n(645758),S=n(194322),O=P(n(308920)),b=P(n(838583)),I=n(799393),T=P(n(350957)),A=P(n(240196)),C=n(770348),M=P(n(247001)),N=P(n(923247));function P(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(){j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return j.apply(this,arguments)}function U(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){U(o,r,a,i,u,"next",e)}function u(e){U(o,r,a,i,u,"throw",e)}i(void 0)}))}}function F(){
O.default.track(C.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:C.AnalyticsPages.GUILD_MEMBER_PROFILE_SETTINGS,location_object:C.AnalyticsObjects.BADGE});(0,I.closeGuildIdentitySettings)();s.default.open(C.UserSettingsSections.PREMIUM)}function x(e){(0,S.openModalLazy)(G(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return n.e(83084).then(n.bind(n,858023));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,j({source:j({},e,{page:C.AnalyticsPages.GUILD_MEMBER_PROFILE_SETTINGS})},t))}));case 5:case"end":return t.stop()}}),t)}))))}var B=D(g.default,{}),H=D(A.default,{});function V(){var e,t,n=L(a.useState(!1),2),r=n[0],s=n[1],g=(0,u.useStateFromStores)([_.default],(function(){var e=_.default.getCurrentUser();(0,o.default)(null!=e,"GuildIdentitySettingsPage: user cannot be undefined");return e})),S=(0,u.useStateFromStoresObject)([T.default],(function(){
var e=T.default.getAllPending(),t=e.pendingAvatar,n=e.pendingNickname,r=e.pendingBio,a=e.pendingPronouns;return{pendingAvatar:t,pendingNickname:n,pendingBanner:e.pendingBanner,pendingBio:r,pendingPronouns:a,errors:T.default.getErrors(),guild:T.default.getGuild(),source:T.default.getSource(),analyticsLocations:T.default.getAnalyticsLocations()}})),O=S.pendingAvatar,A=S.pendingNickname,P=S.pendingBanner,R=S.pendingBio,w=S.pendingPronouns,k=S.guild,j=S.source,U=S.analyticsLocations,V=c.default.useExperiment({},{autoTrackExposure:!0,trackExposureOptions:{analyticsLocations:U}}).enabled;a.useEffect((function(){return function(){return l.default.wait(I.resetAllPending)}}),[]);a.useEffect((function(){null!=j&&d.default.trackWithMetadata(C.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"guild",destination_pane:C.AnalyticsSections.SETTINGS_CUSTOMIZE_PROFILE,source:j})}),[j]);var W=void 0===O?g.getAvatarURL(null==k?void 0:k.id,80,!0):O,Y=null!==(e=(0,i.hex2int)((0,
f.default)(W,C.Colors.PRIMARY_DARK_530,f.ColorFormats.HEX)))&&void 0!==e?e:0;a.useEffect((function(){function e(){return(e=G(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==W){e.next=4;break}e.next=3;return(0,m.default)(g.id,W,{guildId:null==k?void 0:k.id});case 3:s(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[W,k,g.id]);var K=b.default.canUsePremiumProfileCustomization(g);if(null==k)return null;if(!r)return B;var z=D("span",{className:N.default.title},void 0,M.default.Messages.CHANGE_IDENTITY_SERVER_PROFILE),$=D(E.Text,{className:N.default.guildInfo,variant:"text-sm/normal"},void 0,D(h.default,{className:N.default.guildIconInline,guild:k,size:h.default.Sizes.MINI},"guild-icon"),D("span",{},void 0,k.name));return D(v.default,{title:V?null:z,description:V?null:$,previewTitle:M.default.Messages.CHANGE_IDENTITY_PREVIEW_WITH_GUILD_NAME.format({
guildName:k.name}),profilePreview:D(y.default,{user:g,guild:k,canUsePremiumCustomization:K,bannerColor:null!==(t=g.accentColor)&&void 0!==t?t:Y,onAvatarChange:I.setPendingAvatar,onBannerChange:I.setPendingBanner,onUpsellClick:x,pendingBanner:P,pendingBio:R,pendingPronouns:w,pendingAvatar:O,pendingNickname:A,activityName:M.default.Messages.CHANGE_IDENTITY_SERVER_PROFILE,activityCharacter:p.FakeActivityCharacter.PHIBI,openPremiumSettings:F})},void 0,H)}V.displayName="GuildIdentitySettingsPage"},65139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=p(n(456701)),i=p(n(689389)),u=p(n(279950)),l=n(688388),s=n(839924),d=n(770348),f=p(n(247001)),c=p(n(514049));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.errors,n=e.pendingNick,r=e.currentNick,p=e.username,v=e.guild,m=null!=n?n:r,_=(0,a.useStateFromStores)([i.default],(function(){
return i.default.can(d.Permissions.CHANGE_NICKNAME,v)||i.default.can(d.Permissions.MANAGE_NICKNAMES,v)}));return y(o.default,{title:f.default.Messages.NICKNAME,errors:t},void 0,y(u.default,{value:null!=m?m:"",placeholder:p,maxLength:d.USERNAME_MAX_LENGTH,onChange:function(e){(0,s.setNewPendingNickname)(e,r)},disabled:!_}),!_&&y(l.FormText,{className:c.default.nicknameDisabled,type:l.FormText.Types.DESCRIPTION},void 0,f.default.Messages.CHANGE_IDENTITY_NICKNAME_PERMISSIONS_DISABLED))}m.displayName="NicknameSection"},83e3:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.usePaginatedMemberApplications=function(e){var t=e.guildId,n=e.guildJoinRequests,a=r.useRef(!1),o=(h=r.useState(null),g=2,function(e){if(Array.isArray(e))return e}(h)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){
u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(h,g)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(h,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],s=o[1],d=r.useRef(null),m=r.useRef(!1),_=r.useCallback(function(){var e,r=(e=regeneratorRuntime.mark((function e(r,o){var c,p,_,h,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.current){e.next=2;break}return e.abrupt("return");case 2:p=!1;if((c=r+"-"+o)!==d.current){d.current=c;m.current=!1;p=!0}if(!m.current){e.next=7;break}return e.abrupt("return");case 7:null!=l&&s(null);_=y(n,r,o,p)
;e.prev=9;a.current=!0;e.next=13;return u.default.fetchGuildJoinRequests(f({guildId:t,status:o,limit:v},_));case 13:null!=(h=e.sent)&&h.body.guild_join_requests.length<v&&(m.current=!0);e.next=21;break;case 17:e.prev=17;e.t0=e.catch(9);g=new i.APIError(e.t0);s(g.getAnyErrorMessage());case 21:e.prev=21;a.current=!1;return e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[9,17,21,24]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}(),[l,t,n]);var h,g;return{fetchNextPage:_,error:l}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(730381)),o=s(n(795715)),i=n(327269),u=s(n(868073)),l=n(237639);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=l.MAX_RESULTS_PER_PAGE*l.MAX_VISIBLE_PAGES;function y(e,t,n,r){var i=n===l.GuildJoinRequestApplicationStatuses.SUBMITTED
;if(t===l.GuildJoinRequestSortOrders.TIMESTAMP_DESC){if(r){return{before:o.default.fromTimestamp((new Date).getTime())}}var u=e[e.length-1];return{before:i?u.id:u.actionedAt}}if(r){return{after:o.default.fromTimestamp((0,a.default)().subtract(180,"days").valueOf())}}var s=e[e.length-1];return{after:i?s.id:s.actionedAt}}},912958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedApplicationStatus=function(e){var t=e.guildId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getSelectedApplicationStatus(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},519589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedGuildJoinRequest=function(e){var t=e.guildId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getSelectedGuildJoinRequest(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},322865:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedSortOrder=function(e){var t=e.guildId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getSelectedSortOrder(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},912322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSortedMemberApplications=function(e){var t=e.guildId,n=e.applicationStatus,r=e.sortOrder,l=(0,o.useStateFromStores)([i.default],(function(){return i.default.getRequests(t,n)}),[n,t]);return{guildJoinRequests:a.useMemo((function(){return r===u.GuildJoinRequestSortOrders.TIMESTAMP_DESC?(e=l,function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse():l;var e}),[r,l])}};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=(r=n(499098))&&r.__esModule?r:{default:r},u=n(237639);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}
function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},267762:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(956117)),i=c(n(380439)),u=n(772575),l=n(645758),s=c(n(247001)),d=c(n(133766)),f=c(n(946137));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=e.reapplyText,n=e.onReapply,r=e.confirmText,c=e.onConfirm,p=e.rejectionReason,y=void 0===p?null:p,m=e.guild,_=void 0===m?null:m;return v("div",{className:d.default.confirmation},void 0,v("div",{className:d.default.confirmationContent},void 0,null!==_?v(i.default,{size:i.default.Sizes.LARGER,guild:_,className:d.default.guildIcon}):v("img",{alt:s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_ICON,src:f.default,className:d.default.verificationStateIcon}),v(u.Heading,{variant:"heading-xl/medium",className:d.default.header,level:3
},void 0,null!=(null==_?void 0:_.name)?s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE_WITH_GUILD_NAME.format({guildName:_.name}):s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE),null!=y&&""!==y?a.createElement(a.Fragment,null,v(l.Text,{variant:"text-sm/normal"},void 0,v("span",{className:d.default.rejectionReasonLabel},void 0,s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_REASON),v("span",{className:d.default.rejectionReason},void 0,y))):null),v("div",{className:d.default.confirmationButtonRow},void 0,v(o.default,{onClick:n,color:o.default.Colors.PRIMARY,className:d.default.confirmationButton},void 0,t),v(o.default,{onClick:c,color:o.default.Colors.PRIMARY,className:d.default.confirmationButton},void 0,r)))};y.displayName="MemberVerificationApplicationRejected";var m=y;t.default=m},332996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(956117)),o=f(n(380439)),i=n(772575),u=n(645758),l=f(n(247001)),s=f(n(133766)),d=f(n(692760));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.onCancel,n=e.onLeave,r=e.guild,f=void 0===r?null:r;return p("div",{className:s.default.confirmation},void 0,p("div",{className:s.default.confirmationContent},void 0,null!==f?p(o.default,{size:o.default.Sizes.LARGER,guild:f,className:s.default.guildIcon}):p("img",{alt:l.default.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_ICON,src:d.default,className:s.default.verificationStateIcon}),p(i.Heading,{variant:"heading-xl/medium",className:s.default.header,level:3},void 0,null!=(null==f?void 0:f.name)?l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE_WITH_GUILD_NAME.format({guildName:f.name}):l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE),p(u.Text,{variant:"text-sm/normal",color:"header-secondary"
},void 0,l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_SUBTITLE)),p("div",{className:s.default.confirmationButtonColumn},void 0,p(a.default,{onClick:t,look:a.default.Looks.LINK,color:a.default.Colors.LINK,size:a.default.Sizes.SMALL},void 0,l.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION),p(a.default,{onClick:n,look:a.default.Looks.LINK,color:a.default.Colors.LINK,size:a.default.Sizes.SMALL},void 0,l.default.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_MODAL_WITHDRAW_AND_LEAVE)))};v.displayName="MemberVerificationApplicationSubmitConfirmation";var y=v;t.default=y},545130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MemberVerificationPreviewDisabled=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(139982),u=C(n(30098)),l=C(n(956117)),s=n(645758),d=C(n(194815)),f=C(n(502197)),c=n(194322),p=n(549186),v=C(n(692711)),y=C(n(868073)),m=C(n(542307)),_=C(n(849997)),h=n(237639),g=C(n(943819)),E=C(n(267762)),S=C(n(332996)),O=C(n(757349)),b=n(770348),I=n(99043),T=C(n(247001)),A=C(n(613599));function C(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e){var t,n=e.guildId,r=e.inviteCode,C=w(a.useState(I.WaveStates.INITIAL),2),M=C[0],D=C[1],L=(0,o.useStateFromStores)([_.default],(function(){return _.default.get(n)})),k=(0,o.useStateFromStores)([g.default],(function(){return g.default.getRequest(n)})),j=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(n)})),U=(0,o.useStateFromStoresObject)([g.default],(function(){return{hasFetchedRequestToJoinGuilds:g.default.hasFetchedRequestToJoinGuilds,
guildPreviewDisabled:g.default.getJoinRequestGuild(n)}})),G=U.hasFetchedRequestToJoinGuilds,F=U.guildPreviewDisabled;a.useEffect((function(){null!=j&&(0,i.transitionTo)(b.Routes.CHANNEL(n))}),[j,n]);a.useEffect((function(){G||y.default.fetchRequestToJoinGuilds()}),[G]);var x=a.useCallback((function(e){D((function(t){return Math.max(t,e)}))}),[]),B=function(e,t){var n=P(s.Text,{variant:"text-sm/normal",color:"header-secondary"},void 0,e);return function(){(0,c.openModal)((function(e){return a.createElement(f.default,R({header:T.default.Messages.MEMBER_VERIFICATION_CONFIRM_LEAVE_TITLE,cancelText:T.default.Messages.NEVERMIND,onConfirm:t,confirmText:T.default.Messages.YES_TEXT,confirmButtonColor:l.default.Colors.RED},e),n)}))}},H=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return m.default.submitVerificationForm(n,t);case 2:case"end":return e.stop()}}),e)})),function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),V=function(){y.default.resetGuildJoinRequest(n)},W=B(T.default.Messages.LEAVE_SERVER_BODY.format({name:null==j?void 0:j.toString()}),(function(){D(Math.max(M,I.WaveStates.FILLING));y.default.removeGuildJoinRequest(n);(0,i.transitionTo)(b.Routes.ME)})),Y=P(O.default,{guildId:n,inviteCode:r,onComplete:H}),K=null!=(null==L||null===(t=L.guild)||void 0===t?void 0:t.splash)?v.default.getGuildSplashURL({id:L.guild.id,splash:L.guild.splash}):(0,p.getArtForPath)();return P("div",{className:A.default.page},void 0,P(d.default,{embedded:!0,splash:K,waveState:M,showLogo:!1,updateWaveState:x},void 0,P("div",{className:A.default.dragRegion}),P("div",{className:A.default.contentWrapper},void 0,function(){switch(null==k?void 0:k.applicationStatus){
case h.GuildJoinRequestApplicationStatuses.SUBMITTED:return P(S.default,{onCancel:B(T.default.Messages.MEMBER_VERIFICATION_CANCEL_PENDING_APPLICATION_MODAL_TITLE,V),onLeave:W,guild:F});case h.GuildJoinRequestApplicationStatuses.REJECTED:return P(E.default,{reapplyText:T.default.Messages.MEMBER_VERIFICATION_APPLICATION_REAPPLY,onReapply:V,confirmText:T.default.Messages.LEAVE_SERVER,onConfirm:W,rejectionReason:null==k?void 0:k.rejectionReason,guild:F});default:return Y}}())))};t.MemberVerificationPreviewDisabled=L;L.displayName="MemberVerificationPreviewDisabled";var k=L;t.default=k},757349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=K(n(667294)),o=W(n(294184)),i=n(536211),u=W(n(939949)),l=n(825185),s=W(n(235879)),d=W(n(268660)),f=W(n(539563)),c=W(n(433385)),p=W(n(311492)),v=W(n(876874)),y=W(n(30098)),m=W(n(728429)),_=W(n(956117)),h=W(n(530250)),g=W(n(380439)),E=n(772575),S=W(n(230047)),O=n(645758),b=W(n(279950)),I=W(n(730977)),T=n(688388),A=W(n(662197)),C=n(3400),M=W(n(308920)),N=W(n(692711)),P=W(n(542307)),R=K(n(849997)),w=n(237639),D=n(41787),L=n(327769),k=W(n(233915)),j=n(602175),U=n(770348),G=W(n(247001)),F=W(n(133766)),x=W(n(698242)),B=W(n(483683)),H=W(n(63685)),V=W(n(634737));function W(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function K(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function z(){z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return z.apply(this,arguments)}function $(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$(o,r,a,i,u,"next",e)}function u(e){$(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Q(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var te;!function(e){e[e.CLAIM_ACCOUNT=0]="CLAIM_ACCOUNT";e[e.EMAIL_CONFIRMATION=1]="EMAIL_CONFIRMATION";e[e.VERIFICATION_FORM=2]="VERIFICATION_FORM"}(te||(te={}));var ne=function(e){var t=e.email,n=e.password,r=e.setEmail,a=e.setPassword,o=e.emailError,i=e.passwordError;return ee("div",{className:F.default.content},void 0,ee("img",{
alt:G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_ICON,src:x.default,className:F.default.applicationIcon}),ee(E.Heading,{variant:"heading-xl/medium",className:F.default.header,level:3},void 0,G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_TITLE),ee(O.Text,{variant:"text-sm/normal",color:"header-secondary"},void 0,G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_SUBTITLE),ee("hr",{className:F.default.divider}),ee(T.FormItem,{title:G.default.Messages.FORM_LABEL_EMAIL,className:F.default.formItem},void 0,ee(b.default,{value:t,error:o,onChange:r,autoFocus:!0})),ee(T.FormItem,{title:G.default.Messages.FORM_LABEL_PASSWORD,className:F.default.formItem},void 0,ee(b.default,{type:"password",value:n,error:i,onChange:a})))};ne.displayName="MemberVerificationClaimAccountStep";var re=function(e){var t=e.email;return ee("div",{className:F.default.content},void 0,ee("img",{alt:G.default.Messages.MEMBER_VERIFICATION_VERIFY_EMAIL_ICON,src:V.default,className:F.default.applicationIcon
}),ee(E.Heading,{variant:"heading-xl/medium",className:F.default.header,level:3},void 0,G.default.Messages.MEMBER_VERIFICATION_EMAIL_CONFIRMATION_TITLE.format({email:t})),ee(O.Text,{variant:"text-sm/normal",color:"header-secondary"},void 0,G.default.Messages.MEMBER_VERIFICATION_EMAIL_CONFIRMATION_SUBTITLE),ee(_.default,{className:F.default.resendButton,size:_.default.Sizes.NONE,look:_.default.Looks.LINK,onClick:function(){return u.default.verifyResend()}},void 0,G.default.Messages.MEMBER_VERIFICATION_EMAIL_RESEND))};re.displayName="MemberVerificationEmailConfirmationStep";var ae=function(){return n.e(61029).then(n.t.bind(n,640002,19)).then((function(e){return e.default}))},oe=function(e){var t=e.guildId,n=e.formState,r=e.updateFormState,a=e.useReducedMotion,i=e.isPreview,u=void 0!==i&&i;return ee("div",{className:F.default.content},void 0,ee("div",{className:F.default.animationAndSparklesContainer},void 0,ee("img",{alt:G.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,
src:H.default,className:(0,o.default)(F.default.sparkleIcon,F.default.sparkleBottom)}),ee(S.default,{importData:ae,shouldAnimate:!a,className:F.default.animation}),ee("img",{alt:G.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:B.default,className:(0,o.default)(F.default.sparkleIcon,F.default.sparkleTop)})),ee(E.Heading,{variant:"heading-xl/medium",className:F.default.header,level:3},void 0,G.default.Messages.MEMBER_VERIFICATION_MODAL_TITLE),ee(O.Text,{variant:"text-sm/normal",color:"header-secondary",className:F.default.subheader},void 0,G.default.Messages.MEMBER_VERIFICATION_MODAL_SUBTITLE),ee("hr",{className:F.default.divider}),ee(k.default,{className:F.default.verificationForm,guildId:t,formState:n,updateFormState:r,isPreview:u}))};oe.displayName="MemberVerificationFormStep";var ie=function(e){var t,n,r,u=e.guildId,S=e.onClose,b=e.onComplete,T=e.inviteCode,k=e.isPreview,x=void 0!==k&&k,B=(0,L.useMemberVerificationFormNoticeStore)((function(e){
return e.hasUnsubmittedChanges})),H=(0,i.useStateFromStores)([y.default],(function(){return y.default.getGuild(u)})),V=(0,i.useStateFromStores)([R.default],(function(){return R.default.get(u)})),W=(0,i.useStateFromStores)([m.default],(function(){return m.default.getCurrentUser()})),Y=!(null==W?void 0:W.isClaimed()),K=null==W?void 0:W.verified,$=null==W?void 0:W.isPhoneVerified(),Z=(0,i.useStateFromStores)([c.default],(function(){return c.default.getGuildEmoji(u)})),J=(0,i.useStateFromStoresObject)([p.default],(function(){return{storeMemberCount:p.default.getMemberCount(u),storeOnlineCount:p.default.getOnlineCount(u)}
})),ae=J.storeMemberCount,ie=J.storeOnlineCount,ue=X(a.useState(null!==(t=null==V?void 0:V.formFields)&&void 0!==t?t:[]),2),le=ue[0],se=ue[1],de=X(a.useState(!1),2),fe=de[0],ce=de[1],pe=X(a.useState(null),2),ve=pe[0],ye=pe[1],me=X(a.useState(Y?te.CLAIM_ACCOUNT:te.VERIFICATION_FORM),2),_e=me[0],he=me[1],ge=X(a.useState(""),2),Ee=ge[0],Se=ge[1],Oe=X(a.useState(""),2),be=Oe[0],Ie=Oe[1],Te=X(a.useState(null),2),Ae=Te[0],Ce=Te[1],Me=X(a.useState(null),2),Ne=Me[0],Pe=Me[1],Re=null==V?void 0:V.guild,we=a.useMemo((function(){return null!=H?H:null!=Re?new f.default(Re):null}),[H,Re]),De=a.useMemo((function(){var e,t=Q(null!==(e=0===Z.length?null==Re?void 0:Re.emojis:Z)&&void 0!==e?e:[]).reverse(),n=0,r=t.length;if(r>12&&null!=t){t=t.slice(0,11);n=Math.min(r-t.length,99)}return{emojisToRender:t,remainingEmojis:n,numGuildEmoji:r}
}),[Re,Z]),Le=De.emojisToRender,ke=De.remainingEmojis,je=De.numGuildEmoji,Ue=null!=ae?ae:null==Re?void 0:Re.approximate_member_count,Ge=null!=ie?ie:null==Re?void 0:Re.approximate_presence_count;a.useEffect((function(){(0,L.setHasUnsubmittedChanges)(!1);return function(){(0,L.setHasUnsubmittedChanges)(!1)}}),[]);a.useEffect((function(){P.default.fetchVerificationForm(u,T)}),[u,T]);a.useEffect((function(){null!=V&&se(V.formFields)}),[V]);a.useEffect((function(){null!=W&&W.isClaimed()&&he(te.VERIFICATION_FORM)}),[W]);a.useEffect((function(){_e===te.EMAIL_CONFIRMATION&&K&&he(te.VERIFICATION_FORM)}),[_e,K]);a.useEffect((function(){null!=u&&M.default.track(U.AnalyticEvents.OPEN_MODAL,{type:j.MEMBER_VERIFICATION_TYPE,guild_id:u})}),[u]);a.useEffect((function(){var e=le.some((function(e){return e.field_type!==w.VerificationFormFieldTypes.TERMS&&(0,D.isValidFormResponse)(e)}));e&&!B?(0,L.setHasUnsubmittedChanges)(!0):!e&&B&&(0,L.setHasUnsubmittedChanges)(!1)}),[le,B])
;var Fe=a.useMemo((function(){return!(((null==we?void 0:we.verificationLevel)!==U.VerificationLevels.VERY_HIGH||(null==W?void 0:W.isStaff()))&&K||$)||le.some((function(e){return!(0,D.isValidFormResponse)(e)}))}),[le,we,$,K,W]),xe=(0,i.useStateFromStores)([s.default],(function(){return s.default.useReducedMotion}));if(null==we)return null;var Be=function(){var e=q(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(!0);Ce(null);Pe(null);e.prev=3;e.next=6;return(0,l.saveAccountRequest)({email:Ee,password:be});case 6:ce(!1);he(te.EMAIL_CONFIRMATION);e.next=14;break;case 10:e.prev=10;e.t0=e.catch(3);Ce(null===e.t0||void 0===e.t0||null===(t=e.t0.body)||void 0===t?void 0:t.email);Pe(null===e.t0||void 0===e.t0||null===(n=e.t0.body)||void 0===n?void 0:n.password);case 14:e.prev=14;ce(!1);return e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(){return e.apply(this,arguments)
}}(),He=function(){var e=q(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(!0);ye(null);if(null==(t=null!=W?v.default.getMember(u,W.id):null)||t.isPending){e.next=6;break}null==S||S(!0);return e.abrupt("return");case 6:e.prev=6;e.next=9;return null==b?void 0:b(z({},null!=V?V:R.NO_MEMBER_VERIFICATION_FORM,{formFields:le}));case 9:null==S||S(!0);e.next=17;break;case 12:e.prev=12;e.t0=e.catch(6);null!=(null==(a=null===e.t0||void 0===e.t0?void 0:e.t0.body)||null===(n=a.errors)||void 0===n?void 0:n.version)||null!=(null==a||null===(r=a.errors)||void 0===r?void 0:r.form_fields)?ye(G.default.Messages.MEMBER_VERIFICATION_VERSION_MISMATCH_ERROR):ye(null==a?void 0:a.message);ce(!1);case 17:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}}(),Ve=ee(ne,{email:Ee,password:be,setEmail:Se,setPassword:Ie,emailError:Ae,passwordError:Ne}),We=ee(re,{email:Ee}),Ye=ee(oe,{
guildId:u,formState:le,updateFormState:se,isPreview:x,useReducedMotion:xe}),Ke=ee(O.Text,{variant:"text-xs/normal",color:"text-danger"},void 0,ve);return a.createElement(a.Fragment,null,ee(h.default,{direction:h.default.Direction.VERTICAL,justify:h.default.Justify.BETWEEN,className:F.default.guildSidebar,shrink:0},void 0,ee("div",{},void 0,ee(g.default,{guild:we,active:!0,className:(0,o.default)(F.default.guildIcon,(n={},n[F.default.guildIconNoIcon]=null==we.icon,n))}),ee(E.Heading,{variant:"heading-lg/medium",className:F.default.guildName,level:3},void 0,null==we?void 0:we.name),ee(O.Text,{className:F.default.guildDescription,variant:"text-sm/normal",color:"header-secondary"},void 0,null==V?void 0:V.description),null!=Le&&Le.length>0?a.createElement(a.Fragment,null,ee("hr",{className:F.default.divider}),ee(A.default,{},void 0,G.default.Messages.MEMBER_VERIFICATION_NUM_EMOJIS.format({emojis:je})),ee("div",{className:F.default.emojisContainer},void 0,Le.map((function(e){
var t=N.default.getEmojiURL({id:e.id,animated:!1,size:24});return ee(I.default,{text:":"+e.name+":"},e.id,(function(e){return a.createElement("img",z({},e,{width:24,height:24,src:t,className:F.default.emoji,alt:""}))}))})),null!=ke&&ke>0?ee(E.Heading,{variant:"heading-sm/medium",className:F.default.emoji,color:"header-secondary",level:3},void 0,"+"+ke):null)):null),ee("div",{},void 0,null!=Ge&&ee(h.default,{align:h.default.Align.CENTER,className:F.default.onlineCount},void 0,ee("div",{className:F.default.dotOnline}),ee(O.Text,{variant:"text-sm/normal"},void 0,G.default.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:Ge}))),null!=Ue&&ee(h.default,{align:h.default.Align.CENTER},void 0,ee("div",{className:F.default.dotMembers}),ee(O.Text,{variant:"text-sm/normal"},void 0,G.default.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:Ue}))))),ee("div",{className:F.default.modal},void 0,ee(C.ModalContent,{className:F.default.modalContent},void 0,ee(d.default,{className:(0,
o.default)(F.default.sequencer,(r={},r[F.default.centerContent]=_e!==te.VERIFICATION_FORM,r)),steps:[te.CLAIM_ACCOUNT,te.EMAIL_CONFIRMATION,te.VERIFICATION_FORM],step:_e},void 0,function(){switch(_e){case te.CLAIM_ACCOUNT:return Ve;case te.EMAIL_CONFIRMATION:return We;case te.VERIFICATION_FORM:return Ye}}())),function(){switch(_e){case te.CLAIM_ACCOUNT:return ee(C.ModalFooter,{className:F.default.footer},void 0,ee(_.default,{className:F.default.submitButton,type:"submit",submitting:fe,onClick:Be,disabled:0===Ee.length||0===be.length},void 0,G.default.Messages.NEXT),ee(O.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_INFO));case te.EMAIL_CONFIRMATION:return null;case te.VERIFICATION_FORM:return ee(C.ModalFooter,{className:F.default.footer},void 0,ee(_.default,{className:F.default.submitButton,type:"submit",submitting:fe,onClick:He,color:_.default.Colors.GREEN,disabled:null==b||Fe
},void 0,G.default.Messages.SUBMIT),null!=ve?Ke:ee(O.Text,{color:"header-secondary",variant:"text-xs/normal"},void 0,G.default.Messages.MEMBER_VERIFICATION_WARNING))}}()))};t.default=ie},796015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=E(n(294184)),i=n(536211),u=E(n(30098)),l=E(n(790597)),s=E(n(956117)),d=n(645758),f=E(n(502197)),c=n(194322),p=E(n(868073)),v=n(237639),y=E(n(943819)),m=E(n(678875)),_=E(n(247001)),h=E(n(407829)),g=E(n(944659));function E(e){return e&&e.__esModule?e:{
default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=function(){var e,t=(0,i.useStateFromStores)([l.default],(function(){return l.default.getGuildId()}),[]),r=(0,i.useStateFromStores)([u.default],(function(){return u.default.getGuild(t)}),[t]),E=(0,i.useStateFromStores)([y.default],(function(){return null!=t?y.default.getRequest(t):null}),[t]);if(null==r||!r.hasVerificationGate())return null;var S=null!==(e=null==E?void 0:E.applicationStatus)&&void 0!==e?e:v.GuildJoinRequestApplicationStatuses.STARTED,O=null,A=null,C=null,M=[h.default.notice,g.default.notice];switch(S){case v.GuildJoinRequestApplicationStatuses.SUBMITTED:O=_.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE;A=_.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION;C=function(){(0,c.openModal)((function(e){return a.createElement(f.default,I({header:_.default.Messages.MODIFY_FOLLOWED_NEWS_HEADER,
confirmText:_.default.Messages.CONFIRM,cancelText:_.default.Messages.CANCEL,onConfirm:function(){return p.default.removeGuildJoinRequest(r.id)},confirmButtonColor:s.default.Colors.BRAND},e),T(d.Text,{variant:"text-md/normal"},void 0,_.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION_SUBTITLE))}))};break;case v.GuildJoinRequestApplicationStatuses.REJECTED:O=_.default.Messages.MEMBER_VERIFICATION_REJECTED_TITLE;A=_.default.Messages.MEMBER_VERIFICATION_LEARN_MORE;C=function(){(0,c.openModalLazy)(b(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(13554).then(n.bind(n,838303));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,I({guildId:r.id},e))}));case 5:case"end":return e.stop()}}),e)}))))};M.push(h.default.error);break;default:O=_.default.Messages.MEMBER_VERIFICATION_NOTICE_TEXT;A=_.default.Messages.MEMBER_VERIFICATION_NOTICE_CTA;C=function(){
(0,m.default)(r.id)}}return T("div",{className:o.default.apply(void 0,M)},void 0,T(d.Text,{className:h.default.header,variant:"text-sm/normal"},void 0,O),T(s.default,{className:h.default.button,look:s.default.Looks.OUTLINED,color:s.default.Colors.WHITE,size:s.default.Sizes.NONE,onClick:C},void 0,A))};A.displayName="PendingGuildMemberNotice";var C=A;t.default=C},710483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(370405),i=n(536211),u=m(n(759027)),l=m(n(30098)),s=m(n(868073)),d=m(n(542307)),f=n(519589),c=m(n(191265)),p=m(n(611408)),v=m(n(247001)),y=m(n(851007));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.guildId,n=(0,f.useSelectedGuildJoinRequest)({guildId:t}),r=(null!=n?n:{}).user,m=a.useMemo((function(){return null!=r?new u.default(r):null}),[r]),_=(0,i.useStateFromStores)([l.default],(function(){
return l.default.getGuild(t)}),[t]);a.useEffect((function(){d.default.fetchVerificationForm(t)}),[t]);return a.createElement(a.Fragment,null,h(o.Helmet,{title:v.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REQUIREMENTS}),h("div",{className:y.default.content},void 0,h(c.default,{guildId:t})),null!=n&&null!=_&&null!=m&&h("section",{className:y.default.sidebar},void 0,h(p.default,{guild:_,guildJoinRequest:n,guildJoinRequestUser:m,onClose:function(){return s.default.setSelectedGuildJoinRequest(t,null)}})))};t.default=g},254048:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=n(967965),u=n(237639),l=(r=n(247001))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.className,n=e.sortOrder,r=e.onSortChange,a=o.useMemo((function(){return[{value:u.GuildJoinRequestSortOrders.TIMESTAMP_DESC,label:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_NEWEST},{value:u.GuildJoinRequestSortOrders.TIMESTAMP_ASC,
label:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_OLDEST}]}),[]);return d(i.SingleSelect,{className:t,onChange:r,value:n,options:a})}f.displayName="MemberApplicationSortSelect";var c=f;t.default=c},191265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(645758),i=h(n(868073)),u=n(83e3),l=n(912958),s=n(519589),d=n(322865),f=n(912322),c=n(181945),p=h(n(254048)),v=h(n(969804)),y=h(n(882793)),m=h(n(247001)),_=h(n(690919));function h(e){return e&&e.__esModule?e:{default:e}}
function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}var b=a.memo((function(e){var t=e.guildId,n=a.useRef(null),r=(0,l.useSelectedApplicationStatus)({guildId:t}),h=(0,
d.useSelectedSortOrder)({guildId:t}),g=(0,s.useSelectedGuildJoinRequest)({guildId:t}),S=(0,c.useSubmittedGuildJoinRequestTotal)({guildId:t}),b=(0,f.useSortedMemberApplications)({guildId:t,applicationStatus:r,sortOrder:h}).guildJoinRequests,I=(0,u.usePaginatedMemberApplications)({guildId:t,guildJoinRequests:b}).fetchNextPage,T=a.useRef(!1);if(!T.current){T.current=!0;I(h,r)}var A=a.useRef(!1);a.useEffect((function(){A.current=!0}),[h,r]);a.useEffect((function(){if(A.current&&0!==b.length){var e;A.current=!1;i.default.setSelectedGuildJoinRequest(t,b[0]);null===(e=n.current)||void 0===e||e.scrollToTop()}}),[t,b,g]);var C=a.useCallback(function(){var e=O(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h!==n){e.next=2;break}return e.abrupt("return");case 2:i.default.setSelectedSortOrder(t,n);e.next=5;return I(n,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}
}(),[r,h,t,I]),M=a.useCallback(function(){var e=O(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==n){e.next=2;break}return e.abrupt("return");case 2:i.default.setSelectedApplicationStatus(t,n);i.default.setSelectedGuildJoinRequest(t,null);e.next=6;return I(h,n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,h,t,I]),N=a.useCallback(O(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(a=null===(t=n.current)||void 0===t?void 0:t.getScrollerState())){e.next=3;break}return e.abrupt("return");case 3:if(!(a.scrollHeight-a.scrollTop-a.offsetHeight<200)){e.next=7;break}e.next=7;return I(h,r);case 7:case"end":return e.stop()}}),e)}))),[r,h,I]);return a.createElement(a.Fragment,null,E(v.default,{applicationStatus:r,onTabItemSelect:M,pendingGuildJoinRequestsTotal:S}),E("div",{
className:_.default.content},void 0,E("div",{className:_.default.listControls},void 0,E(p.default,{className:_.default.sortSelect,sortOrder:h,onSortChange:C})),E(o.Text,{className:_.default.description,variant:"text-xs/normal",color:"header-secondary"},void 0,m.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_LIST_DESCRIPTION),E(y.default,{applicationStatus:r,guildJoinRequests:b,guildId:t,onScroll:N,listRef:n})))}));t.default=b},969804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;c(n(667294));var r,a=d(n(463024)),o=c(n(186465)),i=d(n(214402)),u=n(237639),l=d(n(247001)),s=d(n(624774));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=p("div",{});function y(e){var t=e.pendingGuildJoinRequestsTotal,n=e.applicationStatus,r=e.onTabItemSelect;return p(a.default,{className:s.default.container,hideSearch:!0,toolbar:v},void 0,p(a.default.Icon,{icon:i.default,disabled:!0,
"aria-label":l.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS}),p(a.default.Title,{className:s.default.title},void 0,l.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS),p(a.default.Divider,{className:s.default.divider}),p(o.default,{"aria-label":l.default.Messages.FRIENDS,selectedItem:n,type:o.Types.TOP_PILL,onItemSelect:r,className:s.default.tabBar},void 0,p(o.Item,{id:u.GuildJoinRequestApplicationStatuses.SUBMITTED},void 0,0===t?l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT.format({count:t})),p(o.Item,{id:u.GuildJoinRequestApplicationStatuses.APPROVED},void 0,l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED),p(o.Item,{id:u.GuildJoinRequestApplicationStatuses.REJECTED},void 0,l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED)))}y.displayName="MemberApplicationsHeader";var m=y;t.default=m},882793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=O(n(294184)),i=n(798628),u=n(536211),l=O(n(415391)),s=O(n(30098)),d=n(645758),f=O(n(521358)),c=O(n(868073)),p=O(n(499098)),v=n(237639),y=n(519589),m=n(181945),_=n(985577),h=n(423277),g=O(n(247001)),E=O(n(631447)),S=["ref","role"];function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=function(){return null};var C=function(e){var t=e.applicationStatus,n=e.guildJoinRequests,r=e.guildId,O=e.onScroll,b=e.listRef,C=(0,u.useStateFromStores)([s.default],(function(){return s.default.getGuild(r)}),[r]),M=(0,u.useStateFromStores)([p.default],(function(){return p.default.isFetching()})),N=M?[n.length+25]:[n.length],P=(0,y.useSelectedGuildJoinRequest)({guildId:r}),R=(0,m.useSubmittedGuildJoinRequestTotal)({guildId:r}),w=(0,
l.default)("guild-join-requests"),D=function(e){var a,i=e.row,u=n[i];return null==u?T(h.MemberApplicationsListRowPlaceholder,{},i):T(h.MemberApplicationsListRow,{className:(0,o.default)((a={},a[E.default.selected]=P===u,a[E.default.siblingSelected]=P===n[i-1],a)),guild:C,guildJoinRequest:u,onClick:function(){return c.default.setSelectedGuildJoinRequest(r,u)},applicationStatus:t},u.userId+"-"+u.applicationStatus+"-"+i)};return M||0!==n.length?a.createElement(a.Fragment,null,0!==R&&t===v.GuildJoinRequestApplicationStatuses.SUBMITTED&&T(d.Text,{className:E.default.title,variant:"text-xs/semibold",color:"header-secondary"},void 0,function(e,t){var n=t.toLocaleString();switch(e){case v.GuildJoinRequestApplicationStatuses.SUBMITTED:return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT_HYPEN.format({count:n});case v.GuildJoinRequestApplicationStatuses.REJECTED:return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED_COUNT_HYPEN.format({count:n})
;case v.GuildJoinRequestApplicationStatuses.APPROVED:return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED_COUNT_HYPEN.format({count:n});default:return""}}(t,R).toUpperCase()),T(i.ListNavigatorProvider,{navigator:w},void 0,T(i.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=e.role,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,S);return a.createElement(f.default,I({key:"guild-application-review",innerRole:n,innerAriaLabel:g.default.Messages.MEMBERS,ref:function(e){var n;b.current=e;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null},paddingTop:0,paddingBottom:16,sectionHeight:0,rowHeight:64,renderSection:A,renderRow:D,sections:N,onScroll:O,fade:!0},r))})))):T(_.ApplicationsEmptyState,{status:t})};t.default=C},423277:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MemberApplicationsListRow=D
;t.MemberApplicationsListRowPlaceholder=L;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=I(n(294184)),i=I(n(730381)),u=n(378158),l=I(n(759027)),s=I(n(16941)),d=n(645758),f=I(n(992193)),c=I(n(259530)),p=I(n(775803)),v=n(57744),y=I(n(628551)),m=I(n(810919)),_=n(767019),h=n(143586),g=I(n(692711)),E=I(n(868073)),S=n(237639),O=I(n(247001)),b=I(n(631447));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(){A=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function C(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,u,"next",e)}function u(e){C(o,r,a,i,u,"throw",e)}i(void 0)}))}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e){var t,n=e.icon,r=e.onClick,a=e.submitting,i=e.disabled;return R(s.default,{
className:(0,o.default)(b.default.actionIconContainer,(t={},t[b.default.disabled]=i||a,t)),onClick:r},void 0,a?R(m.default,{className:b.default.icon,dotRadius:2,themed:!0}):R(n,{className:b.default.icon,height:12,width:12}))}w.displayName="ActionButton";function D(e){var t,r=e.applicationStatus,m=e.guild,I=e.guildJoinRequest,T=e.className,C=e.onClick,P=N(a.useState(null),2),D=P[0],L=P[1],k=I.user,j=I.createdAt;if(null==k)throw new Error("Missing user on this guild join request!");var U=a.useMemo((function(){return new l.default(k)}),[k]),G=g.default.getUserAvatarURL(U),F=r===S.GuildJoinRequestApplicationStatuses.SUBMITTED,x=a.useCallback(function(){var e=M(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.guildId,a=t.userId;if(null==D){e.next=3;break}return e.abrupt("return");case 3:L(n);e.prev=4;e.next=7;return E.default.updateGuildJoinRequest(r,a,n);case 7:e.next=13;break;case 9:e.prev=9
;e.t0=e.catch(4);(0,h.showToast)((0,_.createToast)(O.default.Messages.ERROR_GENERIC_TITLE,_.ToastType.FAILURE));L(null);case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,n){return e.apply(this,arguments)}}(),[D]),B=function(){var e=M(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return x(I,S.GuildJoinRequestApplicationStatuses.APPROVED);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=M(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return x(I,S.GuildJoinRequestApplicationStatuses.REJECTED);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return R(s.default,{className:(0,o.default)(b.default.container,T),onClick:C},void 0,R(y.default,{src:G,size:y.default.Sizes.SIZE_40,
"aria-label":k.username,className:b.default.spacer}),R("div",{className:b.default.userDetails},void 0,R(d.Text,{variant:"text-md/semibold",color:"header-primary"},void 0,k.username),R(d.Text,{className:b.default.createdAt,variant:"text-sm/normal",color:"header-secondary"},void 0,(0,i.default)(j).format("lll"))),F&&R(w,{icon:f.default,onClick:B,submitting:D===S.GuildJoinRequestApplicationStatuses.APPROVED,disabled:null!=D&&D!==S.GuildJoinRequestApplicationStatuses.APPROVED}),F&&R(w,{icon:c.default,onClick:H,submitting:D===S.GuildJoinRequestApplicationStatuses.REJECTED,disabled:null!=D&&D!==S.GuildJoinRequestApplicationStatuses.REJECTED}),R(s.default,{className:(0,o.default)(b.default.overflowMenuContainer,(t={},t[b.default.disabled]=null!=D,t)),onClick:function(e){(0,u.openContextMenuLazy)(e,M(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(74869).then(n.bind(n,574869));case 2:t=e.sent
;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,A({},e,{guild:m,user:U}))}));case 5:case"end":return e.stop()}}),e)}))),{position:v.Positions.BOTTOM,align:v.Align.RIGHT})}},void 0,R(p.default,{className:b.default.icon,width:18})))}D.displayName="MemberApplicationsListRow";function L(){var e=Math.floor(50*Math.random())+100+"px",t=Math.floor(25*Math.random())+50+"px";return R("div",{className:b.default.placeholder},void 0,R("div",{className:(0,o.default)(b.default.placeholderAvatar)}),R("div",{className:b.default.userDetails},void 0,R("div",{className:b.default.placeholderUsername,style:{maxWidth:e}}),R("div",{className:b.default.placeholderCreatedAt,style:{maxWidth:t}})))}L.displayName="MemberApplicationsListRowPlaceholder"},831051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=M(n(730381)),i=M(n(795715)),u=n(536211),l=n(378158),s=n(910992),d=M(n(876874)),f=M(n(728429)),c=M(n(956117)),p=M(n(16941)),v=n(772575),y=n(645758),m=M(n(474026)),_=M(n(930600)),h=M(n(946750)),g=M(n(775803)),E=n(194322),S=n(767019),O=n(143586),b=M(n(868073)),I=n(237639),T=n(770348),A=M(n(247001)),C=M(n(328690));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return P.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=24;function U(e){
var t,r=e.guildJoinRequest,M=e.guild,N=e.guildJoinRequestUser,w=L(a.useState(!1),2),k=w[0],U=w[1],G=r.createdAt,F=r.actionedAt,x=r.guildId,B=r.userId,H=null===(t=r.actionedByUser)||void 0===t?void 0:t.id,V=(0,u.useStateFromStores)([f.default],(function(){return f.default.getUser(H)})),W=(0,u.useStateFromStores)([d.default],(function(){return null!=H?d.default.getMember(x,H):null}),[H,x]),Y=a.useCallback((function(){(0,O.showToast)((0,S.createToast)(A.default.Messages.ERROR_GENERIC_TITLE,S.ToastType.FAILURE))}),[]),K=function(){var e=D(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:U(!0);e.prev=3;e.next=6;return b.default.updateGuildJoinRequest(x,B,I.GuildJoinRequestApplicationStatuses.APPROVED);case 6:e.next=11;break;case 8:e.prev=8;e.t0=e.catch(3);Y();case 11:e.prev=11;U(!1);return e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[3,8,11,14]])})))
;return function(){return e.apply(this,arguments)}}(),z=A.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING,$=R(h.default,{width:j,height:j,className:C.default.icon});if(r.applicationStatus===I.GuildJoinRequestApplicationStatuses.APPROVED){z=A.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED;$=R(m.default,{width:j,height:j,className:C.default.iconApproved,backgroundColor:T.Colors.WHITE})}else if(r.applicationStatus===I.GuildJoinRequestApplicationStatuses.REJECTED){z=A.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED;$=R(_.default,{width:j,height:j,className:C.default.iconRejected,backgroundColor:T.Colors.WHITE})}var q=null!=V&&null!=F?A.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_ACTIONED_BY_HOOK.format({date:(0,o.default)(i.default.extractTimestamp(F)).format("ll"),usernameHook:function(){var e;return R(p.default,{className:C.default.actionedByUser,onClick:function(){return(0,s.openUserProfileModal)({userId:V.id,guildId:x,analyticsLocation:{
section:T.AnalyticsSections.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:T.AnalyticsObjects.ACTIONED_BY_USER}})},tag:"div",role:"link"},"username-hook",R(y.Text,{variant:"text-xs/normal",color:"header-primary"},void 0,null!==(e=null==W?void 0:W.nick)&&void 0!==e?e:V.username))}}):(0,o.default)(G).format("lll");return R("div",{className:C.default.container},void 0,R("div",{className:C.default.wrapper},void 0,R("div",{className:C.default.inline},void 0,$,R("div",{},void 0,R(v.Heading,{variant:"heading-deprecated-14/medium",level:3},void 0,z),R(y.Text,{className:C.default.headerSubtext,variant:"text-xs/normal",color:"header-secondary"},void 0,q))),R("div",{className:C.default.inline},void 0,r.applicationStatus===I.GuildJoinRequestApplicationStatuses.SUBMITTED&&R("div",{className:C.default.buttons},void 0,R(c.default,{color:c.default.Colors.GREEN,submitting:k,onClick:function(){return K()}
},void 0,A.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVE_APPLICATION),R(c.default,{color:c.default.Colors.RED,onClick:function(){(0,E.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(68689).then(n.bind(n,868689));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return R(r,{modalProps:e,guildId:x,userId:B,onError:Y})}));case 5:case"end":return e.stop()}}),e)}))))},disabled:k},void 0,A.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_DENY_APPLICATION)),R(p.default,{onClick:function(e){(0,l.openContextMenuLazy)(e,D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(74869).then(n.bind(n,574869));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,P({},e,{guild:M,user:N}))}));case 5:case"end":return e.stop()}}),e)
}))))},className:C.default.overflow},void 0,R(g.default,{width:20,height:20,className:C.default.iconInteractive})))),r.applicationStatus===I.GuildJoinRequestApplicationStatuses.REJECTED&&null!=r.rejectionReason&&R("div",{className:C.default.rejectionReason},void 0,R(y.Text,{variant:"text-sm/normal"},void 0,r.rejectionReason)))}U.displayName="ActionBar"},574274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=v(n(294184)),o=n(910992),i=v(n(151097)),u=n(772575),l=n(645758),s=v(n(628551)),d=v(n(692711)),f=n(770348),c=v(n(247001)),p=v(n(734787));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.user,n=e.className,r=t.discriminator,v=t.username,y=d.default.getUserAvatarURL(t);return m("div",{className:(0,a.default)(p.default.container,n)},void 0,m(s.default,{src:y,size:s.default.Sizes.SIZE_80,"aria-label":v,
className:p.default.avatar}),m("div",{className:p.default.username},void 0,m(u.Heading,{variant:"heading-xl/medium",level:3},void 0,v),m(l.Text,{variant:"text-md/normal",color:"header-secondary"},void 0,"#",r)),m(i.default,{onClick:function(){(0,o.openUserProfileModal)({userId:t.id,analyticsLocation:{section:f.AnalyticsSections.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:f.AnalyticsObjects.JOIN_REQUEST}})}},void 0,c.default.Messages.VIEW_PROFILE))}_.displayName="GuildJoinRequestUserProfile"},611408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(772575),i=y(n(259530)),u=y(n(190178)),l=y(n(878556)),s=y(n(582945)),d=y(n(341394)),f=y(n(831051)),c=y(n(574274)),p=y(n(247001)),v=y(n(800660));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.guild,n=e.guildJoinRequest,r=e.guildJoinRequestUser,y=e.onClose,m=a.useMemo((function(){var e
;return null!==(e=n.formResponses)&&void 0!==e?e:[]}),[n.formResponses]);return a.createElement(a.Fragment,null,_(l.default,{toolbar:_(l.default.Icon,{icon:i.default,onClick:y,tooltip:p.default.Messages.CLOSE})},void 0,_(l.default.Icon,{icon:u.default,disabled:!0,"aria-label":p.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATION}),_(o.Heading,{variant:"heading-md/medium",level:3},void 0,r.toString())),_(f.default,{guildJoinRequest:n,guildJoinRequestUser:r,guild:t}),_(s.default,{},void 0,_(c.default,{user:r,className:v.default.container}),_("div",{className:v.default.disabledFormRenderer},void 0,_(d.default,{guildId:t.id,formFields:m,user:r}))))};t.default=h},341394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=y(n(728429)),u=y(n(311591)),l=n(237639),s=n(820379),d=n(86309),f=n(317258),c=n(759085),p=n(129277),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){
var t=e.formFields,n=e.user;return null==(0,o.useStateFromStores)([i.default],(function(){return null!=n?n:i.default.getCurrentUser()}))?null:a.createElement(a.Fragment,null,_(s.RequirementRenderer,{icon:u.default,text:v.default.Messages.MEMBER_VERIFICATION_FORM_PASSED_REQUIREMENTS,passesRequirement:!0}),t.map((function(e,t){return function(e,t){switch(e.field_type){case l.VerificationFormFieldTypes.TERMS:return _(c.DisabledTermsRequirementFormField,{formField:e},t);case l.VerificationFormFieldTypes.TEXT_INPUT:return _(p.DisabledTextInputFormField,{formField:e},t);case l.VerificationFormFieldTypes.PARAGRAPH:return _(f.DisabledParagraphFormField,{formField:e},t);case l.VerificationFormFieldTypes.MULTIPLE_CHOICE:return _(d.DisabledMultipleChoiceFormField,{formField:e},t)}}(e,t)})))};t.default=h},828339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(536211)),o=d(n(636602)),i=d(n(423046)),u=d(n(644263)),l=n(155787),s=n(770348)
;function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v={}
;function y(e,t){var n=v[e];if(null==n)return!1;if(n.has(t))return!1;v[e]=new Set(n.add(t));return!0}var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(i.default);v={};null!=e&&Object.keys(e).forEach((function(t){var n=e[t];null!=n&&"function"==typeof n[Symbol.iterator]&&(v[t]=new Set(n))}))};n.getProgress=function(e){return v[e]};n.hasProgress=function(e){var t=v[e];return null!=t&&!t.has(l.Steps.DISMISSED)};n.getState=function(){return v};n.__getLocalVars=function(){return{guildProgress:v}};return t}(a.default.PersistedStore);m.displayName="GuildProgressStore";m.persistKey="GuildProgressStore";var _=new m(o.default,((r={})[s.ActionTypes.CONNECTION_OPEN]=function(){var e=[];Object.keys(v).forEach((function(t){v[t].has(l.Steps.COMPLETED)&&e.push(t)}));e.forEach((function(e){return y(e,l.Steps.DISMISSED)}))},
r[s.ActionTypes.GUILD_PROGRESS_INITIALIZE]=function(e){var t=e.guildId;null==v[t]&&(v[t]=new Set);v[t].has(l.Steps.COMPLETED)||v[t].delete(l.Steps.DISMISSED)},r[s.ActionTypes.GUILD_PROGRESS_COMPLETED_SEEN]=function(e){var t=e.guildId;if(null==v[t])return!1;v[t]=new Set(v[t].add(l.Steps.COMPLETED))},r[s.ActionTypes.GUILD_PROGRESS_DISMISS]=function(e){return y(e.guildId,l.Steps.DISMISSED)},r[s.ActionTypes.GUILD_CREATE]=function(e){var t=e.guild;if(t.owner_id===i.default.getId()&&null!=v[t.id]){null!=t.icon&&v[t.id].add(l.Steps.AVATAR);t.member_count>1&&v[t.id].add(l.Steps.INVITE)}},r[s.ActionTypes.CHANNEL_CREATE]=function(e){var t=e.channel;return null!=t&&null!=t.guild_id&&null!=v[t.guild_id]&&y(t.guild_id,l.Steps.CHANNEL)},r[s.ActionTypes.CHANNEL_UPDATES]=function(e){for(var t,n=!1,r=c(e.updates);!(t=r()).done;){var a=t.value.channel;null!=a&&null!=a.guild_id&&null!=v[a.guild_id]&&!1!==y(a.guild_id,l.Steps.CHANNEL)&&(n=!0)}return n},
r[s.ActionTypes.GUILD_SETTINGS_SUBMIT_SUCCESS]=function(e){var t=e.guild;return null!=t&&(null!=t.id&&null!=v[t.id]&&null!=t.icon&&y(t.id,l.Steps.AVATAR))},r[s.ActionTypes.MESSAGE_CREATE]=function(e){var t=e.channelId,n=e.message,r=u.default.getChannel(t);return n.author.id===i.default.getId()&&null!=r&&null!=v[r.guild_id]&&y(r.guild_id,l.Steps.MESSAGE)},r[s.ActionTypes.GUILD_MEMBER_LIST_UPDATE]=function(e){var t=e.guildId,n=e.memberCount;return null!=v[t]&&n>1&&y(t,l.Steps.INVITE)},r));t.default=_},473250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchGuildRecommendations=function(e){return c.apply(this,arguments)};var r,a=s(n(118915)),o=s(n(636602)),i=n(864489),u=s(n(768535)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){
var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}!function(e){e[e.DESKTOP=1]="DESKTOP";e[e.MOBILE=2]="MOBILE";e[e.WEB=3]="WEB"}(r||(r={}));function c(){return(c=f(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===t&&(t={});if(!u.default.isFetching()){e.next=3;break}return e.abrupt("return");case 3:o.default.dispatch({type:l.ActionTypes.GUILD_RECOMMENDATION_FETCH});n=(0,i.isDesktop)()?r.DESKTOP:r.WEB;e.prev=5;e.next=8;return a.default.get({url:l.Endpoints.GUILD_RECOMMENDATIONS(),query:{personalization_disabled:t.personalization_disabled,client_type:n}});case 8:s=e.sent;o.default.dispatch({type:l.ActionTypes.GUILD_RECOMMENDATION_FETCH_SUCCESS,recommendedGuilds:s.body.recommended_guilds,loadId:s.body.load_id});e.next=15;break;case 12:e.prev=12;e.t0=e.catch(5);o.default.dispatch({type:l.ActionTypes.GUILD_RECOMMENDATION_FETCH_FAILURE});case 15:
case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}},580756:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(l=(0,a.default)(),s=2,function(e){if(Array.isArray(e))return e}(l)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(l,s)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(l,s)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],r=t[1],u=null!=(null==e?void 0:e.application_id)&&null!=r?(0,o.getAssetURL)(e.application_id,e,r):void 0;var l,s;return[n,u]};var r,a=(r=n(606306))&&r.__esModule?r:{default:r},o=n(204785);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},678075:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getSubscriptions()})),n=r.useMemo((function(){if(null==t)return{};for(var e={},n=0,r=Object.values(t);n<r.length;n++){var a=r[n];if(a.type===d.SubscriptionTypes.GUILD){e[(0,s.getRoleSubscriptionPlanId)(a)]=a}}return e}),[t]),f=(0,a.useStateFromStoresObject)([l.default],(function(){
for(var t,r,a,o=null,i=null!=e?l.default.getSubscriptionGroupListing(e):null,u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(null!==(t=null==i?void 0:i.subscription_listings_ids)&&void 0!==t?t:[]);!(a=u()).done;){var s=a.value,d=l.default.getSubscriptionListing(s),f=null==d?void 0:d.subscription_plans[0].id
;if(null!=f){var c=n[f];if(null!=c){o=c;r=d;break}}}return{activeSubscription:o,activeSubscriptionListing:r}})),c=f.activeSubscription,v=f.activeSubscriptionListing,y=null==v?void 0:v.subscription_plans[0],m=null==y?void 0:y.id,_=null==y?void 0:y.sku_id,h=(0,a.useStateFromStores)([i.default],(function(){return null!=m?i.default.get(m):null})),g=null==v?void 0:v.soft_deleted;r.useEffect((function(){null!=h||null==_||i.default.isFetchingForSKU(_)||(0,o.fetchSubscriptionPlansForSKU)(_,void 0,void 0,g)}),[h,_,g]);return{activeSubscription:c,activeSubscriptionListing:v,activeSubscriptionPlanFromStore:h}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=n(856259),i=f(n(909584)),u=f(n(146771)),l=f(n(523754)),s=n(251349),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},11114:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useGetTrialPurchaseEligibility=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null
;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(327269),o=n(947428);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.useGetTrialPurchaseEligibility=function(){var e=l(r.useState(!1),2),t=e[0],n=e[1],i=l(r.useState(null),2),s=i[0],d=i[1],f=r.useCallback(function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r,i){var u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!0);d(null);e.prev=2;e.next=5;return(0,o.getGuildRoleSubscriptionTrialEligibility)(t,r,i);case 5:u=e.sent;return e.abrupt("return",u);case 9:e.prev=9;e.t0=e.catch(2);d(new a.APIError(e.t0));case 12:e.prev=12;n(!1);return e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})),function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}(),[]);return{loading:t,error:s,getTrialPurchaseEligibility:f}}},896238:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=(0,a.useSubscriptionTrial)(t);return r.useMemo((function(){var e;return null!=n&&(null==n.max_num_active_trial_users||n.max_num_active_trial_users>(null!==(e=n.num_active_trial_users)&&void 0!==e?e:0))}),[n])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(547642);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},30209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.getCurrentUser()})),r=(null==e?void 0:e.ownerId)===(null==n?void 0:n.id),s=(0,u.useGuildEligibleForRoleSubscriptions)(null==e?void 0:e.id),d=(0,o.useIsUserInCreatorMonetizationEligibleCountry)();return r&&null!==(t=null==e?void 0:e.hasFeature(l.GuildFeatures.COMMUNITY))&&void 0!==t&&t&&s&&d&&!((null==e?void 0:e.hasFeature(l.GuildFeatures.CREATOR_MONETIZABLE))||(null==e?void 0:e.hasFeature(l.GuildFeatures.CREATOR_MONETIZABLE_DISABLED)))};var r,a=n(536211),o=n(412473),i=(r=n(728429))&&r.__esModule?r:{default:r},u=n(403008),l=n(770348)},58846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.useSubscriptionListingsForChannel=function(e){var t=e.guildId,n=e.channelId,f=(0,l.useSubscriptionListingsForGuild)(t);return(0,a.useStateFromStoresArray)([i.default,u.default,o.default],(function(){var e=i.default.getChannel(n),a=u.default.getGuild(t),l=o.default.isViewingRoles(t);return null!=a&&null!=e?f.filter((function(t){return function(e,t,n,a){var o=(void 0===a?{}:a).isPreviewingRoles;if(!(void 0!==o&&o||e.published))return!1;var i=n.permissionOverwrites[e.role_id];if((0,s.isChannelAccessGrantedBy)(n,i))return!0;var u=t.getRole(t.id),l=null!=u&&!r.default.has(u.permissions,d.Permissions.VIEW_CHANNEL),f=(0,s.isChannelAccessDeniedBy)(n,n.permissionOverwrites[t.id]),c=t.getRole(e.role_id);return l&&!f&&null!=c&&(0,s.isAllChannelsRole)(c)&&!(0,s.isChannelAccessDeniedBy)(n,i)}(t,a,e,{isPreviewingRoles:l})})):[]}),[t,n,f])};var r=f(n(267258)),a=n(536211),o=f(n(686305)),i=f(n(644263)),u=f(n(30098)),l=n(547642),s=n(243078),d=n(770348);function f(e){return e&&e.__esModule?e:{
default:e}}},381777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.groupListingId,f=e.location,c=e.relevantSubscriptionListingIds,v=(0,u.useFetchListingsForGuild)(t,{refetchOnMount:!1}).listingsLoaded,y=null!=(0,s.default)(n).activeSubscription,m=(0,a.useStateFromStoresArray)([l.default],(function(){return(null!=c?c:[]).filter((function(e){var t;return!0===(null===(t=l.default.getSubscriptionListing(e))||void 0===t?void 0:t.published)}))}),[c]),_=r.useRef(!1);r.useEffect((function(){if(v&&null!=n&&null!=m&&!_.current){_.current=!0;i.default.track(d.AnalyticEvents.ROLE_SUBSCRIPTION_LISTING_UPSELL_PAGE_VIEWED,p({role_subscription_group_listing_id:n,role_subscription_listing_ids:m,is_premium_member:y,location:f},(0,o.collectGuildAnalyticsMetadata)(t)))}}),[t,n,v,f,m,y])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=n(844784),i=f(n(308920)),u=n(547642),l=f(n(523754)),s=f(n(678075)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}},365365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(294184)),o=d(n(956117)),i=d(n(873376)),u=n(645758),l=d(n(417184)),s=d(n(580543));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=c(i.default,{size:10,horizontal:!0}),v=c(i.default,{size:1}),y=c(i.default,{size:16,horizontal:!0});function m(e){var t=e.message,n=e.error,r=e.onClick,i=e.submitting,d=e.className,f=e.ctaMessage;return c("div",{className:(0,a.default)(s.default.container,d)},void 0,c("div",{className:s.default.textContainer},void 0,c(l.default,{className:s.default.warningIcon}),p,c("div",{},void 0,v,c(u.Text,{className:s.default.info,variant:"text-sm/normal"},void 0,t),null!=n&&c(u.Text,{className:(0,a.default)(s.default.info,s.default.error),variant:"text-sm/normal"},void 0,n))),y,c(o.default,{className:s.default.undoButton,color:o.default.Colors.LINK,look:o.default.Looks.LINK,size:o.default.Sizes.ICON,onClick:r,submitting:i},void 0,f))}m.displayName="ActionableNotice"},104805:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=h;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(47354),o=y(n(342518)),i=y(n(185948)),u=y(n(964285)),l=y(n(142024)),s=y(n(30098)),d=y(n(728429)),f=n(770348),c=y(n(247001)),p=y(n(743861)),v=y(n(691634));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.guildId,n=e.markAsDismissed,r=(0,o.default)([s.default,d.default],(function(){var e=d.default.getCurrentUser(),n=s.default.getGuild(t);return!0===(null==n?void 0:n.isOwner(e))}));(0,i.default)({type:a.ImpressionTypes.POPOUT,name:a.ImpressionNames.ENABLE_CREATOR_MONETIZATION_GUILD_HEADER_UPSELL,properties:{guild_id:t,is_owner:r}});return _("div",{className:p.default.container},void 0,_(l.default,{header:c.default.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_HEADER,content:c.default.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_BODY,asset:_("div",{className:p.default.image},void 0,_("img",{alt:c.default.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_IMG_ALT,src:v.default,className:p.default.image})),
buttonCTA:c.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_UPSELL_CTA,onClick:function(){u.default.open(t,f.GuildSettingsSections.ROLE_SUBSCRIPTIONS)},secondaryButtonCTA:c.default.Messages.DISMISS,markAsDismissed:n}))}h.displayName="GuildRoleSubscriptionUpsell"},675176:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(730381)),i=n(832635),u=c(n(954140)),l=c(n(37039)),s=n(547642),d=c(n(365365)),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{
i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t=m(a.useState(!1),2),n=t[0],r=t[1],o=m(a.useState(null),2),u=o[0],l=o[1],s=function(){var t,n=(t=regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(!0);l(null);t.prev=2;t.next=5;return(0,i.deleteRenewalMutation)(n,e);case 5:t.next=10;break;case 7:
t.prev=7;t.t0=t.catch(2);l(t.t0);case 10:t.prev=10;r(!1);return t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[2,7,10,13]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();return{resetRenewalMutation:s,submitting:n,error:u}};function g(e){var t=e.groupListingId,n=e.subscription,r=e.className,i=(0,l.default)(u.default.PENDING_PLAN_CHANGE_NOTICE).analyticsLocations,c=h(i),p=c.resetRenewalMutation,y=c.submitting,m=c.error,_=(0,s.useSubscriptionListingsForGroup)(t,{includeSoftDeleted:!0}),g=a.useMemo((function(){if(null==(null==n?void 0:n.renewalMutations))return{currentListing:void 0,nextListing:void 0};var e=n.items[0].planId,t=n.renewalMutations.items[0].planId;return{currentListing:_.find((function(t){return t.subscription_plans[0].id===e})),nextListing:_.find((function(e){
return e.subscription_plans[0].id===t}))}}),[n,_]),E=g.currentListing,S=g.nextListing;if(null==n||null==E||null==S)return null;var O=(0,o.default)(n.currentPeriodEnd).format("MMM DD, YYYY");return v(d.default,{message:f.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_DELETE_MUTATION_DESCRIPTION.format({currentListing:E.name,nextListing:S.name,changeDate:O}),error:null==m?void 0:m.message,onClick:function(){return p(n)},submitting:y,ctaMessage:f.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_DELETE_MUTATION_CTA,className:r})}g.displayName="PendingPlanChangeNotice"},985795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(313973));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.children,n=e.className;return l("div",{className:o.default.carouselMaxWidth},void 0,l("div",{className:o.default.tierPreviewsContainer},void 0,l("div",{className:(0,
a.default)(o.default.tierPreviews,n)},void 0,t)))}s.displayName="SubscriptionListingPreviewsCarousel"},123880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.openModal=t.default=void 0;var r,a=b(n(667294)),o=S(n(730381)),i=b(n(832635)),u=S(n(954140)),l=S(n(37039)),s=S(n(956117)),d=S(n(682473)),f=n(645758),c=n(354479),p=n(3400),v=b(n(194322)),y=n(204785),m=n(547642),_=n(500985),h=n(92557),g=S(n(247001)),E=S(n(666309));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,u,"next",e)}
function u(e){A(o,r,a,i,u,"throw",e)}i(void 0)}))}}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){var t,n=e.transitionState,r=e.groupListing,v=e.guildId,S=e.listing,O=e.subscription,b=e.onClose,I=(0,c.useUID)(),A=(0,m.useSubscriptionsSettings)(v),N=null!=(null==A||null===(t=A.cover_image_asset)||void 0===t?void 0:t.application_id)?(0,y.getAssetURL)(A.cover_image_asset.application_id,A.cover_image_asset,440):void 0,P=function(e){var t=M(a.useState(!1),2),n=t[0],r=t[1],o=M(a.useState(null),2),u=o[0],l=o[1],s=function(){var t=C(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;r(!0);t.next=4;return i.cancelSubscription(n,e);case 4:return t.abrupt("return",!0);case 7:t.prev=7;t.t0=t.catch(0);l(t.t0);case 10:t.prev=10;r(!1);return t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})));return function(e){return t.apply(this,arguments)}}();return{cancelSubscription:s,error:u,submitting:n}}((0,
l.default)(u.default.GUILD_ROLE_SUBSCRIPTION_CANCELLATION_MODAL).analyticsLocations),R=P.cancelSubscription,w=P.error,D=P.submitting,L=function(){var e=C(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return R(O.id);case 2:e.sent&&b();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=S.role_benefits.benefits.filter((function(e){return e.ref_type===h.GuildRoleSubscriptionBenefitTypes.CHANNEL})),j=S.role_benefits.benefits.filter((function(e){return e.ref_type===h.GuildRoleSubscriptionBenefitTypes.INTANGIBLE})),U=(0,o.default)(O.currentPeriodEnd).format("MMMM Do, YYYY"),G=g.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_DESCRIPTION.format({numChannels:k.length,numAdditionalBenefits:j.length,subscriptionEndDate:U});return T(p.ModalRoot,{transitionState:n,className:E.default.modal,"aria-labelledby":I},void 0,T("div",{},void 0,T("img",{src:N,alt:"",
className:E.default.headerImage}),T(p.ModalCloseButton,{withCircleBackground:!0,className:E.default.closeButton,onClick:b})),null!=w?T(d.default,{},void 0,w.message):null,T(p.ModalContent,{className:E.default.content},void 0,T(f.Text,{variant:"text-md/normal",className:E.default.title},void 0,g.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_TITLE),T(f.Text,{className:E.default.description,variant:"text-sm/normal"},void 0,G),T(_.GuildRoleSubscriptionBenefits,{listing:S,guildId:r.guild_id,className:E.default.benefits})),T(p.ModalFooter,{className:E.default.footer},void 0,T(s.default,{color:s.default.Colors.RED,onClick:L,submitting:D},void 0,g.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_CANCEL_CTA),T(s.default,{look:s.default.Looks.LINK,color:s.default.Colors.WHITE,className:E.default.goBackButton,onClick:b},void 0,g.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_NEVERMIND_CTA)))};P.displayName="CancelSubscriptionModal";t.openModal=function(e){
v.openModal((function(t){return a.createElement(P,I({},t,e))}))};var R=P;t.default=R},45738:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(294184)),i=n(536211),u=h(n(754295)),l=h(n(146771)),s=h(n(956117)),d=n(772575),f=h(n(873376)),c=n(645758),p=n(770348),v=h(n(247001)),y=h(n(58131)),m=h(n(56397)),_=h(n(709804));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}
function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=E(f.default,{size:4}),O=E(f.default,{size:24});function b(e){var t=e.onClickManageSubscription,n=(0,i.useStateFromStores)([l.default],(function(){return l.default.getSubscriptions()})),r=a.useMemo((function(){return Object.values(null!=n?n:{}).filter((function(e){return e.type===p.SubscriptionTypes.GUILD})).filter((function(e){return e.status!==p.SubscriptionStatusTypes.ENDED}))}),[n]);return 0===r.length?null:E("div",{className:y.default.container},void 0,E(d.Heading,{variant:"heading-md/medium",className:y.default.sectionTitle,level:3
},void 0,v.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_TITLE),S,E(c.Text,{variant:"text-sm/normal",className:y.default.sectionDescription},void 0,v.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_DESCRIPTION),O,E("div",{className:(0,o.default)(m.default.guildBoostingSubscriptionRow,y.default.card)},void 0,E("img",{src:_.default,alt:"",className:y.default.handImage}),E("div",{className:y.default.textContainer},void 0,E(d.Heading,{variant:"heading-xl/medium",className:y.default.header,level:3},void 0,v.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_TITLE),E(c.Text,{variant:"text-md/normal",className:y.default.description},void 0,v.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_ACTIVE_USER_SUBSCRIPTIONS_DESCRIPTION.format({numSubscriptions:r.length}))),E(u.default,{color:s.default.Colors.BRAND,onClick:t},void 0,v.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_MANAGE_SUBSCRIPTIONS_BUTTON)))}b.displayName="GuildRoleSubscriptionsSection"},266211:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=K(n(667294)),o=W(n(294184)),i=W(n(730381)),u=W(n(444693)),l=n(536211),s=K(n(832635)),d=n(264720),f=W(n(445377)),c=W(n(226800)),p=W(n(37039)),v=n(511217),y=W(n(337309)),m=n(139982),_=W(n(30098)),h=W(n(748826)),g=W(n(956117)),E=W(n(16941)),S=W(n(380439)),O=n(772575),b=W(n(80828)),I=n(645758),T=W(n(730977)),A=n(354479),C=n(688388),M=W(n(738133)),N=W(n(700113)),P=n(598671),R=n(243277),w=n(547642),D=W(n(523754)),L=n(251349),k=W(n(168058)),j=W(n(675176)),U=n(123880),G=n(76447),F=n(770348),x=n(173652),B=n(840433),H=W(n(247001)),V=W(n(779383));function W(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function K(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function z(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(){Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Q.apply(this,arguments)}function X(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Z=function(e){var t=e.label,n=e.value,r=e.showInfoIcon,o=e.infoIconTooltipText;return X("div",{className:V.default.infoCard},void 0,X("div",{className:V.default.infoCardLabelContainer},void 0,X(O.Heading,{variant:"heading-sm/medium",className:V.default.infoCardLabel,level:3},void 0,t),r&&X(T.default,{text:o},void 0,(function(e){return a.createElement(N.default,Q({},e,{className:V.default.infoCardIcon}))}))),X(O.Heading,{variant:"heading-xl/medium",className:V.default.infoCardValue,level:3},void 0,n))};Z.displayName="SubscriptionInfoCard";var J=function(e){var t=e.label,n=e.onClick,r=e.submitting;return X(E.default,{onClick:r?void 0:n,className:V.default.rowButton},void 0,X("div",{className:V.default.rowButtonContent},void 0,r?X(b.default,{type:b.default.Type.PULSING_ELLIPSIS,className:V.default.spinner}):X(I.Text,{variant:"text-md/normal",className:V.default.rowButtonLabel},void 0,t),X(M.default,{
className:V.default.rowButtonArrow})))};J.displayName="RowButton";var ee=X(b.default,{}),te=function(e){var t=e.subscription,n=$((0,v.useSubscriptionInvoicePreview)({subscriptionId:t.id,renewal:!0}),1)[0],r=(0,l.useStateFromStores)([h.default],(function(){return h.default.hasFetchedPaymentSources}));return null!=n&&r?X(y.default,{subscription:t,currentInvoicePreview:n,dropdownClassName:V.default.paymentSourceDropdown}):ee};te.displayName="SubscriptionPaymentSourceWithInvoice";var ne=function(e){var t=e.isTrial,n=e.isCancelled,r=e.isResubscribing,o=e.onCancelSubscriptionClick,i=e.onResubscribeClick,u=e.onChangePlanClick;return n&&t?null:X("div",{},void 0,X(C.FormTitle,{},void 0,H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_LABEL),X("div",{className:V.default.rowButtons},void 0,n?X(g.default,{onClick:i,submitting:r},void 0,H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_RESTART_SUBSCRIPTION):a.createElement(a.Fragment,null,!t&&X(J,{
label:H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_CHANGE_TIER,onClick:u}),X(J,{label:H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_CANCEL,onClick:o}))))};ne.displayName="ManageSubscriptionOptions";var re=function(e){var t=e.subscription,n=(0,L.getRoleSubscriptionPlanId)(t),r=(0,l.useStateFromStores)([D.default],(function(){return D.default.getSubscriptionListingForPlan(n)})),v=(0,l.useStateFromStores)([D.default],(function(){return null!=r?D.default.getSubscriptionGroupListingForSubscriptionListing(r.id):null})),y=(0,l.useStateFromStores)([_.default],(function(){return _.default.getGuild(null==v?void 0:v.guild_id)})),h=$(a.useState(!1),2),g=h[0],O=h[1],b=function(){return O((function(e){return!e}))},N=$(a.useState(!1),2),W=N[0],Y=N[1],K=(0,w.useFetchSubscriptionsSettings)().fetchSubscriptionsSettings,q=(0,A.useUID)(),Q=(0,p.default)().analyticsLocations;a.useEffect((function(){g&&null!=y&&K(y.id)}),[g,y,K]);if(null==v||null==r)return null
;var J=function(){var e,n=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;Y(!0);e.next=4;return s.resubscribeToSubscription(t,Q);case 4:(0,G.openModal)();case 5:e.prev=5;Y(!1);return e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){z(o,r,a,i,u,"next",e)}function u(e){z(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}(),ee=(0,i.default)(t.currentPeriodEnd).format("M/D/YY"),re=r.subscription_plans[0],ae=(0,R.formatPrice)(re.price,re.currency),oe=(0,i.default)(t.createdAt).format("M/D/YY"),ie=t.status===F.SubscriptionStatusTypes.CANCELED,ue=t.status===F.SubscriptionStatusTypes.PAST_DUE,le=r.soft_deleted||null==y,se=null!=t.trialId,de=X(te,{subscription:t}),fe=X(ne,{isTrial:se,isCancelled:ie,isResubscribing:W,onCancelSubscriptionClick:function(){
null!=y&&(0,U.openModal)({guildId:y.id,groupListing:v,listing:r,subscription:t})},onChangePlanClick:function(){if(null!=y){(0,m.transitionTo)(F.Routes.CHANNEL(y.id,x.StaticChannelRoute.ROLE_SUBSCRIPTIONS));(0,d.popLayer)();f.default.show(F.NoticeTypes.BACK_TO_PREVIOUS_SCREEN,void 0,H.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_BACK_TO_SUBSCRIPTION_USER_SETTING_CTA,(function(){return c.default.open(F.UserSettingsSections.SUBSCRIPTIONS,B.ROLE_SUBSCRIPTION_SUBSECTION)}))}},onResubscribeClick:J});return X("div",{className:V.default.container},void 0,X(k.default,{onClick:b,className:V.default.headerContainer},void 0,(function(e){var t,n=e.areaRef,i=e.handleStopPropagation;return a.createElement(a.Fragment,null,null!=y&&X(S.default,{guild:y,active:!0,size:S.default.Sizes.MEDIUM}),X("div",{className:V.default.headerTextContainer},void 0,X(I.Text,{variant:"text-md/normal",className:V.default.guildName
},void 0,null!=y?y.name:H.default.Messages.GUILD_ROLE_SUBSCRIPTION_SERVER_NAME_UNAVAILABLE),X("div",{className:V.default.headerSubtitleContainer},void 0,X(I.Text,{variant:"text-sm/normal",className:V.default.tierName},void 0,r.name),ie?X(P.TextBadge,{text:H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_CANCELLED}):se?X(P.TextBadge,{text:H.default.Messages.GUILD_ROLE_SUBSCRIPTION_SETUP_FREE_TRIAL_TITLE,color:u.default.BRAND_500}):ue?X(T.default,{text:H.default.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING},void 0,(function(e){return a.createElement("div",e,X(P.TextBadge,{className:V.default.paymentDueBadge,text:H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAST_DUE,color:u.default.STATUS_YELLOW_500}))})):null)),X(E.default,{onClick:i(b),"aria-label":H.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_TOGGLE_SECTION_LABEL,"aria-controls":q,"aria-expanded":g,focusProps:{ringTarget:n}},void 0,X(M.default,{className:(0,o.default)(V.default.arrowIcon,(t={},
t[V.default.arrowIconExpanded]=g,t))})))})),g?X("div",{id:q},void 0,X("div",{className:V.default.divider}),X(j.default,{groupListingId:v.id,subscription:t,className:V.default.changePlanNotice}),X("div",{className:V.default.subscriptionInfoCards},void 0,X(Z,{label:ie?H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_MEMBERSHIP_ENDS:H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_NEXT_RENEWAL,value:ee}),X(Z,{label:H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_PRICE,value:ae,showInfoIcon:se,infoIconTooltipText:se?H.default.Messages.GUILD_ROLE_SUBSCRIPTION_MANAGE_SUBSCRIPTION_PAGE_TRIAL_PRICE_INFO:void 0}),X(Z,{label:H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_MEMBER_SINCE,value:oe})),!ie&&a.createElement(a.Fragment,null,X(C.FormTitle,{},void 0,H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAYMENT_METHOD_LABEL),de),!le&&fe):null)};re.displayName="ManageSubscriptionCard";var ae=re;t.default=ae},76447:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.openModal=void 0;var r=n(14621),a=i(n(323667)),o=i(n(247001));function i(e){return e&&e.__esModule?e:{default:e}}t.openModal=function(){(0,r.openActionCompleteSuccessModal)({title:o.default.Messages.GUILD_ROLE_SUBSCRIPTION_RESTARTED_TITLE,body:o.default.Messages.GUILD_ROLE_SUBSCRIPTION_RESTARTED_DESCRIPTION,Icon:a.default})}},252730:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=h(n(146771)),u=h(n(956117)),l=h(n(873376)),s=h(n(80828)),d=n(645758),f=n(688388),c=h(n(571649)),p=n(547642),v=h(n(266211)),y=n(770348),m=h(n(247001)),_=h(n(670578));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=E(s.default,{}),O=E(l.default,{size:10}),b=function(e){var t=e.onGoBack,n=(0,o.useStateFromStores)([i.default],(function(){return i.default.getSubscriptions()})),r=a.useMemo((function(){
return Object.values(null!=n?n:{}).filter((function(e){return e.type===y.SubscriptionTypes.GUILD})).filter((function(e){return e.status!==y.SubscriptionStatusTypes.ENDED}))}),[n]);return(0,p.useFetchListingsForSubscriptions)(r).loading?S:0===r.length?null:E("div",{className:_.default.container},void 0,E(u.default,{look:u.default.Looks.BLANK,innerClassName:_.default.backButtonContents,onClick:t},void 0,E(c.default,{className:_.default.arrowIcon}),m.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_MANAGE_SUBSCRIPTIONS_PAGE_BACK_BUTTON_CTA),O,E(f.FormTitle,{tag:f.FormTitle.Tags.H1},void 0,m.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAGE_TITLE),E(d.Text,{variant:"text-sm/normal",className:_.default.pageDescription},void 0,m.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAGE_DESCRIPTION),E("div",{className:_.default.subscriptionsContainer},void 0,r.map((function(e){return E(v.default,{subscription:e},e.id)}))))};b.displayName="UserSettingsGuildRoleSubscriptions";var I=b;t.default=I},
191868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BackToPreviousScreenNotice=p;f(n(667294));var r,a=s(n(956117)),o=s(n(204014)),i=f(n(177101)),u=n(770348),l=s(n(258507));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.buttonText,n=e.onGoBack,r=e.onDismiss,s=e.showCloseButton;return c(i.default,{className:l.default.backNotice},void 0,s&&c(i.NoticeCloseButton,{onClick:r,noticeType:u.NoticeTypes.BACK_TO_PREVIOUS_SCREEN}),c(a.default,{className:l.default.backButton,innerClassName:l.default.backButtonInner,look:a.default.Looks.OUTLINED,color:a.default.Colors.WHITE,size:a.default.Sizes.NONE,onClick:n},void 0,c(o.default,{width:16,height:16,direction:o.default.Directions.LEFT,className:l.default.backArrow}),t))}p.displayName="BackToPreviousScreenNotice"},615030:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(294184)),o=f(n(16941)),i=n(645758),u=f(n(981714)),l=f(n(604091)),s=f(n(199317)),d=f(n(768084));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){var t=e.benefit,n=e.guildId,r=(0,s.default)(n,t.ref_id),f=p(u.default,{guildId:n,emojiId:t.emoji_id,emojiName:t.emoji_name}),c=null!=r?p(o.default,{className:d.default.channelLink,onClick:r.navigateToChannel,"aria-label":r.ariaLabel,role:"link"},void 0,p(i.Text,{variant:"text-md/medium",color:"header-primary",className:(0,a.default)(d.default.name,d.default.linkedName)},void 0,(0,l.default)(t))):p(i.Text,{variant:"text-md/medium",color:"header-primary",className:d.default.name},void 0,(0,l.default)(t));return p("div",{className:d.default.container},void 0,p("div",{className:d.default.emojiContainer},void 0,f),p("div",{className:d.default.infoContainer},void 0,c,p(i.Text,{color:"interactive-normal",variant:"text-sm/normal"},void 0,t.description)))}v.displayName="BenefitItem"},500985:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=t.GuildRoleSubscriptionBenefits=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=j(n(294184)),i=n(536211),u=j(n(876647)),l=j(n(686305)),s=j(n(697952)),d=j(n(956117)),f=n(772575),c=j(n(873376)),p=n(645758),v=j(n(730977)),y=j(n(738133)),m=j(n(228315)),_=j(n(700113)),h=j(n(692711)),g=n(293773),E=n(403008),S=n(547642),O=j(n(678075)),b=j(n(896238)),I=j(n(775623)),T=j(n(150759)),A=j(n(235637)),C=j(n(811207)),M=j(n(615030)),N=n(480339),P=n(638223),R=j(n(704261)),w=n(92557),D=n(770348),L=j(n(247001)),k=j(n(793397))
;function j(e){return e&&e.__esModule?e:{default:e}}function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}function G(){G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return G.apply(this,arguments)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var H=B(c.default,{size:12}),V=function(e){var t=e.benefits,n=e.header,r=e.guildId;return 0===t.length?null:B("div",{className:k.default.benefitsSection},void 0,B(f.Heading,{level:3,
variant:"text-xs/bold",color:"header-secondary",className:k.default.sectionHeader},void 0,n),H,B("div",{className:k.default.benefitsList},void 0,t.map((function(e){return B(M.default,{guildId:r,benefit:e},(0,g.getBenefitKey)(e))}))))};V.displayName="BenefitsSection";var W=B(c.default,{size:12}),Y=function(e){var t=e.guildId,n=e.subscriptionRoleId,r=(0,I.default)(t),o=a.useMemo((function(){return r.filter((function(e){return e.roles.includes(n)}))}),[r,n]);function i(e){return h.default.getEmojiURL({id:e.id,animated:e.animated,size:24})}return 0===o.length?null:B("div",{className:k.default.benefitsSection},void 0,B(f.Heading,{level:3,variant:"text-xs/bold",color:"header-secondary",className:k.default.sectionHeader},void 0,L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_EMOJI_SECTION_TITLE.format({count:o.length})),W,B("div",{className:k.default.emojiList},void 0,o.map((function(e){return B("img",{src:i(e),width:24,height:24,alt:e.name})}))))};Y.displayName="EmojiSection"
;var K=B(c.default,{size:8}),z=function(e){var t=e.listing,n=e.guildId,r=e.className,i=t.role_benefits.benefits.filter((function(e){return e.ref_type===w.GuildRoleSubscriptionBenefitTypes.CHANNEL})),u=t.role_benefits.benefits.filter((function(e){return e.ref_type===w.GuildRoleSubscriptionBenefitTypes.INTANGIBLE})),l=(0,T.default)(n,t.id);return B("div",{className:(0,o.default)(k.default.subscriptionPerks,r)},void 0,null!=l&&a.createElement(a.Fragment,null,B(f.Heading,{variant:"text-xs/bold",color:"header-secondary",className:k.default.sectionHeader},void 0,L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_MEMBER_PREVIEW),K,B(C.default,{role:l,guildId:n,className:k.default.roleMessagePreview})),B(V,{header:L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_EXCLUSIVE_CHANNELS_SECTION_TITLE,benefits:i,guildId:n}),B(V,{header:L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_ADDITIONAL_BENEFITS_SECTION_TITLE,benefits:u,guildId:n}),B(Y,{guildId:n,subscriptionRoleId:t.role_id}))}
;t.GuildRoleSubscriptionBenefits=z;z.displayName="GuildRoleSubscriptionBenefits";var $=function(e){var t,n=e.onToggle;t=e.isViewAll?a.createElement(a.Fragment,null,L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_LESS_DESCRIPTION,B(m.default,{className:k.default.toggleTruncationButtonIcon})):a.createElement(a.Fragment,null,L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_MORE_DESCRIPTION,B(y.default,{className:k.default.toggleTruncationButtonIcon}));return B(d.default,{look:d.default.Looks.BLANK,size:d.default.Sizes.NONE,className:k.default.toggleTruncationButton,innerClassName:k.default.toggleTruncationButtonInner,onClick:n},void 0,t)};$.displayName="ToggleTruncationButton";var q=B(c.default,{size:16}),Q=function(e){var t,n,r=e.listingId,f=e.guildId,c=e.groupListingId,y=e.analyticsLocation,m=(0,S.useSubscriptionListing)(r),h=(0,R.default)(m,f,c,y),I=h.openModal,T=h.canOpenModal,C=h.cannotOpenReason,M=h.isCheckingTrialEligibility,j=(0,
i.useStateFromStores)([s.default],(function(){return s.default.isSyncing})),U=(0,O.default)(c),x=U.activeSubscription,H=U.activeSubscriptionListing,V=(null==H?void 0:H.id)===r,W=(null==x?void 0:x.status)===D.SubscriptionStatusTypes.CANCELED,Y=(0,i.useStateFromStores)([l.default],(function(){return l.default.isViewingRoles(f)})),K=F(a.useState(!1),2),Q=K[0],X=K[1],Z=F(a.useState(!1),2),J=Z[0],ee=Z[1],te=a.useCallback((function(e){var t=!1;null!=e&&(t=e.scrollHeight>e.clientHeight);ee(t)}),[]),ne=(0,S.useSubscriptionTrial)(r),re=(0,b.default)(f,r),ae=null==ne?void 0:ne.active_trial,oe=(0,E.useGuildEligibleForRoleSubscriptionTrials)(f)&&null!=ae&&null==x&&re,ie=(0,u.default)(w.RESPONSIVE_MOBILE_WIDTH_SIZE_QUERY),ue=F(a.useState(!1),2),le=ue[0],se=ue[1],de=le||!ie;if(null==m||!m.published&&!Y||m.soft_deleted)return null;var fe=m.subscription_plans[0];return B("div",{className:k.default.container},void 0,oe&&B("div",{className:(0,
o.default)(k.default.tierTrialIndicator,k.default.tierTopIndicator)},void 0,L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_PERIOD.format({trialPeriodDuration:(0,g.formatPlanIntervalDuration)({interval:ae.interval,interval_count:ae.interval_count})}),B(v.default,{clickableOnMobile:!0,text:L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_DISCLAIMER.format({activeTrialUserLimit:null!==(t=null==ne?void 0:ne.max_num_active_trial_users)&&void 0!==t?t:0})},void 0,(function(e){return a.createElement(_.default,G({className:k.default.tierTrialIndicatorIcon},e))}))),B("div",{className:oe?void 0:k.default.cardContainerWithoutTopIndicator},void 0,B("div",{className:k.default.tierInfoContainer},void 0,ie?B(P.GuildRoleSubscriptionCollapsibleCardBasicInfo,{listing:m,subscriptionPlan:fe,expanded:de,onToggleExpanded:function(){return se((function(e){return!e}))}}):B(N.GuildRoleSubscriptionCardBasicInfo,{listing:m,subscriptionPlan:fe}),de&&a.createElement(a.Fragment,null,ie&&B("div",{
className:k.default.divider}),V?B(d.default,{fullWidth:!0,look:d.default.Looks.OUTLINED,color:d.default.Colors.PRIMARY,disabled:!0},void 0,W?L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_CANCELED_LABEL:L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_SUBSCRIBED_LABEL):B(v.default,{text:T?null:C,"aria-label":null!==(n=T&&C)&&void 0!==n&&n},void 0,(function(e){return a.createElement(A.default,G({},e,{fullWidth:!0,disabled:!T||j,submitting:M,onClick:I}),L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_SUBSCRIBE_LABEL)})),q,B(p.Text,{variant:"text-sm/normal",color:"text-normal",className:(0,o.default)((!J||!Q)&&k.default.tierDescriptionTruncate)},void 0,a.createElement("div",{ref:te},m.description)),J&&B($,{isViewAll:Q,onToggle:function(){return X((function(e){return!e}))}}))),de&&B(z,{listing:m,guildId:f})))};Q.displayName="GuildRoleSubscriptionCard";var X=Q;t.default=X},480339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.GuildRoleSubscriptionCardDraftTierBadge=t.GuildRoleSubscriptionCardBasicInfo=void 0;t.GuildRoleSubscriptionCardTierImage=b;t.GuildRoleSubscriptionCardTierName=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(425916),i=_(n(876647)),u=n(772575),l=n(645758),s=n(598671),d=n(243277),f=n(204785),c=n(293773),p=n(92557),v=n(770348),y=_(n(247001)),m=_(n(371116));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=(0,o.cssValueToNumber)(m.default.tierImageSize),S=(0,o.cssValueToNumber)(m.default.tierImageSizeMobile),O=function(e){var t=e.listingName;return g(l.Text,{variant:"text-md/normal",color:"interactive-active",className:m.default.tierName},void 0,t)};t.GuildRoleSubscriptionCardTierName=O;O.displayName="GuildRoleSubscriptionCardTierName";function b(e){var t=e.listing,n=(0,i.default)(p.RESPONSIVE_MOBILE_WIDTH_SIZE_QUERY)?S:E;return g("img",{src:(0,f.getAssetURL)(t.application_id,t.image_asset,n),alt:"",className:m.default.tierImage})}b.displayName="GuildRoleSubscriptionCardTierImage"
;var I=function(){return g(s.TextBadge,{color:v.Colors.STATUS_YELLOW_500,text:y.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_MANAGEMENT_DRAFT_LABEL,className:m.default.draftBadge})};t.GuildRoleSubscriptionCardDraftTierBadge=I;I.displayName="GuildRoleSubscriptionCardDraftTierBadge";var T=g(I,{});t.GuildRoleSubscriptionCardBasicInfo=function(e){var t=e.listing,n=e.subscriptionPlan;return a.createElement(a.Fragment,null,g(O,{listingName:t.name}),g(b,{listing:t}),!t.published&&g("div",{className:m.default.draftBadgeContainer},void 0,T),g(u.Heading,{variant:"heading-xl/medium",className:m.default.tierPrice},void 0,(0,d.formatPrice)(n.price,v.CurrencyCodes.USD)),g(l.Text,{variant:"text-xs/normal",color:"interactive-normal",className:m.default.tierPeriod},void 0,y.default.Messages.GUILD_ROLE_SUBSCRIPTION_AMOUNT_PER_PERIOD.format({period:(0,c.formatPlanInterval)(n)})))}},638223:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.GuildRoleSubscriptionCollapsibleCardBasicInfo=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=v(n(16941)),o=n(645758),i=v(n(738133)),u=v(n(228315)),l=n(243277),s=n(293773),d=n(480339),f=n(770348),c=v(n(247001)),p=v(n(88957));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0
}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=m(d.GuildRoleSubscriptionCardDraftTierBadge,{}),h=function(e){var t=e.listing,n=e.subscriptionPlan,r=e.expanded,v=e.onToggleExpanded;return m("div",{className:p.default.container},void 0,m(d.GuildRoleSubscriptionCardTierImage,{listing:t}),m("div",{className:p.default.tierTextInfoContainer},void 0,m(d.GuildRoleSubscriptionCardTierName,{listingName:t.name}),m("div",{className:p.default.tierPriceContainer},void 0,!t.published&&_,m(o.Text,{variant:"text-xs/normal",className:p.default.tierPrice},void 0,(0,l.formatPrice)(n.price,f.CurrencyCodes.USD)," ",c.default.Messages.GUILD_ROLE_SUBSCRIPTION_AMOUNT_PER_PERIOD.format({period:(0,s.formatPlanInterval)(n)})))),m(a.default,{onClick:v},void 0,m(r?u.default:i.default,{
className:p.default.toggleButton})))};t.GuildRoleSubscriptionCollapsibleCardBasicInfo=h;h.displayName="GuildRoleSubscriptionCollapsibleCardBasicInfo"},740997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=b(n(876647)),u=b(n(686305)),l=b(n(956117)),s=n(772575),d=b(n(873376)),f=n(645758),c=b(n(562796)),p=b(n(119503)),v=n(243277),y=n(204785),m=n(293773),_=n(547642),h=b(n(500985)),g=n(92557),E=n(770348),S=b(n(247001)),O=b(n(514047));function b(e){return e&&e.__esModule?e:{default:e}}
function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e){var t,n,r=e.value,a=e.type;if(0===r)return null;if(a===g.GuildRoleSubscriptionBenefitTypes.CHANNEL){t=c.default;n=S.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CHANNEL_BENEFIT_PREVIEW.format({value:r})}else{if(a!==g.GuildRoleSubscriptionBenefitTypes.INTANGIBLE)throw new Error("Unsupported benefit type");t=p.default;n=S.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_INTANGIBLE_BENEFIT_PREVIEW.format({
value:r})}return T(f.Text,{variant:"text-sm/normal",color:"interactive-normal",className:O.default.benefitSummary},void 0,T(t,{className:O.default.benefitIcon})," ",n)}A.displayName="BenefitSummary";var C=T(d.default,{size:2}),M=T(d.default,{size:12});function N(e){var t=e.listing,n=t.subscription_plans[0],r=(0,y.getAssetURL)(t.application_id,t.image_asset,40),o=t.role_benefits.benefits.filter((function(e){return e.ref_type===g.GuildRoleSubscriptionBenefitTypes.CHANNEL})).length,i=t.role_benefits.benefits.filter((function(e){return e.ref_type===g.GuildRoleSubscriptionBenefitTypes.INTANGIBLE})).length,u=o+i>0;return T("div",{className:O.default.listingPreview},void 0,T("img",{src:r,alt:t.name,className:O.default.listingPreviewImage}),T("div",{className:O.default.listingPreviewText},void 0,T(f.Text,{variant:"text-md/normal",color:"interactive-active"},void 0,t.name),C,T(f.Text,{variant:"text-sm/normal",color:"interactive-normal"},void 0,(0,v.formatPrice)(n.price,n.currency)," / ",(0,
m.formatPlanInterval)(n)),u&&a.createElement(a.Fragment,null,M,T("div",{className:O.default.benefitSummaries},void 0,T(A,{type:g.GuildRoleSubscriptionBenefitTypes.CHANNEL,value:o}),T(A,{type:g.GuildRoleSubscriptionBenefitTypes.INTANGIBLE,value:i})))))}N.displayName="ListingPreviewItem";var P=T(d.default,{size:8}),R=T(d.default,{size:24});function w(e){var t=e.groupListing,n=e.onSelectGroup,r=(0,_.useSubscriptionListingsForGroup)(t.id),d=(0,o.useStateFromStores)([u.default],(function(){return u.default.isViewingRoles(t.guild_id)})),c=r.filter((function(e){return d||e.published})),p=(0,i.default)(g.RESPONSIVE_MOBILE_WIDTH_SIZE_QUERY);return 0===c.length?null:T("div",{className:O.default.container},void 0,T(s.Heading,{variant:"heading-lg/medium",level:3},void 0,t.name),P,T(f.Text,{variant:"text-md/normal",color:"header-secondary"},void 0,t.description),T("div",{className:O.default.divider}),T(s.Heading,{variant:"heading-sm/medium",className:O.default.sectionHeader,level:3
},void 0,S.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_AVAILABLE_TIERS.format({numTiers:c.length})),p?T("div",{className:O.default.subscriptionCardContainer},void 0,c.map((function(e){return T(h.default,{guildId:t.guild_id,groupListingId:t.id,listingId:e.id,analyticsLocation:E.AnalyticsLocations.ROLE_SUBSCRIPTIONS_TAB},e.id)}))):a.createElement(a.Fragment,null,T("div",{className:O.default.listingPreviews},void 0,c.map((function(e){return T(N,{listing:e},e.id)}))),R,T(l.default,{onClick:n,fullWidth:!0},void 0,S.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CARD_CTA)))}w.displayName="GuildRoleSubscriptionGroupCard"},105699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n,r=e.guild,o=(0,l.useSubscriptionsSettings)(r.id),f=(0,l.useGroupListingsForGuild)(r.id),y=E(a.useState(null),2),h=y[0],g=y[1],O=f.find((function(e){return e.id===h})),T=1===f.length,A=null!=O?O:T?f[0]:null,C=(0,
i.useStateFromStores)([u.default],(function(){return u.default.isViewingRoles(r.id)})),M=E(a.useState(!1),2),N=M[0],P=M[1],R=(0,i.useStateFromStoresArray)([s.default],(function(){return f.filter((function(e){for(var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=S(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.subscription_listings_ids);!(t=n()).done;){var r=t.value,a=s.default.getSubscriptionListing(r);if(null!=a&&(C||a.published))return!0}return!1}))}),[f,C]);if(null!=A)return a.createElement(a.Fragment,null,!T&&!N&&b(I,{onGoBack:function(){return g(null)},onDismiss:function(){return P(!0)}}),b(p.default,{guild:r,groupListing:A,singleGroupView:T}))
;return a.createElement(a.Fragment,null,b(v.default,{title:m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:r.toString()}),description:null!==(t=null==o?void 0:o.description)&&void 0!==t?t:null,coverImageAsset:null!==(n=null==o?void 0:o.cover_image_asset)&&void 0!==n?n:null,guild:r}),b(d.default,{className:_.default.groupListings},void 0,R.map((function(e){return b(c.default,{groupListing:e,onSelectGroup:function(){return g(e.id)}},e.id)}))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=h(n(973935)),i=n(536211),u=h(n(686305)),l=n(547642),s=h(n(523754)),d=h(n(985795)),f=n(191868),c=h(n(740997)),p=h(n(973153)),v=h(n(779515)),y=n(287735),m=h(n(247001)),_=h(n(991938));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){
if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t=e.onGoBack,n=e.onDismiss,r=a.useMemo((function(){return document.getElementById(y.OVERVIEW_NOTICE_ROOT)}),[])
;return null==r?null:o.default.createPortal(b(f.BackToPreviousScreenNotice,{buttonText:m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_BACK_TO_GROUPS_VIEW_CTA,onGoBack:t,onDismiss:n,showCloseButton:!1}),r)}},973153:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=g(n(226800)),i=g(n(873376)),u=n(547642),l=g(n(678075)),s=g(n(381777)),d=g(n(365365)),f=g(n(675176)),c=g(n(985795)),p=g(n(500985)),v=g(n(779515)),y=n(770348),m=n(840433),_=g(n(247001)),h=g(n(633485));function g(e){
return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=S(i.default,{size:16}),b=function(e){var t=e.subscription;if(null==t)return null;if(t.status===y.SubscriptionStatusTypes.PAST_DUE){return a.createElement(a.Fragment,null,O,S(d.default,{message:_.default.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING,ctaMessage:_.default.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_CTA,onClick:function(){
o.default.open(y.UserSettingsSections.SUBSCRIPTIONS,m.ROLE_SUBSCRIPTION_SUBSECTION)}}))}return null},I=function(e){var t,n=e.guild,r=e.groupListing,o=e.singleGroupView;(0,s.default)({guildId:n.id,groupListingId:r.id,location:y.AnalyticsLocations.ROLE_SUBSCRIPTIONS_TAB,relevantSubscriptionListingIds:r.subscription_listings_ids});var i=(0,l.default)(r.id).activeSubscription,d=(0,u.useSubscriptionsSettings)(n.id),m=o?null==d?void 0:d.description:null==r?void 0:r.description;return a.createElement(a.Fragment,null,S(v.default,{title:_.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:n.toString()}),description:null!=m?m:null,coverImageAsset:null!==(t=null==d?void 0:d.cover_image_asset)&&void 0!==t?t:null,guild:n},void 0,S(f.default,{className:h.default.pendingPlanChangeNotice,groupListingId:r.id,subscription:i}),S(b,{subscription:i})),S(c.default,{},void 0,r.subscription_listings_ids.map((function(e){return S(p.default,{guildId:n.id,groupListingId:r.id,
listingId:e,analyticsLocation:y.AnalyticsLocations.ROLE_SUBSCRIPTIONS_TAB},e)}))))};t.default=I},231590:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildRoleSubscriptionsOverviewErrorType=t.GuildRoleSubscriptionsOverviewErrorPage=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=n(47354),i=c(n(185948)),u=n(772575),l=n(645758),s=c(n(247001)),d=c(n(913412)),f=c(n(302147));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}
function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.GuildRoleSubscriptionsOverviewErrorType=a;!function(e){e.GUILD_NOT_ELIGIBLE="guild_not_eligible";e.NOT_GUILD_MEMBER="not_guild_member"}(a||(t.GuildRoleSubscriptionsOverviewErrorType=a={}));var y=function(e){var t=e.errorType;(0,i.default)({type:o.ImpressionTypes.PAGE,name:o.ImpressionNames.ROLE_SUBSCRIPTION_LISTING_UPSELL_ERROR_PAGE,properties:{error_page_type:t}});return v("div",{className:d.default.errorPageContainer},void 0,v("div",{className:d.default.errorPageContent},void 0,v("img",{src:f.default,alt:"",className:d.default.errorPageIllo}),v(u.Heading,{
variant:"heading-xl/bold",className:d.default.errorPageTitle},void 0,t===a.GUILD_NOT_ELIGIBLE?s.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_GUILD_NOT_ELIGIBLE_TITLE:s.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_NOT_GUILD_MEMBER_TITLE),v(l.Text,{variant:"text-md/normal",className:d.default.errorPagSubtitle},void 0,t===a.GUILD_NOT_ELIGIBLE?s.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_GUILD_NOT_ELIGIBLE_SUBTITLE:s.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_NOT_GUILD_MEMBER_SUBTITLE)))};t.GuildRoleSubscriptionsOverviewErrorPage=y;y.displayName="GuildRoleSubscriptionsOverviewErrorPage"},594807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=k(n(667294)),o=n(370405),i=n(171236),u=n(536211),l=k(n(832635)),s=D(n(296285)),d=D(n(881584)),f=D(n(463024)),c=n(139982),p=D(n(544196)),v=D(n(23535)),y=D(n(517286)),m=D(n(30098)),_=D(n(211136)),h=D(n(697952)),g=D(n(80828)),E=n(194322),S=n(582945),O=n(547642),b=D(n(125125)),I=D(n(437270)),T=D(n(105699)),A=n(231590),C=D(n(802831)),M=n(287735),N=n(770348),P=n(173652),R=D(n(247001)),w=D(n(536261));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){U(o,r,a,i,u,"next",e)}function u(e){U(o,r,a,i,u,"throw",e)}i(void 0)}))}}var F=j(a.Fragment,{}),x=j(f.default.Icon,{icon:I.default,"aria-hidden":!0}),B=j("div",{id:M.OVERVIEW_NOTICE_ROOT}),H=j(C.default,{}),V=j(g.default,{});function W(e){var t=e.guildId,r=(0,
u.useStateFromStores)([m.default],(function(){return m.default.getGuild(t)}),[t]),g=(0,u.useStateFromStores)([v.default],(function(){return v.default.isConnected()})),I=(0,d.default)(t),C=(0,b.default)(t),M=(0,u.useStateFromStores)([h.default],(function(){return h.default.isSubscriptionFetching})),D=(0,O.useFetchListingsForGuild)(null==r?void 0:r.id,{refetchOnMount:!0}).listingsLoaded,L=null==r||!D||M;(0,s.default)(i.isMobile?"role-subscriptions-overview":void 0);var k=g&&(null==r||!(I||C));a.useEffect((function(){l.fetchSubscriptions()}),[]);a.useEffect((function(){if(k&&!i.isMobile){(0,E.openModalLazy)(G(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(72649)]).then(n.bind(n,172649));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))
;if(_.default.getChannelId(t)===P.StaticChannelRoute.ROLE_SUBSCRIPTIONS){var e;(0,c.replaceWith)(N.Routes.CHANNEL(t,null===(e=y.default.getDefaultChannel(t))||void 0===e?void 0:e.id))}else(0,c.replaceWith)(p.default.defaultRoute)}}),[t,k]);if(i.isMobile&&k){var U=null==r?A.GuildRoleSubscriptionsOverviewErrorType.NOT_GUILD_MEMBER:A.GuildRoleSubscriptionsOverviewErrorType.GUILD_NOT_ELIGIBLE;return j(A.GuildRoleSubscriptionsOverviewErrorPage,{errorType:U})}return j("div",{className:w.default.container},void 0,j(o.Helmet,{title:R.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL}),j(f.default,{toolbar:F,className:w.default.headerBar},void 0,x,j(f.default.Title,{},void 0,R.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL)),B,j("div",{className:w.default.content},void 0,I?j(S.ScrollerNone,{className:w.default.scroller},void 0,j("div",{className:w.default.scrollerContent},void 0,L?V:j(T.default,{guild:r}))):H))}W.displayName="GuildRoleSubscriptionsOverviewPage";var Y=W
;t.default=Y},802831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(772575),o=d(n(873376)),i=n(645758),u=d(n(247001)),l=d(n(896574)),s=d(n(691634));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0
}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=c(o.default,{size:12}),v=c(o.default,{size:8});function y(){return c("div",{className:l.default.container},void 0,c("div",{className:l.default.content},void 0,c("img",{src:s.default,alt:u.default.Messages.CREATOR_MONETIZATION_NOTICE_ILLO_A11Y_LABEL}),p,c(a.Heading,{className:l.default.header,variant:"heading-lg/medium",level:3},void 0,u.default.Messages.CREATOR_MONETIZATION_DISABLED_NOTICE_TITLE),v,c(i.Text,{color:"header-secondary",variant:"text-sm/normal"},void 0,u.default.Messages.CREATOR_MONETIZATION_DISABLED_NOTICE_DESCRIPTION)))}y.displayName="MonetizationDisabledNotice"},287735:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OVERVIEW_NOTICE_ROOT=void 0
;t.OVERVIEW_NOTICE_ROOT="guild-role-subscription-overview-notice"},779515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(380439)),i=n(772575),u=n(645758),l=d(n(580756)),s=d(n(355457));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=e.coverImageAsset,n=e.title,r=e.guild,d=e.description,f=e.children,v=p((0,l.default)(null!=t?t:void 0),2),y=v[0],m=v[1];return c("div",{className:s.default.container},void 0,a.createElement("div",{ref:y,className:s.default.coverImageContainer},null!=m&&c("img",{src:m,alt:"",className:s.default.coverImage})),c("div",{className:s.default.guildIconContainer},void 0,c(o.default,{guild:r,size:o.default.Sizes.XLARGE})),c(i.Heading,{variant:"heading-xl/medium",className:s.default.ctaTitle,level:3},void 0,n),c(u.Text,{className:s.default.ctaSubtitle,variant:"text-md/normal",color:"header-secondary"
},void 0,d),f)}y.displayName="OverviewHero"},802058:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PurchaseConfirmationLite=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=v(n(285629)),i=v(n(30098)),u=v(n(956117)),l=n(772575),s=n(645758),d=v(n(775623)),f=n(92557),c=v(n(247001)),p=v(n(200655));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){for(var t,n=e.onClose,r=e.listing,v=e.guildId,y=(0,a.useStateFromStores)([i.default],(function(){return i.default.getGuild(v)}),[v]),h=0,g=0,E=_(r.role_benefits.benefits);!(t=E()).done;){var S=t.value;S.ref_type===f.GuildRoleSubscriptionBenefitTypes.CHANNEL?h+=1:S.ref_type===f.GuildRoleSubscriptionBenefitTypes.INTANGIBLE&&(g+=1)}var O=r.role_id,b=(0,d.default)(v).filter((function(e){return e.roles.includes(O)})).length,I=[];0!==h&&I.push(c.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_EXCLUSIVE_CHANNELS_SUBTITLE.format({channelCount:h}));0!==g&&I.push(c.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_BENEFITS_SUBTITLE.format({benefitCount:g}))
;0!==b&&I.push(c.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_EMOJIS_SUBTITLE.format({emojiCount:b}));return m("div",{className:p.default.confirmationContainer},void 0,m(l.Heading,{className:p.default.confirmationHeader,variant:"heading-lg/bold"},void 0,c.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_TITLE.format({serverName:null==y?void 0:y.toString(),tierName:r.name})),I.length>0&&m(s.Text,{className:p.default.confirmationSubtitle,variant:"text-sm/normal",color:"header-secondary"},void 0,c.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_SUBTITLE.format({benefits:new Intl.ListFormat(c.default.getLocale()).format(I)})),m(u.default,{className:p.default.openDiscordButton,onClick:function(){return(0,o.default)("role_sub_mweb_success_modal")}},void 0,c.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_OPEN_DISCORD_BUTTON),m(u.default,{className:p.default.doneButton,
look:u.default.Looks.BLANK,onClick:function(){return n(!0)}},void 0,c.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_DONE_BUTTON))};t.PurchaseConfirmationLite=g;g.displayName="PurchaseConfirmationLite"},167214:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PurchaseConfirmation=t.Header=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=S(n(294184)),o=n(536211),i=S(n(876647)),u=n(361673),l=S(n(30098)),s=S(n(956117)),d=S(n(16941)),f=n(645758),c=S(n(259530)),p=S(n(436081)),v=n(204785),y=n(293773),m=n(547642),_=S(n(984615)),h=n(92557),g=S(n(247001)),E=S(n(557647));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=function(e){var t,n,r=e.onClose,o=e.listing,l=e.step,s=e.guildId,f=(0,m.useSubscriptionsSettings)(s),p=(0,
i.default)(h.RESPONSIVE_MOBILE_HEIGHT_SMALL_QUERY);return b("div",{className:(0,a.default)(E.default.headerContainer,(t={},t[E.default.headerEmpty]=p,t))},void 0,p?null:b("img",{src:null!=(null==f||null===(n=f.cover_image_asset)||void 0===n?void 0:n.application_id)?(0,v.getAssetURL)(f.cover_image_asset.application_id,f.cover_image_asset,440):void 0,alt:"",className:E.default.headerImage}),function(){if(l!==u.Step.CONFIRM)return null;var e=(0,v.getAssetURL)(o.application_id,o.image_asset,80);return b("div",{className:E.default.tierImageContainer},void 0,b("img",{src:e,alt:"",className:E.default.tierImage}))}(),b(d.default,{className:E.default.closeContainer,onClick:function(){return r(!1)},"aria-label":g.default.Messages.CLOSE},void 0,b(c.default,{className:E.default.closeIcon})))};t.Header=I;I.displayName="Header";var T=function(e){var t=e.onClose,n=e.listing,r=e.guildId,a=(0,o.useStateFromStores)([l.default],(function(){return l.default.getGuild(r)
}),[r]),i=n.role_benefits.benefits.filter((function(e){return e.ref_type===h.GuildRoleSubscriptionBenefitTypes.CHANNEL})).slice(0,4);return b("div",{className:E.default.confirmationContainer},void 0,b(p.default,{className:E.default.confirmationHeader,size:p.default.Sizes.SIZE_24},void 0,g.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_TITLE.format({serverName:null==a?void 0:a.toString()})),b(f.Text,{className:E.default.confirmationSubtitle,variant:"text-md/normal",color:"header-secondary"},void 0,g.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_SUBTITLE.format({tier:n.name})),b(f.Text,{variant:"text-xs/normal",color:"header-secondary",className:E.default.confirmationSectionLabel},void 0,g.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_CHANNEL_PREVIEW),b("div",{className:E.default.confirmationBenefits},void 0,i.map((function(e){return b(_.default,{benefit:e,guildId:r,onClick:function(){return t(!0)}},(0,
y.getBenefitKey)(e))}))),b(s.default,{className:E.default.confirmationButton,onClick:function(){return t(!0)}},void 0,g.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_DONE_BUTTON))};t.PurchaseConfirmation=T;T.displayName="PurchaseConfirmation"},984615:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(16941)),o=n(645758),i=f(n(69405)),u=f(n(981714)),l=f(n(604091)),s=f(n(199317)),d=f(n(840743));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){var t=e.benefit,n=e.guildId,r=e.onClick,f=(0,s.default)(n,t.ref_id),c=p(u.default,{guildId:n,emojiId:t.emoji_id,emojiName:t.emoji_name});return p(a.default,{className:d.default.container,onClick:function(){null==f||f.navigateToChannel();r()},"aria-label":null==f?void 0:f.ariaLabel,role:"link"},void 0,p("div",{className:d.default.emojiContainer},void 0,c),p("div",{className:d.default.infoContainer},void 0,p(o.Text,{variant:"text-md/normal",
color:"header-primary",className:d.default.name},void 0,(0,l.default)(t)),p(o.Text,{color:"interactive-normal",variant:"text-sm/normal"},void 0,t.description)),p(i.default,{direction:i.default.Directions.RIGHT,className:d.default.caret}))}v.displayName="PurchaseModalBenefitItem"},704261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=R(n(441143)),i=R(n(730381)),u=n(536211),l=R(n(636602)),s=n(856259),d=R(n(876647)),f=R(n(37039)),c=n(237639),p=R(n(943819)),v=n(897502),y=R(n(678875)),m=R(n(930409)),_=R(n(696632)),h=R(n(909584)),g=R(n(550270)),E=n(293773),S=n(403008),O=n(547642),b=n(251349),I=R(n(678075)),T=n(11114),A=n(802058),C=n(167214),M=n(92557),N=n(770348),P=R(n(247001));function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e,t,n,r,a,o,i){try{
var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,u,"next",e)}function u(e){L(o,r,a,i,u,"throw",e)}i(void 0)}))}}var j=function(e,t,n,r){var R,w=(0,u.useStateFromStores)([m.default],(function(){return m.default.isLurking(t)})),L=(0,v.useShowMemberVerificationGate)(t),j=(0,u.useStateFromStores)([p.default],(function(){return null!=t?p.default.getRequest(t):null})),U=(null==j?void 0:j.applicationStatus)===c.GuildJoinRequestApplicationStatuses.SUBMITTED,G=null==e?void 0:e.subscription_plans[0],F=null==G?void 0:G.id,x=!0===(null==e?void 0:e.published),B=null==G?void 0:G.sku_id,H=(0,u.useStateFromStores)([h.default],(function(){return null!=F?h.default.get(F):null})),V=(0,I.default)(n),W=V.activeSubscription,Y=V.activeSubscriptionPlanFromStore,K=null==W||null!=Y,z=(0,O.useSubscriptionListingsForGroup)(n,{includeSoftDeleted:!0
}).map((function(e){return e.subscription_plans[0].id})),$=(0,b.getRoleSubscriptionMutationPlanId)(W),q=null!=$,Q=null!=(null==W?void 0:W.trialId),X=(0,T.useGetTrialPurchaseEligibility)(),Z=X.loading,J=X.getTrialPurchaseEligibility,ee=(0,S.useGuildEligibleForRoleSubscriptionTrials)(t),te=(0,O.useSubscriptionTrial)(null==e?void 0:e.id),ne=(0,f.default)().analyticsLocations,re=!w&&null!=H&&K&&!U&&!q&&!Q;U||w&&!L?R=P.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_REQUIRE_APPROVED_MEMBER:$===F?R=P.default.Messages.GUILD_ROLE_SUBSCRIPTION_HAS_PENDING_MUTATION_TO_CURRENT_LISTING.format({changeDate:null!=W?(0,i.default)(W.currentPeriodEnd).format("MMM DD, YYYY"):""}):q?R=P.default.Messages.GUILD_ROLE_SUBSCRIPTION_HAS_PENDING_MUTATION:Q&&(R=P.default.Messages.GUILD_ROLE_SUBSCRIPTION_CHANGE_TIER_DISABLED_IN_TRIAL);var ae=(0,d.default)(M.RESPONSIVE_MOBILE_WIDTH_SIZE_QUERY);a.useEffect((function(){x&&null!=B&&l.default.wait((function(){(0,s.fetchSubscriptionPlansForSKU)(B)}))}),[x,B])
;var oe=a.useCallback(k(regeneratorRuntime.mark((function n(){var a,i,u,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,o.default)(null!=e,"No subscription listing");(0,o.default)(null!=G,"No subscription plan");(0,o.default)(x,"Cannot purchase this unpublished plan");if(null==(null==te?void 0:te.active_trial)||!ee){n.next=8;break}n.next=6;return J(t,e.id,te.active_trial.id);case 6:!0===(null==(u=n.sent)?void 0:u.is_eligible)?a=null==te||null===(l=te.active_trial)||void 0===l?void 0:l.id:i=P.default.Messages.GUILD_ROLE_SUBSCRIPTION_INELIGIBLE_TRIAL_DISCLAIMER;case 8:(0,_.default)({activeSubscription:W,analyticsSubscriptionType:N.SubscriptionTypes.GUILD,trialId:a,trialFooterMessageOverride:null!=(null==te?void 0:te.active_trial)?P.default.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_RENEWAL_FOOTER.format({trialInterval:(0,E.formatPlanIntervalDuration)(te.active_trial),days:1,contactLink:N.MarketingURLs.CONTACT,
helpdeskArticle:g.default.getArticleURL(N.HelpdeskArticles.ROLE_SUBSCRIPTION_TRIAL)}):void 0,analyticsLocations:ne,analyticsLocation:r,renderHeader:function(n,r,a){return D(C.Header,{onClose:r,listing:e,step:a,guildId:t})},initialPlanId:G.id,skuId:G.sku_id,planGroup:z,renderPurchaseConfirmation:function(n,r){return D(ae?A.PurchaseConfirmationLite:C.PurchaseConfirmation,{listing:e,onClose:r,guildId:t})},reviewWarningMessage:i});case 9:case"end":return n.stop()}}),n)}))),[x,e,G,W,z,t,ne,r,J,ee,te,ae]),ie=a.useCallback((function(){(0,y.default)(t)}),[t]);return{openModal:L?ie:oe,canOpenModal:re,cannotOpenReason:R,isCheckingTrialEligibility:Z}};t.default=j},540330:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=E(n(644263)),u=E(n(30098)),l=n(772575),s=E(n(80828)),d=n(645758),f=n(582945),c=n(547642),p=n(58846),v=E(n(381777)),y=E(n(985795)),m=E(n(500985)),_=n(770348),h=E(n(247001)),g=E(n(344048));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e){var t=e.guildId,n=e.channelId,r=(0,p.useSubscriptionListingsForChannel)({guildId:t,channelId:n
}),E=(0,c.useGroupListingsForGuild)(t),S=(0,c.useSubscriptionsSettings)(t),I=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(t)}),[t]),T=null==I?void 0:I.name,A=(0,o.useStateFromStores)([i.default],(function(){return i.default.getChannel(n)})),C=a.useMemo((function(){for(var e,t={},n=b(E);!(e=n()).done;)for(var r,a=e.value,o=b(a.subscription_listings_ids);!(r=o()).done;){t[r.value]=a.id}return t}),[E]);(0,v.default)({guildId:t,location:_.AnalyticsLocations.ROLE_SUBSCRIPTION_GATED_CHANNEL,relevantSubscriptionListingIds:r.map((function(e){return e.id}))});return null==I?O("div",{className:g.default.spinnerContainer},void 0,O(s.default,{className:g.default.spinner})):O(f.ScrollerAuto,{className:g.default.pageContainer},void 0,O(l.Heading,{variant:"heading-xl/medium",className:g.default.joinCtaTitle,level:3},void 0,h.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_UPSELL_PAGE_CTA.format({serverName:T,channelName:null==A?void 0:A.name})),O(d.Text,{
className:g.default.joinCtaSubtitle,variant:"text-md/normal",color:"header-secondary"},void 0,null==S?void 0:S.description),O(y.default,{},void 0,r.filter((function(e){return null!=C[e.id]})).map((function(e){return O(m.default,{guildId:t,listingId:e.id,groupListingId:C[e.id],analyticsLocation:_.AnalyticsLocations.ROLE_SUBSCRIPTION_GATED_CHANNEL},e.id)}))))}T.displayName="PremiumChannelUpsell"},199317:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=(0,r.useStateFromStores)([u.default],(function(){return u.default.getChannel(t)})),f=(0,s.default)(null==n?void 0:n.id).needSubscriptionToAccess;if(null==n||f)return null;var c=n.isVocal();return{navigateToChannel:function(){c?o.default.handleVoiceConnect({channel:n,connected:l.default.isInChannel(n.id),needSubscriptionToAccess:!1,routeDirectlyToChannel:!0}):(0,i.transitionTo)(d.Routes.CHANNEL(e,n.id))},ariaLabel:(0,a.default)({channel:n})}}
;var r=n(536211),a=f(n(357400)),o=f(n(631294)),i=n(139982),u=f(n(644263)),l=f(n(387692)),s=f(n(141776)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}},986175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.hideLiveChannelNotice=function(e){var t=e.eventId,n=e.stageId;if(null==t&&null==n)return;o.default.dirtyDispatch({type:u.ActionTypes.LIVE_CHANNEL_NOTICE_HIDE,eventId:t,stageId:n})};var r,a=l(n(536211)),o=l(n(636602)),i=n(198756),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d={hiddenEventsAndStages:[]};var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&null!=e.hiddenEventsAndStages&&(d=e)};n.isLiveChannelNoticeHidden=function(e){
var t=e.eventId,n=e.stageId;return!(null==n||!d.hiddenEventsAndStages.includes("stage-"+n))||null!=t&&d.hiddenEventsAndStages.includes("event-"+t)};n.getState=function(){return d};n.__getLocalVars=function(){return{state:d}};return t}(a.default.PersistedStore);f.displayName="LiveChannelNoticesStore";f.persistKey="liveChannelNotices_v2";var c=new f(o.default,((r={})[u.ActionTypes.LIVE_CHANNEL_NOTICE_HIDE]=function(e){var t=e.eventId,n=e.stageId;null!=t?d.hiddenEventsAndStages.push("event-"+t):null!=n&&d.hiddenEventsAndStages.push("stage-"+n)},r[u.ActionTypes.GUILD_SCHEDULED_EVENT_UPDATE]=function(e){var t=e.guildScheduledEvent,n="event-"+t.id;!d.hiddenEventsAndStages.includes(n)||t.status!==i.GuildScheduledEventStatus.CANCELED&&t.status!==i.GuildScheduledEventStatus.COMPLETED||(d.hiddenEventsAndStages=d.hiddenEventsAndStages.filter((function(e){return e!==n})))},r[u.ActionTypes.GUILD_SCHEDULED_EVENT_DELETE]=function(e){var t="event-"+e.guildScheduledEvent.id
;d.hiddenEventsAndStages.includes(t)&&(d.hiddenEventsAndStages=d.hiddenEventsAndStages.filter((function(e){return e!==t})))},r[u.ActionTypes.STAGE_INSTANCE_DELETE]=function(e){var t="stage-"+e.instance.id;d.hiddenEventsAndStages.includes(t)&&(d.hiddenEventsAndStages=d.hiddenEventsAndStages.filter((function(e){return e!==t})))},r));t.default=c},990374:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.guildEventDetailsParser=void 0;var r;var a=((r=n(268389))&&r.__esModule?r:{default:r}).default.parseGuildEventDescription;t.guildEventDetailsParser=a},435903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(!e.isGuildVoice())return!1;if(u.default.getGuildScheduledEventsByIndex(u.StaticGuildEventIndexes.CHANNEL_EVENT_ACTIVE(e.id)).length<1)return!1;if(!a.default.can(l.CREATE_GUILD_EVENT_VOICE_CHANNEL_PERMISSIONS,e))return!1;for(var t,n=new Set(o.default.getVoiceStatesForChannel(e).map((function(e){return e.user.id
}))),s=r.default.getId(),d=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n);!(t=d()).done;){var c=t.value;if(c!==s&&i.default.can({permission:l.CREATE_GUILD_EVENT_VOICE_CHANNEL_PERMISSIONS,user:c,context:e}))return!1}return!0};var r=d(n(423046)),a=d(n(689389)),o=d(n(487372)),i=d(n(656016)),u=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(330321)),l=n(432040);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},780688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useActiveEventOrStageInstanceChannel=function(e){var t,n=(0,o.useFirstActiveEventChannel)(e),i=(0,r.default)(e),u=a.default.getChannel(null===(t=i[0])||void 0===t?void 0:t.id)
;return null!=n?n:u};var r=i(n(483431)),a=i(n(644263)),o=n(902399);function i(e){return e&&e.__esModule?e:{default:e}}},668516:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useCanCreateEditDeleteEvent=function(e,t){return(0,r.useStateFromStores)([o.default,a.default],(function(){return(0,i.canCreateEditDeleteGuildEvent)(e,t,[o.default,a.default])}),[t,e])};var r=n(536211),a=u(n(30098)),o=u(n(689389)),i=n(836490);function u(e){return e&&e.__esModule?e:{default:e}}},157949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useGuildHasLiveChannelNotice=function(e){var t,n=(0,o.default)(e),s=i.default.getChannel(null===(t=n[0])||void 0===t?void 0:t.id),d=(0,r.useStateFromStores)([a.default],(function(){return a.default.getStageInstanceByChannel(null==s?void 0:s.id)}),[s]),f=(0,l.useGuildActiveEvent)(e),c=(0,r.useStateFromStoresObject)([u.default],(function(){return{isStageNoticeHidden:u.default.isLiveChannelNoticeHidden({
stageId:null==d?void 0:d.id}),isEventNoticeHidden:u.default.isLiveChannelNoticeHidden({eventId:null==f?void 0:f.id})}}),[d,f]),p=c.isStageNoticeHidden,v=c.isEventNoticeHidden;if(null!=f)return null!=d?!p:!v;return null!=d&&!p};var r=n(536211),a=s(n(217964)),o=s(n(483431)),i=s(n(644263)),u=s(n(986175)),l=n(902399);function s(e){return e&&e.__esModule?e:{default:e}}},604686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.channelId,r=e.onClick,S=(0,o.useAppContext)(),O=(0,_.useActiveEvent)(n),b=(0,a.useStateFromStores)([s.default],(function(){return s.default.getChannel(n)}),[n]),T=(0,m.useCanCreateEditDeleteEvent)(t,b);if(null==O)return null;var A=function(){null!=b&&(0,y.default)(b)?(0,p.openEndEventModal)(b,S):r()},C=function(){v.default.endEvent(O.id,O.guild_id)};return T?I(d.default,{renderPopout:function(e){var t=e.closePopout;return I(u.default,{},void 0,I(i.default,{navId:"exit-options",onSelect:function(){},
"aria-label":g.default.Messages.DISCONNECT_MENU,onClose:t},void 0,I(i.MenuItem,{id:"end-voice-event",color:h.MenuItemColor.DANGER,action:C,label:g.default.Messages.END_EVENT,icon:c.default})))},align:d.default.Align.CENTER,position:d.default.Positions.TOP,animation:d.default.Animation.FADE},void 0,(function(e){var t=e.onClick;return I(l.CenterControlButton,{label:g.default.Messages.DISCONNECT_SELF,color:"red",iconComponent:f.default,onClick:A,onPopoutClick:t,className:E.default.buttonSpacing})})):I(l.CenterControlButton,{className:E.default.buttonSpacing,label:g.default.Messages.DISCONNECT_SELF,color:"red",iconComponent:f.default,onClick:r})};b(n(667294));var r,a=n(536211),o=n(433383),i=b(n(145122)),u=S(n(222935)),l=n(143414),s=S(n(644263)),d=S(n(160629)),f=S(n(331546)),c=S(n(930600)),p=n(452453),v=S(n(736428)),y=S(n(435903)),m=n(668516),_=n(902399),h=n(474477),g=S(n(247001)),E=S(n(135582));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},
891036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildEvent;if(null==t)return null;return a.createElement(a.Fragment,null,v(u.default.Divider,{className:f.default.divider}),v(s.GuildEventTimeStatus,{startTime:t.scheduled_start_time,isActive:(0,l.isGuildScheduledEventActive)(t),isEnded:(0,l.isGuildEventEnded)(t),liveText:d.default.Messages.LIVE_EVENT,className:f.default.eventSchedule,textSize:i.default.Sizes.SIZE_16,eventType:t.entity_type}),v(o.Text,{color:"header-secondary",variant:"text-md/normal",className:f.default.eventName},void 0,t.name))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(645758),i=c(n(114655)),u=c(n(878556)),l=n(330321),s=n(811634),d=c(n(247001)),f=c(n(348786));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},981706:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=v(n(143414)),i=v(n(30098)),u=n(730977),l=v(n(59573)),s=n(194322),d=v(n(911137)),f=v(n(247001)),c=v(n(914376)),p=["guildId"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){
n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e){var t=e.guildId,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,p),y=(0,a.useStateFromStores)([i.default],(function(){return i.default.getGuild(t)}),[t]);if(!(0,d.default)(y))return null;return r.createElement(o.default,m({onClick:function(){(0,s.openModalLazy)(h(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15198),n.e(57166)]).then(n.bind(n,757166));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,m({},e,{guildId:t}))}));case 5:case"end":return e.stop()}}),e)}))))},
label:f.default.Messages.CREATE_AND_VIEW_EVENTS,iconComponent:l.default,className:c.default.button,tooltipPosition:u.TooltipPositions.BOTTOM},v))}g.displayName="GuildEventsBrowserButton"},513696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildNoticeBody=void 0;t.LiveVoiceOrStageChannelNotice=Q;t.default=t.VoiceChannelType=void 0;var r,a=U(n(667294)),o=n(536211),i=n(341186),u=n(139982),l=n(637356),s=k(n(897191)),d=n(921867),f=n(411315),c=k(n(217964)),p=k(n(724571)),v=k(n(689389)),y=k(n(487372)),m=k(n(956117)),_=k(n(16941)),h=n(645758),g=k(n(259530)),E=k(n(878338)),S=k(n(934018)),O=k(n(332282)),b=U(n(152731)),I=n(71246),T=n(452453),A=U(n(986175)),C=n(647261),M=n(780688),N=n(902399),P=n(549905),R=n(198756),w=n(770348),D=k(n(247001)),L=k(n(139875));function k(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function U(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function G(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var B,H=16,V=x(g.default,{height:16,width:16}),W=a.memo((function(e){var t=e.heading,n=e.location,r=e.locationIcon,o=e.details,i=e.detailsIcon,u=e.topic,l=e.onClickCloseIcon,s=e.children;return x("div",{className:L.default.channelNotice},void 0,x("div",{className:L.default.textBlock},void 0,x("div",{
className:L.default.liveIndicator}),x(h.Text,{color:"text-positive",variant:"text-xs/normal",className:L.default.liveNowText},void 0,t),null!=l&&x(_.default,{onClick:l,className:L.default.closeIcon,"aria-label":D.default.Messages.CLOSE},void 0,V)),x(h.Text,{color:"header-primary",variant:"text-md/normal",className:L.default.eventName},void 0,u),x("div",{className:L.default.textBlock},void 0,r,x(h.Text,{color:"header-secondary",variant:"text-xs/normal",className:L.default.channelName},void 0,n),null!=o&&null!=i&&a.createElement(a.Fragment,null,x(h.Text,{className:L.default.dotDivider,color:"header-secondary",variant:"text-xs/normal"},void 0,"•"),i,x(h.Text,{color:"header-secondary",variant:"text-xs/normal"},void 0,o))),s)}));t.GuildNoticeBody=W;function Y(e){var t=e.guildEvent,n=e.channel,r=(0,o.useStateFromStoresArray)([y.default],(function(){return y.default.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),a=(0,i.getChannelIconComponent)(n);return x(W,{
onClickCloseIcon:function(){return(0,A.hideLiveChannelNotice)({eventId:null==t?void 0:t.id})},heading:D.default.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t.name,location:n.name,locationIcon:null!=a?x(a,{width:H,height:H,className:L.default.stageIcon}):null},void 0,x(Q,{channel:n,speakers:r,voiceType:B.VOICE}))}Y.displayName="GuildVoiceEventNotice";function K(e){var t=e.guildEvent,n=(0,P.getLocationFromEvent)(t);return null==n?null:x(W,{onClickCloseIcon:function(){return(0,A.hideLiveChannelNotice)({eventId:null==t?void 0:t.id})},heading:D.default.Messages.HAPPENING_NOW,topic:t.name,location:(0,C.guildEventDetailsParser)(n,!0),locationIcon:x(S.default,{width:H,height:H,className:L.default.stageIcon})},void 0,x(z,{guildEvent:t}))}K.displayName="GuildExternalEventNotice";function z(e){var t=e.guildEvent,n=a.useCallback((function(){(0,T.openGuildEventDetails)({eventId:t.id})}),[t]);return x(m.default,{fullWidth:!0,className:L.default.joinButton,onClick:n,color:m.default.Colors.GREEN,
size:m.default.Sizes.SMALL},void 0,D.default.Messages.SEE_DETAIL)}z.displayName="SeeDetailButton";function $(e){var t=e.channel,n=e.label;return x(m.default,{fullWidth:!0,className:L.default.joinButton,onClick:function(){if(null!=t&&null!=t.getGuildId()){(0,l.connectAndOpen)(t);(0,u.transitionToGuild)(t.getGuildId(),t.id)}},color:m.default.Colors.GREEN,size:m.default.Sizes.SMALL},void 0,n)}$.displayName="JoinChannelButton";function q(e){var t=e.stageInstance,n=e.channel,r=(0,o.useStateFromStoresObject)([s.default],(function(){var e=s.default.getMutableParticipants(n.id,d.StageChannelParticipantNamedIndex.SPEAKER),t=s.default.getParticipantCount(n.id,d.StageChannelParticipantNamedIndex.AUDIENCE);return{speakers:G(new Set(e.map((function(e){return e.user})))),listenerCount:t}}),[n.id]),a=r.speakers,i=r.listenerCount,u=D.default.Messages.LISTENING_COUNT.format({count:""+i});return x(W,{onClickCloseIcon:function(){return(0,A.hideLiveChannelNotice)({stageId:null==t?void 0:t.id})},
heading:D.default.Messages.STAGE_CHANNEL_LIVE_NOW,location:n.name,details:u,detailsIcon:x(E.default,{width:14,height:14,className:L.default.stageIcon}),locationIcon:x(O.default,{width:H,height:H,className:L.default.stageIcon}),topic:t.topic},void 0,x(Q,{channel:n,speakers:a,voiceType:B.STAGE}))}q.displayName="GuildLiveStageNotice";t.VoiceChannelType=B;!function(e){e[e.VOICE=1]="VOICE";e[e.STAGE=2]="STAGE";e[e.STUDY_ROOM=3]="STUDY_ROOM"}(B||(t.VoiceChannelType=B={}));function Q(e){var t=e.channel,n=e.speakers,r=e.voiceType,i=t.getGuildId(),u=a.useMemo((function(){return n.slice(0,3)}),[n]),l=(0,o.useStateFromStores)([v.default],(function(){return v.default.can(w.Permissions.CONNECT,t)})),s=(0,p.default)(t.id),d=D.default.Messages.JOIN;switch(r){case B.VOICE:d=D.default.Messages.JOIN;break;case B.STAGE:d=D.default.Messages.STAGE_CHANNEL_JOIN_BUTTON
;(null==s?void 0:s.speaker)?d=D.default.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=s&&(d=D.default.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON);break;case B.STUDY_ROOM:d=D.default.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA;break;default:(0,I.assertNever)(r)}return null==i?null:a.createElement(a.Fragment,null,u.length>0?x("div",{className:L.default.textBlock},void 0,x(b.default,{guildId:i,users:u,showUserPopout:!0,size:b.Sizes.SIZE_16}),x(h.Text,{color:"header-secondary",variant:"text-xs/normal",className:L.default.userNames},void 0,(0,f.summarizeUsernamesParticipating)(i,u,null==t?void 0:t.id,n.length))):null,l&&null==s&&x($,{channel:t,label:d}))}var X=a.memo((function(e){var t=e.guild,n=(0,M.useActiveEventOrStageInstanceChannel)(t.id),r=(0,N.useGuildActiveEvent)(t.id),a=(0,o.useStateFromStores)([c.default],(function(){return c.default.getStageInstanceByChannel(null==n?void 0:n.id)}),[n]),i=(0,o.useStateFromStoresObject)([A.default],(function(){return{
isStageNoticeHidden:A.default.isLiveChannelNoticeHidden({stageId:null==a?void 0:a.id}),isEventNoticeHidden:A.default.isLiveChannelNoticeHidden({eventId:null==r?void 0:r.id})}}),[a,r]),u=i.isStageNoticeHidden,l=i.isEventNoticeHidden,s=null,d=null!=a&&null!=n&&!u;null==r||l?d&&(s=x(q,{stageInstance:a,channel:n})):r.entity_type===R.GuildScheduledEventEntityTypes.STAGE_INSTANCE&&d?s=x(q,{stageInstance:a,channel:n}):r.entity_type===R.GuildScheduledEventEntityTypes.EXTERNAL?s=x(K,{guildEvent:r}):r.entity_type===R.GuildScheduledEventEntityTypes.VOICE&&null!=n&&(s=x(Y,{guildEvent:r,channel:n}));return s}));t.default=X},176079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(16941)),u=n(772575),l=n(645758),s=c(n(863771)),d=c(n(247001)),f=c(n(178494));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){
var t=e.className,n=e.iconContainerClassName,r=e.icon,c=e.color,p=e.title,y=e.description,m=e.userCount,_=e.onClick;return v(i.default,{className:(0,o.default)(f.default.container,t),onClick:_},void 0,v("div",{style:{backgroundColor:c},className:(0,o.default)(f.default.icon,n)},void 0,r),v("div",{className:f.default.textContainer},void 0,v(u.Heading,{variant:"heading-md/medium",level:3},void 0,p),v(l.Text,{variant:"text-xs/normal",color:"header-secondary",className:f.default.inline},void 0,y),null!=m&&m>0?a.createElement(a.Fragment,null,v(l.Text,{variant:"text-xs/normal",color:"header-secondary",className:f.default.dot},void 0,"•"),v(l.Text,{variant:"text-xs/normal",color:"header-secondary",className:f.default.inline},void 0,d.default.Messages.GUILD_EVENT_INTERESTED.format({count:m}))):null),v(s.default,{height:16,width:16,className:f.default.caret}))}y.displayName="GuildEventPrompt"},5031:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(32443)),i=n(194322),u=f(n(880783)),l=f(n(176079)),s=n(770348),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}var _=p(o.default,{height:20,width:20});function h(e){var t=e.className,r=e.guildId,o=(0,u.default)();return p(l.default,{className:t,icon:_,color:s.Colors.BRAND_NEW,title:d.default.Messages.SCHEDULE_EVENT,description:d.default.Messages.SCHEDULE_EVENT_DESCRIPTION,onClick:function(){(0,
i.openModalLazy)(m(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865),n.e(15198),n.e(1025),n.e(75659)]).then(n.bind(n,901025));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,v({},e,{guildId:r}))}));case 5:case"end":return e.stop()}}),e)}))),o)}})}h.displayName="ScheduleStageEventPrompt"},620859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,r=e.channelId,u=(0,o.useStateFromStores)([i.default],(function(){return i.default.getChannel(r)}),[r]),m=(0,d.useImminentUpcomingGuildEvents)(r),_=null!=(0,d.useActiveEvent)(r),E=(0,s.useCanCreateEditDeleteEvent)(t,u);if(m.length<1||_||!E)return null;return a.createElement(a.Fragment,null,m.map((function(e){return h(c.default,{icon:O,color:p.Colors.STATUS_GREEN_600,
title:v.default.Messages.GUILD_EVENT_START_PROMPT.format({eventName:e.name}),description:v.default.Messages.GUILD_EVENT_START_PROMPT_DESCRIPTION.format({startTime:(0,f.getEventTimeData)(e.scheduled_start_time).startDateTimeString}),onClick:function(){return function(e){(0,l.openModalLazy)(S(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(15198),n.e(46734)]).then(n.bind(n,746734));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,g({},t,{event:e}))}));case 5:case"end":return t.stop()}}),t)}))))}(e)},userCount:e.user_count,className:y.default.eventPrompt},e.id)})))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=m(n(644263)),u=m(n(32443)),l=n(194322),s=n(668516),d=n(902399),f=n(834547),c=m(n(176079)),p=n(770348),v=m(n(247001)),y=m(n(407770));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){
g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}var O=h(u.default,{height:20,width:20})},473842:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(433383),o=n(559133),i=d(n(332282)),u=d(n(176079)),l=n(478036),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=c(i.default,{height:20,width:20});function v(e){var t=e.className,n=e.channel,r=(0,a.useAppContext)();return c(u.default,{className:t,icon:p,color:l.Colors.STATUS_GREEN_600,
title:s.default.Messages.STAGE_CHANNEL_START_TITLE,description:s.default.Messages.STAGE_CHANNEL_START_SUBTITLE,onClick:function(){(0,o.openStageChannelSettings)(n,r)}})}v.displayName="StartStageChannelEventPrompt"},802337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TutorialType=t.EmbeddedActivityTutorial=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),i=n(536211),u=n(433383),l=n(746920),s=O(n(151120)),d=O(n(37039)),f=O(n(644263)),c=O(n(151097)),p=O(n(956117)),v=n(772575),y=n(645758),m=n(598671),_=O(n(865725)),h=O(n(308920)),g=n(770348),E=O(n(247001)),S=O(n(741093));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.TutorialType=a;!function(e){e.BOOSTING="BOOSTING";e.NITRO="NITRO"}(a||(t.TutorialType=a={}));var T=function(e){
var t=e.channelId,n=e.markAsDismissed,r=e.tutorialType,O=(0,d.default)().analyticsLocations;o.useEffect((function(){h.default.track(g.AnalyticEvents.TOOLTIP_VIEWED,{type:r===a.BOOSTING?"embedded_activity_discovery_tutorial":"embedded_activity_nitro_discovery_tutorial"})}),[r]);var b=(0,u.useAppContext)()===g.AppContext.POPOUT,T=(0,i.useStateFromStores)([f.default],(function(){return f.default.getChannel(t)}),[t]);return I("div",{className:S.default.wrapper},void 0,I("div",{className:S.default.container},void 0,I("div",{className:S.default.content},void 0,I(_.default,{className:S.default.video,src:"https://cdn.discordapp.com/attachments/953335097694756924/953335335566327908/wtp_upsell_v2.mp4",poster:"https://cdn.discordapp.com/attachments/887469171804356628/916446867586416660/activities-video-poster-512.png",width:224,height:126,loop:!0,muted:!0,autoPlay:!0}),I("div",{className:S.default.header},void 0,I(v.Heading,{level:1,className:S.default.headerText,variant:"text-sm/bold",
color:"always-white"},void 0,r===a.BOOSTING?E.default.Messages.EMBEDDED_ACTIVITY_NOTICE_TITLE:E.default.Messages.EMBEDDED_ACTIVITY_NOTICE_NITRO_TITLE),I(m.TextBadge,{text:E.default.Messages.BETA,disableColor:!0,className:S.default.betaTag})),I(y.Text,{className:S.default.subheaderText,variant:"text-xs/normal",color:"always-white"},void 0,r===a.BOOSTING?E.default.Messages.EMBEDDED_ACTIVITY_NOTICE_WTP_DESCRIPTION:E.default.Messages.EMBEDDED_ACTIVITY_NOTICE_NITRO_DESCRIPTION," ",I(c.default,{className:S.default.learnMoreLink,href:"https://support.discord.com/hc/articles/4422142836759"},void 0,E.default.Messages.LEARN_MORE)),I("div",{className:S.default.ctaActionWrapper},void 0,I(p.default,{color:p.default.Colors.BRAND,onClick:function(){n()}},void 0,E.default.Messages.DISMISS),I(p.default,{color:p.default.Colors.BRAND,look:p.default.Looks.INVERTED,onClick:function(){n();if(null!=T){(0,s.default)({channel:T.isGuildVoice()?T:void 0,guildId:T.guild_id,locationObject:{
page:g.AnalyticsPages.GUILD_CHANNEL,section:g.AnalyticsSections.GUILD_CHANNEL_LIST,object:g.AnalyticsObjects.ACTIVITIES_COACH_MARK,objectType:g.AnalyticsObjectTypes.ACTIVITY},openInPopout:b,analyticsLocations:O});(0,l.fetchShelf)(T.guild_id)}}},void 0,E.default.Messages.EMBEDDED_ACTIVITIES_TRY_IT_OUT)))))};t.EmbeddedActivityTutorial=T;T.displayName="EmbeddedActivityTutorial"},884960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(923387),i=w(n(37039)),u=w(n(167739)),l=w(n(638098)),s=w(n(305081)),d=w(n(754452)),f=w(n(58941)),c=w(n(104805)),p=w(n(964285)),v=w(n(55556)),y=w(n(142024)),m=w(n(160629)),_=w(n(308920)),h=n(682937),g=n(770348),E=n(583551),S=n(665984),O=n(265517),b=n(478036),I=w(n(247001)),T=w(n(636443)),A=w(n(135849)),C=w(n(998240)),M=w(n(705206)),N=w(n(567012)),P=w(n(862470)),R=w(n(140577));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}
}function k(e){null!=e&&p.default.open(e.id,g.GuildSettingsSections.OVERVIEW,{section:g.AnalyticsSections.PREMIUM_GUILD_PROGRESS_BAR},g.GuildSettingsSubsections.DISPLAY)}function j(e,t){t&&p.default.open(e.id,g.GuildSettingsSections.DISCOVERY)}function U(e,t){null!=t&&((0,h.isTierUnlocked)(t,g.BoostedGuildTiers.TIER_1)?p.default.open(t.id,g.GuildSettingsSections.OVERVIEW,{section:g.AnalyticsSections.PREMIUM_GUILD_INVITE_SPLASH},g.GuildSettingsSubsections.INVITE):(0,f.default)({analyticsLocations:e,analyticsSourceLocation:g.AnalyticsSections.PREMIUM_GUILD_INVITE_SPLASH,guild:t,perks:(0,S.guildInviteUpsellPerks)()}))}function G(e){var t=e.renderPopout,n=e.renderGuildHeaderDropdownButton;return L(m.default,{renderPopout:function(){return L("div",{onClick:function(e){return e.stopPropagation()}},void 0,t)},position:m.default.Positions.BOTTOM,align:m.default.Align.CENTER,animation:m.default.Animation.TRANSLATE,shouldShow:!0},void 0,(function(){return n()}))}G.displayName="GuildHeaderPopout"
;var F=a.memo((function(e){var t=e.contentTypes,n=e.theme,r=e.guild,a=e.renderGuildHeaderDropdownButton,f=(0,i.default)().analyticsLocations,m=function(){_.default.track(g.AnalyticEvents.TOOLTIP_VIEWED,{type:O.PremiumUpsellTypes.PREMIUM_PROGRESS_BAR,location:{page:g.AnalyticsPages.GUILD_CHANNEL}})},S=function(){_.default.track(g.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:O.PremiumUpsellTypes.INVITE_SPLASH_UPSELL,location:{page:g.AnalyticsPages.GUILD_CHANNEL},location_stack:f})},w=n===b.ThemeTypes.DARK?N.default:P.default;return L(s.default,{contentTypes:t,groupName:E.DismissibleContentGroupName.GUILD_HEADER_TOOLTIPS},void 0,(function(e){var t=e.visibleContent,n=e.markAsDismissed;switch(t){case o.DismissibleContent.GUILD_AUTOMOD_UPSELL:return L(G,{renderPopout:L(d.default,{guildId:r.id,onDismissed:n}),renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS:return L(G,{renderPopout:L(y.default,{onComponentMount:m,
header:I.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_TITLE,asset:L("img",{alt:"",src:w,className:A.default.fullWidthImage}),content:I.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CONTENT.format(),buttonCTA:I.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:I.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return k()},onClick:function(){return k(r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK:return L(G,{renderPopout:L(y.default,{onComponentMount:m,header:I.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_SIZE_TOOLTIP_TITLE,asset:L("img",{alt:"",src:w,className:A.default.fullWidthImage}),content:I.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_SIZE_TOOLTIP_CONTENT.format(),
buttonCTA:I.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:I.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return k()},onClick:function(){return k(r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_TIV_MODERATOR_COACH_MARK:return L(G,{renderPopout:L(v.default,{onClickCta:function(){return function(e){null!=e&&p.default.open(e.id,g.GuildSettingsSections.TEXT_IN_VOICE)}(r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL:return L(G,{renderPopout:L(c.default,{guildId:r.id,markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP:return L(G,{renderPopout:L(l.default,{onClick:function(){return j(r,!0)},onSecondaryClick:function(){return j(r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a})
;case o.DismissibleContent.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL:return L(G,{renderPopout:L(u.default,{guild:r,markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_HEADER_INVITE_SPLASH:var i=(0,h.isTierUnlocked)(r,g.BoostedGuildTiers.TIER_1)?I.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT.format():I.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT_LOCKED.format({boostCount:(0,h.getNumberOfAppliedBoostsNeededForTier)(r,g.BoostedGuildTiers.TIER_1)}),s=(0,h.isTierUnlocked)(r,g.BoostedGuildTiers.TIER_1)?I.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS:I.default.Messages.LEARN_MORE;return L(G,{renderPopout:L(y.default,{onComponentMount:S,header:I.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_TITLE,asset:L("img",{alt:"",src:M.default,className:A.default.fullWidthImage}),content:i,buttonCTA:s,secondaryButtonCTA:I.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,
onSecondaryClick:function(){return U(f)},onClick:function(){return U(f,r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_HEADER_APPLICATION_COMMAND_PERMISSIONS:return L(G,{renderPopout:L(y.default,{header:I.default.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_HEADER,asset:L("img",{alt:"",src:C.default,className:T.default.tooltipIntegrationsPermissionsAsset}),content:I.default.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_CONTENT,buttonCTA:I.default.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_CTA,onClick:function(){p.default.open(r.id,g.GuildSettingsSections.INTEGRATIONS)},secondaryButtonCTA:I.default.Messages.DISMISS,markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_HEADER_FREE_STICKER_SLOTS_TOOLTIP:return L(G,{renderPopout:L(y.default,{header:I.default.Messages.FREE_STICKER_SLOTS_TOOLTIP_HEADER,asset:L("img",{alt:"",src:R.default,className:T.default.wumpusStickerAsset}),
content:I.default.Messages.FREE_STICKER_SLOTS_TOOLTIP_BODY.format(),buttonCTA:I.default.Messages.FREE_STICKER_SLOTS_TOOLTIP_CTA,secondaryButtonCTA:I.default.Messages.FREE_STICKER_SLOTS_TOOLTIP_DISMISS,onClick:function(){return p.default.open(r.id,g.GuildSettingsSections.STICKERS)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});default:return a()}}))}));t.default=F},14638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=e.guildId,r=e.hideSelectedChannel,o=e.selectedChannelId,l=(0,i.useStateFromStores)([W.default],(function(){return W.default.getGuild(n)})),s=(0,O.default)(n),d=(0,i.useStateFromStores)([x.default],(function(){return x.default.getGuildDimensions(n).scrollTo})),f=(0,i.useStateFromStores)([z.default],(function(){return z.default.getChannelId()})),S=be((0,i.useStateFromStoresArray)([K.default],(function(){
return[K.default.can(ce.Permissions.MANAGE_GUILD,l),K.default.can(ce.Permissions.MANAGE_ROLES,l),K.default.can(ce.Permissions.MANAGE_GUILD_EXPRESSIONS,l)]})),3),b=S[0],T=S[1],N=S[2],w=(0,i.useStateFromStores)([B.default],(function(){return B.default.isUnavailable(n)})),L=(0,i.useStateFromStores)([q.default],(function(){return q.default.getCurrentUser()})),k=(0,i.useStateFromStores)([p.default,$.default],(function(){return p.default.darkSidebar?ce.ThemeTypes.DARK:$.default.theme})),U=(0,C.useGuildHasLiveChannelNotice)(null!==(t=null==l?void 0:l.id)&&void 0!==t?t:""),H=(0,y.useBeb)(n),J=v.ActivitiesNitroExperiment.useExperiment({},{autoTrackExposure:!0}).enableNitroActivities,ee=(0,E.default)((function(e){return e.currentlyShown.has(u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION)})),te=be(a.useState(!ee),2),ne=te[0],ie=te[1],ue=(0,c.default)(n),le=(0,_.default)(m.default.GUILD_HEADER).AnalyticsLocationProvider;a.useEffect((function(){n!==ue&&ie(!ee)}),[n,ue,ee]);var se=be((0,
E.default)((function(e){return[pe.CHANNEL_NOTICES.some((function(t){return e.currentlyShown.has(t.dismissibleContentType)})),e.currentlyShownGroup.has(ve.DismissibleContentGroupName.GUILD_HEADER_TOOLTIPS)]})),2),de=se[0],fe=se[1],ye=(0,i.useStateFromStores)([X.default,Z.default,D.default,Q.default],(function(){return X.default.isVisible(l)||Q.default.isVisible(null!=l?l.id:null)||D.default.isVisible(l)||Z.default.isVisible(l)||U}))||de,me=(0,re.useModalsStore)(re.hasAnyModalOpenSelector),_e=(0,i.useStateFromStores)([Y.default],(function(){return Y.default.hasLayers()})),he=(0,i.useStateFromStores)([j.default],(function(){return j.default.shouldShow(De)})),ge=(0,i.useStateFromStores)([W.default],(function(){return(0,G.canViewTiVOptIn)(W.default.getGuild(n))})),Ee=b&&!1===(null==l?void 0:l.premiumProgressBarEnabled)&&!ae.ProcessArgs.isDisallowPopupsSet(),Se=(0,i.useStateFromStores)([V.default],(function(){return V.default.getMemberCount(n)
})),Oe=b&&null!=Se&&Se>=30&&!1===(null==l?void 0:l.premiumProgressBarEnabled)&&!ae.ProcessArgs.isDisallowPopupsSet(),Ie=(0,A.default)(l),Te=(0,g.useLowerMemberCountRequirements)(n),Ce=b&&T,Me=N&&(null==l?void 0:l.premiumTier)===ce.BoostedGuildTiers.NONE,Ne=M.default.useExperiment({guildId:n}).enabled,Pe=b&&"en-US"===(null==l?void 0:l.preferredLocale)&&l.hasFeature(ce.GuildFeatures.DISCOVERABLE);!0===Pe&&(Pe=Pe&&Ne);var Re=(0,h.useBlockedPaymentsConfig)(),we=(b||(null==l?void 0:l.premiumTier)===ce.BoostedGuildTiers.NONE)&&!ae.ProcessArgs.isDisallowPopupsSet()&&!Re,Le=(0,i.useStateFromStores)([P.default,Y.default],(function(){return null!=l&&null!=L&&b&&!Y.default.hasLayers()&&P.default.shouldShowGuildTemplateDirtyTooltip(n)})),je=(0,i.useStateFromStores)([F.default],(function(){return F.default.getChannel(o)})),Ue=(0,I.useGuildHeaderPopoutStore)().isPopoutOpen,Ge=(0,R.useHubStudyGroupExperiment)(l).enableStudyGroup,Fe=oe.GuildCommunityInfoExperiment.useExperiment({guildId:n
}).showCommunityInfo;return a.createElement(a.Fragment,null,Ae(ke,{guildId:n,hideSelectedChannel:r,guild:l,scrollToChannel:d,selectedChannelId:r?null:o,selectedChannel:je,selectedVoiceChannelId:f,voiceStates:s,isUnavailable:w,theme:k,user:L,hasChannelNotice:ye,anyLayerOpen:me||_e,showGuildBoostingProgressBarUpsell:Ee,showGuildBoostingProgressBarSizeUpsell:Oe,showInviteSplashUpsell:we,showDiscoveryLandingPageSettingsUpsell:Pe,showGuildHeaderTutorial:he,showTivModeratorNux:ge,showGuildTemplateDirtyTooltip:Le,showRoleSubscriptionUpsell:Ie,showDiscoveryTooltip:Te,showIntegrationPermissionTooltip:Ce,showFreeStickerSlotsTooltip:Me,showCommunityInfo:Fe,isHeaderPopoutOpen:Ue,enableStudyGroup:Ge,isGuildHeaderDismissibleTooltipShown:fe,activitiesBebEnabled:H,activitiesNitroEnabled:J,canShowCoachMarkAtBottom:ne,HeaderAnalyticsLocationProvider:le}))}
;var r,a=Oe(n(667294)),o=n(248088),i=n(536211),u=n(923387),l=n(91817),s=Ee(n(636602)),d=n(378158),f=Ee(n(562341)),c=Ee(n(145371)),p=Ee(n(235879)),v=n(631735),y=n(698462),m=Ee(n(954140)),_=Ee(n(37039)),h=n(444272),g=n(370639),E=Ee(n(684769)),S=Ee(n(305081)),O=Ee(n(978664)),b=n(638534),I=n(780815),T=n(279682),A=Ee(n(30209)),C=n(157949),M=Ee(n(735172)),N=Ee(n(845957)),P=Ee(n(491523)),R=n(954481),w=Ee(n(348308)),D=Ee(n(126515)),L=Ee(n(329697)),k=Ee(n(527820)),j=Ee(n(282619)),U=Ee(n(142024)),G=n(518180),F=Ee(n(644263)),x=Ee(n(986711)),B=Ee(n(250650)),H=Ee(n(517286)),V=Ee(n(311492)),W=Ee(n(30098)),Y=Ee(n(122913)),K=Ee(n(689389)),z=Ee(n(893160)),$=Ee(n(871778)),q=Ee(n(728429)),Q=Ee(n(329669)),X=Ee(n(535711)),Z=Ee(n(24e4)),J=n(644105),ee=Oe(n(160629)),te=Oe(n(730977)),ne=n(57744),re=n(194322),ae=n(42031),oe=n(908010),ie=n(210098),ue=n(802337),le=Ee(n(328831)),se=Ee(n(884960)),de=Ee(n(608568)),fe=Ee(n(421797)),ce=n(770348),pe=n(7812),ve=n(583551),ye=n(790315),me=Ee(n(247001)),_e=Ee(n(636443)),he=["onClick"],ge=["isUnavailable","guild","selectedChannel","enableStudyGroup","showCommunityInfo"]
;function Ee(e){return e&&e.__esModule?e:{default:e}}function Se(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Se=function(e){return e?n:t})(e)}function Oe(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Se(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Te(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function Ae(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ce(){Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Ce.apply(this,arguments)}function Me(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Me(o,r,a,i,u,"next",e)}function u(e){Me(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Pe(e,t){Pe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Pe(e,t)}var Re=88,we=1e3,De="server-settings",Le={origin:{x:-8,y:-48},targetWidth:40,targetHeight:40,offset:{x:0,y:0}},ke=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Pe(e,t)}(t,e);function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];(t=e.call.apply(e,[this].concat(i))||this).historyUnlisten=function(){};t.showTimeout=new l.Timeout;t.state={controller:new o.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,communityInfoVisible:!1,shouldShowSubscribeTooltip:!1,bannerVisibleHeight:Re,hasGuildSubheader:!1};t.handleHistoryChange=function(e){null!=e.state&&e.state.shouldShowSubscribeTooltip&&t.showTimeout.start(we,(function(){return t.setState({shouldShowSubscribeTooltip:!0})}))};t.handleHeaderMenuToggle=function(e){var n=t.props.isHeaderPopoutOpen;e.stopPropagation();(0,I.showGuildHeaderPopout)(!n);t.closeAllHeaderNotices()};t.handleContextMenu=function(e){var r=t.props.guild;null!=r&&(0,d.openContextMenuLazy)(e,Ne(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:e.next=2;return n.e(18974).then(n.bind(n,418974));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Ce({},e,{guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleHeaderContextMenu=function(e){var r=t.props.guild;null!=r&&(0,d.openContextMenuLazy)(e,Ne(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(38698),n.e(53734)]).then(n.bind(n,853734));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Ce({},e,{guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.closeAllHeaderNotices=function(){t.handleCloseSubscribeTooltip();t.handleCloseTemplateDirtyTooltip()};t.handleCloseSubscribeTooltip=function(){t.showTimeout.stop();t.state.shouldShowSubscribeTooltip&&t.setState({shouldShowSubscribeTooltip:!1})};t.handleCloseTemplateDirtyTooltip=function(){
var e=t.props,n=e.guild,r=e.showGuildTemplateDirtyTooltip;null!=n&&r&&N.default.hideGuildTemplateDirtyTooltip(n.id)};t.renderMenuPopout=Ne(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(38698),n.e(11976)]).then(n.bind(n,611976));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){var n=e.closePopout,r=t.props.guild;return null!=r&&Ae(a,{onClose:n,guild:r})}));case 5:case"end":return e.stop()}}),e)})));t.renderGuildHeaderUpsellPopout=function(e){var n=t.props,r=n.showTivModeratorNux,a=n.showGuildBoostingProgressBarUpsell,o=n.showGuildBoostingProgressBarSizeUpsell,i=n.showRoleSubscriptionUpsell,l=n.showDiscoveryTooltip,s=n.showInviteSplashUpsell,d=n.showIntegrationPermissionTooltip,f=n.showDiscoveryLandingPageSettingsUpsell,c=n.showFreeStickerSlotsTooltip,p=n.guild,v=n.theme;if(null==p)return t.renderGuildHeaderDropdownButton(e);var y=[]
;r&&y.push(u.DismissibleContent.GUILD_TIV_MODERATOR_COACH_MARK);a&&y.push(u.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS);o&&y.push(u.DismissibleContent.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK);i&&y.push(u.DismissibleContent.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL);s&&y.push(u.DismissibleContent.GUILD_HEADER_INVITE_SPLASH);l&&y.push(u.DismissibleContent.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP);f&&y.push(u.DismissibleContent.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL);d&&y.push(u.DismissibleContent.GUILD_HEADER_APPLICATION_COMMAND_PERMISSIONS);c&&y.push(u.DismissibleContent.GUILD_HEADER_FREE_STICKER_SLOTS_TOOLTIP);(0,T.canCurrentUserSeeAutomodUpsell)(p.id)&&!(0,b.canCurrentUserSeeForumChannelUpsell)(p.id)&&y.push(u.DismissibleContent.GUILD_AUTOMOD_UPSELL);return 0===y.length?t.renderGuildHeaderDropdownButton(e):Ae(se.default,{contentTypes:y,theme:v,guild:p,renderGuildHeaderDropdownButton:function(){return t.renderGuildHeaderDropdownButton(e)}})}
;t.pinBannerOrGuildInfo=function(e){var n=e.scrollTop;t.setAnimatedValue(n)};return t}t.getDerivedStateFromProps=function(e){var t=e.guild,n=e.hasChannelNotice;return null==t||null==t.banner||n?{renderBanner:!1,bannerVisible:!1}:null};var r=t.prototype;r.componentDidMount=function(){var e,t=this;this.setAnimatedValue(0);s.default.subscribe(ce.ActionTypes.LAYER_PUSH,this.closeAllHeaderNotices);this.historyUnlisten=L.default.addRouteChangeListener(this.handleHistoryChange);(null===(e=L.default.getHistory().location.state)||void 0===e?void 0:e.shouldShowSubscribeTooltip)&&this.showTimeout.start(we,(function(){return t.setState({shouldShowSubscribeTooltip:!0})}))};r.componentWillUnmount=function(){this.showTimeout.stop();this.state.controller.dispose();this.historyUnlisten();s.default.unsubscribe(ce.ActionTypes.LAYER_PUSH,this.closeAllHeaderNotices)};r.getGuildBannerHash=function(){var e=this.props,t=e.guild,n=e.hasChannelNotice;return null==t||n?null:t.banner}
;r.renderGuildHeaderDropdownButton=function(e){return Ae(f.default,{open:e,className:_e.default.dropdown})};r.renderGuildHeaderNotices=function(e){var t=this,n=this.props,r=n.showGuildTemplateDirtyTooltip,a=n.showGuildHeaderTutorial,o=n.anyLayerOpen,i=this.state.shouldShowSubscribeTooltip;return a?Ae("div",{onClick:function(t){return e?null:t.stopPropagation()}},void 0,Ae(k.default,{tutorialId:De,position:J.PopoutPositions.BOTTOM,inlineSpecs:Le},void 0,this.renderGuildHeaderDropdownButton(e))):r?Ae(te.default,{forceOpen:!0,color:te.TooltipColors.BRAND,position:ne.Positions.BOTTOM,shouldShow:!e&&!o,text:me.default.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP,"aria-label":me.default.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP},void 0,(function(){return t.renderGuildHeaderDropdownButton(e)})):o||e?this.renderGuildHeaderDropdownButton(e):i?Ae(ee.default,{renderPopout:function(){return Ae("div",{onClick:function(e){return e.stopPropagation()}},void 0,Ae(U.default,{
header:me.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_HEADER,content:me.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_TEXT,buttonCTA:me.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_CLOSE,onClick:t.handleCloseSubscribeTooltip}))},position:ee.default.Positions.BOTTOM,align:ee.default.Align.CENTER,animation:ee.default.Animation.TRANSLATE,shouldShow:!0},void 0,(function(){return t.renderGuildHeaderDropdownButton(e)})):this.renderGuildHeaderUpsellPopout(e)};r.renderGuildHeader=function(e){var t=this,n=this.props,r=n.guild,o=n.isHeaderPopoutOpen,i=n.showGuildHeaderTutorial,u=n.showGuildTemplateDirtyTooltip,l=n.isGuildHeaderDismissibleTooltipShown,s=n.showCommunityInfo,d=n.HeaderAnalyticsLocationProvider,f=this.state,c=f.controller,p=f.renderBanner,v=f.bannerVisible,y=f.bannerVisibleHeight,m=f.communityInfoVisible,_=i||u||l;return null==r?null:Ae(d,{},void 0,Ae(ee.LazyPopout,{renderPopout:this.renderMenuPopout,
position:ee.default.Positions.BOTTOM,align:ee.default.Align.CENTER,animation:ee.default.Animation.SCALE,shouldShow:o,onRequestClose:function(){return(0,I.showGuildHeaderPopout)(!1)}},void 0,(function(n){n.onClick;var i=Te(n,he);return a.createElement(le.default,Ce({guild:r,controller:c,renderBanner:p,hasSubheader:e,bannerVisible:v,communityInfoVisible:m,showCommunityInfo:s,guildBanner:t.getGuildBannerHash(),onClick:t.handleHeaderMenuToggle,onContextMenu:t.handleHeaderContextMenu,disableBannerAnimation:_,animationOverlayHeight:y},i),t.renderGuildHeaderNotices(o))})))};r.setAnimatedValue=function(e){var t=this.props,n=t.guild,r=t.showCommunityInfo,a=null!=this.getGuildBannerHash(),o=r&&(null==n?void 0:n.hasCommunityInfoSubheader());null!=n&&(a||o)&&(a?this.setAnimatedValueForBanner(e):this.setAnimatedValueForGuildInfo(e))};r.setAnimatedValueForBanner=function(e){var t=this.state,n=t.renderBanner,r=t.communityInfoVisible,a=t.bannerVisible,o=t.bannerVisibleHeight,i=t.controller
;(e>=64&&a||e<64&&!a)&&(a=!a);(e>=Re&&!n||e<Re&&n)&&(n=!n);o=Math.max(Re-e,0);r=a;n===this.state.renderBanner&&a===this.state.bannerVisible&&o===this.state.bannerVisibleHeight&&r===this.state.communityInfoVisible||this.setState({renderBanner:n,bannerVisible:a,bannerVisibleHeight:o,communityInfoVisible:r});i.update({value:Math.min(1,Math.max(0,1-e/Re)),immediate:!0}).start()};r.setAnimatedValueForGuildInfo=function(e){var t=this.state,n=t.communityInfoVisible,r=t.controller;(e>=20&&n||e<20&&!n)&&(n=!n);n!==this.state.communityInfoVisible&&this.setState({communityInfoVisible:n});r.update({value:Math.min(1,Math.max(0,1-e/20)),immediate:!0}).start()};r.renderChannelList=function(){var e=this.props,t=e.isUnavailable,n=e.guild,r=e.selectedChannel,o=e.enableStudyGroup,i=e.showCommunityInfo,u=Te(e,ge);if(t||null==n)return Ae(fe.default,{withBannerPadding:null!=n&&null!=this.getGuildBannerHash()});if(n.hasFeature(ce.GuildFeatures.HUB)&&!o)return Ae("div",{className:_e.default.hubContainer
},void 0,Ae(w.default,{guild:n,channel:null!=r?r:H.default.getDefaultChannel(n.id)}));var l=n.id===ye.FAVORITES_RAW_GUILD_ID?ie.FavoritesChannelList:ie.GuildChannelList;return a.createElement(l,Ce({guild:n},u,{guildBanner:this.getGuildBannerHash(),hasGuildSubheader:this.state.hasGuildSubheader,onScroll:null!=n&&(null!=this.getGuildBannerHash()||i&&n.hasCommunityInfoSubheader())?this.pinBannerOrGuildInfo:null}))};r.render=function(){var e=this,t=this.props,n=t.guild,r=t.activitiesBebEnabled,o=t.activitiesNitroEnabled,i=t.canShowCoachMarkAtBottom,l=t.selectedChannelId,s=[];r&&i?s.push(u.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK):o&&i&&s.push(u.DismissibleContent.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2);return Ae("nav",{className:_e.default.container,onContextMenu:this.handleContextMenu,"aria-label":me.default.Messages.GUILD_SIDEBAR_A11Y_LABEL.format({guildName:null!=n?n.toString():""})},void 0,null!=n&&this.renderGuildHeader(this.state.hasGuildSubheader),null!=n&&Ae(de.default,{
guild:n,setHasSubheader:function(t){return e.setState({hasGuildSubheader:t})}}),this.renderChannelList(),Ae(S.default,{contentTypes:s},void 0,(function(e){var t=e.visibleContent,n=e.markAsDismissed;switch(t){case u.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK:return Ae(ue.EmbeddedActivityTutorial,{channelId:null!=l?l:void 0,markAsDismissed:n,tutorialType:ue.TutorialType.BOOSTING});case u.DismissibleContent.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2:return Ae(ue.EmbeddedActivityTutorial,{channelId:null!=l?l:void 0,markAsDismissed:n,tutorialType:ue.TutorialType.NITRO});default:return a.createElement(a.Fragment,null)}})))};return t}(a.PureComponent);ke.displayName="GuildSidebar"},608568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(35333)),i=n(954481),u=d(n(199808)),l=n(770348),s=d(n(462179));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){
var t=e.guild,n=e.setHasSubheader,r=(0,i.useHubStudyGroupExperiment)(t).enableStudyGroup;if(t.hasFeature(l.GuildFeatures.HUB)){if(r){n(!0);return c(u.default,{guild:t})}n(!1);return null}return c(o.default,{guild:t,setHasSubheader:n})}p.displayName="SubheaderContent";function v(e){return c("div",{className:s.default.container},void 0,a.createElement(p,e))}v.displayName="GuildSubheader"},421797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(101545));function i(e){
return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(){return l("div",{className:o.default.spacer})};s.displayName="Spacer";var d=function(){return l("div",{className:o.default.category})};d.displayName="Category";var f=function(e){var t=e.width;return l("div",{className:o.default.channel},void 0,l("div",{className:o.default.channelIcon}),l("div",{className:o.default.channelName,style:{width:t+"px"}}))};f.displayName="Channel"
;var c=l(d,{}),p=l(f,{width:100}),v=l(f,{width:74}),y=l(f,{width:100}),m=l(f,{width:70}),_=l(f,{width:112}),h=l(f,{width:175}),g=l(s,{}),E=l(d,{}),S=l(f,{width:100}),O=l(f,{width:74}),b=l(f,{width:100}),I=l(f,{width:70}),T=l(f,{width:112}),A=l(f,{width:56}),C=function(e){var t,n=e.withBannerPadding;return l("div",{className:(0,a.default)(o.default.container,(t={},t[o.default.bannerPadding]=n,t))},void 0,c,p,v,y,m,_,h,g,E,S,O,b,I,T,A)};C.displayName="PlaceholderChannelList";var M=C;t.default=M},491523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(972247)),i=l(n(636602)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return d.apply(this,arguments)}var f="hasSeenGuildTemplatePromotionTooltip",c={},p=!0===o.default.get(f);function v(e){var t,n=e.guildId;c=d({},c,((t={})[n]=!1,t))}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.shouldShowGuildTemplateDirtyTooltip=function(e){var t;return null!==(t=c[e])&&void 0!==t&&t};n.shouldShowGuildTemplatePromotionTooltip=function(){return!p};n.__getLocalVars=function(){return{HAS_SEEN_GUILD_TEMPLATE_PROMOTION_TOOLTIP_KEY:f,showGuildTemplateDirtyTooltipFlags:c,seenGuildTemplatePromotionTooltip:p}};return t}(a.default.Store);y.displayName="GuildTemplateTooltipStore";var m=new y(i.default,((r={})[u.ActionTypes.GUILD_TEMPLATE_DIRTY_TOOLTIP_REFRESH]=function(e){var t,n=e.guildTemplate;c=d({},c,((t={})[n.source_guild_id]=n.is_dirty||!1,t))},r[u.ActionTypes.GUILD_TEMPLATE_PROMOTION_TOOLTIP_HIDE]=function(){o.default.set(f,!0);p=!0},
r[u.ActionTypes.GUILD_TEMPLATE_SYNC_SUCCESS]=function(e){var t;c=d({},c,((t={})[e.guildTemplate.source_guild_id]=!1,t))},r[u.ActionTypes.GUILD_TEMPLATE_DIRTY_TOOLTIP_HIDE]=v,r[u.ActionTypes.GUILD_TEMPLATE_DELETE_SUCCESS]=v,r));t.default=m},920061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(138864),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(997359)),o=n(919094),i=f(n(562882)),u=f(n(308920)),l=f(n(924117)),s=f(n(233689)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v="template",y=p({},s.default,{openNativeAppModal:function(e){i.default.openNativeAppModal(e,d.RPCCommands.GUILD_TEMPLATE_BROWSER)},openMobileApp:function(e,t){if(!(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)){var n=null!=e?(0,r.getGuildTemplateDynamicLinkTemplate)(e):(0,r.getDefaultDynamicLinkTemplate)(),i=(0,a.generateAttemptId)(),s=(0,a.default)(n,{utmSource:v,fingerprint:t,attemptId:i});u.default.track(d.AnalyticEvents.DEEP_LINK_CLICKED,{fingerprint:(0,o.maybeExtractId)(t),attempt_id:i,source:v,guild_template_code:e});l.default.launch(s,(function(){}))}}});t.default=y},542322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=p(n(368767)),i=p(n(844784)),u=p(n(502546)),l=p(n(790597)),s=p(n(547282)),d=n(878556),f=n(770348),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.channelId,n=(0,a.useStateFromStores)([u.default],(function(){return u.default.getSection(t)})),r=(0,a.useStateFromStores)([l.default],(function(){return l.default.getGuildId()})),p=n===f.ChannelSections.MEMBERS;return y(d.Icon,{tooltip:p?c.default.Messages.MEMBER_LIST_SHOWN:c.default.Messages.MEMBER_LIST_HIDDEN,icon:s.default,onClick:function(){i.default.trackWithMetadata(f.AnalyticEvents.MEMBER_LIST_TOGGLED,{channel_id:t,guild_id:r,member_list_open:!p});o.default.toggleMembersSection()},selected:p})}m.displayName="ChannelMembersButton"},818378:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=_(n(770549)),u=_(n(563621)),l=_(n(160629)),s=_(n(91424)),d=_(n(811198)),f=_(n(878556)),c=n(956506),p=_(n(405622)),v=n(770348),y=_(n(247001)),m=_(n(750322));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.channel,n=S((0,o.useStateFromStoresArray)([u.default],(function(){return[u.default.isChannelMuted(t.getGuildId(),t.id),u.default.resolvedMessageNotifications(t)]}),[t]),2),r=n[0],_=n[1],h=S(a.useState(!1),2),O=h[0],b=h[1];a.useEffect((function(){var e=function(){return b(!0)};c.ComponentDispatch.subscribe(v.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e);return function(){c.ComponentDispatch.unsubscribe(v.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}}),[]);var I=function(e){e.shiftKey?i.default.updateChannelOverrideSettings(t.guild_id,t.id,{muted:!r}):b((function(e){return!e}))
},T=y.default.Messages.NOTIFICATION_SETTINGS;return g(l.default,{shouldShow:O,animation:l.default.Animation.NONE,position:l.default.Positions.BOTTOM,align:l.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return b(!1)},renderPopout:function(e){return a.createElement(p.default,E({},e,{channel:t,navId:"channel-context",label:y.default.Messages.CHANNEL_ACTIONS_MENU_LABEL}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(f.default.Icon,E({},e,{onClick:I,tooltip:n?null:T,icon:r||_!==v.UserNotificationSettings.ALL_MESSAGES?d.default:s.default,foreground:r?m.default.strikethrough:null,"aria-label":T,selected:n}))}))}b.displayName="ChannelNotificationSettingsButton"},764423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=_(n(83887)),u=n(433383),l=_(n(137438)),s=_(n(191391)),d=_(n(728429)),f=_(n(160629)),c=_(n(126344)),p=n(878556),v=n(956506),y=n(770348),m=_(n(247001));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.channel,n=(0,o.useStateFromStores)([l.default,d.default],(function(){var e=d.default.getCurrentUser();return null==e||t.isNSFW()&&(!e.nsfwAllowed||!l.default.didAgree(t.getGuildId()))}),[t]),r=S(a.useState(!1),2),_=r[0],h=r[1],O=(0,o.useStateFromStores)([s.default],(function(){return s.default.hasUnreadPins(t.id)}),[t]),b=(0,u.useWindowDispatch)(),I=a.useCallback((function(){n||h((function(e){return!e}))}),[n]);a.useEffect((function(){v.ComponentDispatch.subscribe(y.ComponentActions.TOGGLE_CHANNEL_PINS,I);return function(){v.ComponentDispatch.unsubscribe(y.ComponentActions.TOGGLE_CHANNEL_PINS,I)}}),[I]);function T(e){(null==e?void 0:e.shiftKey)||b.dispatch(y.ComponentActions.POPOUT_CLOSE)}
return g(f.default,{shouldShow:_,animation:f.default.Animation.NONE,position:f.default.Positions.BOTTOM,align:f.default.Align.RIGHT,autoInvert:!1,ignoreModalClicks:!0,onRequestClose:function(){return h(!1)},renderPopout:function(e){return a.createElement(i.default,E({},e,{onJump:T,channel:t}))}},void 0,(function(e,t){var r=t.isShown;return a.createElement(p.Icon,E({},e,{onClick:I,tooltip:r?null:m.default.Messages.PINNED_MESSAGES,icon:c.default,"aria-label":m.default.Messages.PINNED_MESSAGES,disabled:n,showBadge:O,selected:r}))}))}b.displayName="ChannelPinsButton";var I=b;t.default=I},92332:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=I(n(88500)),u=I(n(136873)),l=n(433383),s=I(n(825724)),d=I(n(493051)),f=I(n(30269)),c=I(n(27245)),p=I(n(635014)),v=I(n(290629)),y=I(n(387692)),m=I(n(730977)),_=I(n(119431)),h=I(n(79027)),g=I(n(878556)),E=n(956506),S=n(770348),O=n(376293),b=I(n(247001));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleStartCall=function(e,n){var r=t.props,a=r.channel,o=r.notFriend,u=r.appContext,l=o?a.getRecipientId():null,s=function(){return i.default.call(a.id,n,!o&&!a.isManaged()&&e&&!e.shiftKey,l)};n?(0,f.default)(s,u):s()};t.handleJoinCall=function(e){u.default.selectVoiceChannel(t.props.channel.id,e)};t.handleVoiceClick=function(e){var n=t.props,r=n.callUnavailable,a=n.callActive;if(!r)return a?t.handleJoinCall(!1):t.handleStartCall(e,!1)};t.handleStartVideoCall=function(e){t.handleStartCall(e,!0)};t.handleJoinVideoCall=function(){var e=t.props.appContext;(0,f.default)((function(){return t.handleJoinCall(!0)}),e)}
;t.handleBrowserNotSupported=function(){(0,d.default)()};return t}var n=t.prototype;n.componentDidMount=function(){E.ComponentDispatch.subscribe(S.ComponentActions.CALL_START,this.handleVoiceClick)};n.componentWillUnmount=function(){E.ComponentDispatch.unsubscribe(S.ComponentActions.CALL_START,this.handleVoiceClick)};n.renderVideoCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,r=e.callUnavailable,a=e.channel,o=e.mode;if(t||n&&o===S.ChannelModes.VOICE)return null;var i,u=a.isManaged(),l=null,s=!1;if(p.default.supports(O.Features.VIDEO))if(n&&o===S.ChannelModes.VIDEO){i=this.handleJoinVideoCall;l=u?b.default.Messages.CONNECT:b.default.Messages.JOIN_VIDEO_CALL}else{i=this.handleStartVideoCall;l=u?b.default.Messages.CONNECT:b.default.Messages.START_VIDEO_CALL}else{s=!0;i=this.handleBrowserNotSupported;l=b.default.Messages.BROWSER_NOT_SUPPORTED}return A(g.default.Icon,{icon:h.default,onClick:i,disabled:s||r,tooltip:l})};n.renderVoiceCallButton=function(){
var e=this.props,t=e.inCall,n=e.callActive,r=e.callUnavailable,a=e.channel;if(t)return null;var o,i=a.isManaged(),u="",l=!1;if(r){u=i?b.default.Messages.VOICE_UNAVAILABLE:b.default.Messages.CALL_UNAVAILABLE;o=m.default.Colors.RED;l=!0}else u=n?i?b.default.Messages.CONNECT:b.default.Messages.JOIN_VOICE_CALL:i?b.default.Messages.CONNECT:b.default.Messages.START_VOICE_CALL;return A(g.default.Icon,{icon:_.default,onClick:this.handleVoiceClick,disabled:l,tooltip:u,tooltipColor:o})};n.render=function(){return A(a.Fragment,{},void 0,this.renderVoiceCallButton(),this.renderVideoCallButton())};return t}(a.PureComponent);M.displayName="PrivateChannelCallButton";function N(e){var t=e.channel,n=(0,o.useStateFromStores)([s.default],(function(){return s.default.getMode(t.id)})),r=(0,o.useStateFromStores)([y.default],(function(){return y.default.isInChannel(t.id)})),a=(0,o.useStateFromStoresObject)([c.default],(function(){return{callActive:c.default.isCallActive(t.id),
callUnavailable:c.default.isCallUnavailable(t.id)}})),i=a.callActive,u=a.callUnavailable,d=t.getRecipientId(),f=t.type===S.ChannelTypes.DM&&null!=d&&!v.default.isFriend(d),p=(0,l.useAppContext)();return A(M,{channel:t,mode:n,inCall:r,callActive:i,callUnavailable:u,notFriend:f,appContext:p})}N.displayName="ConnectedPrivateChannelCallButton"},789620:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(278352)),i=n(439142),u=n(770348);function l(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var s={init:function(){a.default.subscribe(u.ActionTypes.VOICE_CHANNEL_SELECT,(function(e){null==e.channelId&&o.hideHotspot(i.HotspotLocations.VOICE_PANEL_INTRODUCTION)}))}};t.default=s},954481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useHubStudyGroupExperiment=t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(373505),o=n(770348);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(i=function(e){return e?n:t})(e)}var u=(0,a.createExperiment)({kind:"guild",id:"2021-10_study_group",label:"Student hub study group",defaultConfig:{enableStudyGroup:!1},treatments:[{id:1,label:"Enables study group sidebar",config:{enableStudyGroup:!0}}]});t.useHubStudyGroupExperiment=function(e){var t;r.useEffect((function(){null!=e&&e.hasFeature(o.GuildFeatures.HUB)&&u.trackExposure({guildId:e.id})}),[e]);return u.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""},{disable:null==e||!e.hasFeature(o.GuildFeatures.HUB)})};var l=u;t.default=l},241813:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=f(n(689626)),i=f(n(81026)),u=f(n(876874)),l=f(n(728429)),s=n(770348),d=n(460703);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var p=function(e){var t=(0,a.useStateFromStores)([i.default],(function(){return(null==e?void 0:e.hasFeature(s.GuildFeatures.HUB))?i.default.hasViewedPrompt(d.GuildPrompts.REAL_NAME_PROMPT,e.id):null})),n=(0,a.useStateFromStores)([l.default],(function(){return l.default.getCurrentUser()})),f=(0,a.useStateFromStores)([u.default],(function(){return null!=(null==e?void 0:e.id)&&null!=n?u.default.getMember(null==e?void 0:e.id,n.id):null})),c=null!=(null==f?void 0:f.nick);r.useEffect((function(){c&&null!=e&&!1===t&&o.default.viewPrompt(d.GuildPrompts.REAL_NAME_PROMPT,e.id)
}),[c,e,t]);return!1===t&&!c};t.default=p},404922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(956117)),i=n(645758),u=n(194322),l=d(n(247001)),s=d(n(773022));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=e.hasHub;return v("div",{className:s.default.container},void 0,v("div",{className:s.default.iconContainer},void 0,v("div",{className:s.default.icon})),v(i.Text,{color:"header-primary",variant:"text-lg/semibold",className:s.default.header},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_ADD_HEADER:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_HEADER),v(i.Text,{
color:"header-secondary",variant:"text-sm/normal",className:s.default.description},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_ADD_DESCRIPTION:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_DESCRIPTION),v("div",{className:s.default.gap}),v(o.default,{size:o.default.Sizes.LARGE,color:t?o.default.Colors.PRIMARY:o.default.Colors.GREEN,onClick:function(){return(0,u.openModalLazy)(p(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,v(i.Text,{variant:"text-sm/normal",className:s.default.addButton,color:"none"},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_ANOTHER:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_MY_SCHOOOL)))};y.displayName="HubDiscoveryAddHubCard";var m=y;t.default=m},562200:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=c(n(415275)),i=c(n(871778)),u=c(n(2022)),l=n(772575),s=c(n(404922)),d=c(n(247001)),f=c(n(258199));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var m=v(s.default,{hasHub:!0}),_=v(s.default,{hasHub:!1}),h=function(e){var t=e.guilds,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.theme})),r=t.map((function(e){return v(u.default,{className:f.default.guildCard,onView:function(){return o.default.transitionToGuildSync(e.id)},guild:y({},e,{presenceCount:void 0,memberCount:void 0,premiumSubscriptionCount:void 0,emojis:void 0}),theme:n},e.id)}));return v("section",{className:f.default.guildListSection},void 0,t.length>0?v("div",{},void 0,v(l.Heading,{
className:f.default.title,variant:"heading-lg/medium",level:3},void 0,d.default.Messages.YOUR_HUB),v("div",{className:f.default.guildList},void 0,r,m)):v("div",{className:f.default.guildList},void 0,_))};h.displayName="HubDiscoveryGuildList";var g=h;t.default=g},666895:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(6505),i=p(n(652566)),u=n(645758),l=p(n(252004)),s=p(n(97751)),d=n(227445),f=p(n(247001)),c=p(n(596964));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=y(l.default,{}),_=function(e){var t=e.handleCategorySelect,n=e.shouldDisplaySelectedCategory,r=e.currentCategoryId,l=(0,a.useStateFromStores)([i.default],(function(){return i.default.hasHotspot(o.HotspotLocations.HUB_NEW)}));return y(s.default,{avatar:m,name:f.default.Messages.HUB_SCHOOL_HUBS,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){t(d.DISCORD_HUB_ID);(0,o.hideHotspot)(o.HotspotLocations.HUB_NEW)},wrapContent:!0,
selected:n&&d.DISCORD_HUB_ID===r,className:c.default.categoryItem,selectedClassName:c.default.selectedCategoryItem,innerClassName:c.default.itemInner},d.DISCORD_HUB_ID,l&&y("div",{className:c.default.new},void 0,y(u.Text,{color:"none",variant:"text-xs/semibold",className:c.default.newText},void 0,f.default.Messages.NEW)))};_.displayName="HubDiscoveryListItem";var h=_;t.default=h},39365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(772575),i=n(645758),u=y(n(582945)),l=n(465537),s=y(n(283642)),d=y(n(562200)),f=n(227445),c=y(n(247001)),p=y(n(250926)),v=y(n(237018));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.loadId,n=(0,s.default)();a.useEffect((function(){(0,l.trackDiscoveryViewed)({loadId:t,gamesYouPlayGuilds:[],allGuilds:[],categoryId:f.DISCORD_HUB_ID})}),[t]);return _(u.default,{className:p.default.scroller
},void 0,_("div",{className:p.default.viewWrapper},void 0,_("div",{className:p.default.headerContainer},void 0,_("img",{alt:"",className:p.default.headerImage,src:v.default}),_("div",{className:p.default.headerContent},void 0,_(o.Heading,{className:p.default.headerText,variant:"heading-xl/medium",level:3},void 0,c.default.Messages.HUB_DIRECTORY_SEARCH_TITLE),_(i.Text,{className:p.default.headerDescription,variant:"text-md/normal",color:"none"},void 0,c.default.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE))),_(d.default,{guilds:n}),_("div",{className:p.default.divider}),_(i.Text,{className:p.default.footerDescription,variant:"text-sm/normal",color:"header-secondary"},void 0,c.default.Messages.HUB_DISCOVERY_FOOTER_DESCRIPTION)))};h.displayName="HubDiscoveryPage";var g=h;t.default=g},529295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.HubEmailConnectionRoute=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=m(n(23170)),u=n(139982),l=m(n(30098)),s=m(n(795741)),d=m(n(194815)),f=n(549186),c=n(376022),p=n(770348),v=n(99043),y=m(n(400110));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t=e.guildId,n=e.inviteCode,r=g(a.useState(v.WaveStates.INITIAL),2),m=r[0],_=r[1],E=g(a.useState(null!=n),2),S=E[0],O=E[1];a.useEffect((function(){null!=n&&i.default.resolveInvite(n,"Hub").finally((function(){return O(!1)}))}),[n]);var b=(0,o.useStateFromStores)([s.default],(function(){return null!=n?s.default.getInvite(n):null})),I=(0,o.useStateFromStores)([l.default],(function(){return l.default.getGuild(t)}));a.useEffect((function(){null!=I&&(0,u.transitionTo)(p.Routes.CHANNEL(t))}),[I,t]);var T=a.useCallback((function(e){_((function(t){return Math.max(t,e)}))}),[]),A=(0,f.getArtForPath)();return h("div",{className:y.default.page},void 0,h(d.default,{embedded:!0,splash:A,waveState:m,showLogo:!1,
updateWaveState:T},void 0,h("div",{className:y.default.dragRegion}),h("div",{className:y.default.contentWrapper},void 0,!S&&h(c.HubEmailConnectionModalView,{invite:b}))))};t.HubEmailConnectionRoute=S;S.displayName="HubEmailConnectionRoute";var O=S;t.default=O},185836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(918667)),i=n(194322),u=n(770348),l=d(n(247001)),s=d(n(140561));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,u,"next",e)}function u(e){p(o,r,a,i,u,"throw",e)}i(void 0)}))}}function y(e){var t=e.guild,r=e.markAsDismissed;return c(o.default,{guild:t,onDismissed:r,onClick:function(){(0,i.openModalLazy)(v(regeneratorRuntime.mark((function e(){var t,r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))},message:l.default.Messages.HUB_LINK_CHANNEL_NOTICE_BODY,cta:l.default.Messages.LEARN_MORE,trackingSource:u.ChannelNoticeCtaSources.HUB_LINK_NOTICE,type:u.ChannelNoticeTypes.HUB_LINK,image:s.default})}y.displayName="HubLinkChannelNotice"},283642:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return(0,a.useStateFromStores)([o.default],(function(){var e=o.default.getGuilds();return Object.entries(e).filter((function(e){var t=u(e,2);t[0];return t[1].hasFeature(i.GuildFeatures.HUB)})).map((function(e){var t=u(e,2);t[0];return t[1]}))}))};var r,a=n(536211),o=(r=n(30098))&&r.__esModule?r:{default:r},i=n(770348);function u(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},199808:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;y(n(667294));var r,a=n(248088),o=n(536211),i=n(6505),u=y(n(517286)),l=p(n(689389)),s=p(n(365397)),d=p(n(782256)),f=n(864227),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.guild,n=(0,o.useStateFromStores)([u.default],(function(){return u.default.getChannels(t.id)[u.GUILD_VOCAL_CHANNELS_KEY][0]})),r=(0,o.useStateFromStores)([l.default],(function(){return null!=n&&l.default.can(c.Permissions.CONNECT,n.channel)}));return t.hasFeature(c.GuildFeatures.HUB)?null==n?null:r?m(h,{channel:n.channel}):null:null};_.displayName="HubStudyRoomNoticeGuard";var h=function(e){var t=e.channel,n=(0,o.useStateFromStores)([i.HotspotStore],(function(){return i.HotspotStore.hasHotspot(i.HotspotLocations.HUB_STUDY_ROOM_NOTICE)})),r=(0,f.useConnectedInCurrentHub)(t.guild_id),u=(0,a.useSpring)({maxHeight:r?0:300,overflow:"hidden",delay:400});return m(a.animated.div,{style:u
},void 0,n?m(s.default,{channel:t}):m(d.default,{name:"📚☕ "+t.name,channel:t}))};h.displayName="HubStudyRoomNotice";var g=_;t.default=g},365397:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=p(n(294184)),o=n(6505),i=n(139982),u=n(637356),l=p(n(956117)),s=p(n(16941)),d=p(n(259530)),f=p(n(247001)),c=p(n(76889));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}
function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.channel;return y("div",{className:(0,a.default)(c.default.channelNotice,c.default.hubStudyGroup)},void 0,y(s.default,{onClick:function(){(0,o.hideHotspot)(o.HotspotLocations.HUB_STUDY_ROOM_NOTICE)},className:c.default.close,"aria-label":f.default.Messages.DISMISS},void 0,y(d.default,{className:c.default.closeIcon})),y("div",{className:c.default.message},void 0,y("div",{className:c.default.title},void 0,f.default.Messages.HUB_STUDY_ROOM_NOTICE_TITLE),y("div",{className:c.default.description
},void 0,f.default.Messages.HUB_STUDY_ROOM_NOTICE_DESCRIPTION),y(l.default,{className:c.default.btn,onClick:function(){(0,o.hideHotspot)(o.HotspotLocations.HUB_STUDY_ROOM_NOTICE);if(null!=t&&null!=t.getGuildId()){(0,u.connectAndOpen)(t);(0,i.transitionToGuild)(t.getGuildId(),t.id)}},color:l.default.Colors.GREEN},void 0,f.default.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA)))};m.displayName="HubStudyRoomNoticeOnboard";var _=m;t.default=_},782256:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=n(341186),i=n(513696),u=d(n(487372)),l=d(n(247001)),s=d(n(692657));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.name,n=e.channel,r=(0,a.useStateFromStoresArray)([u.default],(function(){return u.default.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),d=(0,o.getChannelIconComponent)(n);return c(i.GuildNoticeBody,{heading:l.default.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t,
location:l.default.Messages.HUB_STUDY_ROOM_VOICE_CHANNEL_TOOLTIP,locationIcon:null!=d?c(d,{width:16,height:16,className:s.default.icon}):null},void 0,c(i.LiveVoiceOrStageChannelNotice,{channel:n,speakers:r,voiceType:i.VoiceChannelType.STUDY_ROOM}))}p.displayName="HubStudyRoomNoticeVoice";var v=p;t.default=v},936747:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(636602)),a=i(n(308920));n(497655);var o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))}}function s(e){return d.apply(this,arguments)}function d(){return(d=l(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(93212)]).then(n.bind(n,693212));case 2:r=e.sent;(0,r.openInteractionModal)(t);a.default.track(o.AnalyticEvents.OPEN_MODAL,{type:"interaction_modal",application_id:t.application.id});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f={init:function(){r.default.subscribe(o.ActionTypes.INTERACTION_MODAL_CREATE,s)},terminate:function(){r.default.unsubscribe(o.ActionTypes.INTERACTION_MODAL_CREATE,s)}};t.default=f},497655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.InteractionModalState=void 0;var r,a,o,i,u,l,s,d=_(n(441143)),f=_(n(536211)),c=_(n(636602)),p=_(n(786345)),v=n(81069),y=n(741464),m=n(770348);function _(e){return e&&e.__esModule?e:{default:e}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}t.InteractionModalState=a;!function(e){e[e.IN_FLIGHT=0]="IN_FLIGHT";e[e.ERRORED=1]="ERRORED"
;e[e.SUCCEEDED=2]="SUCCEEDED"}(a||(t.InteractionModalState=a={}));var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getModalState=function(e){return e!==o?null:i};n.__getLocalVars=function(){return{currentNonce:o,currentState:i,queuedMessageId:u,queuedMessageChannelId:l,queuedMessageNonce:s}};return t}(f.default.Store);g.displayName="InteractionModalStore";var E=new g(c.default,((r={})[m.ActionTypes.LOGOUT]=function(){o=null;i=null;u=null;l=null;s=null;return!0},r[m.ActionTypes.INTERACTION_MODAL_CREATE]=function(e){if(e.nonce===s){p.default.deleteMessage(l,u,!0);u=null;l=null;s=null}return!1},r[m.ActionTypes.INTERACTION_QUEUE]=function(e){var t=e.messageId,n=e.nonce,r=e.data;switch(r.interactionType){case v.InteractionTypes.APPLICATION_COMMAND:u=t;l=r.channelId;s=n;return!1;case v.InteractionTypes.MODAL_SUBMIT:(0,
d.default)(null==o||i===a.ERRORED||i===a.SUCCEEDED,"cannot submit multiple modals at once");o=n;i=a.IN_FLIGHT;setTimeout((function(){o===n&&i===a.IN_FLIGHT&&(0,y.setFailed)(n)}),1e4);return!0;default:return!1}},r[m.ActionTypes.INTERACTION_SUCCESS]=function(e){var t=e.nonce;if(null==t||t!==o)return!1;i=a.SUCCEEDED;return!0},r[m.ActionTypes.INTERACTION_FAILURE]=function(e){var t=e.nonce;if(null==t||t!==o)return!1;i=a.ERRORED;return!0},r));t.default=E},419523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=P(n(636602)),o=P(n(740207)),i=P(n(390557)),u=n(123516),l=P(n(105988)),s=P(n(177230)),d=n(747868),f=P(n(937196)),c=P(n(429074)),p=n(139982),v=P(n(610929)),y=n(205809),m=n(845634),_=P(n(607209)),h=P(n(644263)),g=P(n(635014)),E=P(n(211136)),S=P(n(663303)),O=P(n(728429)),b=P(n(81636)),I=P(n(945771)),T=P(n(949898)),A=n(864489),C=P(n(911110)),M=n(770348),N=n(376293);function P(e){return e&&e.__esModule?e:{default:e}}function R(e,t){
R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}function w(){var e=E.default.getVoiceChannelId(),t=h.default.getChannel(e);return(0,y.isSoundboardSupported)()&&(0,v.default)(t)}var D=((r={})[M.GlobalKeybindActions.TOGGLE_PRIORITY_SPEAKER]={onTrigger:function(){},keyEvents:{}},r[M.GlobalKeybindActions.UNASSIGNED]={onTrigger:function(){},keyEvents:{}},r[M.GlobalKeybindActions.PUSH_TO_TALK]={onTrigger:function(e,t){if(g.default.getMode(t)===M.InputModes.PUSH_TO_TALK){D[M.GlobalKeybindActions.PUSH_TO_TALK].isPressed=e;g.default.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!1)}),t)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[M.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY]={onTrigger:function(e){if(g.default.getMode()===M.InputModes.PUSH_TO_TALK){D[M.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY].isPressed=e;g.default.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!0)}),N.MediaEngineContextTypes.DEFAULT)}
},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[M.GlobalKeybindActions.PUSH_TO_MUTE]={onTrigger:function(e){if(g.default.getMode()===M.InputModes.VOICE_ACTIVITY&&!g.default.isSelfDeaf()){D[M.GlobalKeybindActions.PUSH_TO_MUTE].isPressed=e;o.default.setTemporarySelfMute(e)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[M.GlobalKeybindActions.TOGGLE_MUTE]={onTrigger:function(){return o.default.toggleSelfMute()},keyEvents:{keyup:!0,keydown:!1}},r[M.GlobalKeybindActions.TOGGLE_DEAFEN]={onTrigger:function(){o.default.toggleSelfDeaf()},keyEvents:{keyup:!0,keydown:!1}},r[M.GlobalKeybindActions.TOGGLE_VOICE_MODE]={onTrigger:function(){var e=g.default.getMode()===M.InputModes.PUSH_TO_TALK?M.InputModes.VOICE_ACTIVITY:M.InputModes.PUSH_TO_TALK;o.default.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},r[M.GlobalKeybindActions.TOGGLE_OVERLAY]={onTrigger:function(){var e=b.default.enabled;i.default.setEnabled(!e)},keyEvents:{keyup:!0,keydown:!1}},
r[M.GlobalKeybindActions.TOGGLE_OVERLAY_INPUT_LOCK]={onTrigger:function(e){var t=(0,C.default)();null!=t&&(e?i.default.setUILocked(!I.default.isUILocked(t),t):i.default.setInputLocked(!b.default.isInputLocked(t),t))},keyEvents:{keyup:!0,keydown:!0}},r[M.GlobalKeybindActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET]={onTrigger:function(){var e=b.default.getFocusedPID();null!=e&&(null!=e||!1)&&I.default.isPinned(M.OverlayWidgets.TEXT)&&b.default.isReady(e)&&b.default.isInputLocked(e)&&i.default.activateRegion(M.OverlayActiveRegions.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}},r[M.GlobalKeybindActions.TOGGLE_GO_LIVE_STREAMING]={onTrigger:function(){var e=O.default.getCurrentUser();if(null!=e){var t=_.default.getActiveStreamForUser(e.id);if(null!=t&&e.id===t.ownerId)return(0,u.stopStream)((0,d.encodeStreamKey)(t));(0,f.default)()}},keyEvents:{keyup:!0,keydown:!1}},r[M.GlobalKeybindActions.TOGGLE_STREAMER_MODE]={onTrigger:function(){l.default.setEnabled(!S.default.enabled)},keyEvents:{
keyup:!0,keydown:!1}},r[M.GlobalKeybindActions.NAVIGATE_BACK]={onTrigger:function(){return(0,p.back)()},keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}},r[M.GlobalKeybindActions.NAVIGATE_FORWARD]={onTrigger:function(){return(0,p.forward)()},keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}},r[M.GlobalKeybindActions.SOUNDBOARD]={onTrigger:function(){if(w())if(T.default.isFocused())(0,m.openSoundboardWindow)(!0);else{var e=(0,C.default)();null!=e&&(I.default.isUILocked(e)?(0,m.openSoundboardInOverlay)(!0,e):(0,m.closeSoundboardInOverlay)(e))}},keyEvents:{keyup:!0,keydown:!1}},r[M.GlobalKeybindActions.SOUNDBOARD_HOLD]={onTrigger:function(e){if(w()){var t=(0,C.default)();null==t?((0,A.isWindows)()||T.default.isFocused())&&e?(0,m.openSoundboardWindow)(!1):!e&&c.default.getWindowOpen(M.PopoutWindowKeys.SOUNDBOARD)&&(0,m.closeSoundboardWindow)():e?(0,m.openSoundboardInOverlay)(!1,t):(0,m.closeSoundboardInOverlay)(t)}},keyEvents:{keyup:!0,keydown:!0}},r),L=new(function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.wait((function(){return a.default.dispatch({type:M.ActionTypes.KEYBINDS_REGISTER_GLOBAL_KEYBIND_ACTIONS,keybinds:D})}))};n._terminate=function(){};n.__getLocalVars=function(){return{KEYBINDS:D}};return t}(s.default));t.default=L},778885:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=b(n(667294)),o=S(n(294184)),i=n(536211),u=S(n(415275)),l=S(n(678875)),s=n(139982),d=S(n(30098)),f=S(n(790597)),c=S(n(956117)),p=n(645758),v=S(n(889167)),y=b(n(465537)),m=S(n(930409)),_=n(770348),h=S(n(247001)),g=S(n(5459)),E=S(n(944659));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(){A=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(){var e=(0,i.useStateFromStores)([f.default],(function(){return f.default.getGuildId()}),[]),t=(0,i.useStateFromStores)([d.default],(function(){return d.default.getGuild(e)}),[e]),n=(0,i.useStateFromStores)([m.default],(function(){return m.default.getHistorySnapshot()}),[]),r=C(a.useState(!1),2),S=r[0],O=r[1];if(null==t)return null;var b=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0);e.prev=1;e.next=4;return u.default.joinGuild(t.id,{source:_.JoinGuildSources.NOTICE_BAR});case 4:r=e.sent;y.trackGuildJoinClicked(t.id)
;t.hasVerificationGate()&&null!=(null===(n=r.body)||void 0===n?void 0:n.member_verification_form)&&(0,l.default)(t.id);e.next=12;break;case 9:e.prev=9;e.t0=e.catch(1);O(!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return I("div",{className:(0,o.default)(g.default.notice,E.default.notice)},void 0,I(c.default,{look:c.default.Looks.OUTLINED,color:c.default.Colors.WHITE,size:c.default.Sizes.NONE,className:(0,o.default)(g.default.button,g.default.back),innerClassName:g.default.iconButton,onClick:function(){var e=(0,s.getHistory)();null!=n&&null!=n.location?(0,s.replaceWith)(A({},n.location)):e.goBack()}},void 0,I(v.default,{width:16,height:16,className:g.default.arrow}),h.default.Messages.BACK),I(p.Text,{className:g.default.header,
variant:"text-sm/normal"},void 0,h.default.Messages.LURKER_MODE_NAG_BAR_HEADER),I(c.default,{className:g.default.button,look:c.default.Looks.OUTLINED,color:c.default.Colors.WHITE,size:c.default.Sizes.NONE,submitting:S,onClick:b},void 0,h.default.Messages.LURKER_MODE_NAG_BAR_BUTTON.format({guild:t.name})))};N.displayName="LurkerModeNotice";var P=N;t.default=P},316200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=u(n(636602)),o=u(n(177230)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=3e3,d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).clearErrorTimeout=new r.Timeout;t.handleNoiseCancellationError=function(){
t.clearErrorTimeout.start(s,(function(){return a.default.dispatch({type:i.ActionTypes.MEDIA_ENGINE_NOISE_CANCELLATION_ERROR_RESET})}))};return t}var n=t.prototype;n._initialize=function(){a.default.subscribe(i.ActionTypes.MEDIA_ENGINE_NOISE_CANCELLATION_ERROR,this.handleNoiseCancellationError)};n._terminate=function(){this.clearErrorTimeout.stop();a.default.unsubscribe(i.ActionTypes.MEDIA_ENGINE_NOISE_CANCELLATION_ERROR,this.handleNoiseCancellationError)};n.__getLocalVars=function(){return{CLEAR_ERROR_MESSAGE_TIMEOUT:s}};return t}(o.default));t.default=d},999607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(118777)),i=u(n(353326));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){return e.toFixed(0)+"%"},f=a.forwardRef((function(e,t){
var n=e.value,r=e.minValue,u=void 0===r?0:r,l=e.maxValue,f=void 0===l?100:l,c=e.onChange,p=e.renderValue,v=void 0===p?d:p,y=e["aria-label"],m=a.useRef(null);a.useImperativeHandle(t,(function(){return{focus:function(){var e;return null===(e=m.current)||void 0===e?void 0:e.focus()},blur:function(){var e;return null===(e=m.current)||void 0===e?void 0:e.blur()},activate:function(){return!1}}}),[]);return s("div",{className:i.default.sliderContainer},void 0,a.createElement(o.default,{ref:m,mini:!0,handleSize:16,className:i.default.slider,initialValue:n,minValue:u,maxValue:f,onValueChange:c,asValueChanges:c,onValueRender:v,orientation:"horizontal","aria-label":y}))}));t.default=f},531671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.acceptMessageRequest=function(e){return r.default.put({url:i.Endpoints.CHANNEL_RECIPIENT_CONSENT(e),body:{consent_status:o.MessageRequestConsentStatusTypes.ACCEPTED}})};t.clearMessageRequestState=function(e){return r.default.put({
url:i.Endpoints.CHANNEL_RECIPIENT_CONSENT(e),body:{consent_status:o.MessageRequestConsentStatusTypes.UNSPECIFIED}})};t.fetchUserCountryCode=function(){a.default.getLocationMetadata()};t.markAsMessageRequest=function(e){return r.default.put({url:i.Endpoints.CHANNEL_RECIPIENT_CONSENT(e),body:{consent_status:o.MessageRequestConsentStatusTypes.PENDING}})};t.rejectMessageRequest=function(e){return r.default.delete({url:i.Endpoints.CHANNEL_RECIPIENT_CONSENT(e)})};var r=u(n(118915)),a=u(n(939949)),o=n(854978),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}},491043:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MESSAGE_REQUEST_ACCEPT_CONFIRMATION_MODAL=void 0;t.MESSAGE_REQUEST_ACCEPT_CONFIRMATION_MODAL="Message Request Accept Confirmation"},73034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.openAcceptRequestConfirmationModal=function(e,t){i.default.track(l.AnalyticEvents.OPEN_MODAL,{
type:u.MESSAGE_REQUEST_ACCEPT_CONFIRMATION_MODAL,channel_id:t});(0,o.openModalLazy)(c(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(33382)]).then(n.bind(n,733382));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,d({onConfirm:e},t))}));case 5:case"end":return t.stop()}}),t)}))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(194322),i=(r=n(308920))&&r.__esModule?r:{default:r},u=n(491043),l=n(770348)
;function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}},854978:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MessageRequestConsentStatusTypes=void 0;var n;t.MessageRequestConsentStatusTypes=n;!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED";e[e.PENDING=1]="PENDING";e[e.ACCEPTED=2]="ACCEPTED";e[e.REJECTED=3]="REJECTED"}(n||(t.MessageRequestConsentStatusTypes=n={}))},
699502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return u.default.getUserCountryCode()})),t=!1===(0,a.useStateFromStores)([o.default],(function(){var e;return null===(e=o.default.getCurrentUser())||void 0===e?void 0:e.nsfwAllowed}));r.useEffect((function(){null==e&&(0,i.fetchUserCountryCode)()}),[e]);if(null==e||!d.has(e.alpha2))return!1;if(!t)return!1;return!0};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=l(n(728429)),i=n(531671),u=l(n(255186))
;function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var d=new Set(["GB","US"])},952779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ActionType=void 0;t.default=v;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=d(n(294184)),u=d(n(16941)),l=d(n(730977)),s=d(n(835315));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.ActionType=a;!function(e){e[e.ACCEPT=0]="ACCEPT";e[e.DENY=1]="DENY";e[e.DEFAULT=2]="DEFAULT"}(a||(t.ActionType=a={}));function v(e){var t=e.icon,n=e.tooltip,r=e.onClick,d=e.actionType,f=void 0===d?a.DEFAULT:d,v=e.shouldHighlight;return p(l.default,{text:n},void 0,(function(e){var l
;return o.createElement(u.default,c({},e,{"aria-label":n,onClick:r,className:(0,i.default)(s.default.actionButton,(l={},l[s.default.actionAccept]=f===a.ACCEPT,l[s.default.actionDeny]=f===a.DENY,l[s.default.highlight]=v,l))}),p(t,{className:s.default.icon}))}))}v.displayName="ActionButton"},495096:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ITEM_HEIGHT=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(74854)),u=n(798628),l=n(378158),s=f(n(314234)),d=f(n(789358));function f(e){return e&&e.__esModule?e:{default:e}}
function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.ITEM_HEIGHT=65;function g(e){var t=e.children,r=e.user,f=e.onClick,c=e.isFocused,y=e.isActive,h=e.onOtherHover,g=_(a.useState(!1),2),E=g[0],S=g[1],O=_(a.useState(!1),2),b=O[0],I=O[1],T=function(){S(c);!c||y||b||null==h||h()},A=function(){S(!1)};return p(u.ListNavigatorItem,{id:r.id},void 0,(function(e){var u;return p(s.default,{offset:{left:-8,right:-8}},void 0,a.createElement(i.default.div,v({className:(0,o.default)(d.default.messageRequestItem,(u={},u[d.default.active]=y||b,u)),onContextMenu:function(e){return function(e,t){I(!0);(0,l.openContextMenuLazy)(e,m(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,v({},e,{user:t}))}));case 5:
case"end":return e.stop()}}),e)}))),{onClose:function(){I(!1)}})}(e,r)},onMouseEnter:T,onMouseLeave:A,onClick:null!=f?f:void 0,style:{height:65,opacity:1}},e),t(E||y||b)))}))}g.displayName="MessageRequestItem";var E=g;t.default=E},152892:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=I(n(667294)),o=n(370405),i=n(536211),u=I(n(588136)),l=O(n(463024)),s=n(887299),d=O(n(871778)),f=n(186465),c=O(n(161669)),p=O(n(325908)),v=n(582945),y=n(518802),m=O(n(928668)),_=O(n(699502)),h=O(n(845303)),g=n(770348),E=O(n(247001)),S=O(n(928064));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=T(o.Helmet,{title:"Discord"}),C=T(l.default.Icon,{icon:c.default,"aria-hidden":!0});function M(){a.useEffect((function(){u.setHomeLink(g.Routes.MESSAGE_REQUESTS);(0,s.trackAppUIViewed)("message-requests")}),[]);var e=(0,_.default)(),t=(0,i.useStateFromStores)([d.default],(function(){return d.default.theme})),n=(0,m.default)();return T("div",{
className:S.default.container},void 0,A,T(l.default,{className:(0,y.getThemeClass)(t)},void 0,C,T(l.default.Title,{},void 0,E.default.Messages.MESSAGE_REQUESTS)),T("div",{className:S.default.tabBody},void 0,T(v.ScrollerAuto,{className:S.default.scroller},void 0,T(f.Panel,{id:"Message Requests",className:S.default.panel},void 0,T(p.default,{className:S.default.sectionTitle},void 0,E.default.Messages.MESSAGE_REQUESTS),T("div",{className:S.default.sectionBody},void 0,n.map((function(t){return T(h.default,{channel:t.channel,user:t.user,showConfirmationOnAccept:e},t.channel.id)})))))))}M.displayName="MessageRequestsPage";var N=M;t.default=N},845303:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=M;var r,a=O(n(667294)),o=E(n(730381)),i=n(910992),u=E(n(992193)),l=E(n(259530)),s=n(308920),d=E(n(918922)),f=E(n(71636)),c=n(531671),p=n(73034),v=O(n(952779)),y=E(n(495096)),m=E(n(836717)),_=n(770348),h=E(n(247001)),g=E(n(307977));function E(e){
return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e){var t,n,r=e.channel,E=e.user,S=e.showConfirmationOnAccept,O=a.useContext(s.AnalyticsContext),I=A((0,d.default)((function(){return(0,c.acceptMessageRequest)(r.id)})),2),C=I[0],M=I[1],N=(M.loading,M.error,A((0,d.default)((function(){return(0,c.rejectMessageRequest)(r.id)})),2)),P=N[0],R=N[1],w=(R.loading,R.error,function(){var e=T(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation();e.next=3;return P();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=function(){
var e=T(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return C();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){e.stopPropagation();S?(0,p.openAcceptRequestConfirmationModal)(D,r.id):D()},k=null!==(t=null===(n=(0,o.default)(f.default.extractTimestamp(r.lastMessageId)))||void 0===n?void 0:n.calendar())&&void 0!==t?t:h.default.Messages.MESSAGE_REQUEST_INCOMING;return b(y.default,{isFocused:!1,user:E,onClick:function(){(0,i.openUserProfileModal)({userId:E.id,analyticsLocation:O.location})}},void 0,(function(e){return b("div",{className:g.default.rowContainer},void 0,b(m.default,{user:E,hovered:e,status:_.StatusTypes.UNKNOWN,subText:h.default.Messages.MESSAGE_REQUEST_INCOMING,secondaryText:k}),b("div",{className:g.default.actions},void 0,b(v.default,{icon:u.default,actionType:v.ActionType.ACCEPT,tooltip:h.default.Messages.MESSAGE_REQUEST_ACCEPT,
onClick:L,shouldHighlight:e}),b(v.default,{icon:l.default,actionType:v.ActionType.DENY,tooltip:h.default.Messages.MESSAGE_REQUEST_IGNORE,onClick:w,shouldHighlight:e})))}))}M.displayName="PendingRow"},836717:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=c(n(294184)),o=n(536211),i=c(n(252149)),u=c(n(435160)),l=c(n(290629)),s=n(645758),d=c(n(628551)),f=c(n(749421));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t,n=e.user,r=e.hovered,c=e.status,p=e.isMobile,y=e.className,m=e.secondaryText,_=(0,o.useStateFromStores)([l.default],(function(){return l.default.getNickname(n.id)}));return v("div",{className:(0,a.default)(f.default.userInfo,y,(t={},t[f.default.hovered]=r,t))},void 0,v(u.default,{user:n,className:f.default.avatar,size:d.default.Sizes.SIZE_40,animate:r,status:c,isMobile:p}),v("div",{className:f.default.content},void 0,v(i.default,{nick:_,user:n,className:f.default.userName,usernameClass:f.default.username,
discriminatorClass:f.default.discriminator,botClass:f.default.botTag}),v(s.Text,{color:"text-muted",variant:"text-xs/normal"},void 0,m)))}y.displayName="UserInfo"},960736:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MessageNoticeBanner=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(157358));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.bannerIcon,n=e.bannerHeader,r=e.bannerSubtext,i=e.containerStyles,u=e.headerStyles,s=e.children;return l("div",{className:o.default.spamBanner},void 0,l("div",{className:(0,a.default)(o.default.bannerTextContainer,i)},void 0,"string"==typeof t?l("img",{src:t,alt:"",className:o.default.bannerIcon}):t,l("div",{className:o.default.bannerText},void 0,l("div",{className:(0,a.default)(o.default.bannerHeader,u)},void 0,n),l("div",{className:o.default.bannerSubtext},void 0,r))),l("div",{className:o.default.actionButtons},void 0,s))}s.displayName="MessageNoticeBanner"},
16014:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MobileWebDropInExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2022-04_mobile_web_drop_in",label:"Drop users into mobile web after registration instead of deeplinking to the app/store.",defaultConfig:{isEnabled:!1,upsellStyle:"themed"},treatments:[{id:1,label:"Show a nag bar app upsell in mobile web",config:{isEnabled:!0,upsellStyle:"themed"}},{id:2,label:"Show a blurple nag bar app upsell in mobile web",config:{isEnabled:!0,upsellStyle:"blurple"}},{id:3,label:"Show a halfsheet app upsell in mobile web",config:{isEnabled:!0,upsellStyle:"halfsheet"}}]});t.MobileWebDropInExperiment=r},152577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r};var o={closeSidebar:function(){a.default.dispatch({type:"MOBILE_WEB_SIDEBAR_CLOSE"})},openSidebar:function(){a.default.dispatch({type:"MOBILE_WEB_SIDEBAR_OPEN"
})}};t.default=o},31427:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=n(171236),o=l(n(536211)),i=l(n(636602)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=!1;var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getIsOpen=function(){return!a.isMobile||d};n.__getLocalVars=function(){return{isSidebarOpen:d}};return t}(o.default.Store);f.displayName="MobileWebSidebarStore";var c=new f(i.default,((r={})[u.ActionTypes.MOBILE_WEB_SIDEBAR_OPEN]=function(){d=!0},r[u.ActionTypes.MOBILE_WEB_SIDEBAR_CLOSE]=function(){d=!1},r));t.default=c},249603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=P(n(667294)),o=M(n(294184)),i=n(248088),u=M(n(74854)),l=n(171236),s=n(923387),d=n(836233),f=M(n(285629)),c=M(n(305081)),p=n(314234),v=P(n(413839)),y=M(n(956117)),m=M(n(16941)),_=n(772575),h=n(645758),g=M(n(259530)),E=M(n(435012)),S=M(n(308920)),O=n(16014),b=n(770348),I=n(583551),T=M(n(247001)),A=M(n(405068)),C=M(n(172087));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function R(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var L={SMALL:A.default.sizeSmall,MEDIUM:A.default.sizeMedium},k=function(e){var t;return D(m.default,{onClick:e.onDismiss,className:(0,o.default)(e.size,(t={},t[A.default.blurpleOverride]=e.isBlurple,t)),"aria-label":T.default.Messages.DISMISS},void 0,D(g.default,{className:A.default.closeIcon}))};k.displayName="CloseButton";function j(e){e(I.ContentDismissActionType.PRIMARY);(0,f.default)("mweb_upsell");S.default.track(b.AnalyticEvents.DOWNLOAD_APP)}var U=function(e){
var t=e.onDismiss,n=a.useContext(d.AccessibilityPreferencesContext).reducedMotion,r=R(a.useState(!1),2),l=r[0],s=r[1],f=a.useRef(null);a.useEffect((function(){s(!0);return function(){return s(!1)}}),[]);var c=(0,i.useSpring)({opacity:l?1:0,transform:l||n.enabled?"scale(1)":"scale(0.7)",config:{duration:l?300:100,easing:u.default.Easing.inOut(u.default.Easing.back()),clamp:!0}});return a.createElement(a.Fragment,null,D(v.default,{isVisible:!0,backdropStyle:v.BackdropStyles.DARK}),a.createElement(i.animated.div,{className:A.default.halfSheet,ref:f,style:c},D(p.FocusRingScope,{containerRef:f},void 0,D(k,{size:L.MEDIUM,onDismiss:function(){return t(I.ContentDismissActionType.DISMISS)}}),D("img",{src:C.default,alt:"",className:A.default.mobileAppSparklesImage}),D(_.Heading,{variant:"heading-xl/medium",level:3},void 0,T.default.Messages.MOBILE_WEB_GET_APP_UPSELL_HALFSHEET_HEADER),D(h.Text,{className:A.default.subheading,variant:"text-sm/normal"
},void 0,T.default.Messages.MOBILE_WEB_GET_APP_UPSELL_HALFSHEET_SUBHEADER),D(y.default,{fullWidth:!0,className:A.default.lineHeightOverride,onClick:function(){return j((function(){return t(I.ContentDismissActionType.PRIMARY)}))}},void 0,T.default.Messages.MOBILE_WEB_GET_APP_UPSELL_HALFSHEET_BUTTON_TEXT),D("div",{className:A.default.btnSpacer},void 0,D(y.default,{color:y.default.Colors.PRIMARY,look:y.default.Looks.LINK,onClick:function(){return t(I.ContentDismissActionType.SECONDARY)},className:(0,o.default)(A.default.lineHeightOverride,A.default.marginOverride)},void 0,T.default.Messages.MAYBE_LATER)))))},G=function(e){var t=e.onDismiss;return D("div",{className:A.default.blurpleUpsellContainer},void 0,D(y.default,{className:(0,o.default)(A.default.lineHeightOverride,A.default.marginOverride),color:y.default.Colors.WHITE,innerClassName:A.default.contentsOverrides,look:y.default.Looks.LINK,size:y.default.Sizes.LARGE,onClick:function(){return j((function(){
return t(I.ContentDismissActionType.PRIMARY)}))}},void 0,D(E.default,{className:A.default.launchIcon}),T.default.Messages.MOBILE_WEB_GET_APP_UPSELL),D(k,{size:L.SMALL,onDismiss:function(){return t(I.ContentDismissActionType.DISMISS)},isBlurple:!0}))};G.displayName="DownloadAppBlurpleNagBar";var F=function(e){var t=e.onDismiss;return D("div",{className:A.default.themedUpsellContainer},void 0,D(y.default,{color:y.default.Colors.LINK,className:(0,o.default)(A.default.lineHeightOverride,A.default.marginOverride),look:y.default.Looks.LINK,size:y.default.Sizes.LARGE,onClick:function(){return j((function(){return t(I.ContentDismissActionType.PRIMARY)}))}},void 0,T.default.Messages.MOBILE_WEB_GET_APP_UPSELL),D(k,{size:L.SMALL,onDismiss:function(){return t(I.ContentDismissActionType.DISMISS)}}))};F.displayName="DownloadAppThemedNagBar";var x=function(){var e=O.MobileWebDropInExperiment.useExperiment({}),t=e.isEnabled,n=e.upsellStyle;if(!l.isMobile||!t)return null;var r=[];switch(n){
case"themed":r.push(s.DismissibleContent.MWEB_APP_DOWNLOAD_NAGBAR_THEMED);break;case"blurple":r.push(s.DismissibleContent.MWEB_APP_DOWNLOAD_NAGBAR_BLURPLE);break;case"halfsheet":r.push(s.DismissibleContent.MWEB_APP_DOWNLOAD_HALFSHEET)}return D(c.default,{contentTypes:r},void 0,(function(e){var t=e.visibleContent,n=e.markAsDismissed;switch(t){case s.DismissibleContent.MWEB_APP_DOWNLOAD_NAGBAR_THEMED:return D(F,{onDismiss:n});case s.DismissibleContent.MWEB_APP_DOWNLOAD_NAGBAR_BLURPLE:return D(G,{onDismiss:n});case s.DismissibleContent.MWEB_APP_DOWNLOAD_HALFSHEET:return D(U,{onDismiss:n});default:return null}}))};x.displayName="AppDownloadUpsell";var B=x;t.default=B},486030:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=f(n(667294)),a=s(n(636602)),o=s(n(177230)),i=f(n(108101)),u=n(194322),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o]
;(t=e.call.apply(e,[this].concat(a))||this)._openReportMessageModal=function(e){var t=e.channel,n=e.message;(0,u.openModal)((function(e){return r.createElement(i.default,c({channel:t,message:n},e))}),{modalKey:i.REPORT_MESSAGE_MODAL_KEY})};return t}var n=t.prototype;n._initialize=function(){a.default.subscribe(l.ActionTypes.REPORT_MESSAGE_MODAL_OPEN,this._openReportMessageModal)};n._terminate=function(){a.default.unsubscribe(l.ActionTypes.REPORT_MESSAGE_MODAL_OPEN,this._openReportMessageModal)};n.__getLocalVars=function(){return{}};return t}(o.default));t.default=v},394614:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2022-04_account_profile_popout",label:"Account Profile Popout",defaultConfig:{isPopupEnabled:!1,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!1},treatments:[{id:1,label:"Enable Account Profile Popout",config:{isPopupEnabled:!0,isTaglessAccountPanelEnabled:!1,
isJoinedTagButtonEnabled:!1}},{id:2,label:"Enable Account Profile Popout w/ DiscordTag button",config:{isPopupEnabled:!0,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!0}}]});t.default=r},590886:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.removeAccount=function(e){o.default.dispatch({type:d.ActionTypes.MULTI_ACCOUNT_REMOVE_ACCOUNT,userId:e})};t.switchAccount=function(e){var t=r.default.getToken(e);if(null==t){o.default.dispatch({type:d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE,userId:e});return}o.default.dispatch({type:d.ActionTypes.LOGOUT,isSwitchingAccount:!0});i.default.loginToken(t,!0);(0,u.transitionTo)(d.Routes.ME)};t.validateMultiAccountTokens=function(){var e=l.default.getId();s.default.getUsers().forEach(function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var i,u,l,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.id;if(null!=(u=r.default.getToken(i))&&""!==u){t.next=5;break}
o.default.dispatch({type:d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE,userId:i});return t.abrupt("return");case 5:o.default.dispatch({type:d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST,userId:i});t.prev=6;t.next=9;return a.default.get({url:d.Endpoints.ME,headers:{authorization:u},retries:3});case 9:l=t.sent;t.next=17;break;case 12:t.prev=12;t.t0=t.catch(6);s=401===(null===t.t0||void 0===t.t0?void 0:t.t0.status)||403===(null===t.t0||void 0===t.t0?void 0:t.t0.status);o.default.dispatch({type:s?d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE:d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS,userId:i});return t.abrupt("return");case 17:o.default.dispatch({type:e===i?d.ActionTypes.CURRENT_USER_UPDATE:d.ActionTypes.USER_UPDATE,user:l.body});o.default.dispatch({type:d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS,userId:i});case 19:case"end":return t.stop()}}),t,null,[[6,12]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n)
;function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}())};var r=f(n(653795)),a=f(n(118915)),o=f(n(636602)),i=f(n(939949)),u=n(139982),l=f(n(423046)),s=f(n(915574)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}},393742:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useMultiAccountUsers=function(){var e=(0,a.useStateFromStoresObject)([u.default],(function(){return{isLoading:u.default.getIsValidatingUsers(),multiAccountUsers:u.default.getUsers()}}));r.useEffect((function(){o.default.wait((function(){i.validateMultiAccountTokens()}))}),[]);return e};var r=d(n(667294)),a=n(536211),o=l(n(636602)),i=d(n(590886)),u=l(n(915574));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}},359150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null
;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}var l=i("rect",{width:232,height:72,rx:36,fill:"#fff"}),s=i("g",{clipPath:"url(#prefix__clip0_1283_59574)"},void 0,i("rect",{x:8,
y:8,width:56,height:56,rx:28,fill:"url(#prefix__paint0_linear_1283_59574)"}),i("path",{d:"M37.243 35.366l3.455-22.103a3.098 3.098 0 013.217-2.68 3.157 3.157 0 013.038 3.634l-3.395 22.876-6.315-1.727z",fill:"#E66CA5"}),i("path",{d:"M40.936 31.315l2.979-13.881a.476.476 0 01.536-.358c.238.06.417.239.357.477l-1.906 13.583-1.966.179z",fill:"#F085B7"}),i("path",{d:"M40.698 13.264a3.157 3.157 0 011.132-2.026c-.536 3.634-1.55 10.068-2.979 20.792l-1.132.178 2.979-18.944z",fill:"#FFABBB"}),i("path",{d:"M18.357 93.928L9.897 52.94a.894.894 0 01.835-1.073h4.17a.953.953 0 01.894.715l8.578 41.345h-6.017z",fill:"#6E2B17"}),i("path",{d:"M39.745 55.442H14.068v4.522h25.677v-4.522z",fill:"#6E2B17"}),i("path",{d:"M25.923 12.549a3.932 3.932 0 00-2.264 4.885l6.434 18.826 8.281-2.443-7.387-19.064a3.932 3.932 0 00-5.064-2.204z",fill:"#E66CA5"}),i("path",{d:"M32.298 31.553l3.276-.477-4.527-11.26a1.191 1.191 0 00-1.728-.655 1.251 1.251 0 00-.655 1.49l3.634 10.902z",fill:"#F085B7"}),i("path",{
d:"M30.51 31.553l-6.374-17.515a3.992 3.992 0 00-.477 3.396l4.885 14.357 1.966-.238z",fill:"#FFA3B5"}),i("path",{d:"M46.319 28.902l-24.281 3.154a6.374 6.374 0 00-5.5 7.142l.022.171a6.374 6.374 0 007.142 5.5l24.281-3.153a6.375 6.375 0 005.5-7.142l-.022-.172a6.374 6.374 0 00-7.142-5.5z",fill:"#FF85AB"}),i("path",{d:"M27.294 66.702c-1.49-1.31-2.86-2.562-3.158-3.098-.298-.536.179-.596.953-.894.775-.298 1.31.655 2.085 2.145.775 1.49 1.43 3.038.12 1.847z",fill:"#F2C591"}),i("path",{d:"M47.608 50.915L25.864 54.37c-1.43 1.25-1.55 1.549-2.562 2.442-2.92 2.562-3.694 4.647-3.753 6.911-.179 3.157.119 3.038-.537 4.17-.655 1.132-1.31 1.55-.714 3.158a8.28 8.28 0 001.787 2.74H54.4c7.685-8.996.715-16.323-6.792-22.876z",fill:"#F7E5BC"}),i("path",{d:"M50.826 73.791H27.77s.12-2.025.239-7.208-.894-8.758-4.707-9.77c.775-.775 1.609-1.61 2.562-2.443l21.745-3.396c1.43 1.251 2.86 2.502 4.17 3.813a93.885 93.885 0 01-.953 19.004z",fill:"#1F3A70"}),i("path",{
d:"M47.609 50.974h-.298l-.298.358a58.619 58.619 0 01-3.455 9.472s.119 1.191 1.727-1.132a25.974 25.974 0 003.694-7.506l-1.37-1.192zM28.306 54.37c4.23 5.064 5.66 6.256 7.209 7.268 1.549 1.013.238-.536-1.37-2.919a313.091 313.091 0 01-3.515-5.362l-2.324 1.013z",fill:"#172E5C"}),i("path",{d:"M29.974 57.349s-.178.417-1.131 1.013c-.954.595-1.132.893-1.251.715a5.184 5.184 0 00-3.634-2.92c.595-.655 1.25-1.25 1.966-1.906 3.276 1.37 4.05 3.098 4.05 3.098z",fill:"#244AB0"}),i("path",{d:"M45.702 50.915l-4.409 16.442-11.2-15.906 15.609-.536z",fill:"#D4BF9B"}),i("path",{d:"M36.17 56.693l8.4 2.205-3.157 5.004-5.243-6.255c-.715-.834-1.37-1.311 0-.954z",fill:"#CCAC89"}),i("path",{d:"M32.536 54.072l10.247 1.37c1.132.12 1.191-1.131 1.787-3.574l-11.08.834-.954 1.37z",fill:"#DE5D98"}),i("path",{d:"M48.85 39.874L23.86 43.12a6.016 6.016 0 00-5.192 6.739 6.016 6.016 0 006.741 5.189l24.99-3.246a6.016 6.016 0 005.193-6.739 6.016 6.016 0 00-6.742-5.189z",fill:"#FF85AB"}),i("path",{
d:"M50.17 51.808a6.136 6.136 0 005.421-6.493 6.017 6.017 0 00-4.05-5.183 6.492 6.492 0 002.025-5.54v-.18a6.256 6.256 0 00-7.09-5.48l-19.719 2.561c4.23 2.92 4.23 5.422 3.515 10.188-.05.726.116 1.452.477 2.085a9.353 9.353 0 01-1.013 10.723l20.434-2.68z",fill:"#F06EA8"}),i("path",{d:"M47.31 67.417l-4.11 3.217a.596.596 0 01-.894-.12L37.6 64.2a.715.715 0 01.12-.894l4.17-3.217a.655.655 0 01.893.12l4.647 6.314a.594.594 0 01-.12.894zM53.923 67.476l-4.945-.357a.476.476 0 01-.416-.417l.357-8.281a.476.476 0 01.477-.417l4.944.357a.476.476 0 01.417.477l-.357 8.221a.477.477 0 01-.477.417z",fill:"#BA4E5D"}),i("path",{d:"M54.061 61.886l-2.09-2.446-2.59 2.213 2.089 2.446 2.591-2.213z",fill:"#AD3B4B"}),i("path",{d:"M53.983 66.344a.417.417 0 00.298-.536l-1.907-7.566-2.978-.238a.477.477 0 00-.477.417l-.357 8.28v.12a.417.417 0 00.357.12l5.064-.597z",fill:"#872C39"}),i("path",{
d:"M53.328 66.285l-5.004.595a.477.477 0 01-.477-.298l-2.026-8.042a.36.36 0 01.187-.444.358.358 0 01.17-.033l5.005-.655a.476.476 0 01.477.298l2.025 8.042a.417.417 0 01-.357.537z",fill:"#BA4E5D"}),i("path",{d:"M51.773 61.16L49.2 59.23l-2.046 2.725 2.573 1.931 2.046-2.725zM44.153 63.485h-3.217v3.407h3.217v-3.407z",fill:"#AD3B4B"}),i("path",{d:"M50.35 65.153l-3.337-7.209-.834.12a.358.358 0 00-.358.476l2.026 7.983 2.204-.774a.477.477 0 00.298-.596zM42.783 60.208a.655.655 0 00-.894-.119l-1.549 1.192 3.217 7.03a.358.358 0 00.477.178l3.276-1.072a.596.596 0 00.12-.894l-4.647-6.315z",fill:"#872C39"}),i("path",{d:"M49.753 66.106l-5.42 1.787a.476.476 0 01-.537-.238L40.34 60.15c-.12-.239 0-.477.297-.596L46 57.766a.477.477 0 01.536.238l3.456 7.506a.414.414 0 01-.082.504.417.417 0 01-.157.092z",fill:"#BA4E5D"}),i("path",{
d:"M51.48 62.949c2.026 1.012 4.826 2.68 4.826 2.68a3.575 3.575 0 011.668 2.8v.537a3.574 3.574 0 01-3.514 3.693c-.12.06-.239 0-.358 0a3.277 3.277 0 01-2.383-1.37 20.37 20.37 0 00-2.145-2.502c-.417-.417-1.548-1.073-1.906-1.43-1.191-1.31-.953-1.906 0-3.396s1.549-2.144 3.813-1.012z",fill:"#F57FB5"}),i("path",{d:"M37.71 41.344c.518-.407.459-1.344-.131-2.094-.59-.75-1.488-1.028-2.005-.621-.517.407-.458 1.345.132 2.094.59.75 1.488 1.028 2.005.621zM47.629 38.217c.16-.87-.207-1.668-.82-1.78-.613-.113-1.239.502-1.399 1.372-.16.871.207 1.668.82 1.78.613.113 1.239-.502 1.399-1.372z",fill:"#1E1C2B"}),i("path",{d:"M40.757 43.468l1.55 1.013a2.025 2.025 0 002.918-.834l.477-1.013",stroke:"#BA4173",strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round"}),i("path",{d:"M22.051 43.647c-1.43-.358-3.157-.834-3.872-.894a6.554 6.554 0 002.502 1.787l-.239.239 3.694-.18c1.31-.178.775-.297-2.085-.952z",fill:"#F071AB"}),i("path",{
d:"M20.676 36.013c.937-1.015 1.383-2.128.996-2.485-.387-.357-1.46.177-2.397 1.192-.937 1.016-1.383 2.129-.996 2.486.387.356 1.46-.177 2.397-1.193z",fill:"#FFA1BD"}),i("path",{d:"M20.443 67.357l3.276-1.37c.655-.238.06-.477-1.43-1.132-1.489-.655-1.787-.894-1.906.417-.12 1.31-.596 2.323.06 2.085z",fill:"#FAD596"}),i("path",{d:"M28.544 66.642c.656-3.336.596-4.23.834-4.289.239-.06.834.775 1.311 1.787.477 1.013-2.145 2.502-2.145 2.502z",fill:"#172E5C"}),i("path",{d:"M57.974 68.43a3.573 3.573 0 00-1.668-2.8s-2.264-1.37-4.17-2.324a12.57 12.57 0 00-2.74 3.575 3.756 3.756 0 00-.477 1.37l.715.536a26.082 26.082 0 012.145 2.502 3.455 3.455 0 001.668 1.251c.805.23 1.663.188 2.442-.119a3.635 3.635 0 002.085-3.574v-.417z",fill:"#F073AB"}),i("path",{d:"M47.65 61.933l-2.874-1.446-1.53 3.045 2.873 1.445 1.531-3.044z",fill:"#AD3B4B"}),i("path",{d:"M12.4 53.476a2.204 2.204 0 100-4.408 2.204 2.204 0 000 4.408z",fill:"#6E2B17"})),d=i("g",{opacity:.5,fill:"#4F5660"},void 0,i("circle",{cx:82,cy:36,r:2
}),i("circle",{cx:90,cy:36,r:2}),i("circle",{cx:98,cy:36,r:2})),f=i("g",{clipPath:"url(#prefix__clip1_1283_59574)",fill:"#4F5660"},void 0,i("path",{d:"M121.04 25.2l-8.16.12c-.48 0-.72.72-.36 1.08l1.56 1.44c.48.48.48 1.2 0 1.68l-1.68 1.8c-1.32 1.44-1.32 3.72.12 5.04.48.48 1.2.48 1.68 0l2.52-2.64c.96-.96 2.4-.96 3.36 0l.72.6c.36.36 1.08.12.96-.48l-.12-8.04c0-.36-.24-.6-.6-.6zM110.72 47.4l8.16-.12c.48 0 .84-.72.36-1.08l-1.56-1.44a1.16 1.16 0 010-1.68l1.68-1.68c1.44-1.44 1.32-3.72-.12-5.04a1.16 1.16 0 00-1.68 0L115.04 39c-.96.96-2.4.96-3.36 0l-.72-.72c-.36-.36-.96-.12-.96.48l.12 8.04c0 .36.36.6.6.6z"})),c=i("g",{opacity:.5,fill:"#4F5660"},void 0,i("circle",{cx:134,cy:36,r:2}),i("circle",{cx:142,cy:36,r:2}),i("circle",{cx:150,cy:36,r:2})),p=i("g",{clipPath:"url(#prefix__clip2_1283_59574)"},void 0,i("rect",{x:168,y:8,width:56,height:56,rx:28,fill:"url(#prefix__paint1_linear_1283_59574)"}),i("path",{d:"M197.886 21.806c1.902-7.234 2.816-8.517 7.188.815l-7.188-.815z",fill:"#D4E1FF"}),i("path",{
d:"M246.129 126.042c-5.929 2.098-21.615-.692-23.097-4.568-1.482-3.876 12.845-54.809 17.637-57.13 4.793-2.32 18.897 2.05 22.627 15.9 3.73 13.85-3.902 14.789-3.902 14.789s2.371 20.244 2.717 22.417c.346 2.173 1.556 5.95-2.717 6.419-4.274.469-7.115 0-13.265 2.173z",fill:"#4D90E8"}),i("path",{d:"M179.878 37.261l-.173.149c2.618 2.469 6.596 8.813 12.647 8.493 0 0 4.891 8.937 10.153 7.95 5.262-.988 9.164-8.395 9.164-8.395a27.582 27.582 0 002.989-8.197c-.074-.666-.321-1.185-.79-1.506-3.755-2.493-31.248-.493-33.99 1.506z",fill:"#1C1B29"}),i("path",{d:"M187.857 18.942l5.508 1.481a12.878 12.878 0 015.188-1.036c8.398 0 12.869 6.814 12.869 15.183 0 8.37-4.471 15.184-12.869 15.184-8.399 0-12.845-6.814-12.845-15.184a21.9 21.9 0 01.296-3.679c.569-3.21.418-6.508-.445-9.653a1.879 1.879 0 012.298-2.296z",fill:"#B3CAFF"}),i("path",{
d:"M211.126 38.2c-4.076 1.802-8.275-.1-12.326-2.42-4.422-2.543-7.263-8.987-8.473-11.036-1.21-2.05-2.94-2.444-4.125-5.431a1.852 1.852 0 00-.642 1.925 21.983 21.983 0 01.444 9.654 21.9 21.9 0 00-.296 3.678c0 8.37 4.471 15.184 12.845 15.184 7.139 0 11.437-4.938 12.573-11.555z",fill:"#8DAEF7"}),i("path",{d:"M210.385 35.705c0 6.518-3.878 11.802-8.646 11.802-4.767 0-8.621-5.284-8.621-11.802 0-10.764 6.694-1.95 11.462-1.95 4.767 0 5.928-7.283 5.805 1.95z",fill:"#FCFDFF"}),i("path",{d:"M201.882 41.99c.463-.039.785-.687.722-1.448-.064-.761-.491-1.346-.953-1.308-.462.04-.785.688-.721 1.448.064.761.49 1.347.952 1.308zM207.557 40.729c.138-.751-.12-1.428-.577-1.511-.456-.084-.938.457-1.076 1.208-.137.75.121 1.427.577 1.511.456.084.938-.457 1.076-1.208z",fill:"#1C1B29"}),i("path",{d:"M194.007 60.84s-5.755 4.369-11.288 2.073a.914.914 0 01-.544-1.086c.519-1.68 2.495-5.654 9.584-5.259 9.017.518 2.248 4.271 2.248 4.271z",fill:"#A62D69"}),i("path",{
d:"M192.352 53.21s-1.778-4.444-9.312-3.26a.868.868 0 00-.685.545.855.855 0 00.141.863 20.874 20.874 0 0011.091 6.617c8.004 1.728-1.235-4.765-1.235-4.765z",fill:"#A62D69"}),i("path",{d:"M193.785 57.728c-.321 3.16-5.41 3.284-6.052-.69-.642-3.976 2.297-4.593 4.397-3.284 2.1 1.308 1.655 3.974 1.655 3.974z",fill:"#79A0F7"}),i("path",{d:"M214.658 37.261z",fill:"#DE548C"}),i("path",{
d:"M226.639 116.734c-3.508.741-14.006-9.258-14.006-9.258 2.89 9.085 3.384 11.801 3.878 14.146.494 2.346.197 2.815 0 4.469-.198 1.654-.198 1.605.79 3.679.988 2.073 1.631 3.53 1.828 4.592a5.839 5.839 0 01-.074 1.851h-44.142s-.223-.987.716-3.728c.939-2.74 3.088-5.011 4.273-6.74 1.186-1.728 1.112-1.555.791-2.271-1.482-3.506.914-2.74 1.927-7.999 1.012-5.259 1.334-30.343 3.581-40.588 2.248-10.246 5.682-12.666 5.929-21.134-4.175-3.9-14.525-14.048-12.425-16.344 2.371 2.222 9.485 3.309 15.29 3.26a2.42 2.42 0 012.322 1.629c.988 2.987 3.483 8.888 7.411 8.122 3.928-.765 6.842-7.777 7.658-10.32a2.54 2.54 0 011.012-1.358 4.324 4.324 0 001.26-1.48c.544 4.863-7.534 17.75-7.534 17.75s2.001 17.48 6.003 23.232c4.001 5.753 15.241 5.753 15.512 11.234.272 5.48 1.483 26.515-2 27.256z",fill:"#BD4070"}),i("path",{
d:"M192.698 42.742c-2.915-.173-6.842-.667-13.141-3.802 1.012 3.678 9.041 11.48 12.573 14.813a24.5 24.5 0 01-1.408 7.703c3.186 4.518 7.04 1.58 7.732 14.27.296 5.407 4.273 12.591 8.423 20.368 4.15 7.777 4.718-6.518 4.545-13.554-.099-3.827-.864-8.567-1.68-13.085-1.753-6.839-2.618-14.443-2.618-14.443s5.657-9.036 7.188-14.813c-.386.24-.688.594-.864 1.012a106.604 106.604 0 01-5.138 10.098c-1.952 3.284-5.583 4.913-9.758-1.555-4.174-6.469-2.717-6.814-5.854-7.012z",fill:"#A12C66"}),i("path",{d:"M209.298 82.837c-1.087-.223-2.248-1.605-6.151-4.222 0 0-.173-3.308-4.693-2.889 0 0-1.828-4.74-3.335-8.986-1.507-4.247-5.434-1.852-6.25 2.468-1.827 9.826-2.47 28.022.742 34.515 1.877 3.802 3.705 4.592 10.547 6.543 1.482.716 4.743-4.716 6.373-13.382 2.174-11.53 2.767-12.196 2.767-14.047z",fill:"#BD4070"}),i("path",{d:"M205.984 24.434c.285-.416-.442-1.41-1.624-2.218-1.182-.809-2.371-1.127-2.656-.71-.285.415.442 1.409 1.624 2.217 1.182.81 2.371 1.128 2.656.711z",fill:"#D4E1FF"}),i("path",{
d:"M194.526 30.645c4.348 2.098 5.855 4.765 9.338 4.666 3.483-.099 4.841-1.778 6.249-4.024-.568-1.235-2.124 2.468-5.533 2.468-3.409 0-7.855-4.567-10.054-3.11z",fill:"#8DAEF7"}),i("path",{d:"M196.774 67.233c2.495 3.506-.864-7.036-.864-7.036h-4.768c-.642 2.197-1.531 4.172-2.47 6.567 1.433-3.605 4.471-4.592 8.102.469z",fill:"#A12C66"}),i("path",{d:"M224.959 53.136l1.853-.815c.049-.024.049-.074 0-.074l-1.853-.84h-.025l-.839-1.85c0-.05-.05-.05-.075 0l-.815 1.85h-.024l-1.878.84c-.025 0-.025.05 0 .074l1.878.815h.024l.815 1.876h.075l.839-1.876h.025z",fill:"#A1F7D7"})),v=i("defs",{},void 0,i("clipPath",{id:"prefix__clip0_1283_59574"},void 0,i("rect",{x:8,y:8,width:56,height:56,rx:28,fill:"#fff"})),i("clipPath",{id:"prefix__clip1_1283_59574"},void 0,i("path",{fill:"#fff",transform:"translate(110 25.2)",d:"M0 0h11.76v22.2H0z"})),i("clipPath",{id:"prefix__clip2_1283_59574"},void 0,i("rect",{x:168,y:8,width:56,height:56,rx:28,fill:"#fff"})),i("linearGradient",{id:"prefix__paint0_linear_1283_59574",
x1:36,y1:64.254,x2:36,y2:24.141,gradientUnits:"userSpaceOnUse"},void 0,i("stop",{stopColor:"#7196FF"}),i("stop",{offset:1,stopColor:"#2A5EE8"})),i("linearGradient",{id:"prefix__paint1_linear_1283_59574",x1:196,y1:64.254,x2:196,y2:24.141,gradientUnits:"userSpaceOnUse"},void 0,i("stop",{stopColor:"#7196FF"}),i("stop",{offset:1,stopColor:"#2A5EE8"})));function y(e){return a.createElement("svg",u({width:232,height:72,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l,s,d,f,c,p,v)}y.displayName="MultiAccountWelcomeIcon"},907567:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=W
;var r,a=k(n(667294)),o=D(n(294184)),i=D(n(441143)),u=n(536211),l=n(483559),s=D(n(929031)),d=D(n(226800)),f=n(556470),c=D(n(319879)),p=n(179714),v=k(n(145122)),y=k(n(286004)),m=D(n(959806)),_=n(288702),h=D(n(426178)),g=D(n(607209)),E=D(n(423086)),S=D(n(788739)),O=D(n(663303)),b=D(n(728429)),I=D(n(12713)),T=n(660590),A=D(n(308920)),C=n(873838),M=n(678620),N=D(n(241505)),P=n(770348),R=D(n(247001)),w=D(n(215433));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function j(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,u,"next",e)}function u(e){j(o,r,a,i,u,"throw",e)}i(void 0)}))}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(e,t){return x(v.MenuItem,{id:e,keepItemStyles:!0,render:function(n){var r=n.isFocused;return x("div",{className:w.default.statusItem
},void 0,x(T.Status,{status:e,className:w.default.icon,size:10,color:r?"currentColor":void 0}),x("div",{className:w.default.status},void 0,(0,C.humanizeStatus)(e)),null!=t&&x("div",{className:w.default.description},void 0,t))},action:function(){return function(e){s.default.updateRemoteSettings({status:e})}(e)}})}B.displayName="renderStatusItem";var H=x(v.MenuSeparator,{},"menu-separator-statuses");function V(e){var t=e.user,n=e.customStatus,r=e.guildId,i=e.isApplicationStreaming,l=e.onClose,s=e.onSelect,g=e.closePopout,E=(0,f.useAnalyticsContext)(),b=void 0,D=null!=t.banner,L=(0,u.useStateFromStores)([O.default],(function(){return O.default.hidePersonalInformation})),k=(0,u.useStateFromStoresArray)([S.default],(function(){var e,n=t.id;return"string"!=typeof n?[void 0,P.StatusTypes.UNKNOWN,!1]:[null!==(e=S.default.findActivity(n,(function(e){return e.type!==P.ActivityTypes.CUSTOM_STATUS})))&&void 0!==e?e:void 0,S.default.getStatus(n),S.default.isMobileOnline(n)]
})),j=G(k,3),U=j[0],F=j[1],V=j[2];a.useEffect((function(){A.default.track(P.AnalyticEvents.OPEN_POPOUT,{type:"User Status Menu",has_custom_status:null!=n,other_user_id:t.id,application_id:null!=U?U.application_id:void 0,is_streaming:i,application_name:null!=U?U.name:void 0,profile_has_nitro_customization:null!=t.banner,location:E.location})}),[]);var W=(0,M.useMultiAccountMenuItems)(),Y=(0,p.useCustomStatusMenuItem)(null!=n?n:void 0);return x(v.default,{navId:"account",style:v.MenuStyle.FIXED,"aria-label":R.default.Messages.SET_STATUS,hideScroller:!0,className:w.default.menu,onClose:l,onSelect:s},void 0,x(v.MenuGroup,{className:w.default.profileGroup},void 0,x(v.MenuControlItem,{id:"avatar"},void 0,x(_.UserPopoutAvatar,{hasPreviewBanner:D,user:t,status:(0,c.default)(U)?P.StatusTypes.STREAMING:F,isMobile:V,guildId:r,onClose:g,disableUserProfileLink:__OVERLAY__}),x(y.default,{user:t,onClose:g,guildId:null!=r?r:void 0,bannerType:y.UserBannerTypes.POPOUT})),x(v.MenuControlItem,{id:"info"
},void 0,x(_.UserPopoutInfo,{shouldCopyOnClick:!0,user:t,nickname:b,onOpenPremiumSettings:function(){A.default.track(P.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:null,location_section:P.AnalyticsSections.PROFILE_POPOUT,location_object:P.AnalyticsObjects.TOOLTIP});d.default.open(P.UserSettingsSections.PREMIUM);null==g||g()},usernameIcon:t.hasAvatarForGuild(null!=r?r:void 0)&&x(h.default,{user:t,nickname:b}),hasCustomStatus:null!=n}),x("div",{className:w.default.profileBody},void 0,x(_.UserPopoutProfileText,{user:t,hidePersonalInformation:L,guild:undefined,customStatus:null!=n?x(_.UserPopoutCustomStatus,{customStatusActivity:n}):void 0}),x(m.default,{activity:U,customStatusActivity:n,canDM:!1,user:t,guild:null,guildMember:null,setNote:!1,hidePersonalInformation:!0})))),x(v.MenuGroup,{},void 0,x(v.MenuItem,{id:"status-picker",label:(0,C.humanizeStatus)(F),icon:function(e){var t=e.className,n=e.isFocused;return x(T.Status,{status:F,size:12,className:(0,
o.default)(t,w.default.mainStatusIcon),color:n?"currentColor":void 0})},showIconFirst:!0},"status-picker",B(P.StatusTypes.ONLINE),H,B(P.StatusTypes.IDLE),B(P.StatusTypes.DND,R.default.Messages.STATUS_DND_HELP),B(P.StatusTypes.INVISIBLE,R.default.Messages.STATUS_INVISIBLE_HELPER)),Y),x(v.MenuGroup,{},void 0,x(v.MenuItem,{id:"switch-account",label:R.default.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE,icon:I.default,showIconFirst:!0,action:N.default},"switch-account",W)))}V.displayName="AccountProfilePopout";function W(e){var t=e.userId,n=e.user,r=e.guildId,o=e.onClose,s=e.onSelect,d=(0,u.useStateFromStores)([b.default],(function(){return b.default.getUser(t)}),[t]),f=(0,u.useStateFromStores)([E.default],(function(){return E.default.getCustomStatusActivity()})),c=G(a.useState(!1),2),p=c[0],v=c[1],y=null!=d?d:n,m=(0,u.useStateFromStores)([g.default],(function(){return null!=y&&null!=g.default.getStreamForUser(y.id)}));a.useEffect((function(){null==d&&function(){e.apply(this,arguments)}()
;function e(){return(e=U(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=4;break}e.next=3;return(0,l.getUser)(t);case 3:v(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),[d,t]);if(null==y){p&&(0,i.default)(null!=y,"Unexpected missing user");return null}return x(V,{closePopout:o,user:y,customStatus:f,guildId:r,isApplicationStreaming:m,onClose:o,onSelect:s})}W.displayName="AccountProfilePopoutContainer"},719637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(972247)),i=p(n(956117)),u=n(645758),l=p(n(359150)),s=n(198622),d=n(770348),f=p(n(247001)),c=p(n(342983));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){o.default.set(s.MULTIACCOUNT_TOOLTIP_SEEN_KEY,"true");null==e||e()}function _(e){var t=e.markAsDismissed;a.useEffect((function(){return function(){m()
;window.removeEventListener("keydown",n)}}),[]);var n=function(e){e.keyCode===d.KeyboardKeys.ESCAPE&&m(t)};window.addEventListener("keydown",n);return y("div",{className:c.default.container},void 0,y(l.default,{className:c.default.icon}),y(u.Text,{className:c.default.title,variant:"text-sm/normal"},void 0,f.default.Messages.MULTI_ACCOUNT_ANNOUNCEMENT_TOOLTIP_TITLE),y(u.Text,{variant:"text-sm/normal",className:c.default.subTitle},void 0,f.default.Messages.MULTI_ACCOUNT_ANNOUNCEMENT_SUBTITLE.format({maxAltAccounts:s.MAX_ACCOUNTS-1})),y(i.default,{look:i.default.Looks.INVERTED,fullWidth:!0,onClick:function(){return m(t)}},void 0,f.default.Messages.GOT_IT),y("div",{className:c.default.pointer}))}_.displayName="MultiAccountCTATooltip"},241505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){(0,i.openModalLazy)(f(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(25108)]).then(n.bind(n,825108));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){o.default.dispatch({type:l.ActionTypes.CLEAR_AUTHENTICATION_ERRORS});o.default.dispatch({type:l.ActionTypes.LOGIN_RESET,isMultiAccount:!0})},modalKey:u.SWITCH_ACCOUNTS_MODAL_KEY})};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(636602))&&r.__esModule?r:{default:r},i=n(194322),u=n(198622),l=n(770348);function s(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}},678620:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useMultiAccountMenuItems=function(){var e=(0,o.useStateFromStores)([s.default],(function(){return s.default.getCurrentUser()})),t=(0,o.useStateFromStores)([l.default],(function(){return l.default.hidePersonalInformation})),n=(0,_.useMultiAccountUsers)().multiAccountUsers,r=n.map((function(n){var r=new u.default(n),a=r.id===(null==e?void 0:e.id),o=n.tokenStatus===m.MultiAccountTokenStatus.INVALID,l=t?null:"#"+r.discriminator;return T(i.MenuItem,{id:r.id,focusedClassName:S.default.focused,
label:function(e){var t=e.isFocused;return T("div",{className:S.default.userMenuItem},void 0,T(p.default,{src:r.getAvatarURL(void 0,40),size:p.default.Sizes.SIZE_24,"aria-label":n.username}),T("div",{className:S.default.userMenuUsername},void 0,T(d.Text,{className:S.default.userMenuText,variant:"text-sm/normal"},void 0,r.toString()),T(d.Text,{className:S.default.userMenuDiscriminator,variant:"text-sm/normal"},void 0,l)),a&&T(f.default,{color:t?g.Colors.WHITE:g.Colors.BRAND_500,backgroundColor:t?g.Colors.BRAND_500:g.Colors.WHITE,width:18,height:18,className:S.default.activeIcon}),o&&T(c.default,{color:g.Colors.STATUS_RED,backgroundColor:g.Colors.WHITE,width:15,height:15,className:S.default.activeIcon}))},action:function(){o?(0,h.default)():function(t){if(t!==(null==e?void 0:e.id)){v.default.track(g.AnalyticEvents.MULTI_ACCOUNT_SWITCH_ATTEMPT,{location:{section:g.AnalyticsSections.PROFILE_POPOUT}});y.switchAccount(t)}}(r.id)}},r.id)}))
;r.push(a.createElement(a.Fragment,null,A,T(i.MenuItem,{id:"manage-accounts",label:E.default.Messages.SWITCH_ACCOUNTS_MANAGE_ACCOUNTS,action:h.default})));return r};var r,a=I(n(667294)),o=n(536211),i=n(145122),u=O(n(759027)),l=O(n(663303)),s=O(n(728429)),d=n(645758),f=O(n(474026)),c=O(n(417184)),p=O(n(628551)),v=O(n(308920)),y=I(n(590886)),m=n(915574),_=n(393742),h=O(n(241505)),g=n(770348),E=O(n(247001)),S=O(n(519276));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=T(i.MenuSeparator,{})},800921:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u=f(n(536211)),l=f(n(636602)),s=f(n(71636)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return p(e,t)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
var _,h=[],g=new Set,E=!0;function S(e){return null!=e.id&&null!=e.body&&null!=e.type}function O(){a=!1;o=!1;h=[];g=new Set;E=!0;_=void 0;i=!1}function b(e){var t=e.item;if(!o||!S(t)||g.has(t.id))return!1;g.add(t.id);(h=[t].concat(y(h))).sort((function(e,t){return s.default.compare(t.id,e.id)}))}var I=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.__getLocalVars=function(){return{loading:a,initialized:o,errored:i,notifCenterItems:h,notifCenterIds:g,paginationHasMore:E,paginationCursor:_}};!function(e,t,n){t&&c(e.prototype,t);n&&c(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"loading",get:function(){return a}},{key:"initialized",get:function(){return o}},{key:"items",get:function(){return h}},{key:"hasMore",get:function(){return E}},{key:"cursor",get:function(){return _}},{key:"errored",get:function(){return i}}]);return t}(u.default.Store)
;I.displayName="NotificationCenterItemsStore";var T=new I(l.default,((r={})[d.ActionTypes.CONNECTION_OPEN]=O,r[d.ActionTypes.LOGOUT]=O,r[d.ActionTypes.NOTIFICATION_CENTER_ITEMS_UPDATE]=function(e){var t=e.items.reduce((function(e,t){null!=t.id&&(e[t.id]=t);return e}),{});h=h.map((function(e){return null!=t[e.id]?v({},e,{},t[e.id]):e})).filter(S)},r[d.ActionTypes.NOTIFICATION_CENTER_ITEM_CREATE]=b,r[d.ActionTypes.NOTIFICATION_CENTER_ITEM_DELETE]=function(e){var t=e.id;if(!g.has(t))return!1;g.delete(t);h=h.filter((function(e){return e.id!==t}))},r[d.ActionTypes.NOTIFICATION_CENTER_ITEM_DELETE_FAILURE]=b,r[d.ActionTypes.LOAD_NOTIFICATION_CENTER_ITEMS]=function(){a=!0},r[d.ActionTypes.LOAD_NOTIFICATION_CENTER_ITEMS_FAILURE]=function(){a=!1;o=!0;E=!1;_=void 0;i=!0},r[d.ActionTypes.LOAD_NOTIFICATION_CENTER_ITEMS_SUCCESS]=function(e){var t=e.items,n=e.hasMore,r=e.cursor;if(a){a=!1;o=!0;i=!1;E=t.length>0&&n;_=t.length>0?r:void 0;(h=[].concat(y(h),y(t.filter((function(e){return!g.has(e.id)
}))))).sort((function(e,t){return s.default.compare(t.id,e.id)}));t.forEach((function(e){return g.add(e.id)}))}},r[d.ActionTypes.RESET_NOTIFICATION_CENTER]=O,r));t.default=T},594570:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ICON_SIZE=void 0;t.ICON_SIZE=64},737050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.mount=function(){a.default.dispatch({type:o.ActionTypes.NOW_PLAYING_MOUNTED})};t.unmount=function(){a.default.dispatch({type:o.ActionTypes.NOW_PLAYING_UNMOUNTED})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},4865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,i.useStateFromStoresObject)([f.default,s.default,d.default],(function(){return{nowPlayingCards:f.default.nowPlayingCards,loaded:f.default.loaded,needsRefresh:s.default.needsRefresh(),fetching:s.default.getFetching(),currentUser:d.default.getCurrentUser()}
})),t=e.nowPlayingCards,n=e.loaded,r=e.needsRefresh,o=e.fetching,l=e.currentUser;a.useEffect((function(){u.default.wait((function(){return m.mount()}));return function(){return u.default.wait((function(){return m.unmount()}))}}),[null==l?void 0:l.id]);a.useEffect((function(){r&&!o&&P()}),[r,o]);var p=null;if(!n)return M("div",{className:b.default.emptyCard},void 0,R);p=t.length>0?t.map((function(e){var t=e.party;return M(N,{party:t},t.id)})):M("div",{className:b.default.emptyCard},void 0,M(c.Heading,{variant:"heading-md/medium",className:b.default.emptyHeader,level:5},void 0,O.default.Messages.ACTIVITY_FEED_NONE_PLAYING_HEADER),M(y.Text,{color:"none",className:b.default.emptyText,variant:"text-sm/normal"},void 0,O.default.Messages.ACTIVITY_FEED_NONE_PLAYING_BODY));return a.createElement(a.Fragment,null,p)}
;var r,a=A(n(667294)),o=I(n(496486)),i=n(536211),u=I(n(636602)),l=A(n(314022)),s=I(n(538983)),d=I(n(728429)),f=I(n(730655)),c=n(772575),p=I(n(160629)),v=I(n(80828)),y=n(645758),m=A(n(737050)),_=I(n(133260)),h=I(n(317134)),g=I(n(863946)),E=I(n(854923)),S=I(n(884809)),O=I(n(247001)),b=I(n(399978));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=(0,S.default)((function(e){var t=e.party,n=e.onUserContextMenu,r=e.onChannelContextMenu,o=M(h.default,{party:t,onUserContextMenu:n}),i=M(_.default,{party:t,onChannelContextMenu:r}),u=M("div",{},void 0,o,i);return null!=o||null!=i?M(p.default,{position:p.default.Positions.LEFT,renderPopout:function(e){var n=e.closePopout;return M(E.default,{party:t,close:n})},spacing:8},void 0,(function(e,t){var n=t.isShown
;return a.createElement(g.default,C({},e,{className:b.default.itemCard,active:n}),u)})):null})),P=o.default.throttle((function(){return l.fetchUserAffinities(!1)}),3e5),R=M(v.default,{})},133260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.party,n=e.onChannelContextMenu,r=t.voiceChannels,v=t.currentActivities,y=t.partiedMembers,m=t.applicationStreams,E=t.guildContext,S=[],O=function(e){var t,n,r=S.length;if(0!==r){var a=S[r-1],o=""+(null!==(t=null==e?void 0:e.key)&&void 0!==t?t:""),i=(""+(null!==(n=null==a?void 0:a.key)&&void 0!==n?n:"")).startsWith("game")&&o.startsWith("rich-presence");S.push(h(f.default.Separator,{inset:i},"sep-"+o));S.push(e)}else S.push(e)};r.length>0&&r.forEach((function(e){var t=e.members,r=e.channel,a=e.guild;O(h(f.default.VoiceSection,{guild:a,channel:r,members:t,partySize:g(t),onChannelContextMenu:n,onGuildClick:function(){(0,l.transitionToGuild)(a.id)}},"voice-"+r.id))}));for(var b,I=function(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t.currentActivities);!(b=I()).done;){var T=b.value.activity;if(null!=T){var A=d.createBody(T);if(null!=A){O(A);break}}}m.length>0&&m.forEach((function(e){var t=e.stream,n=e.streamUser,r=e.activity;O(h(f.default.ApplicationStreamingSection,{guildId:null==E?void 0:E.id,user:n,activity:r,
applicationStream:t,onPreviewClick:function(){a.default.selectVoiceChannel(t.channelId);(0,o.watchStreamAndTransitionToStream)(t)}},"application-stream-"+t.ownerId))}));v.forEach((function(e,t){var n=e.activity,a=e.game,o=e.playingMembers,l=e.activityUser;if(null==n||null==n.type)return null;if(v.length>1&&n.type===p.ActivityTypes.PLAYING&&!(0,i.hasRichActivity)(n)&&null!=a){var d,m;O(h(f.default.GameSection,{icon:a.getIconURL(c.ICON_SIZE),name:a.name,partySize:{knownSize:o.length,unknownSize:0,totalSize:o.length},members:o},"game-"+(null!==(d=n.session_id)&&void 0!==d?d:t)+"-"+(null!==(m=n.application_id)&&void 0!==m?m:t)))}else if((0,u.default)(n)){var _,g=new Set(o.map((function(e){return e.id}))),S=null===(_=r.find((function(e){return null!=e})))||void 0===_?void 0:_.channel;null!=S&&O(h(f.default.EmbeddedActivitySection,{activity:n,participants:g,channel:S,guildId:S.guild_id},"embedded-activity-"+n.application_id))}else if(null==n.assets&&!(0,
i.hasRichActivity)(n)||n.type!==p.ActivityTypes.PLAYING)if((0,i.isStreaming)(n)){var b,I=r.length>0&&r[0].members.length>1,T=o.length>1;O(h(f.default.TwitchSection,{guildId:null==E?void 0:E.id,activity:n,user:I||T?l:null,getAssetImage:s.getAssetImage},"streaming-"+(null!==(b=n.session_id)&&void 0!==b?b:t)))}else if((0,i.isListeningOnSpotify)(n)){var A;O(h(f.default.SpotifySection,{activity:n,isSolo:1===y.length,partySize:{knownSize:o.length,unknownSize:0,totalSize:o.length},getAssetImage:s.getAssetImage,members:o},"spotify-"+(null!==(A=n.session_id)&&void 0!==A?A:t)+"-"+l.id))}else if(null==n.assets&&!(0,i.hasRichActivity)(n)||n.type!==p.ActivityTypes.LISTENING){if((0,i.isOnXbox)(n)){var C;O(h(f.default.XboxSection,{title:a.name},"xbox-"+(null!==(C=n.session_id)&&void 0!==C?C:t)))}}else{var M;O(h(f.default.RichPresenceSection,{activity:n,getAssetImage:s.getAssetImage},"rich-presence-"+(null!==(M=n.session_id)&&void 0!==M?M:t)+"-"+l.id))}else{var N;O(h(f.default.RichPresenceSection,{
activity:n,getAssetImage:s.getAssetImage},"rich-presence-"+(null!==(N=n.session_id)&&void 0!==N?N:t)+"-"+l.id))}}));return S.length>0?h(f.default.Body,{},void 0,S):null};m(n(667294));var r,a=v(n(136873)),o=n(123516),i=n(144166),u=v(n(762605)),l=n(95034),s=n(698243),d=m(n(101047)),f=v(n(863946)),c=n(594570),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){var n,r=e.length,a=0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var o=t.party.size;a=Math.max(o[0]-e.length,0);n=o[1]}else n=r+a;return{knownSize:r,unknownSize:a,totalSize:n}}},101047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createBody=function(e){var t,n=e.application_id;if(null==n)return;var r=f[n];if(null!=(null==r?void 0:r.body)&&!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))){var a=r.body;return d("section",{
className:l.default.section},"delegate-"+n,d(a,{activity:e}))}};t.createHeader=function(e){var t,n=e.application_id;if(null==n)return;var r=f[n];if(null!=r&&!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e)))return r.createHeader(e)};t.shouldShowActivity=function(e){var t,n=e.application_id;if(null==n)return!0;var r=f[n];return null==r||!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o,i=n(248414),u=n(808961),l=(r=n(885836))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=((a={})[u.STAGE_APPLICATION_ID]=new i.StageChannelNowPlayingDelegate,a)},317134:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;y(n(667294));var r,a=p(n(441143)),o=n(144166),i=p(n(762605)),u=p(n(73393)),l=y(n(101047)),s=p(n(863946)),d=n(594570),f=n(770348),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}
function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.party,r=e.onUserContextMenu,p=t.priorityMembers,v=t.guildContext,y=p[0],_=function(e){
var t=e.priorityMembers,n=e.partiedMembers,r=new Set(t.map((function(e){return e.user.id}))),a=n.filter((function(e){return!r.has(e.id)})),o=t[0].user.toString(),i=null!=t[1]?t[1].user.toString():null!=a[0]?a[0].toString():null;switch(n.length){case 1:return o;case 2:return c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN_ONLY.format({user1:o,user2:i});default:return c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN.format({user1:o,user2:i,extras:n.length-2})}}(t),h=function(e){var t,r=e.priorityMembers,p=e.partiedMembers,v=e.voiceChannels,y=e.currentActivities,_=r.length,h=_+(p.length-_)===1,g=y[0],E=null==g?void 0:g.activity,S=null==g?void 0:g.startedPlayingTime,O={name:null!==(t=null==E?void 0:E.name)&&void 0!==t?t:""};if((0,i.default)(E)&&null!=E)return{subtitle:m(u.default,{start:S,location:u.default.Locations.ACTIVITY_FEED_NEW,messageProps:O}),icon:null};if(h&&null!=g){var b=g.game;if(null==E)return{subtitle:null,icon:null};var I=l.createHeader(E)
;if(null!=I)return I;switch(E.type){case f.ActivityTypes.PLAYING:return(0,o.isOnXbox)(E)?{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_XBOX,icon:m(s.default.Header.Icon,{src:s.default.Header.Icon.Src.XBOX})}:{subtitle:m(u.default,{start:S,location:u.default.Locations.ACTIVITY_FEED_NEW,messageProps:O}),icon:null!=b?m(s.default.Header.Icon,{src:null!=b.getIconURL(d.ICON_SIZE)?b.getIconURL(d.ICON_SIZE):n(534413)}):null};case f.ActivityTypes.STREAMING:return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_STREAMING_TWITCH,icon:null!=b&&null!=b.getIconURL(d.ICON_SIZE)?m(s.default.Header.Icon,{src:b.getIconURL(d.ICON_SIZE)}):null};case f.ActivityTypes.LISTENING:var T;T=(0,o.isListeningOnSpotify)(E)?m(s.default.Header.Icon,{src:s.default.Header.Icon.Src.SPOTIFY}):null!=b.getIconURL(d.ICON_SIZE)?m(s.default.Header.Icon,{src:b.getIconURL(d.ICON_SIZE)}):m(s.default.Header.Icon,{src:n(534413)});return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_LISTENING.format({name:E.name}),
icon:T};case f.ActivityTypes.WATCHING:return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_WATCHING,icon:null!=b&&null!=b.getIconURL(d.ICON_SIZE)?m(s.default.Header.Icon,{src:b.getIconURL(d.ICON_SIZE)}):null};default:return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null}}}if(0===y.length){if(v.length>0)return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null};var A=y[0];if(null!=A){var C=A.activity;if(null!=C){var M=l.createHeader(C);if(null!=M)return M}if(null!=C&&C.type===f.ActivityTypes.LISTENING)return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:m(s.default.Header.Icon,{src:s.default.Header.Icon.Src.SPOTIFY})}}}else if(1===y.length){var N=y.find((function(e){return null!=e.activity}));if(null==N)throw new Error("Invalid Activity State - AF 2.0: No activity");var P=N.activity,R=N.game,w=N.startedPlayingTime;(0,a.default)(null!=P,"Activity was null somehow");return{
subtitle:m(u.default,{start:w,location:u.default.Locations.ACTIVITY_FEED_NEW,messageProps:O}),icon:null!=R&&null!=R.getIconURL(d.ICON_SIZE)?m(s.default.Header.Icon,{src:R.getIconURL(d.ICON_SIZE)}):null}}return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_MULTIPLE_GAMES,icon:m(s.default.Header.Icon,{src:s.default.Header.Icon.Src.MULTIPLE})}}(t),g=h.subtitle,E=h.icon;return m(s.default.Header,{priorityUser:y,guildId:null==v?void 0:v.id,title:_,subtitle:g,icon:E,onContextMenu:function(e){return r(e,y.user)}})}_.displayName="NowPlayingHeader"},863946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=q(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=$(n(294184)),i=$(n(213192)),u=n(536211),l=$(n(675060)),s=n(556470),d=$(n(155502)),f=$(n(516325)),c=$(n(309994)),p=$(n(93392)),v=$(n(853177)),y=$(n(969015)),m=$(n(319879)),_=$(n(663953)),h=$(n(93879)),g=$(n(697749)),E=$(n(37039)),S=$(n(678928)),O=$(n(314234)),b=$(n(645923)),I=n(830543),T=$(n(423046)),A=$(n(288356)),C=$(n(728429)),M=$(n(974661)),N=$(n(956117)),P=$(n(16941)),R=$(n(562475)),w=$(n(73393)),D=$(n(427370)),L=n(645758),k=$(n(803949)),j=$(n(11888)),U=$(n(303213)),G=$(n(149982)),F=$(n(628551)),x=$(n(528175)),B=n(698243),H=n(71246),V=$(n(316681)),W=n(770348),Y=$(n(247001)),K=$(n(885836)),z=["children","className"];function $(e){return e&&e.__esModule?e:{default:e}}function q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(q=function(e){return e?n:t})(e)}function Q(){
Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Q.apply(this,arguments)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){J=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return J(e,t)}function ee(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var te=64,ne=160,re=[14,14,12,12,10,8,6],ae=function(e,t){void 0===t&&(t=null);return ee(L.Text,{className:(0,o.default)(K.default.textContent,t),variant:"text-sm/semibold"},void 0,e)}
;ae.displayName="renderSectionTitle";var oe=function(e,t){void 0===t&&(t=null);return ee(L.Text,{className:(0,o.default)(K.default.textContent,t),variant:"text-xs/normal"},void 0,e)};oe.displayName="renderSectionText";var ie=(0,l.default)((function(e){var t=e.message;return ee("div",{className:K.default.timestamp},void 0,t)})),ue=function(e){var t=e.children;return ee("section",{className:K.default.section},void 0,t)};ue.displayName="Section";var le=function(e){var t,n=e.inset,r=e.className;return ee("div",{className:(0,o.default)(K.default.separator,(t={},t[K.default.inset]=n,t),r)})};le.displayName="Separator";var se=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;J(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.renderTimePlayed=function(){var e,t=this.props.activity,n=t.timestamps;if(null==n||!(0,v.default)(t)||(0,y.default)(t))return null;e=(0,p.default)(t)?ee(ie,{timestamps:n}):ee(w.default,{
start:n.start,end:n.end,location:w.default.Locations.USER_ACTIVITY,className:K.default.playTime});return oe(e)};r.render=function(){var e,t,r,a=this.props,i=a.activity,u=i.assets,l=i.details,s=i.state,d=i.application_id,f=a.getAssetImage;return ee(ue,{},void 0,ee("div",{className:K.default.activitySection},void 0,null!=u&&0!==Object.keys(u).length?ee("div",{className:K.default.activitySectionAssets},void 0,ee("img",{alt:null!==(e=u.large_text)&&void 0!==e?e:"",src:f(d,u.large_image,[ne,ne]),className:(0,o.default)(K.default.largeImage,(t={},t[K.default.largeImageMask]=null!=u.small_image,t))}),null!=u.small_image?ee("img",{alt:null!==(r=u.small_text)&&void 0!==r?r:"",src:f(d,u.small_image,[te,te]),className:K.default.smallImage}):null):ee("div",{className:K.default.activitySectionAssets},void 0,ee("img",{alt:"",src:n(534413),className:K.default.largeImage
})),ee("div",{},void 0,ae(null!=l&&""!==l?l:Y.default.Messages.USER_ACTIVITY_HEADER_PLAYING),null!=s?oe(s):null,this.renderTimePlayed())))};return t}(a.Component);se.displayName="RichPresenceSection";var de=ee("div",{}),fe=function(e){var t,n,r=e.activity,a=r.assets,i=r.details,u=r.state,l=r.application_id,s=e.partySize,d=e.members,f=e.isSolo,c=e.getAssetImage;return ee(ue,{},void 0,ee("div",{className:K.default.spotifySection},void 0,null!=a?ee("div",{className:K.default.activitySectionAssets},void 0,ee("img",{alt:null!==(t=a.large_text)&&void 0!==t?t:"",src:c(l,a.large_image,[ne,ne]),className:(0,o.default)(K.default.largeImage,K.default.borderRadius0,(n={},n[K.default.largeImageMask]=null!=a.small_image,n))}),f?null:ee(j.default,{className:K.default.smallImage,color:W.Colors.SPOTIFY})):de,ee("div",{},void 0,null!=i?ae(i):null,null!=u?oe(u):null),ee(V.default,{minAvatarsShown:f?2:1,partySize:s,members:d})))};fe.displayName="SpotifySection";var ce=function(e){
var t,r,a=e.activity,i=e.user,u=e.getAssetImage,l=e.guildId,s=a.name,f=a.details,p=a.assets,v=a.application_id;if(null!=p&&(0,m.default)(a)){var y;r=ee(M.default,{className:K.default.twitchSectionPreviewWrapper,aspectRatio:16/9},void 0,ee(P.default,{href:(0,c.default)(a),tag:"a",target:"_blank"},void 0,ee("img",{alt:null!==(y=p.large_text)&&void 0!==y?y:"",src:u(v,p.large_image,[900,500]),className:K.default.twitchSectionPreview}),ee("img",{src:n(182105),className:K.default.twitchSectionPlayButton,alt:""})))}return ee(ue,{},void 0,ee("div",{className:(0,o.default)((t={},t[K.default.twitchSectionSimple]=null==i,t[K.default.twitchSectionFull]=null!=i,t))},void 0,ee("img",{alt:"",src:d.default.get(W.PlatformTypes.TWITCH).icon.lightSVG,className:K.default.twitchSectionIcon}),ee("div",{},void 0,ae(s),null!=f?oe(f):null),null!=i?ee(F.default,{src:i.getAvatarURL(l,24),"aria-label":i.username,className:K.default.twitchSectionAvatar,size:F.default.Sizes.SIZE_24}):null),r)}
;ce.displayName="TwitchSection";var pe=function(e){var t,n,r=e.guild,i=e.channel,u=e.onGuildClick,l=e.partySize,s=e.members,d=e.onChannelContextMenu,f=a.useRef(null),c=(0,S.default)(i,!0);return ee(ue,{},void 0,a.createElement("div",{className:K.default.voiceSection,ref:f,onContextMenu:function(e){return d(e,i)}},ee(P.default,{onClick:u,"aria-hidden":!0,tabIndex:-1},void 0,ee("div",{className:K.default.voiceSectionAssets},void 0,null!=r.getIconURL(32)?ee("img",{alt:"",src:null!==(t=r.getIconURL(32))&&void 0!==t?t:void 0,className:(0,o.default)(K.default.voiceSectionGuildImage,K.default.largeImageMask)}):ee("div",{className:K.default.voiceSectionNoGuildImageWrapper},void 0,ee("div",{className:K.default.voiceSectionNoGuildImage,style:{fontSize:null!==(n=re[r.acronym.length])&&void 0!==n?n:re[re.length-1]}},void 0,r.acronym)),ee("div",{className:K.default.voiceSectionIconWrapper},void 0,ee(G.default,{className:K.default.voiceSectionIcon})))),ee(P.default,{onClick:u,focusProps:{
ringTarget:f}},void 0,ee("div",{className:K.default.voiceSectionDetails},void 0,ae(r.toString(),K.default.voiceSectionText),oe(c,K.default.voiceSectionText))),ee(V.default,{partySize:l,members:s,guildId:r.id})))};pe.displayName="VoiceSection";var ve=function(e){var t=e.title;return ee(ue,{},void 0,ee("div",{className:K.default.xboxSection},void 0,ee(U.default,{className:K.default.xboxSectionIcon}),ee("div",{className:K.default.xboxSectionDetails},void 0,ae(t),oe(Y.default.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX))))};ve.displayName="XboxSection";var ye=function(e){var t=e.icon,n=e.name,r=e.partySize,a=e.members;return ee(ue,{},void 0,ee("div",{className:K.default.gameSection},void 0,null!=t?ee("img",{alt:"",src:t,className:K.default.gameSectionIcon}):null,ee("div",{},void 0,ae(n),oe(Y.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:r.totalSize}))),ee(V.default,{partySize:r,members:a})))};ye.displayName="GameSection";var me=function(e){
var t,n=e.activity,r=e.user,a=e.applicationStream,o=e.onPreviewClick,i=e.guildId,u=ee(M.default,{className:K.default.applicationStreamingPreviewWrapper,aspectRatio:16/9},void 0,ee(P.default,{onClick:o,className:K.default.applicationStreamingPreviewSize},void 0,ee(b.default,{stream:a,className:K.default.applicationStreamingPreviewSize}),ee("div",{className:K.default.applicationStreamingHoverWrapper},void 0,ee("div",{className:K.default.applicationStreamingHoverText},void 0,Y.default.Messages.WATCH_STREAM)))),l=null!==(t=(0,_.default)(n,a))&&void 0!==t?t:Y.default.Messages.SHARING_SCREEN;return ee(ue,{},void 0,ee("div",{className:K.default.applicationStreamingSection},void 0,ee(F.default,{size:F.default.Sizes.SIZE_32,src:r.getAvatarURL(i,32),"aria-label":r.username,className:K.default.applicationStreamingAvatar}),ee("div",{},void 0,ae(r.toString()),oe(l)),ee(x.default,{size:x.default.Sizes.SMALL})),u)};me.displayName="ApplicationStreamingSection";var _e=function(e){
var t,n=e.activity,r=e.channel,o=e.guildId,i=e.participants,l=(0,h.default)(),d=X(a.useState(null),2),c=d[0],p=d[1];a.useEffect((function(){null!=n.application_id&&(0,B.getAssetIds)(n.application_id,["embedded_background"]).then((function(e){var t=X(e,1)[0];return p(t)}))}),[n.application_id]);var v=(0,u.useStateFromStoresArray)([C.default,T.default],(function(){return Array.from(i).map((function(e){return T.default.getId()===e?null:C.default.getUser(e)})).filter(H.isNotNullish)})),y=(0,s.useAnalyticsContext)(),m=(0,E.default)().analyticsLocations,_=A.default.getGame(null!==(t=null==n?void 0:n.application_id)&&void 0!==t?t:"");if(null==_)return null;var S=null!=n.created_at&&n.created_at>0?{start:n.created_at}:void 0,O=(0,B.getAssetImage)(_.id,c,300);return ee(ue,{},void 0,ee("div",{className:K.default.embeddedActivityTopRow},void 0,ee(R.default,{game:_,size:R.default.Sizes.XSMALL,className:K.default.embeddedActivityIcon}),ee("div",{className:K.default.embeddedActivityName
},void 0,ee(L.Text,{variant:"text-sm/semibold"},void 0,_.name)),null!=S?ee("div",{className:K.default.embeddedActivityTimeElapsed},void 0,ee(L.Text,{color:"text-muted",variant:"text-sm/normal"},void 0,ee(ie,{timestamps:S}))):null),ee(M.default,{aspectRatio:16/9},void 0,ee("div",{className:K.default.embeddedActivityPlayerContainer},void 0,null!=O?ee("img",{src:O,alt:_.name,className:K.default.embeddedActivityImage}):null,ee("div",{className:K.default.embeddedActivityImageOverlay},void 0,ee(I.Avatars,{users:v,guildId:o,channelId:r.id}),ee("div",{className:K.default.embeddedActivityJoinWrapper},void 0,ee(N.default,{size:N.default.Sizes.SMALL,onClick:function(e){e.stopPropagation();(0,f.default)({activity:n,currentEmbeddedApplication:l,activityChannelId:r.id,locationObject:y.location,embeddedActivitiesManager:g.default,analyticsLocations:m})}},void 0,Y.default.Messages.JOIN))))))};_e.displayName="EmbeddedActivitySection";var he=(0,i.default)({XBOX:null,SPOTIFY:null,MULTIPLE:null
}),ge=function(e){var t,n=e.src,r=e.onClick,a=e.onContextMenu;switch(n){case he.XBOX:t=ee(U.default,{className:K.default.headerIcon,color:W.Colors.PRIMARY_DARK_300});break;case he.SPOTIFY:t=ee(j.default,{className:K.default.headerIcon,color:W.Colors.SPOTIFY});break;case he.MULTIPLE:t=ee("div",{className:K.default.multipleIconWrapper},void 0,ee(k.default,{className:(0,o.default)(K.default.headerIcon,K.default.multipleIcon),color:W.Colors.PRIMARY_DARK_300}));break;default:t=ee("img",{src:null!=n?n:void 0,alt:"",className:K.default.headerIcon})}return null!=r||null!=a?ee(P.default,{onClick:r,className:(0,o.default)(null!=r?K.default.clickableIcon:""),onContextMenu:a},void 0,t):t};ge.Src=he;var Ee=function(e){var t=e.priorityUser,n=e.title,r=e.subtitle,a=e.icon,i=e.onContextMenu,u=e.guildId;return ee("header",{className:null!=a?K.default.headerFull:K.default.headerSimple},void 0,ee(F.default,{src:t.user.getAvatarURL(u,32),"aria-label":t.user.username,size:F.default.Sizes.SIZE_32,
className:K.default.headerAvatar,status:t.status,onContextMenu:i}),ee("div",{className:K.default.headerDetails},void 0,ee(L.Text,{className:(0,o.default)(K.default.textContent),variant:"text-md/semibold"},void 0,n),ee(L.Text,{color:"header-secondary",className:K.default.textContent,variant:"text-sm/normal"},void 0,r)),null!=a?a:null)};Ee.displayName="NowPlayingHeader";Ee.Icon=ge;var Se=function(e){var t=e.children;return ee(D.default,{inset:!0,padded:!1,className:K.default.body},void 0,t)};Se.displayName="NowPlayingBody";var Oe=function(e){var t=e.children,n=e.className,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,z);return ee(O.default,{},void 0,a.createElement(D.default,Q({className:(0,o.default)(n,K.default.wrapper),padded:!0},r),t))};Oe.displayName="NowPlayingItem";Oe.Header=Ee;Oe.Body=Se;Oe.Separator=le;Oe.VoiceSection=pe;Oe.GameSection=ye;Oe.RichPresenceSection=se;Oe.XboxSection=ve
;Oe.SpotifySection=fe;Oe.TwitchSection=ce;Oe.ApplicationStreamingSection=me;Oe.EmbeddedActivitySection=_e;var be=Oe;t.default=be},352636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(923387),i=m(n(284382)),u=m(n(305081)),l=m(n(717681)),s=m(n(8549)),d=n(772575),f=m(n(582945)),c=m(n(4865)),p=n(770348),v=m(n(247001)),y=m(n(716875));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){
return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=h(c.default,{});function E(){var e=(0,a.useStateFromStores)([s.default],(function(){return s.default.hasConsented(p.Consents.PERSONALIZATION)}))?[]:[o.DismissibleContent.NOW_PLAYING_CONSENT_CARD];return h(i.default,{section:p.AnalyticsSections.ACTIVE_NOW_COLUMN},void 0,h("div",{className:y.default.container},void 0,h(f.default,{className:y.default.scroller},void 0,h(d.Heading,{variant:"heading-lg/medium",className:y.default.header,level:3},void 0,v.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE),h(u.default,{contentTypes:e
},void 0,(function(e){var t=e.visibleContent,n=e.markAsDismissed;if(t===o.DismissibleContent.NOW_PLAYING_CONSENT_CARD)return h(l.default,{className:y.default.consentCard,markAsDismissed:n})})),g)))}E.displayName="NowPlayingSidebar"},316681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(496486)),i=y(n(257175)),u=y(n(711195)),l=y(n(414068)),s=y(n(160629)),d=y(n(298408)),f=y(n(628551)),c=n(71246),p=n(770348),v=y(n(877001));function y(e){return e&&e.__esModule?e:{default:e}}
function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.member,n=e.empty,r=e.analyticsContext,o=e.guildId;if(n)return h("div",{className:v.default.partyMemberEmpty});if(null==t)return h("div",{className:v.default.partyMemberUnknown},void 0,h(d.default,{
className:v.default.partyMemberUnknownIcon}));var i={location:_({},r.location,{object:p.AnalyticsObjects.AVATAR})};return h("div",{className:v.default.partyMemberKnown},void 0,h(s.default,{preload:function(){return(0,u.default)(t.id,t.getAvatarURL(o,80),{guildId:o})},renderPopout:function(e){return a.createElement(l.default,_({},e,{userId:t.id,analyticsParams:i}))},position:s.default.Positions.LEFT},void 0,(function(e){return a.createElement(f.default,_({},e,{src:t.getAvatarURL(o,24),"aria-label":t.username,size:f.default.Sizes.SIZE_24,className:v.default.partyMember}))})))};g.displayName="PartyMember";var E=(0,i.default)(g),S=function(e){var t=e.partySize,n=e.members,r=e.minAvatarsShown,a=void 0===r?1:r,i=e.maxAvatarsShown,u=void 0===i?2:i,l=e.guildId,s=t.unknownSize,d=t.totalSize,f=t.knownSize;if(d<a)return null;for(var p=(0,o.default)(n).filter(c.isNotNullish).take(u).map((function(e){return h(E,{member:e,guildId:l},e.id)})).value(),y=0;y<s&&p.length<u;y++)p.push(h(E,{guildId:l
},"unknown-member-"+y));for(var m=d-f-s,_=0;_<m&&p.length<u;_++)p.push(h(E,{empty:!0,guildId:l},"empty-member-"+_));var g=Math.max(Math.min(d-p.length,99),0);if(1===g){var S=n[u];p.push(h(E,{member:S,guildId:l},S.id))}return h("div",{className:v.default.wrapper},void 0,h("div",{className:v.default.partyMembers},void 0,p,g>1?h("div",{className:v.default.partyMemberOverflow},void 0,"+",g):null))};S.displayName="PartyAvatars";var O=S;t.default=O},854923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;v(n(667294));var r,a=v(n(145122)),o=c(n(729661)),i=c(n(984399)),u=c(n(485820)),l=c(n(602613)),s=c(n(709037)),d=c(n(568235)),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.party,n=e.close,r=e.onSelect,c=(0,u.default)(t),p=(0,d.default)(t),v=(0,s.default)(t),m=(0,l.default)(t),_=(0,o.default)(t),h=(0,i.default)(t);return y(a.default,{navId:"now-playing-menu",onClose:n,
"aria-label":f.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onSelect:r},void 0,c,y(a.MenuGroup,{},void 0,p,v),y(a.MenuGroup,{},void 0,m),y(a.MenuGroup,{},void 0,_),h)}m.displayName="NowPlayingCardMenu"},27916:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NowPlayingUnknownMemberMenuItem=c;t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=l(n(294184)),o=l(n(252149)),i=l(n(628551)),u=l(n(446926));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.user,n=e.status,r=e.isFocused,a=e.guildId;return d("div",{className:u.default.memberItem},void 0,d(i.default,{src:t.getAvatarURL(a,24),className:u.default.avatar,"aria-label":t.username,size:i.default.Sizes.SIZE_24,status:n,statusColor:r?"currentColor":void 0}),d(o.default,{user:t,hideDiscriminator:!0}))}f.displayName="NowPlayingMemberMenuItem";function c(e){var t=e.label;return d("div",{className:u.default.memberItem},void 0,d("div",{className:(0,a.default)(u.default.avatar,u.default.unknown)
}),d("div",{},void 0,t))}c.displayName="NowPlayingUnknownMemberMenuItem"},729661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t,n=e.currentActivities.length>1,r=D(e),i=function(e){var t=e.currentActivities,n=a.useContext(E.AnalyticsContext);return(0,o.useStateFromStoresArray)([h.default,_.default,p.default,g.default,m.default],(function(){return t.filter((function(e){return!(0,c.default)(e.activity)})).map((function(e){var t=e.activity,r=e.game,a=_.default.getActiveLibraryApplication(r.id);return P({},e,{libraryApplication:a,canJoin:null!=t&&(0,f.default)(t,b.ActivityFlags.JOIN)&&t.type===b.ActivityTypes.PLAYING,canPlay:(0,S.isLaunchable)({LibraryApplicationStore:_.default,LaunchableGameStore:p.default,DispatchApplicationStore:g.default,ConnectedAppsStore:m.default,applicationId:r.id,branchId:null!=a?a.branchId:null}),isLaunching:p.default.launchingGames.has(r.id),
isRunning:h.default.getRunningVerifiedApplicationIds().includes(r.id),location:n.location})}))}),[t])}(e),u=[],l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(i);!(t=l()).done;){var s=t.value,d=s.activity;null!=d&&null!=d.type&&u.push(L(s,n),k(s,n))}return[r].concat(u)};var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=T(n(312260)),u=T(n(136873)),l=T(n(226800)),s=T(n(155502)),d=n(144166),f=T(n(351093)),c=T(n(762605)),p=T(n(703124)),v=n(145122),y=T(n(513266)),m=T(n(504762)),_=T(n(191839)),h=T(n(834162)),g=T(n(432310)),E=n(308920),S=n(539331),O=n(409873),b=n(770348),I=T(n(247001));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function M(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,u,"next",e)}function u(e){M(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var w=s.default.get(b.PlatformTypes.XBOX).name;function D(e){var t=e.currentActivities,n=(0,o.useStateFromStores)([y.default],(function(){return y.default.getAccounts().some((function(e){return e.type===s.default.get(b.PlatformTypes.XBOX).type}))})),r=t.some((function(e){var t=e.activity;return(0,d.isOnXbox)(t)}));return n||!r?null:R(v.MenuItem,{id:"xbox-connect",action:function(){return l.default.open(b.UserSettingsSections.CONNECTIONS)},label:I.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:w})})}D.displayName="useXboxConnectItem";function L(e,t){var n=e.canJoin,r=e.activity,a=e.activityUser;if(!n||null==r)return null;function o(){return(o=N(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return i.default.sendActivityInviteUser({type:b.ActivityActionTypes.JOIN_REQUEST,userId:a.id,activity:r,
location:b.AnalyticsLocations.PROFILE_POPOUT});case 4:null!=(t=e.sent)&&u.default.selectPrivateChannel(t.id);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return R(v.MenuItem,{id:"join-"+r.session_id,label:t?I.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN_USER.format({name:a.toString()}):I.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN,action:function(){return o.apply(this,arguments)}})}L.displayName="renderAskToJoinItem";function k(e,t){var n=e.activity,r=e.game,a=e.libraryApplication,o=e.location,i=e.canPlay,u=e.isRunning,l=e.isLaunching;if(!i||null==n)return null;var s=u?I.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_RUNNING.format({name:r.name}):l?I.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_LAUNCHING.format({name:r.name}):void 0;return R(v.MenuItem,{id:"play-"+n.session_id,action:function(){(0,O.playApplication)(r.id,a,{analyticsParams:{location:P({},o,{object:b.AnalyticsObjects.LIST_ITEM})}})},
label:t?I.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_APPLICATION_NAME.format({name:r.name}):I.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH,subtext:s})}k.displayName="renderPlayGameItem"},984399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.priorityMembers,n=e.partiedMembers,r=e.currentActivities,a=e.guildContext,u=new Set(t.map((function(e){return e.user.id}))),l=n.filter((function(e){return!u.has(e.id)})),s=o.useMemo((function(){var e=r.flatMap((function(e){return e.playingMembers})).map((function(e){return e.id}));return n.filter((function(t){return!e.includes(t.id)}))}),[n,r]);if(r.length<=1&&0===s.length){var f,c;return p(i.MenuGroup,{label:n.length>1?d.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:n.length}):void 0},void 0,h(t,l,n.length,null!==(f=null===(c=r[0])||void 0===c?void 0:c.activity)&&void 0!==f?f:void 0,null==a?void 0:a.id))}var v=r.map((function(e){
var n=e.playingMembers,r=e.game,o=e.activity,l=new Set(n.map((function(e){return e.id})));return p(i.MenuGroup,{label:r.name+" - "+n.length},void 0,h(t.filter((function(e){var t=e.user;return l.has(t.id)})),n.filter((function(e){return!u.has(e.id)})),n.length,null!=o?o:void 0,null==a?void 0:a.id))})),y=s.map((function(e){return e.id})),g=p(i.MenuGroup,{label:d.default.Messages.ACTIVITY_FEED_OTHER_MEMBER_LIST_HEADER+" - "+s.length},void 0,h(t.filter((function(e){var t=e.user;return y.includes(t.id)})),s.filter((function(e){return!u.has(e.id)})),s.length,void 0,null==a?void 0:a.id));return[].concat((E=v,function(e){if(Array.isArray(e))return _(e)}(E)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(E)||m(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[g]);var E}
;var r,a,o=c(n(667294)),i=n(145122),u=n(910992),l=c(n(27916)),s=n(770348),d=(r=n(247001))&&r.__esModule?r:{default:r};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=m(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,a){for(var f,c=[],m=function(){var e=f.value,t=e.user,n=e.status;c.push(p(i.MenuItem,{id:t.id,keepItemStyles:!0,render:function(e){return o.createElement(l.default,v({},e,{user:t,status:n,guildId:a}))},action:function(){return(0,u.openUserProfileModal)({userId:t.id,analyticsLocation:{section:s.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},_=y(e);!(f=_()).done;)m();for(var h,g=function(){var e=h.value;c.push(p(i.MenuItem,{id:e.id,keepItemStyles:!0,render:function(t){return o.createElement(l.default,v({},t,{user:e,guildId:a}))},action:function(){return(0,u.openUserProfileModal)({userId:e.id,analyticsLocation:{section:s.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},E=y(t);!(h=E()).done;)g()
;var S=n-c.length;S>0&&c.push(p(i.MenuItem,{id:"unknown-members-"+(null==r?void 0:r.session_id),render:function(e){return o.createElement(l.NowPlayingUnknownMemberMenuItem,v({},e,{label:d.default.Messages.GAME_FEED_UNKNOWN_PLAYERS.format({count:S})}))}}));return c}},485820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(709403)),i=c(n(844784)),u=n(145122),l=n(540671),s=n(308920),d=n(770348),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t){void 0===t&&(t=!1);var n=e.priorityMembers,r=e.partiedMembers,c=a.useContext(s.AnalyticsContext),p=n.map((function(e){return e.user.id})),m=1===r.length&&1===n.length,_=n.length-r.length>0;if(!((m||t)&&!_)||0===p.length)return null
;return v(u.MenuItem,{id:"message",action:function(){o.default.openPrivateChannel(p).then((function(t){return i.default.trackWithMetadata(d.AnalyticEvents.ACTIVITY_FEED_DM_VISITED,y({source:y({},c.location,{object:d.AnalyticsObjects.LIST_ITEM}),channel_id:t,recipient_id:"string"==typeof p?p:p[0],af_recently_played:!1},(0,l.getPartyMetadata)(e)))}))},label:f.default.Messages.SEND_DM})}m.displayName="useNowPlayingMessageItem"},602613:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.currentActivities,n=e.isSpotifyActivity,r=t[0],o=(0,a.default)(null==r?void 0:r.activity,null==r?void 0:r.activityUser);return n?o:null};var r,a=(r=n(619476))&&r.__esModule?r:{default:r}},709037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return e.applicationStreams.map((function(e){var t=e.stream,n=e.streamUser;return d(i.MenuItem,{id:"spectate-"+t.ownerId,action:function(){
a.default.selectVoiceChannel(t.channelId);(0,o.watchStreamAndTransitionToStream)(t)},label:u.default.Messages.WATCH_USER_STREAM.format({streamerName:n.toString()})})}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=l(n(136873)),o=n(123516),i=n(145122),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},568235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=a.useContext(c.AnalyticsContext),n=e.voiceChannels[0],r=(0,o.useStateFromStores)([d.default],(function(){return null!=n&&d.default.can(p.Permissions.CONNECT,n.channel)}));if(null==n)return null;return[_(l.MenuItem,{id:"join-voice",action:function(){(0,s.transitionToGuild)(n.guild.id);i.default.selectVoiceChannel(n.channel.id);u.default.trackWithMetadata(p.AnalyticEvents.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,h({source:h({},t.location,{object:p.AnalyticsObjects.LIST_ITEM}),guild_id:n.guild.id,channel_id:n.channel.id},(0,f.getPartyMetadata)(e)))},
label:v.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_JOIN_CHANNEL,disabled:!r}),_(l.MenuItem,{id:"goto-server",action:function(){(0,s.transitionToGuild)(n.guild.id);u.default.trackWithMetadata(p.AnalyticEvents.ACTIVITY_FEED_GUILD_VISITED,h({source:h({},t.location,{object:p.AnalyticsObjects.LIST_ITEM}),guild_id:n.guild.id,af_recently_played:!1},(0,f.getPartyMetadata)(e)))},label:v.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_GO_TO_SERVER})]};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=y(n(136873)),u=y(n(844784)),l=n(145122),s=n(95034),d=y(n(689389)),f=n(540671),c=n(308920),p=n(770348),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}},884809:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,i.default)(function(t){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(i,t);function i(){return t.apply(this,arguments)||this}var l=i.prototype;l.render=function(){return r.createElement(e,c({},this.props,{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))};l.handleMessageUser=function(e,t){return a.default.openPrivateChannel(t.id)};l.handleUserContextMenu=function(e,t,a){(0,o.openContextMenuLazy)(e,f(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,c({},e,{user:t}))}));case 5:case"end":
return e.stop()}}),e)}))),{onClose:a})};l.handleGuildContextMenu=function(e,t){(0,o.openContextMenuLazy)(e,f(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(38698),n.e(53734)]).then(n.bind(n,853734));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,c({},e,{guild:t}))}));case 5:case"end":return e.stop()}}),e)}))))};l.handleChannelContextMenu=function(e,t){var a=u.default.getGuild(t.getGuildId());if(null==a)return null;(0,o.openContextMenuLazy)(e,f(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(14560),n.e(44700)]).then(n.bind(n,44700));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return r.createElement(i,c({},e,{channel:t,guild:a}))}));case 5:case"end":return e.stop()}}),e)}))))};return i
}(r.Component))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(709403)),o=n(378158),i=l(n(257175)),u=l(n(30098));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){
d(o,r,a,i,u,"throw",e)}i(void 0)}))}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}},520310:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setNewUser=function(e){a.default.wait((function(){return a.default.dispatch({type:o.ActionTypes.NUF_NEW_USER,newUserType:e})}))};t.setNewUserFlowCompleted=function(){a.default.wait((function(){return a.default.dispatch({type:o.ActionTypes.NUF_COMPLETE})}))};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},754949:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NewUserTypes=t.NUF_VALUE_PROPS_MODAL_KEY=t.NUF_NOTIFICATION_MODAL_KEY=t.NUF_IN_APP_EDUCATION_KEY=t.NUF_DISCOVERABILITY_MODAL_KEY=void 0;var n;t.NewUserTypes=n;!function(e){
e[e.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED";e[e.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED";e[e.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED";e[e.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE"}(n||(t.NewUserTypes=n={}));t.NUF_NOTIFICATION_MODAL_KEY="nuf-notification-modal-key";t.NUF_DISCOVERABILITY_MODAL_KEY="nuf-discoverability-modal-key";t.NUF_IN_APP_EDUCATION_KEY="nuf-in-app-education-modal-key";t.NUF_VALUE_PROPS_MODAL_KEY="nuf-value-props-modal-key"},322033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=null;var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){var t
;s=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:null};n.getType=function(){return s};n.getState=function(){return{type:s}};n.__getLocalVars=function(){return{type:s}};return t}(a.default.PersistedStore);d.displayName="NewUserStore";d.persistKey="nuf";var f=new d(o.default,((r={})[i.ActionTypes.NUF_NEW_USER]=function(e){var t=e.newUserType;s=t},r[i.ActionTypes.NUF_COMPLETE]=function(){s=null},r));t.default=f},763840:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NUF_MODAL_KEY=t.NUFSlides=void 0;var n;t.NUFSlides=n;!function(e){e.AGE_GATE="age-gate";e.CHOOSE_TEMPLATE="choose-template";e.CUSTOMIZE_GUILD="customize-server";e.CHANNEL_PROMPT="channel-prompt";e.JOIN_GUILD="join-server";e.CREATION_INTENT="creation-intent";e.COMPLETE="complete"}(n||(t.NUFSlides=n={}));t.NUF_MODAL_KEY="nuf-refresh-modal"},900996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=N(n(667294)),o=C(n(636602)),i=C(n(177230)),u=N(n(160866)),l=N(n(583490)),s=C(n(678875)),d=C(n(885986)),f=n(508079),c=N(n(131629)),p=C(n(250650)),v=C(n(30098)),y=C(n(790597)),m=C(n(728429)),_=n(194322),h=N(n(71246)),g=n(864489),E=N(n(520310)),S=C(n(322033)),O=n(754949),b=n(763840),I=n(770348),T=n(27577),A=n(33989);function C(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(){P=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}function L(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(){null!=r&&(0,_.closeModal)(r)}var U=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;D(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){o.default.subscribe(I.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);o.default.subscribe(I.ActionTypes.LOGOUT,j)};i._terminate=function(){o.default.unsubscribe(I.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);o.default.unsubscribe(I.ActionTypes.LOGOUT,j)};i.handleConnectionOpen=function(){var e=S.default.getType();if(null!=e){switch(e){
case O.NewUserTypes.INVITE_UNCLAIMED:d.default.flowStart(A.FlowType.INVITE,A.RegistrationSteps.NUF_STARTED);break;case O.NewUserTypes.ORGANIC_REGISTERED:d.default.flowStart(A.FlowType.ORGANIC,A.RegistrationSteps.NUF_STARTED);break;case O.NewUserTypes.MARKETING_UNCLAIMED:d.default.flowStart(A.FlowType.ORGANIC_MARKETING,A.RegistrationSteps.NUF_STARTED)}var t=!1,o=y.default.getGuildId();if(e===O.NewUserTypes.INVITE_UNCLAIMED){var i=v.default.getGuild(o);if(null==i?void 0:i.hasVerificationGate()){t=!0;(0,f.fetchWelcomeScreen)(i.id)}}var C=function(){return 0===p.default.totalGuilds&&!g.isPlatformEmbedded},M=u.userNeedsAgeGate();!function(e){var t=function(){E.setNewUserFlowCompleted();d.default.flowStep(A.FlowType.ANY,A.RegistrationSteps.NUF_COMPLETE,!0)};L(e).reverse().forEach((function(e){var n=t;t=function(){e.predicate()?e.open(n):n()}}));t()}([{key:"Unified NUF Modal",open:function(e){return N.apply(this,arguments)},predicate:function(){return C()&&!T.CONFERENCE_MODE_ENABLED}},{
key:"New User Age Gate",open:l.openNewUserAgeGateModal,predicate:function(){return M&&!C()&&!T.CONFERENCE_MODE_ENABLED}},{key:"Claim Account Modal",open:function(e){return l.openClaimAccountModal(g.isPlatformEmbedded,e)},predicate:function(){var e;return!t&&null!=m.default.getCurrentUser()&&!(null===(e=m.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!T.CONFERENCE_MODE_ENABLED}},{key:"Verification Gate with Claim Account",open:function(e){return(0,s.default)(o,e)},predicate:function(){var e;return t&&!(null===(e=m.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!T.CONFERENCE_MODE_ENABLED}},{key:"Guild Welcome Modal",open:function(e){return(0,_.openModalLazy)(w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(58095).then(n.bind(n,365760));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,P({},e,{guildId:o}))}));case 5:
case"end":return e.stop()}}),e)}))),{onCloseCallback:e})},predicate:function(){return null!=o&&null!=c.default.get(o)&&c.default.get(o)!==c.NO_WELCOME_SCREEN}}])}function N(){return(N=w(regeneratorRuntime.mark((function e(t){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=function(e){switch(e){case b.NUFSlides.AGE_GATE:d.default.flowStep(A.FlowType.ANY,A.RegistrationSteps.AGE_GATE);break;case b.NUFSlides.CHOOSE_TEMPLATE:d.default.flowStep(A.FlowType.ANY,A.CreateGuildSteps.GUILD_TEMPLATES);break;case b.NUFSlides.CUSTOMIZE_GUILD:d.default.flowStep(A.FlowType.ANY,A.CreateGuildSteps.GUILD_CREATE);break;case b.NUFSlides.CHANNEL_PROMPT:d.default.flowStep(A.FlowType.ANY,A.CreateGuildSteps.CHANNEL_PROMPT);break;case b.NUFSlides.JOIN_GUILD:d.default.flowStep(A.FlowType.ANY,A.CreateGuildSteps.JOIN_GUILD);break;case b.NUFSlides.CREATION_INTENT:d.default.flowStep(A.FlowType.ANY,A.CreateGuildSteps.CREATION_INTENT);break;case b.NUFSlides.COMPLETE:
d.default.flowStep(A.FlowType.ANY,A.CreateGuildSteps.SUCCESS);break;case null:break;default:h.assertNever(e)}};e.next=3;return(0,_.openModalLazy)(w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(62884),n.e(69156),n.e(91948)]).then(n.bind(n,91948));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,P({},e,{onSlideChange:o}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseRequest:I.NOOP,onCloseCallback:t,modalKey:r});case 3:r=e.sent;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}};i.__getLocalVars=function(){return{nufModalKey:r}};return t}(i.default));t.default=U},514109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=y(n(730381)),a=y(n(636602)),o=y(n(786345)),i=y(n(177230)),u=n(742965),l=y(n(201292)),s=y(n(191391)),d=y(n(790597)),f=y(n(563621)),c=y(n(71636)),p=n(951715),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _={},h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleHighlightsLoad=function(e){var n=e.guildId;t.maybeLoadFeedForGuild(n)};t.handleChannelSelect=function(e){var n=e.guildId,r=e.channelId,a=e.messageId;t.maybeLoadFeedForGuild(n);null!=n&&null!=r&&null==a&&(0,p.isOptInExperimentEnabled)()&&f.default.isOptInEnabled(n)&&l.default.addConditionalChangeListener((function(){if(l.default.isLoadingMessages(r))return!0;var e=s.default.getSortedUnreadHighlightedMessageIds(r)
;if(0===e.length)return!1;l.default.getMessages(r).has(e[0])||o.default.fetchMessages({channelId:r,after:c.default.atPreviousMillisecond(e[0]),limit:v.MAX_MESSAGES_PER_CHANNEL,jump:{messageId:e[0],flash:!0}});return!1}))};t.handleConnectionOpen=function(){var e=d.default.getGuildId();t.maybeLoadFeedForGuild(e)};return t}var n=t.prototype;n._initialize=function(){a.default.subscribe(v.ActionTypes.CHANNEL_PRELOAD,this.handleHighlightsLoad);a.default.subscribe(v.ActionTypes.CHANNEL_SELECT,this.handleChannelSelect);a.default.subscribe(v.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};n._terminate=function(){a.default.unsubscribe(v.ActionTypes.CHANNEL_PRELOAD,this.handleHighlightsLoad);a.default.unsubscribe(v.ActionTypes.CHANNEL_SELECT,this.handleChannelSelect);a.default.unsubscribe(v.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};n.maybeLoadFeedForGuild=function(e){if(null==e)return!1;if(null!=_[e]&&_[e].isAfter((0,r.default)().subtract(5,"minutes")))return!1;if((0,
p.isOptInExperimentEnabled)()){(0,u.fetchGuildFeed)({guildId:e,refresh:!0});_[e]=(0,r.default)()}};n.__getLocalVars=function(){return{loadedGuilds:_}};return t}(i.default));t.default=h},220796:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=e.guildId,r=(P=a.useState(""),R=2,function(e){if(Array.isArray(e))return e}(P)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(P,R)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(P,R)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],l=r[1],s=(0,u.useStateFromStores)([h.default],(function(){return h.default.getLastSelectedChannelId(n)})),d=(0,u.useStateFromStores)([_.default],(function(){return _.default.getGuild(n)})),f=(0,u.useStateFromStores)([m.default],(function(){return m.default.getChannels(n)})),c=(0,u.useStateFromStores)([y.default],(function(){return y.default.getCategories(n)})),g=(0,u.useStateFromStores)([v.default],(function(){return v.default.getChannel(s)})),E=(0,u.useStateFromStores)([p.default],(function(){return p.default.getCurrentSidebarChannelId(A.StaticChannelRoute.CHANNEL_BROWSER)})),O=null!=E,b=a.useCallback((function(){return l("")}),[l]);var P,R;if(null==d)return null;var w=(0,I.filterCategoriesByQuery)(c,f,i.toLowerCase());return a.createElement(a.Fragment,null,L("div",{className:(0,o.default)(N.default.chat,(t={},
t[N.default.threadSidebarOpen]=O,t))},void 0,L(j,{guild:d,previousChannel:g}),L("div",{className:(0,o.default)(N.default.content,M.default.pageBody)},void 0,L(S.default,{className:M.default.search,size:S.default.Sizes.MEDIUM,query:i,onChange:l,onClear:b,placeholder:C.default.Messages.CHANNEL_BROWSER_SEARCH_PLACEHOLDER}),L(T.default,{channels:f,categories:w,guild:d}))),O&&L(U,{channelId:E}))};var r,a=w(n(667294)),o=P(n(294184)),i=n(370405),u=n(536211),l=w(n(174851)),s=P(n(216672)),d=n(738839),f=P(n(463024)),c=n(139982),p=P(n(502546)),v=P(n(644263)),y=P(n(140868)),m=P(n(517286)),_=P(n(30098)),h=P(n(211136)),g=P(n(956117)),E=P(n(172115)),S=P(n(665759)),O=n(645758),b=P(n(348763)),I=n(625946),T=P(n(807146)),A=n(173652),C=P(n(247001)),M=P(n(193025)),N=P(n(149563));function P(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var k=L(f.default.Icon,{icon:b.default,"aria-hidden":!0})
;function j(e){var t=e.guild,n=e.previousChannel;return a.createElement(a.Fragment,null,L(i.Helmet,{title:C.default.Messages.CHANNEL_BROWSER_HTML_TITLE.format({guildName:t.name})}),L(f.default,{channelId:A.StaticChannelRoute.CHANNEL_BROWSER,guildId:t.id,toolbar:null!=n?L(g.default,{className:M.default.returnButton,size:g.default.Sizes.SMALL,look:g.default.Looks.OUTLINED,color:g.default.Colors.PRIMARY,onClick:function(){null!=n&&(0,c.transitionToGuild)(t.id,n.id)}},void 0,L(O.Text,{className:M.default.returnButtonText,variant:"text-xs/medium"},void 0,C.default.Messages.CHANNEL_BROWSER_RETURN_TO_CHANNEL.format({channelNameHook:function(){return null==n?null:a.createElement(a.Fragment,null,L(d.ChannelItemIcon,{className:M.default.returnIcon,guild:t,channel:n}),L(E.default,{},void 0,L(O.Text,{variant:"text-xs/medium"},void 0,n.name)))}}))):[]},void 0,k,L(f.default.Title,{},void 0,C.default.Messages.CHANNEL_BROWSER_TITLE)))}function U(e){var t=e.channelId;return L(l.default,{
sidebarType:l.ChatSidebarType.ThreadSidebar,maxWidth:600},void 0,L(s.default,{channelId:t,baseChannelId:A.StaticChannelRoute.CHANNEL_BROWSER}))}U.displayName="ChannelBrowserSidebar"},807146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=W;var r,a=w(n(667294)),o=P(n(294184)),i=n(536211),u=n(658222),l=n(378158),s=n(738839),d=P(n(268389)),f=n(537841),c=n(139982),p=P(n(546914)),v=P(n(19566)),y=P(n(881454)),m=P(n(644263)),_=P(n(191391)),h=P(n(563621)),g=w(n(956117)),E=P(n(789446)),S=P(n(16941)),O=P(n(172115)),b=n(645758),I=n(521358),T=n(951255),A=n(770348),C=n(173652),M=P(n(247001)),N=P(n(961134));function P(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}function k(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){k(o,r,a,i,u,"next",e)}function u(e){k(o,r,a,i,u,"throw",e)}i(void 0)}))}}var U=new Set([A.ChannelTypes.GUILD_FORUM]),G=new Set([A.ChannelTypes.GUILD_VOICE,A.ChannelTypes.GUILD_STAGE_VOICE]);function F(e){var t=e.guild,r=e.channel,o=(0,i.useStateFromStores)([h.default],(function(){return h.default.isChannelOptedIn(t.id,r.id)}));return D("div",{className:N.default.categoryRow,onContextMenu:function(e){(0,l.openContextMenuLazy)(e,j(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(28544).then(n.bind(n,808945));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,L({},e,{channel:r,guild:t}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,D(b.Text,{className:N.default.categoryText,
color:"text-muted",variant:"text-xs/semibold"},void 0,r.name),"null"!==r.id&&D(S.default,{className:N.default.selectAll,onClick:function(){(0,T.setOptInChannel)(t.id,r.id,!o)}},void 0,D(E.default,{className:N.default.selectAllCheckbox,size:14,shape:E.default.Shapes.SMALL_BOX,value:o,type:E.default.Types.INVERTED}),D(b.Text,{color:"text-muted",variant:"text-xs/medium"},void 0,M.default.Messages.CHANNEL_BROWSER_SELECT_ALL)))}F.displayName="CategoryRow";var x=a.memo((function(){return D("div",{className:N.default.separator})})),B=a.memo((function(e){var t=e.index;return D(b.Text,{variant:"text-xs/normal",className:N.default.subtitleSeparator},"separator-"+t,"·")}));var H=D(x,{}),V=a.memo((function(e){var t,r=e.channel,m=e.category,I=e.guild,P=e.isFirstChannel,R=e.isLastChannel,w=(0,i.useStateFromStores)([h.default],(function(){return h.default.isChannelOptedIn(I.id,m.id)})),k=(0,i.useStateFromStores)([h.default],(function(){return h.default.isChannelOptedIn(I.id,r.id)})),F=(0,
i.useStateFromStores)([v.default],(function(){return v.default.getActiveThreadCount(I.id,r.id)})),x=(0,i.useStateFromStores)([_.default],(function(){return _.default.getUnreadHighlightedMessageIdCount(r.id)})),V=function(e,t,n){var r=[];n>0&&r.push(D(b.Text,{variant:"text-xs/medium",className:N.default.channelSubtitle,color:"text-brand"},"thread-count",M.default.Messages.CHANNEL_HIGHLIGHTS_COUNT.format({count:n})));e.type===A.ChannelTypes.GUILD_FORUM&&t>=1&&r.push(D(b.Text,{variant:"text-xs/normal",className:N.default.channelSubtitle},"thread-count",M.default.Messages.ACTIVE_FORUM_POST_COUNT.format({count:t})));G.has(e.type)||r.push(D(b.Text,{variant:"text-xs/normal",className:N.default.channelSubtitle},"active",M.default.Messages.CHANNEL_BROWSER_ACTIVE_TEXT.format({timeAgo:(0,f.parseTimestamp)(String(e.lastActiveTimestamp/1e3),"R").formatted})));null!=e.topic&&e.topic.length>0&&r.push(D(O.default,{},"topic",D(b.Text,{className:N.default.topic,variant:"text-xs/normal"
},void 0,d.default.parseTopic(e.topic,!0,{channelId:e.id}))));return[r.map((function(e,t){return[e,D(B,{index:t})]}))].flat(2).slice(0,-1)}(r,F,x),W=function(e){e.stopPropagation();if(U.has(r.type)||e.shiftKey){(0,c.transitionToGuild)(I.id,r.id);return!0}p.default.openChannelAsSidebar({guildId:r.guild_id,channelId:r.id,baseChannelId:C.StaticChannelRoute.CHANNEL_BROWSER});return!0};return a.createElement(a.Fragment,null,D(S.default,{className:(0,o.default)(N.default.channelRow,(t={},t[N.default.firstChannel]=P,t[N.default.lastChannel]=R,t)),onClick:U.has(r.type)?void 0:W,onContextMenu:function(e){r.isVocal()?(0,l.openContextMenuLazy)(e,j(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(14560),n.e(95129),n.e(5044)]).then(n.bind(n,105044));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,L({},e,{channel:r,guild:I}))}));case 5:
case"end":return e.stop()}}),e)})))):(0,l.openContextMenuLazy)(e,j(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(14560),n.e(95129),n.e(31981)]).then(n.bind(n,831981));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,L({},e,{channel:r,guild:I}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,D("div",{className:N.default.channelInfo},void 0,D("div",{className:N.default.channelName},void 0,D(s.ChannelItemIcon,{channel:r,guild:I}),D(O.default,{className:N.default.name},void 0,D(b.Text,{variant:"text-md/medium"},void 0,r.name))),D("div",{className:N.default.channelSubtitles},void 0,V)),D("div",{className:N.default.channelActions},void 0,D(g.default,{look:g.ButtonLooks.OUTLINED,color:g.ButtonColors.PRIMARY,size:g.ButtonSizes.SMALL,className:N.default.viewChannelButton,onClick:W
},void 0,M.default.Messages.CHANNEL_BROWSER_VIEW),D(E.default,{value:k||w,type:E.default.Types.INVERTED,disabled:w,onClick:function(e){return e.stopPropagation()},onChange:function(e){e.stopPropagation();!k&&y.default.isCollapsed(m.id)&&(0,u.categoryExpand)(m.id);(0,T.setOptInChannel)(I.id,r.id,!k)},innerClassName:N.default.checkboxInner}))),!R&&H)}));function W(e){var t=e.categories,n=e.guild,r=a.useCallback((function(e){var r=e.section,a=t._categories[r];return D(F,{channel:a.channel,guild:n},a.channel.id)}),[t,n]),o=a.useCallback((function(e){var r=e.section,a=e.row,o=t._categories[r],i=t[o.channel.id][a];return null==i?null:D(V,{category:o.channel,channel:i.channel,guild:n,isFirstChannel:0===a,isLastChannel:t[o.channel.id].length-1===a},i.channel.id)}),[t,n]),u=(0,i.useStateFromStoresObject)([m.default],(function(){var e={},t=m.default.getMutableGuildChannelsForGuild(n.id);for(var r in t){var a=t[r].parent_id;if(null!=a){var o;e[a]=(null!==(o=e[a])&&void 0!==o?o:0)+1}}return e
}),[n.id]),l=t._categories.map((function(e){var n=t[e.channel.id];return{rowCount:"null"!==e.channel.id&&0===u[e.channel.id]?1:n.length,rowHeight:0===n.length?0:60}}));return D(I.ListAuto,{innerClassName:N.default.scrollerInner,sectionHeight:48,rowHeight:function(e){return l[e].rowHeight},renderSection:r,renderRow:o,sections:l.map((function(e){return e.rowCount}))},"channel-browser-list")}W.displayName="ChannelBrowserList"},61045:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.STATUS_HEADER_HEIGHT=t.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD=t.PEOPLE_LIST_ITEM_HEIGHT=void 0;t.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD=64;t.PEOPLE_LIST_ITEM_HEIGHT=62;t.STATUS_HEADER_HEIGHT=24},334200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=d(n(294184)),u=d(n(16941)),l=d(n(730977)),s=d(n(969261));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}!function(e){e[e.ACCEPT=0]="ACCEPT";e[e.DENY=1]="DENY";e[e.DEFAULT=2]="DEFAULT"}(a||(a={}));function v(e){var t=e.icon,n=e.tooltip,r=e.onClick,d=e.actionType,f=void 0===d?a.DEFAULT:d,v=e.shouldHighlight;return p(l.default,{text:n},void 0,(function(e){var l;return o.createElement(u.default,c({},e,{"aria-label":n,onClick:r,className:(0,i.default)(s.default.actionButton,(l={},l[s.default.actionAccept]=f===a.ACCEPT,l[s.default.actionDeny]=f===a.DENY,l[s.default.highlight]=v,l))}),p(t,{className:s.default.icon}))}))}v.displayName="ActionButton";v.ActionTypes=a;var y=v;t.default=y},518319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(184608)),i=n(688388),u=f(n(767695)),l=n(770348),s=f(n(247001)),d=f(n(184338));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=p(o.default,{});function y(){return p("header",{className:d.default.header},void 0,p(i.FormTitle,{tag:i.FormTitle.Tags.H2,className:d.default.title},void 0,s.default.Messages.ADD_FRIEND),v)}y.displayName="AddFriendHeader";var m=p(y,{});function _(){return p(a.Fragment,{},void 0,m,p("div",{className:d.default.emptyState},void 0,p(u.default,{type:l.FriendsSections.ADD_FRIEND})))}_.displayName="AddFriend";var h=_;t.default=h},89411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(237923)),i=n(910992),u=y(n(523356)),l=n(308920),s=y(n(334200)),d=y(n(906507)),f=y(n(739148)),c=n(770348),p=y(n(247001)),v=y(n(685904));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.user,n=e.key,r=e.isFocused,y=a.useContext(l.AnalyticsContext),m=function(e){
e.stopPropagation();o.default.removeRelationship(t.id,{location:"Friends"})};return _(d.default,{isFocused:r,onClick:function(){return(0,i.openUserProfileModal)({userId:t.id,analyticsLocation:y.location})},user:t},n,(function(e){return _("div",{className:v.default.listItemContents},void 0,_(f.default,{user:t,hovered:e,status:c.StatusTypes.UNKNOWN,subText:p.default.Messages.BLOCKED}),_(s.default,{icon:u.default,actionType:s.default.ActionTypes.DENY,tooltip:p.default.Messages.UNBLOCK,onClick:m,shouldHighlight:e}))}))}h.displayName="BlockedRow"},717681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=y(n(294184)),o=n(642230),i=y(n(226800)),u=y(n(956117)),l=n(772575),s=y(n(427370)),d=n(645758),f=n(770348),c=n(583551),p=y(n(247001)),v=y(n(95898));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.className,n=e.markAsDismissed;return _(s.default,{className:(0,a.default)(v.default.card,t)},void 0,_(l.Heading,{
variant:"heading-md/medium",className:v.default.header,level:3},void 0,p.default.Messages.NOW_PLAYING_GDPR_HEADER),_(d.Text,{variant:"text-sm/normal"},void 0,p.default.Messages.NOW_PLAYING_GDPR_BODY.format({onPrivacyClick:function(){return i.default.open(f.UserSettingsSections.PRIVACY_AND_SAFETY)}})),_("div",{className:v.default.buttonContainer},void 0,_(u.default,{size:u.default.Sizes.SMALL,onClick:function(){return(0,o.setConsents)([f.Consents.PERSONALIZATION],[])}},void 0,p.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES),_(u.default,{color:u.default.Colors.PRIMARY,size:u.default.Sizes.SMALL,onClick:function(){return n(c.ContentDismissActionType.DISMISS)},look:u.default.Looks.LINK},void 0,p.default.Messages.NO_THANKS)))}h.displayName="ConsentCard"},724603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=P(n(667294)),o=M(n(496486)),i=n(536211),u=M(n(709403)),l=n(378158),s=M(n(237923)),d=P(n(145122)),f=n(139982),c=M(n(644263)),p=M(n(635014)),v=n(645758),y=M(n(37985)),m=M(n(301927)),_=M(n(502197)),h=n(194322),g=M(n(334200)),E=M(n(906507)),S=M(n(666561)),O=M(n(739148)),b=n(770348),I=n(474477),T=n(376293),A=M(n(247001)),C=M(n(684753));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function R(e,t){
R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e){var t=e.user,n=e.onSelect;var r=function(){s.default.removeRelationship(t.id,{location:"Friends"})},o=(0,i.useStateFromStores)([p.default],(function(){return p.default.supports(T.Features.VIDEO)}));return D(d.default,{navId:"friend-row",
"aria-label":A.default.Messages.USER_ACTIONS_MENU_LABEL,onClose:l.closeContextMenu,onSelect:n},void 0,o?D(d.MenuItem,{id:"start-video-call",label:A.default.Messages.START_VIDEO_CALL,action:function(){u.default.openPrivateChannel(t.id,!0,!0)}}):null,D(d.MenuItem,{id:"start-voice-call",label:A.default.Messages.START_VOICE_CALL,action:function(){u.default.openPrivateChannel(t.id,!0)}}),D(d.MenuItem,{id:"remove-friend",label:A.default.Messages.REMOVE_FRIEND,action:function(){(0,h.openModal)((function(e){return a.createElement(_.default,w({header:A.default.Messages.REMOVE_FRIEND_TITLE.format({name:t.toString()}),confirmText:A.default.Messages.REMOVE_FRIEND,cancelText:A.default.Messages.CANCEL,onConfirm:r},e),D(v.Text,{variant:"text-md/normal"},void 0,A.default.Messages.REMOVE_FRIEND_BODY.format({name:t.toString()})))}))},color:I.MenuItemColor.DANGER}))}L.displayName="ActionsPopout";var k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}(t,e)
;function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).peopleListItemRef=a.createRef();t.state={isActiveRow:!1};t.handleOpenPrivateChannel=function(e){var n=t.props.user;e.stopPropagation();var r=o.default.find(c.default.getMutablePrivateChannels(),(function(e){return e.type===b.ChannelTypes.DM&&e.getRecipientId()===n.id}));null!=r?(0,f.transitionTo)(b.Routes.CHANNEL(b.ME,r.id)):u.default.openPrivateChannel(n.id)};t.handleOpenActionsMenu=function(e){var n=t.props.user;(0,l.openContextMenu)(e,(function(e){return a.createElement(L,w({},e,{user:n}))}),{onClose:function(){t.setState({isActiveRow:!1})}});t.setState({isActiveRow:!0})};return t}var n=t.prototype;n.componentWillLeave=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillLeave(e)};n.componentWillEnter=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillEnter(e)}
;n.render=function(){var e=this,t=this.props,n=t.user,r=t.isFocused,o=t.activities,i=t.applicationStream,u=t.status,s=t.isMobile,d=this.state.isActiveRow;return a.createElement(E.default,{ref:this.peopleListItemRef,isFocused:r,isActive:d,user:n,onOtherHover:function(){return d?null:(0,l.closeContextMenu)()},onClick:this.handleOpenPrivateChannel},(function(t){return D("div",{className:C.default.listItemContents},void 0,D(O.default,{user:n,status:u,isMobile:s,subText:D(S.default,{hovered:t,activities:o,applicationStream:i,status:u}),hovered:t}),D("div",{className:C.default.actions},void 0,D(g.default,{icon:y.default,tooltip:A.default.Messages.SEND_DM,onClick:e.handleOpenPrivateChannel,shouldHighlight:t}),D(g.default,{icon:m.default,tooltip:A.default.Messages.MORE,onClick:e.handleOpenActionsMenu,shouldHighlight:t})))}))};return t}(a.PureComponent);k.displayName="FriendRow";var j=k;t.default=j},767695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=t.FriendsSearchStatus=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=v(n(74854)),u=v(n(536211)),l=v(n(871778)),s=v(n(956117)),d=v(n(737705)),f=n(770348),c=v(n(247001)),p=v(n(303649));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.FriendsSearchStatus=a;!function(e){e.SECTION_NO_RESULTS="SECTION_NO_RESULTS"}(a||(t.FriendsSearchStatus=a={}));var h=Object.freeze({SECTION_ALL:{lightSrc:n(607603),darkSrc:n(74700),width:376,height:162,renderContent:function(e){return _(o.Fragment,{},void 0,_(d.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_ALL}),_(s.default,{className:p.default.button,onClick:e},void 0,c.default.Messages.ADD_FRIEND))}},SECTION_ONLINE:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return _(d.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_ONLINE})}},SECTION_BLOCKED:{lightSrc:n(399898),darkSrc:n(492623),width:433,
height:232,renderContent:function(){return _(d.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_BLOCKED})}},SECTION_PENDING:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return _(d.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_PENDING})}},SECTION_SUGGESTIONS:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return _(d.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_SUGGESTIONS})}},SECTION_NO_RESULTS:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return _(d.default.Text,{note:c.default.Messages.FRIEND_REQUEST_NO_RESULTS_FOUND})}}});var g=function(e){var t=e.theme,n=c.default.Messages.FRIENDS_EMPTY_STATE_ALL,r=h.SECTION_ALL;return _(o.Fragment,{},void 0,_(d.default,{theme:t},void 0,_(d.default.Image,{width:r.width,height:r.height,lightSrc:r.lightSrc,darkSrc:r.darkSrc}),_(d.default.Text,{note:n})))};g.displayName="AddFriendEmpty";var E=function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={opacity:new i.default.Value(1)};t.componentWillEnter=function(e){t.state.opacity.setValue(0);i.default.timing(t.state.opacity,{toValue:1,duration:250}).start(e)};t.componentWillLeave=function(e){i.default.timing(t.state.opacity,{toValue:0,duration:250}).start(e)};return t}t.prototype.render=function(){var e=this.props,t=e.type,n=e.onClick,r=e.theme,o={opacity:this.state.opacity},u=function(e){switch(e){case f.FriendsSections.ADD_FRIEND:case f.FriendsSections.ALL:return h.SECTION_ALL;case f.FriendsSections.ONLINE:return h.SECTION_ONLINE;case f.FriendsSections.PENDING:return h.SECTION_PENDING;case f.FriendsSections.SUGGESTIONS:return h.SECTION_SUGGESTIONS;case f.FriendsSections.BLOCKED:return h.SECTION_BLOCKED;case a.SECTION_NO_RESULTS:
return h.SECTION_NO_RESULTS;default:throw new Error("FriendsEmptyState: Invalid empty state")}}(t);return t===f.FriendsSections.ADD_FRIEND?_(i.default.div,{className:p.default.friendsEmpty,style:o},void 0,_(g,{theme:r})):_(i.default.div,{className:p.default.friendsEmpty,style:o},void 0,_(d.default,{theme:r},void 0,_(d.default.Image,{width:u.width,height:u.height,lightSrc:u.lightSrc,darkSrc:u.darkSrc}),u.renderContent(n)))};return t}(o.PureComponent);E.displayName="FriendsEmptyState";var S=u.default.connectStores([l.default],(function(){return{theme:l.default.theme}}),{forwardRef:!0})(E);t.default=S},539417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(237923)),i=n(910992),u=m(n(992193)),l=m(n(259530)),s=n(308920),d=m(n(334200)),f=m(n(906507)),c=m(n(739148)),p=n(770348),v=m(n(247001)),y=m(n(679396));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function g(e){var t=e.user,n=e.type,r=e.status,m=e.isFocused,_=a.useContext(s.AnalyticsContext),g=function(e){e.stopPropagation();o.default.removeRelationship(t.id,{location:"Friends"})},E=function(e){e.stopPropagation();o.default.addRelationship({userId:t.id,context:{location:"Friends"}})},S=r===p.StatusTypes.OFFLINE?p.StatusTypes.UNKNOWN:r,O=n===p.RelationshipTypes.PENDING_INCOMING?v.default.Messages.INCOMING_FRIEND_REQUEST:v.default.Messages.OUTGOING_FRIEND_REQUEST;return h(f.default,{isFocused:m,user:t,onClick:function(){return(0,i.openUserProfileModal)({userId:t.id,analyticsLocation:_.location})}},void 0,(function(e){var r=n===p.RelationshipTypes.PENDING_INCOMING?a.createElement(a.Fragment,null,h(d.default,{icon:u.default,actionType:d.default.ActionTypes.ACCEPT,tooltip:v.default.Messages.FRIEND_REQUEST_ACCEPT,onClick:E,shouldHighlight:e}),h(d.default,{icon:l.default,actionType:d.default.ActionTypes.DENY,tooltip:v.default.Messages.FRIEND_REQUEST_IGNORE,onClick:g,shouldHighlight:e
})):h(d.default,{icon:l.default,actionType:d.default.ActionTypes.DENY,tooltip:v.default.Messages.FRIEND_REQUEST_CANCEL,onClick:g,shouldHighlight:e});return h("div",{className:y.default.listItemContents},void 0,h(c.default,{user:t,hovered:e,status:S,subText:O,className:y.default.userInfo}),h("div",{className:y.default.actions},void 0,r))}))}g.displayName="PendingRow"},424359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=A(n(667294)),o=I(n(294184)),i=n(536211),u=I(n(99694)),l=I(n(284382)),s=I(n(235879)),d=I(n(290629)),f=I(n(106605)),c=I(n(949898)),p=I(n(665759)),v=I(n(89411)),y=I(n(724603)),m=A(n(767695)),_=I(n(539417)),h=I(n(662632)),g=I(n(634634)),E=I(n(67993)),S=n(770348),O=I(n(247001)),b=I(n(65234));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return M.apply(this,arguments)}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){var t=e.sectionFilter,n=(0,i.useStateFromStoresObject)([f.default],(function(){return f.default.getState()})),r=n.rows,I=n.section,T=(0,i.useStateFromStores)([c.default],(function(){return c.default.isFocused()})),A=(0,i.useStateFromStores)([d.default],(function(){return d.default.getRelationshipCount()})),P=N(a.useState((function(){for(var e={},t=0,n=Object.values(S.FriendsSections);t<n.length;t++){e[n[t]]=""}return e})),2),R=P[0],w=P[1];var D=a.useCallback((function(e){var n;w(M({},R,((n={})[t]=e,n)))}),[R,t]),L=a.useCallback((function(){var e;w(M({},R,((e={})[t]="",e)))}),[R,t]),k=r.filter(t,R[t]);if(0===k.length&&""===R[t])return C("div",{className:b.default.emptyStateContainer},void 0,C(m.default,{type:t,onClick:function(){u.default.setSection(S.FriendsSections.ADD_FRIEND)}},I));var j=[k],U=0===k.length&&""!==R[t];return C(l.default,{section:S.AnalyticsSections.FRIENDS_LIST},void 0,C(p.default,{className:(0,
o.default)(b.default.searchBar,U?b.default.searchEmptyState:null),query:R[t],onChange:D,onClear:L,size:p.default.Sizes.MEDIUM}),C("div",{className:b.default.SectionTitle},void 0,C(g.default,{title:function(){var e=k.length;switch(t){case S.FriendsSections.ONLINE:return O.default.Messages.FRIENDS_ONLINE_HEADER.format({online:e.toString()});case S.FriendsSections.PENDING:return O.default.Messages.FRIENDS_PENDING_HEADER.format({count:e.toString()});case S.FriendsSections.SUGGESTIONS:return O.default.Messages.FRIENDS_FRIEND_SUGGESTIONS_HEADER.format({count:e.toString()});case S.FriendsSections.BLOCKED:return O.default.Messages.FRIENDS_BLOCKED_HEADER.format({count:e.toString()});default:return O.default.Messages.FRIENDS_ALL_HEADER.format({count:e.toString()})}}()})),U?C("div",{className:b.default.emptyStateContainer},void 0,C(m.default,{type:m.FriendsSearchStatus.SECTION_NO_RESULTS},I)):C(h.default,{relationshipCount:A,statusSections:j,renderRow:function(e){switch(t){
case S.FriendsSections.BLOCKED:return a.createElement(v.default,M({},e,{isFocused:T}));case S.FriendsSections.PENDING:return a.createElement(_.default,M({},e,{isFocused:T}));case S.FriendsSections.SUGGESTIONS:return a.createElement(E.default,M({},e,{isFocused:T}));case S.FriendsSections.ONLINE:case S.FriendsSections.ALL:default:return a.createElement(y.default,M({},e,{isFocused:T}))}},searchQuery:R[t],useReducedMotion:s.default.useReducedMotion}))}R.displayName="PeopleList";var w=R;t.default=w},906507:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(74854)),u=n(798628),l=n(378158),s=c(n(314234)),d=n(61045),f=c(n(833151));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return y.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).state={height:new i.default.Value(d.PEOPLE_LIST_ITEM_HEIGHT),opacity:new i.default.Value(1),hovered:!1,isContextMenuActive:!1};t.handleMouseEnter=function(){var e=t.props,n=e.isFocused,r=e.isActive,a=e.onOtherHover,o=t.state.isContextMenuActive;t.setState({hovered:n});!n||r||o||null==a||a()};t.handleMouseLeave=function(){
t.setState({hovered:!1})};t.handleContextMenu=function(e,r){t.setState({isContextMenuActive:!0});(0,l.openContextMenuLazy)(e,_(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,y({},e,{user:r}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:function(){t.setState({isContextMenuActive:!1})}})};return t}var r=t.prototype;r.componentWillLeave=function(e){i.default.parallel([i.default.timing(this.state.opacity,{toValue:0,duration:200}),i.default.timing(this.state.height,{toValue:0,duration:200})]).start(e)};r.componentWillEnter=function(e){this.state.opacity.setValue(0);this.state.height.setValue(0);i.default.parallel([i.default.timing(this.state.opacity,{toValue:1,duration:200}),i.default.timing(this.state.height,{
toValue:d.PEOPLE_LIST_ITEM_HEIGHT,duration:200})]).start(e)};r.render=function(){var e=this,t=this.state,n=t.height,r=t.opacity,l=t.hovered,d=t.isContextMenuActive,c=this.props,p=c.children,m=c.user,_=c.onClick,h=c.isActive;return v(u.ListNavigatorItem,{id:m.id},void 0,(function(t){var u;return v(s.default,{offset:{left:-8,right:-8}},void 0,a.createElement(i.default.div,y({className:(0,o.default)(f.default.peopleListItem,(u={},u[f.default.active]=h||d,u)),onContextMenu:function(t){return e.handleContextMenu(t,m)},onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,onClick:null!=_?_:void 0,style:{height:n,opacity:r}},t),p(l||h||d)))}))};return t}(a.PureComponent);g.displayName="PeopleListItem";var E=g;t.default=E},662632:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.relationshipCount,n=e.statusSections,r=e.renderRow,u=e.searchQuery,l=e.useReducedMotion;return t>=i.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD?s(a.default,{
statusSections:n,renderRow:r,searchQuery:u}):s(o.default,{statusSections:n,renderRow:r,searchQuery:u,useReducedMotion:l})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(390389)),o=u(n(104889)),i=n(61045);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},390389:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=v(n(667294)),o=v(n(798628)),i=n(536211),u=c(n(235879)),l=n(521358),s=n(61045),d=c(n(65234)),f=["ref"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e){var t=e.statusSections,n=e.renderRow,r=e.searchQuery,c=function(e){return 0===t[e].length?0:s.STATUS_HEADER_HEIGHT+16},p=function(e){var r=e.section,a=e.row,o=t[r];if(null==o||null==a)return null;var i=o[a];return null==i?null:n(i)},v=(0,
i.useStateFromStores)([u.default],(function(){return u.default.keyboardModeEnabled})),_=a.useRef(null),h=a.useCallback((function(){return new Promise((function(e){var t=_.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),g=a.useCallback((function(){return new Promise((function(e){var t=_.current;if(null==t)return e();t.scrollToBottom({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),E=a.useCallback((function(e){var t=document.querySelector(e),n=_.current;null!=t&&null!=n&&n.scrollIntoViewNode({node:t,padding:8,callback:function(){return null==t?void 0:t.focus()}})}),[]),S=(0,o.default)({id:"people-list",isEnabled:v,scrollToStart:h,scrollToEnd:g,setFocus:E});return y(o.ListNavigatorProvider,{navigator:S},void 0,y(o.ListNavigatorContainer,{},void 0,(function(e){var n=e.ref,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r]
;t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f);return a.createElement(l.ListAuto,m({ref:function(e){var t;_.current=e;n.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null},sectionHeight:c,renderRow:p,rowHeight:s.PEOPLE_LIST_ITEM_HEIGHT,sections:t.map((function(e){return""!==r&&0===e.length?e.length+1:e.length})),className:d.default.peopleList},o))})))}_.displayName="PeopleListSectionedLazy";var h=_;t.default=h},104889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=v(n(667294)),o=v(n(798628)),i=n(536211),u=c(n(550024)),l=c(n(235879)),s=n(582945),d=c(n(65234)),f=["ref"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e){var t=e.statusSections,n=e.renderRow,r=e.searchQuery,c=e.useReducedMotion,p=(0,i.useStateFromStores)([l.default],(function(){return l.default.keyboardModeEnabled})),v=(0,o.default)({id:"people",isEnabled:p,scrollToStart:function(){return h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},scrollToEnd:function(){return h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}),_=t.map((function(e,t){return c||""!==r?m("div",{},t,e.map(n)):m(u.default,{transitionAppear:!1,component:"div"},t,e.map(n))}));return m(o.ListNavigatorProvider,{
navigator:v},void 0,m(o.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f);return a.createElement(s.ScrollerAuto,y({ref:t,className:d.default.peopleList},n),_)})))}g.displayName="PeopleListSectionedNonLazy";var E=g;t.default=E},547403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=C(n(667294)),o=n(370405),i=n(536211),u=C(n(588136)),l=T(n(99694)),s=T(n(677520)),d=T(n(463024)),f=T(n(992634)),c=T(n(352636)),p=n(887299),v=T(n(871778)),y=T(n(106605)),m=C(n(186465)),_=T(n(652047)),h=n(598671),g=n(518802),E=T(n(518319)),S=T(n(424359)),O=n(770348),b=T(n(247001)),I=T(n(342894));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=M(d.default.Divider,{});function P(){return M("div",{className:I.default.inviteToolbar},void 0,M(f.default,{tooltip:b.default.Messages.NEW_GROUP_DM}),N)}
P.displayName="HeaderToolbar";var R=M(o.Helmet,{title:"Discord"}),w=M(P,{}),D=M(d.default.Icon,{icon:_.default,"aria-hidden":!0}),L=M(d.default.Divider,{}),k=M(E.default,{}),j=M(c.default,{});function U(e){var t=e.initialSection;a.useEffect((function(){u.setHomeLink(O.Routes.FRIENDS);(0,p.trackAppUIViewed)("friends")}));a.useEffect((function(){null!=t&&l.default.setInitialSection(t)}),[t]);var n=(0,i.useStateFromStores)([v.default],(function(){return v.default.theme})),r=(0,i.useStateFromStoresObject)([y.default],(function(){return y.default.getState()})),o=r.section,f=r.pendingCount,c=(0,i.useStateFromStoresObject)([s.default],(function(){return s.default.getSuggestionCount()}));return M("div",{className:I.default.container},void 0,R,M(d.default,{className:(0,g.getThemeClass)(n),toolbar:w},void 0,D,M(d.default.Title,{},void 0,b.default.Messages.FRIENDS),L,M(m.default,{"aria-label":b.default.Messages.FRIENDS,selectedItem:o,type:m.Types.TOP_PILL,onItemSelect:function(e){
l.default.setSection(e)},className:I.default.tabBar},void 0,M(m.Item,{id:O.FriendsSections.ONLINE,className:I.default.item},void 0,b.default.Messages.FRIENDS_SECTION_ONLINE),M(m.Item,{id:O.FriendsSections.ALL,className:I.default.item},void 0,b.default.Messages.FRIENDS_SECTION_ALL),M(m.Item,{id:O.FriendsSections.PENDING,className:I.default.item,"aria-label":b.default.Messages.FRIENDS_SECTION_PENDING},void 0,b.default.Messages.FRIENDS_SECTION_PENDING,f>0?M(h.NumberBadge,{count:f,className:I.default.badge,style:{paddingRight:0}}):null),c>0?M(m.Item,{id:O.FriendsSections.SUGGESTIONS,className:I.default.item,"aria-label":b.default.Messages.FRIENDS_SECTION_SUGGESTIONS},void 0,b.default.Messages.FRIENDS_SECTION_SUGGESTIONS,M(h.NumberBadge,{count:c,className:I.default.badge,style:{paddingRight:0}})):null,M(m.Item,{id:O.FriendsSections.BLOCKED,className:I.default.item},void 0,b.default.Messages.BLOCKED),M(m.Item,{"aria-label":b.default.Messages.FRIENDS_SECTION_ADD_FRIEND,
className:I.default.item,color:O.Colors.STATUS_GREEN_600,id:O.FriendsSections.ADD_FRIEND},void 0,M("span",{"aria-hidden":"true"},void 0,b.default.Messages.FRIENDS_SECTION_ADD_FRIEND)))),M("div",{className:I.default.tabBody},void 0,M(m.Panel,{id:o,className:I.default.peopleColumn},void 0,o===O.FriendsSections.ADD_FRIEND?k:M(S.default,{sectionFilter:o})),M("div",{className:I.default.nowPlayingColumn},void 0,j)))}U.displayName="PeoplePage";var G=U;t.default=G},634634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=i(n(325908)),o=i(n(858162));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.title;return l(a.default,{className:o.default.title},void 0,t)}s.displayName="SectionTitle"},666561:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(433473)),o=n(873838),i=u(n(78080));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){
var t=e.hovered,n=e.activities,r=e.applicationStream,u=e.status;return n.length>0?s(a.default,{className:i.default.activity,textClassName:i.default.text,emojiClassName:i.default.customStatusEmoji,activities:n,applicationStream:r,animate:t}):s("div",{className:i.default.text},void 0,(0,o.humanizeStatus)(u))};t.default=d},67993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=_(n(237923)),i=_(n(651473)),u=n(910992),l=_(n(992193)),s=_(n(259530)),d=n(308920),f=_(n(334200)),c=_(n(906507)),p=_(n(739148)),v=n(770348),y=_(n(247001)),m=_(n(380625));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.user,n=e.nickname,r=e.status,_=e.isFocused,h=a.useContext(d.AnalyticsContext),E=function(e){null==e||e.stopPropagation();o.default.addRelationship({userId:t.id,context:{location:"Friends"
},type:void 0,friendToken:void 0,fromFriendSuggestion:!0})},S=function(e){null==e||e.stopPropagation();i.default.ignore(t.id)},O=r===v.StatusTypes.OFFLINE?v.StatusTypes.UNKNOWN:r;return g(c.default,{isFocused:_,user:t,onClick:function(){return(0,u.openUserProfileModal)({userId:t.id,analyticsLocation:h.location})}},void 0,(function(e){var r=a.createElement(a.Fragment,null,g(f.default,{icon:l.default,actionType:f.default.ActionTypes.ACCEPT,tooltip:y.default.Messages.FRIEND_REQUEST_ACCEPT,onClick:E,shouldHighlight:e}),g(f.default,{icon:s.default,actionType:f.default.ActionTypes.DENY,tooltip:y.default.Messages.FRIEND_REQUEST_IGNORE,onClick:S,shouldHighlight:e}));return g("div",{className:m.default.listItemContents},void 0,g(p.default,{user:t,hovered:e,status:O,subText:n,className:m.default.userInfo}),g("div",{className:m.default.actions},void 0,r))}))}E.displayName="SuggestionRow"},739148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(294184)),o=n(536211),i=d(n(252149)),u=d(n(435160)),l=d(n(290629)),s=d(n(107793));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u
}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t,n=e.user,r=e.hovered,d=e.subText,f=e.status,p=e.isMobile,v=e.className,y=(0,o.useStateFromStores)([l.default],(function(){return l.default.getNickname(n.id)}));return c("div",{className:(0,a.default)(s.default.userInfo,v,(t={},t[s.default.hovered]=r,t))},void 0,c(u.default,{user:n,className:s.default.avatar,animate:r,status:f,isMobile:p}),c("div",{className:s.default.text},void 0,c(i.default,{nick:y,user:n,className:s.default.discordTag,usernameClass:s.default.username,discriminatorClass:s.default.discriminator,botClass:s.default.botTag}),c("div",{className:s.default.subtext},void 0,d)))}p.displayName="UserInfo";var v=p;t.default=v},864062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=s(n(536211)),i=s(n(636602)),u=n(914392),l=n(770348);function s(e){
return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=(0,u.getDefaultCountryCode)();function c(e){var t,n=e.countryCode;null!=n&&(f=null!==(t=(0,u.getCountryCodeByAlpha2)(n))&&void 0!==t?t:(0,u.getDefaultCountryCode)())}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(a=e.selectedCountryCode)};n.getUserAgnosticState=function(){return{selectedCountryCode:a}};n.getCountryCode=function(){return null!=a?a:f};n.__getLocalVars=function(){return{selectedCountryCode:a,defaultCountryCode:f}};return t}(o.default.DeviceSettingsStore);p.displayName="PhoneStore";p.persistKey="PhoneStore";var v=new p(i.default,((r={})[l.ActionTypes.PHONE_SET_COUNTRY_CODE]=function(e){var t=e.countryCode;a=t},r[l.ActionTypes.CONNECTION_OPEN]=c,
r[l.ActionTypes.SET_LOCATION_METADATA]=c,r));t.default=v},745203:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showAchievementToast=function(e,t){var n=(0,u.getPoggermodeAchievementData)(e);if(null==n)return;(0,i.showToast)((0,o.createToast)(f.default.Messages.POGGERMODE_ACHIEVEMENTS,o.ToastType.CUSTOM,{position:d.ToastPosition.BOTTOM,component:v(l.default,{achievement:n,unlocked:t}),duration:6e3}))};t.unlockAchievement=function(e){a.default.dirtyDispatch({type:s.ActionTypes.POGGERMODE_ACHIEVEMENT_UNLOCK,achievementId:e})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
}(n(667294));var r,a=c(n(636602)),o=n(767019),i=n(143586),u=n(114592),l=c(n(817793)),s=n(770348),d=n(658616),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},358091:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(536211)),o=f(n(636602)),i=f(n(423046)),u=n(745203),l=f(n(54147)),s=f(n(4590)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){
c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v={unlockedAchievements:{}},y=p({},v);var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(i.default,s.default);var t=null!=e?e:p({},v);for(var n in t)y[n]=t[n]};n.getState=function(){return y};n.getAllUnlockedAchievements=function(){return y.unlockedAchievements};n.getUnlocked=function(e){var t;return null!==(t=y.unlockedAchievements[e])&&void 0!==t?t:null};n.__getLocalVars=function(){return{ACHIEVEMENT_UNLOCK_TOAST_DELAY_MS:2e3,initialState:v,state:y}};return t}(a.default.PersistedStore);m.displayName="PoggermodeAchievementStore"
;m.persistKey="PoggermodeAchievementStore";var _=new m(o.default,((r={})[d.ActionTypes.POGGERMODE_ACHIEVEMENT_UNLOCK]=function(e){var t=e.achievementId;if(!l.default.enabled)return!1;!function(e){var t;if(null!=y.unlockedAchievements[e])return!1;y.unlockedAchievements=p({},y.unlockedAchievements,((t={})[e]={achievementId:e,dateUnlocked:Date.now()},t));setTimeout((function(){(0,u.showAchievementToast)(e,!0)}),2e3)}(t)},r));t.default=_},114592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getAchievementStyles=t.PoggermodeAchievementRarity=t.PoggermodeAchievementId=t.ACHIEVEMENT_LIST=void 0;t.getPoggermodeAchievementData=function(e){return d[e]};var r,a,o,i,u=n(117629),l=n(478036),s=(r=n(247001))&&r.__esModule?r:{default:r};t.PoggermodeAchievementId=o;!function(e){e[e.ENABLE_POGGERMODE=0]="ENABLE_POGGERMODE";e[e.DISABLE_POGGERMODE=1]="DISABLE_POGGERMODE";e[e.PING_SOMEONE=2]="PING_SOMEONE";e[e.PING_ME=3]="PING_ME";e[e.COMBO_MULTI_LEVEL_1=4]="COMBO_MULTI_LEVEL_1"
;e[e.COMBO_MULTI_LEVEL_2=5]="COMBO_MULTI_LEVEL_2";e[e.COMBO_MULTI_LEVEL_3=6]="COMBO_MULTI_LEVEL_3";e[e.COMBO_MULTI_LEVEL_4=7]="COMBO_MULTI_LEVEL_4";e[e.TOTAL_SCORE_LEVEL_1=8]="TOTAL_SCORE_LEVEL_1";e[e.TOTAL_SCORE_LEVEL_2=9]="TOTAL_SCORE_LEVEL_2";e[e.TOTAL_SCORE_LEVEL_3=10]="TOTAL_SCORE_LEVEL_3";e[e.TOTAL_SCORE_LEVEL_4=11]="TOTAL_SCORE_LEVEL_4";e[e.TOTAL_SCORE_LEVEL_5=12]="TOTAL_SCORE_LEVEL_5";e[e.VISITOR_100=13]="VISITOR_100";e[e.CUSTOMIZE_CONFETTI=14]="CUSTOMIZE_CONFETTI";e[e.MORE=15]="MORE";e[e.COMBO_VALUE_LEVEL_1=16]="COMBO_VALUE_LEVEL_1";e[e.COMBO_VALUE_LEVEL_2=17]="COMBO_VALUE_LEVEL_2";e[e.COMBO_VALUE_LEVEL_3=18]="COMBO_VALUE_LEVEL_3";e[e.COMBO_VALUE_LEVEL_4=19]="COMBO_VALUE_LEVEL_4"}(o||(t.PoggermodeAchievementId=o={}));t.PoggermodeAchievementRarity=i;!function(e){e[e.COMMON=0]="COMMON";e[e.UNCOMMON=1]="UNCOMMON";e[e.RARE=2]="RARE";e[e.EPIC=3]="EPIC";e[e.LEGENDARY=4]="LEGENDARY"}(i||(t.PoggermodeAchievementRarity=i={}));var d=((a={})[o.ENABLE_POGGERMODE]={id:o.ENABLE_POGGERMODE,
name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_ENABLE_POGGERMODE_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_ENABLE_POGGERMODE_DESCRIPTION},rarity:i.COMMON,hideDescriptionUntilUnlock:!1},a[o.DISABLE_POGGERMODE]={id:o.DISABLE_POGGERMODE,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_DISABLE_POGGERMODE_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_DISABLE_POGGERMODE_DESCRIPTION},rarity:i.UNCOMMON,hideDescriptionUntilUnlock:!1},a[o.VISITOR_100]={id:o.VISITOR_100,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_VISITOR_100_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_VISITOR_100_DESCRIPTION},rarity:i.LEGENDARY,hideDescriptionUntilUnlock:!0,onAction:function(){window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ","_blank")}},a[o.CUSTOMIZE_CONFETTI]={id:o.CUSTOMIZE_CONFETTI,name:function(){
return s.default.Messages.POGGERMODE_ACHIEVEMENT_CUSTOMIZE_CONFETTI_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_CUSTOMIZE_CONFETTI_DESCRIPTION},rarity:i.COMMON,hideDescriptionUntilUnlock:!1},a[o.MORE]={id:o.MORE,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_MORE_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_MORE_DESCRIPTION},rarity:i.UNCOMMON,hideDescriptionUntilUnlock:!1},a[o.PING_SOMEONE]={id:o.PING_SOMEONE,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_PING_SOMEONE_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_PING_SOMEONE_DESCRIPTION},rarity:i.COMMON,hideDescriptionUntilUnlock:!1},a[o.PING_ME]={id:o.PING_ME,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_PING_ME_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_PING_ME_DESCRIPTION},rarity:i.UNCOMMON,hideDescriptionUntilUnlock:!1},
a[o.COMBO_MULTI_LEVEL_1]={id:o.COMBO_MULTI_LEVEL_1,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_1_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_1_DESCRIPTION},rarity:i.COMMON,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=2}},a[o.COMBO_MULTI_LEVEL_2]={id:o.COMBO_MULTI_LEVEL_2,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_2_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_2_DESCRIPTION},rarity:i.UNCOMMON,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=4}},a[o.COMBO_MULTI_LEVEL_3]={id:o.COMBO_MULTI_LEVEL_3,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_3_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_3_DESCRIPTION},rarity:i.RARE,hideDescriptionUntilUnlock:!1,
checkUnlock:function(e){return e.multiplier>=5}},a[o.COMBO_MULTI_LEVEL_4]={id:o.COMBO_MULTI_LEVEL_4,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_4_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_4_DESCRIPTION},rarity:i.RARE,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=7}},a[o.TOTAL_SCORE_LEVEL_1]={id:o.TOTAL_SCORE_LEVEL_1,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_1_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_1_DESCRIPTION},rarity:i.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 430===(0,u.getComboScore)(e)}},a[o.TOTAL_SCORE_LEVEL_2]={id:o.TOTAL_SCORE_LEVEL_2,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_2_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_2_DESCRIPTION},
rarity:i.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 555===(0,u.getComboScore)(e)}},a[o.TOTAL_SCORE_LEVEL_3]={id:o.TOTAL_SCORE_LEVEL_3,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_3_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_3_DESCRIPTION},rarity:i.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 898===(0,u.getComboScore)(e)}},a[o.TOTAL_SCORE_LEVEL_4]={id:o.TOTAL_SCORE_LEVEL_4,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_4_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_4_DESCRIPTION},rarity:i.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 1337===(0,u.getComboScore)(e)}},a[o.TOTAL_SCORE_LEVEL_5]={id:o.TOTAL_SCORE_LEVEL_5,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_5_NAME},description:function(){
return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_5_DESCRIPTION},rarity:i.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 2048===(0,u.getComboScore)(e)}},a[o.COMBO_VALUE_LEVEL_1]={id:o.COMBO_VALUE_LEVEL_1,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_1_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_1_DESCRIPTION},rarity:i.RARE,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 64===e.value}},a[o.COMBO_VALUE_LEVEL_2]={id:o.COMBO_VALUE_LEVEL_2,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_2_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_2_DESCRIPTION},rarity:i.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 88===e.value}},a[o.COMBO_VALUE_LEVEL_3]={id:o.COMBO_VALUE_LEVEL_3,name:function(){
return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_3_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_3_DESCRIPTION},rarity:i.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 99===e.value}},a[o.COMBO_VALUE_LEVEL_4]={id:o.COMBO_VALUE_LEVEL_4,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_4_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_4_DESCRIPTION},rarity:i.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 113===e.value}},a);t.ACHIEVEMENT_LIST=d;t.getAchievementStyles=function(e){switch(e){case i.COMMON:return{color:"#1ABC9C"};case i.UNCOMMON:return{color:"#3498DB"};case i.RARE:return{color:"#9B59B6"};case i.EPIC:return{color:"#E91E63"};case i.LEGENDARY:return{color:"#E67E22"}}return{color:l.Colors.BRAND_400}}},516869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r=v(n(636602)),a=v(n(177230)),o=v(n(423046)),i=n(745203),u=v(n(358091)),l=n(114592),s=n(962119),d=v(n(54147)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(4590)),c=n(770348);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var m=new Set,_=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e)
;function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleSettingsUpdate=function(e){var t=e.settings;t.enabled?(0,i.unlockAchievement)(l.PoggermodeAchievementId.ENABLE_POGGERMODE):!1===t.enabled&&(0,i.unlockAchievement)(l.PoggermodeAchievementId.DISABLE_POGGERMODE);Object.keys(t).some((function(e){return e.startsWith("confetti")}))&&(0,i.unlockAchievement)(l.PoggermodeAchievementId.CUSTOMIZE_CONFETTI)};t.handleMessageCreate=function(e){var t=e.channelId,n=e.message,r=n.author,a=n.nonce,c=n.mentions;if(!d.default.enabled||!(0,s.poggermodeEnabled)())return!1;var p=o.default.getId();null!=(null==c?void 0:c.find((function(e){return e.id===p})))?(0,i.unlockAchievement)(l.PoggermodeAchievementId.PING_ME):c.length>0&&(null==r?void 0:r.id)===p&&(0,i.unlockAchievement)(l.PoggermodeAchievementId.PING_SOMEONE);if(!(0,f.shouldTrackMessage)(r.id,p,a,m))return!1
;var v=f.default.getMostRecentMessageCombo(t),y=(null!=v?v:{}).combo;if(null==y)return!1;Object.values(l.PoggermodeAchievementId).forEach((function(e){var t=e;if(null==u.default.getUnlocked(t)){var n=(0,l.getPoggermodeAchievementData)(t),r=null==n?void 0:n.checkUnlock;null!=r&&!1!==r(y)&&(0,i.unlockAchievement)(t)}}))};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(c.ActionTypes.MESSAGE_CREATE,this.handleMessageCreate);r.default.subscribe(c.ActionTypes.POGGERMODE_SETTINGS_UPDATE,this.handleSettingsUpdate)};n._terminate=function(){r.default.unsubscribe(c.ActionTypes.MESSAGE_CREATE,this.handleMessageCreate);r.default.unsubscribe(c.ActionTypes.POGGERMODE_SETTINGS_UPDATE,this.handleSettingsUpdate)};n.__getLocalVars=function(){return{trackedMessageNonces:m}};return t}(a.default));t.default=_},524439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=y(n(636602)),a=y(n(177230)),o=y(n(796608)),i=y(n(423046)),u=y(n(893160)),l=y(n(211136)),s=y(n(946447)),d=n(179379),f=n(962119),c=y(n(54147)),p=y(n(4590)),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=(0,d.createSoundForPack)("poggermode_applause",o.default.getSoundpack()),E=!1,S=!1,O=[],b=null,I=function(){if(!E){g.loop();E=!0}},T=function(){g.stop();E=!1},A=function(){if(!(0,f.poggermodeEnabled)())return!1;var e=c.default.enabled,t=c.default.comboSoundsEnabled;return!(!e||!t)&&null!=l.default.getChannelId()},C=function(){if(0!==O.length&&A()&&!S){S=!0;var e=_(O[O.length-1],2),t=e[0],n=e[1];(0,d.playSound)(t,n);b=setTimeout(M,1e3)}},M=function(){O.pop();S=!1;C()},N=function(e,t){void 0===t&&(t=1);var n=u.default.isConnected()?.1:1;O.push([e,t*n]);C()},P=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){p.default.addChangeListener(this.startAudio);r.default.subscribe(v.ActionTypes.RTC_CONNECTION_STATE,this.setVolume);r.default.subscribe(v.ActionTypes.TYPING_STOP,this.stopAudio);r.default.subscribe(v.ActionTypes.TYPING_STOP_LOCAL,this.stopAudio);r.default.subscribe(v.ActionTypes.CHANNEL_SELECT,this.stopAudio);r.default.subscribe(v.ActionTypes.POGGERMODE_SETTINGS_UPDATE,this.stopAudio)};n._terminate=function(){p.default.removeChangeListener(this.startAudio);r.default.unsubscribe(v.ActionTypes.RTC_CONNECTION_STATE,this.setVolume);r.default.unsubscribe(v.ActionTypes.TYPING_STOP,this.stopAudio);r.default.unsubscribe(v.ActionTypes.TYPING_STOP_LOCAL,this.stopAudio);r.default.unsubscribe(v.ActionTypes.CHANNEL_SELECT,this.stopAudio);r.default.unsubscribe(v.ActionTypes.POGGERMODE_SETTINGS_UPDATE,this.stopAudio);clearTimeout(b)
};n.setVolume=function(e){e.state===v.RTCConnectionStates.RTC_CONNECTED?g.volume=.1:g.volume=1};n.handleTypingStop=function(e){var t=e.userId;i.default.getId()===t&&T()};n.stopAudio=function(){T()};n.startAudio=function(){var e;if(A()){var t=l.default.getChannelId();if(null!=t){var n=i.default.getId(),r=s.default.isTyping(t,n),a=p.default.getUserCombo(n,t),o=null!==(e=null==a?void 0:a.multiplier)&&void 0!==e?e:1;r&&o>=7?I():T()}}};n.playAchievementUnlockSound=function(){A()&&N("poggermode_achievement_unlock")};n.__getLocalVars=function(){return{applause:g,COMBO_SOUND_EFFECT_MULTIPLIER_THRESHOLD:7,REGULAR_VOLUME:1,REDUCED_VOLUME:.1,SOUND_DEQUEUE_TIMEOUT_MS:1e3,isLooping:E,isPlaying:S,soundQueue:O,soundTimeoutId:b,loopApplause:I,stopApplause:T,canPlaySound:A,playSoundFromQueue:C,queueNextSound:M,enqueueSound:N}};return t}(a.default));t.default=P},181240:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=c(n(294184)),o=c(n(730381)),i=c(n(16941)),u=n(645758),l=n(35033),s=n(114592),d=c(n(824701)),f=c(n(974848));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.achievementId,n=e.dateUnlocked,r=(0,s.getPoggermodeAchievementData)(t);if(null==r)return null;var c=null!=n,p=r.name,y=r.description,m=r.hideDescriptionUntilUnlock,_=r.onAction,h=m&&!c,g=c?"header-primary":"text-muted",E=c?"header-secondary":"text-muted",S=(0,o.default)(n),O=null!=_&&c;return v(O?i.default:"div",{className:(0,a.default)(f.default.container,O&&f.default.actionable),onClick:function(){O&&_()}},void 0,v("div",{className:f.default.iconContainer},void 0,v(d.default,{achievementId:t,size:d.default.Sizes.SIZE_40,unlocked:c})),v("div",{className:f.default.nameContainer},void 0,null!=n&&v(u.Text,{variant:"text-xxs/semibold",color:"text-muted",className:f.default.unlocked},void 0,(0,l.calendarFormat)(S)),v(u.Text,{variant:"text-md/medium",color:g},void 0,p()),v(u.Text,{variant:"text-xs/normal",color:E
},void 0,h?"?????":y())))}y.displayName="AchievementItem"},817793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(16941)),u=n(645758),l=n(114592),s=c(n(524439)),d=c(n(824701)),f=c(n(697888));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=e.color;return v("svg",{width:"48",height:"28",viewBox:"0 0 55 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},void 0,v("rect",{x:"10.1968",y:"7",width:"14.4203",height:"14.4203",transform:"rotate(45 10.1968 7)",className:f.default.toastBG}),v("rect",{x:"27.3936",y:"0.59021",width:"23.4851",height:"23.4851",transform:"rotate(45 27.3936 0.59021)",className:f.default.toastBG}),v("rect",{x:"44.5903",y:"7",width:"14.4203",height:"14.4203",transform:"rotate(45 44.5903 7)",className:f.default.toastBG}),v("rect",{x:"10.1968",y:"13",width:"6",height:"6",transform:"rotate(45 10.1968 13)",fill:t}),v("path",{
d:"M27.3936 4.39355L34.1233 16.2873L27.3936 28.1811L20.6638 16.2873L27.3936 4.39355Z",fill:t}),v("rect",{x:"44.5903",y:"13",width:"6",height:"6",transform:"rotate(45 44.5903 13)",fill:t}))};y.displayName="Flair";function m(e){var t=e.achievement,n=e.unlocked,r=t.name,c=t.description,p=t.rarity,m=t.hideDescriptionUntilUnlock,_=t.onAction,h=(0,l.getAchievementStyles)(p).color;a.useEffect((function(){var e=setTimeout((function(){s.default.playAchievementUnlockSound()}),50);return function(){clearTimeout(e)}}),[]);var g=null!=_&&n;return v(g?i.default:"div",{className:(0,o.default)(f.default.container,g&&f.default.actionable),onClick:function(){g&&_()}},void 0,v("div",{className:f.default.iconContainer},void 0,v(d.default,{achievementId:t.id,size:d.default.Sizes.SIZE_40,unlocked:n})),v("div",{className:f.default.nameContainer},void 0,v(u.Text,{variant:"text-md/semibold",color:"header-primary"},void 0,r()),v(u.Text,{variant:"text-xs/medium",color:"header-secondary"
},void 0,m&&!n?"?????":c())),v("div",{className:f.default.flair},void 0,v(y,{color:h})))}m.displayName="AchievementToast"},824701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=v(n(213847)),u=v(n(745216)),l=v(n(999720)),s=v(n(509765)),d=n(114592),f=n(942675),c=n(478036),p=v(n(945052));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(){
m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=((r={})[c.ThemeTypes.DARK]={trophy:c.Colors.PRIMARY_DARK_400,locked:c.Colors.PRIMARY_DARK_400,unlocked:c.Colors.STATUS_GREEN_560},r[c.ThemeTypes.LIGHT]={trophy:c.Colors.PRIMARY_LIGHT,locked:c.Colors.PRIMARY_LIGHT,unlocked:c.Colors.STATUS_GREEN_560},r);g.Sizes=f.Sizes;function g(e){var t,n=e.achievementId,r=e.unlocked,a=e.size,c=void 0===a?f.Sizes.SIZE_40:a,v=(0,
i.default)(),y=(0,d.getPoggermodeAchievementData)(n);if(null==y)return null;var g=(0,f.getAvatarSpecs)(c),E=y.name,S=y.rarity,O=(0,d.getAchievementStyles)(S).color,b=h[v],I=.8*(g.size-g.offset-2*g.stroke),T=g.size-g.stroke,A={width:.4*I,height:.4*I},C={width:A.width+1,height:A.height+1,right:g.stroke+1,bottom:g.stroke+1,padding:0};return _("div",{className:p.default.container,style:{width:T,height:T,padding:g.stroke},"aria-label":""+(null!==(t=E())&&void 0!==t?t:"")},void 0,_("div",{className:p.default.trophyIconContainer},void 0,_(s.default,{color:r?O:b.trophy,width:I,height:I})),!r&&_("div",{className:p.default.lockContainer,style:C},void 0,o.createElement(l.default,m({color:b.locked},A))),r&&S===d.PoggermodeAchievementRarity.LEGENDARY&&_("div",{className:p.default.lockContainer,style:C},void 0,o.createElement(u.default,m({className:p.default.confettiIcon},A))))}g.displayName="AchievementTrophy"},143493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.PoggermodeCallTile=p;t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(608021)),i=d(n(298371)),u=d(n(692775)),l=d(n(909082)),s=n(378542);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.callTileRef,n=e.isFiring,r=(0,l.default)(),a=(0,u.default)(t);return null==a||null==t?null:c(o.default,{position:{y:a.y+t.clientHeight/2,x:a.x+t.clientWidth/2},firing:n,count:4*r.count})}p.displayName="PoggermodeCallTile";function v(e){return c(i.default,{confettiLocation:s.ConfettiLocation.CALL_TILE},void 0,a.createElement(p,e))}v.displayName="PoggermodeConfettiReactionWrapper"},332405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(636602)),i=c(n(177230)),u=c(n(956117)),l=n(645758),s=n(194322),d=n(770348),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r._initialize=function(){o.default.subscribe(d.ActionTypes.POGGERMODE_TEMPORARILY_DISABLED,this.handlePoggermodeTemporarilyDisabled)};r._terminate=function(){
o.default.unsubscribe(d.ActionTypes.POGGERMODE_TEMPORARILY_DISABLED,this.handlePoggermodeTemporarilyDisabled)};r.handlePoggermodeTemporarilyDisabled=function(){(0,s.openModalLazy)(_(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,502197));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,v({},e,{header:f.default.Messages.POGGERMODE_TEMPORARILY_DISABLED_TOAST_TITLE,confirmText:f.default.Messages.CONFIRM,confirmButtonColor:u.default.Colors.GREEN}),y(l.Text,{variant:"text-md/normal"},void 0,f.default.Messages.POGGERMODE_TEMPORARILY_DISABLED_TOAST_BODY))}));case 5:case"end":return e.stop()}}),e)}))))};r.__getLocalVars=function(){return{}};return t}(i.default));t.default=g},338016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=S(n(294184)),i=n(248088),u=n(536211),l=S(n(235879)),s=S(n(423046)),d=S(n(946447)),f=n(645758),c=S(n(170823)),p=S(n(745216)),v=n(943725),y=S(n(4590)),m=n(117629),_=S(n(182162)),h=S(n(429654)),g=S(n(247001)),E=S(n(440313));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=a.memo((function(e){var t=e.channelId,n=e.width,r=(0,u.useStateFromStores)([l.default],(function(){return l.default.useReducedMotion})),o=(0,u.useStateFromStores)([y.default],(function(){return y.default.getMostRecentMessageCombo(t)}),[t]),s=I(a.useState(!1),2),d=s[0],c=s[1];a.useEffect((function(){if(!(null==o?void 0:o.displayed)){c(!1);setImmediate((function(){var e=null!=o?(0,m.getComboScore)(o.combo):0;c(e>0)}));var e=setTimeout((function(){c(!1);null!=o&&(0,v.clearMessageCombo)(o)}),2e3);return function(){return clearTimeout(e)}}}),[o]);var p=null!=o?"100%":"200%",_=(0,i.useSpring)({opacity:d?1:0,translateY:d?"0":p,pointerEvents:"none",width:n,config:r?i.config.stiff:i.config.slow})
;return a.createElement(a.Fragment,null,null!=o&&b(i.animated.div,{className:E.default.messageComboScore,style:_},void 0,b(f.Text,{className:E.default.comboScore,variant:"text-sm/normal"},void 0,(0,m.getComboScore)(o.combo))))})),C=b(p.default,{width:24,height:24}),M=b(p.default,{width:24,height:24}),N=a.memo((function(e){var t=e.value,n=e.multiplier,r=a.useMemo((function(){return(0,m.getComboStyles)(n)}),[n]),i=r.color,u=r.square,l=r.flair;return a.createElement(a.Fragment,null,b(f.Text,{className:E.default.comboValue,variant:"text-sm/normal"},void 0,t),b("div",{className:E.default.comboNameplate,style:{color:i}},void 0,b(f.Text,{className:E.default.comboMultiplier,style:{color:i},variant:"text-sm/normal"},void 0,g.default.Messages.POGGERMODE_COMBO.format({multiplier:n})),u&&a.createElement(a.Fragment,null,b("div",{className:(0,o.default)(E.default.comboSquare,E.default.left),style:{backgroundColor:i}}),b("div",{className:(0,o.default)(E.default.comboSquare,E.default.right),style:{
backgroundColor:i}})),l&&a.createElement(a.Fragment,null,b("div",{className:(0,o.default)(E.default.confettiIcon,E.default.left)},void 0,C),b("div",{className:(0,o.default)(E.default.confettiIcon,E.default.right)},void 0,M)),1===n&&b(f.Text,{className:E.default.tip,variant:"text-sm/normal"},void 0,g.default.Messages.POGGERMODE_COMBO_TIP)))})),P=a.memo((function(e){var t,n=e.channelId,r=(0,u.useStateFromStores)([s.default],(function(){return s.default.getId()})),o=(0,u.useStateFromStores)([d.default],(function(){return d.default.isTyping(n,r)}),[n,r]),f=(0,h.default)(),p=(0,u.useStateFromStores)([y.default],(function(){return y.default.isComboing(r,n)}),[n,r]),v=a.useRef(null),m=(0,c.default)(v,!0,[o]),g=(0,u.useStateFromStores)([l.default],(function(){return l.default.useReducedMotion})),S=I(a.useState(!1),2),O=S[0],T=S[1],C=(0,_.default)(n),M=f&&p&&o;a.useEffect((function(){M&&T(!0);var e=setTimeout((function(){return T(M)}),1e3);return function(){return clearTimeout(e)}}),[M])
;var P=(0,i.useSpring)({opacity:O?1:0,transform:O?"translateY(0)":"translateY(100%)",pointerEvents:"none",config:i.config.stiff,immediate:g}),R=a.useMemo((function(){return null!=C?C:{value:0,multiplier:1}}),[C]),w=a.useRef(R);a.useEffect((function(){(R.multiplier>1||R.value>0)&&(w.current=R)}),[R]);var D=a.useMemo((function(){return{value:M?R.value:w.current.value,multiplier:M?R.multiplier:w.current.multiplier}}),[M,R,w]),L=D.multiplier,k=D.value;return a.createElement(a.Fragment,null,b(A,{channelId:n,width:null!==(t=null==m?void 0:m.width)&&void 0!==t?t:0}),a.createElement(i.animated.div,{ref:v,className:E.default.combo,style:P},b(N,{value:k,multiplier:L})))}));t.default=P},101499:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=G(a.useState(Y.USER_SETTINGS),2),t=e[0],n=e[1],r=G(a.useState(ie(t)),2),o=r[0],u=r[1],s=G(a.useState(!1),2),d=s[0],p=s[1],v=(0,i.useStateFromStores)([l.default],(function(){return l.default.useReducedMotion
})),y=d&&!v;a.useEffect((function(){var e=setTimeout((function(){u(ie(t))}),500);return function(){return clearTimeout(e)}}),[t]);a.useEffect((function(){Math.random()>.99&&(0,I.unlockAchievement)(T.PoggermodeAchievementId.VISITOR_100)}),[]);return a.createElement(a.Fragment,null,H(c.default,{step:t,direction:o},void 0,function(e,t,n){var r=function(e){return function(){t(e)}};switch(e){case Y.USER_SETTINGS:return H(oe,{onChangePage:r(Y.ACHIEVEMENT_LIST),setShowEnableAnimation:n});case Y.ACHIEVEMENT_LIST:return H(N.default,{onBackClick:r(Y.USER_SETTINGS)});default:return null}}(t,n,p)),H("div",{className:y?L.default.enableAnimationOverlayVisible:L.default.enableAnimationOverlayHidden},void 0,H(f.default,{className:L.default.enableAnimation,importData:ae,shouldAnimate:y,autoplay:!1,resetOnPlay:!0,loop:!1,onComplete:function(){return p(!1)}})))}
;var r,a=U(n(667294)),o=n(496486),i=n(536211),u=n(91817),l=k(n(235879)),s=k(n(16941)),d=n(772575),f=k(n(230047)),c=U(n(134782)),p=k(n(118777)),v=k(n(567668)),y=n(645758),m=n(688388),_=k(n(863771)),h=k(n(509765)),g=k(n(436081)),E=n(194322),S=n(956506),O=k(n(550270)),b=n(179379),I=n(745203),T=n(114592),A=n(943725),C=k(n(54147)),M=k(n(608021)),N=k(n(346434)),P=n(909082),R=n(378542),w=n(770348),D=k(n(247001)),L=k(n(438235));function k(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){x(o,r,a,i,u,"next",e)}function u(e){x(o,r,a,i,u,"throw",e)}i(void 0)}))}}function H(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function V(){V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return V.apply(this,arguments)}var W,Y,K={enabled:!0,combosEnabled:!0,screenshakeEnabled:!1,confettiEnabled:!1},z=(0,o.range)(0,11),$=(0,o.range)(0,2.25,.25),q=(0,o.range)(1,11),Q=(0,o.range)(1,26);!function(e){e[e.CONFETTI=0]="CONFETTI";e[e.SHAKE=1]="SHAKE"}(W||(W={}));!function(e){e[e.USER_SETTINGS=0]="USER_SETTINGS";e[e.ACHIEVEMENT_LIST=1]="ACHIEVEMENT_LIST"}(Y||(Y={}));function X(e){var t=e.disabled,n=e.locations,r=e.settingsLocations,o=e.onChange,i=n.map((function(e){return H(v.default,{disabled:t,value:r[e.location],note:e.description,onChange:function(t){var n;return o(V({},r,((n={})[e.location]=t,n)))}},e.location,e.title)}));return a.createElement(a.Fragment,null,H(m.FormTitle,{},void 0,D.default.Messages.POGGERMODE_LOCATIONS),i)}function Z(e){var t=e.children;return H(y.Text,{className:L.default.sliderDescription,variant:"text-sm/normal",color:"header-secondary"},void 0,t)}Z.displayName="SliderDescription";function J(e){
var t=e.settings,r=t.enabled,o=t.warningSeen,u=e.updateSettings,s=(0,i.useStateFromStores)([l.default],(function(){return l.default.useReducedMotion}));return H(v.default,{value:r,note:D.default.Messages.POGGERMODE_ENABLE_DESCRIPTION,onChange:function(e){e||(0,I.unlockAchievement)(T.PoggermodeAchievementId.DISABLE_POGGERMODE);!e||o&&!s?u({enabled:e}):(0,E.openModalLazy)(B(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,502197));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,V({header:s?D.default.Messages.POGGERMODE_WARNING_TITLE_REDUCED_MOTION:D.default.Messages.POGGERMODE_WARNING_TITLE,confirmText:D.default.Messages.ENABLE,cancelText:D.default.Messages.CANCEL,onConfirm:function(){return u(s?K:{enabled:!0,warningSeen:!0})}},e),H(y.Text,{variant:"text-md/normal"
},void 0,s?D.default.Messages.POGGERMODE_WARNING_BODY_REDUCED_MOTION:D.default.Messages.POGGERMODE_WARNING_BODY))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,D.default.Messages.POGGERMODE_ENABLE)}J.displayName="GlobalSettings";function ee(e){var t=e.settings,n=t.enabled,r=t.confettiEnabled,a=t.confettiCount,o=t.confettiSize,i=t.confettiEnabledLocations,u=e.updateSettings,l=!n||!r;return H(m.FormSection,{tag:m.FormTitleTags.H1,title:D.default.Messages.POGGERMODE_CONFETTI_CUSTOMIZATION},void 0,H(v.default,{disabled:!n,value:r,note:D.default.Messages.POGGERMODE_CONFETTI_ENABLED_DESCRIPTION,onChange:function(e){return u({confettiEnabled:e},W.CONFETTI)}},void 0,D.default.Messages.POGGERMODE_CONFETTI_ENABLED),H(m.FormItem,{disabled:l,title:D.default.Messages.POGGERMODE_CONFETTI_COUNT,className:L.default.formItem},void 0,H(Z,{},void 0,D.default.Messages.POGGERMODE_CONFETTI_COUNT_DESCRIPTION),H(p.default,{disabled:l,markers:q,stickToMarkers:!0,minValue:q[0],maxValue:q[q.length-1],
initialValue:a,onValueChange:function(e){return u({confettiCount:e},W.CONFETTI)},onValueRender:function(e){return""+e}})),H(m.FormItem,{disabled:l,title:D.default.Messages.POGGERMODE_CONFETTI_SIZE,className:L.default.formItem},void 0,H(Z,{},void 0,D.default.Messages.POGGERMODE_CONFETTI_SIZE_DESCRIPTION),H(p.default,{disabled:l,markers:Q,stickToMarkers:!0,minValue:Q[0],maxValue:Q[Q.length-1],initialValue:o,onValueChange:function(e){return u({confettiSize:e},W.CONFETTI)},onValueRender:function(e){return""+e}})),H(X,{disabled:l,locations:[{location:R.ConfettiLocation.CHAT_INPUT,title:D.default.Messages.POGGERMODE_CONFETTI_LOCATION_CHAT_INPUT_ENABLED,description:D.default.Messages.POGGERMODE_CONFETTI_LOCATION_CHAT_INPUT_ENABLED_DESCRIPTION},{location:R.ConfettiLocation.REACTION,title:D.default.Messages.POGGERMODE_CONFETTI_LOCATION_REACTION_ENABLED,description:D.default.Messages.POGGERMODE_CONFETTI_LOCATION_REACTION_ENABLED_DESCRIPTION},{location:R.ConfettiLocation.MEMBER_USER,
title:D.default.Messages.POGGERMODE_CONFETTI_LOCATION_MEMBER_USER_ENABLED,description:D.default.Messages.POGGERMODE_CONFETTI_LOCATION_MEMBER_USER_ENABLED_DESCRIPTION},{location:R.ConfettiLocation.CALL_TILE,title:D.default.Messages.POGGERMODE_CONFETTI_LOCATION_CALL_TILE_ENABLED,description:D.default.Messages.POGGERMODE_CONFETTI_LOCATION_CALL_TILE_ENABLED_DESCRIPTION}],settingsLocations:i,onChange:function(e){return u({confettiEnabledLocations:e},W.CONFETTI)}}))}ee.displayName="ConfettiSettings";function te(e){var t=e.settings,n=t.enabled,r=t.combosEnabled,a=t.comboSoundsEnabled,o=t.combosRequiredCount,i=e.updateSettings,u=!n||!r;return H(m.FormSection,{tag:m.FormTitleTags.H1,title:D.default.Messages.POGGERMODE_COMBOS_CUSTOMIZATION},void 0,H(v.default,{disabled:!n,value:r,note:D.default.Messages.POGGERMODE_COMBOS_ENABLED_DESCRIPTION,onChange:function(e){return i({combosEnabled:e})}},void 0,D.default.Messages.POGGERMODE_COMBOS_ENABLED),H(v.default,{disabled:!n,value:a,
note:D.default.Messages.POGGERMODE_COMBO_SOUNDS_ENABLED_DESCRIPTION,onChange:function(e){return i({comboSoundsEnabled:e})}},void 0,D.default.Messages.POGGERMODE_COMBO_SOUNDS_ENABLED),H(m.FormItem,{disabled:u,title:D.default.Messages.POGGERMODE_COMBOS_REQUIRED,className:L.default.formItem},void 0,H(Z,{},void 0,D.default.Messages.POGGERMODE_COMBOS_REQUIRED_DESCRIPTION),H(p.default,{disabled:u,markers:z,stickToMarkers:!0,minValue:z[0],maxValue:z[z.length-1],initialValue:o,onValueChange:function(e){return i({combosRequiredCount:e})},onValueRender:function(e){return""+e}})),H(m.FormDivider,{className:L.default.divider}))}te.displayName="ComboSettings";function ne(e){var t=e.settings,n=t.enabled,r=t.screenshakeEnabled,a=t.shakeIntensity,o=t.screenshakeEnabledLocations,u=e.updateSettings,s=(0,i.useStateFromStores)([l.default],(function(){return l.default.useReducedMotion})),d=!n||!r||s;return H(m.FormSection,{tag:m.FormTitleTags.H1,title:D.default.Messages.POGGERMODE_SCREENSHAKE_CUSTOMIZATION
},void 0,H(v.default,{disabled:!n||s,tooltipNote:s?D.default.Messages.POGGERMODE_SCREENSHAKE_DISABLED_REDUCED_MOTION:null,value:r&&!s,note:D.default.Messages.POGGERMODE_SCREENSHAKE_ENABLED_DESCRIPTION,onChange:function(e){return u({screenshakeEnabled:e},W.SHAKE)}},void 0,D.default.Messages.POGGERMODE_SCREENSHAKE_ENABLED),H(m.FormItem,{disabled:d,title:D.default.Messages.POGGERMODE_SCREENSHAKE,className:L.default.formItem},void 0,H(Z,{},void 0,D.default.Messages.POGGERMODE_SCREENSHAKE_DESCRIPTION),H(p.default,{disabled:d,markers:$,equidistant:!0,stickToMarkers:!0,minValue:$[0],maxValue:$[$.length-1],initialValue:a,onValueChange:function(e){return function(e,t){null!=e.shakeIntensity&&e.shakeIntensity>a&&(0,I.unlockAchievement)(T.PoggermodeAchievementId.MORE);u(e,t)}({shakeIntensity:e},W.SHAKE)},onMarkerRender:function(e){return e===$[$.length-1]?D.default.Messages.POGGERMODE_SCREENSHAKE_MAX:100*e+"%"}})),H(X,{disabled:d,locations:[{location:R.ShakeLocation.CHAT_INPUT,
title:D.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_CHAT_INPUT_ENABLED,description:D.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_CHAT_INPUT_ENABLED_DESCRIPTION},{location:R.ShakeLocation.VOICE_USER,title:D.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_VOICE_USER_ENABLED,description:D.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_VOICE_USER_ENABLED_DESCRIPTION},{location:R.ShakeLocation.MENTION,title:D.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_MENTION_ENABLED,description:D.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_MENTION_ENABLED_DESCRIPTION}],settingsLocations:o,onChange:function(e){return u({screenshakeEnabledLocations:e},W.SHAKE)}}))}ne.displayName="ScreenshakeSettings";function re(e){var t=e.onChangePage;return H(m.FormSection,{},void 0,H(s.default,{onClick:function(){return t(Y.ACHIEVEMENT_LIST)},className:L.default.achievementContainer},void 0,H("div",{className:L.default.achievementIconContainer},void 0,H(h.default,{color:w.Colors.STATUS_ORANGE_460
})),H("div",{className:L.default.achievementTextContainer},void 0,H(d.Heading,{variant:"heading-md/medium",color:"header-primary",level:4},void 0,D.default.Messages.POGGERMODE_ACHIEVEMENT_TITLE),H(y.Text,{variant:"text-md/normal",color:"header-secondary"},void 0,D.default.Messages.POGGERMODE_ACHIEVEMENT_DESCRIPTION)),H(_.default,{width:16,className:L.default.rightCaretIcon})),H(m.FormDivider,{className:L.default.divider}))}re.displayName="Achievements";var ae=function(){return n.e(37948).then(n.t.bind(n,394198,19)).then((function(e){return e.default}))};function oe(e){var t=e.onChangePage,n=e.setShowEnableAnimation,r=(0,i.useStateFromStoresObject)([C.default],(function(){return C.default.getState()})),o=a.useRef(new u.Timeout),l=G(a.useState(!1),2),s=l[0],f=l[1],c=G(a.useState({x:0,y:0}),2),p=c[0],v=c[1];function y(e,t,n,r){return(null!=t?t:e)&&(null!=r?r:n)}var m=function(e,t){!function(e){if(e.enabled&&!1===r.enabled){var t;n(!0);(0,b.playSound)("poggermode_enabled")
;S.ComponentDispatch.dispatch(w.ComponentActions.SHAKE_APP,{duration:2e3,intensity:null!==(t=e.shakeIntensity)&&void 0!==t?t:r.shakeIntensity})}}(e);(0,A.updatePoggermodeSettings)(e);if(null!=t){var a=t===W.CONFETTI,i=y(r.confettiEnabled,e.confettiEnabled,r.enabled,e.enabled);if(a&&i){f(!0);o.current.start(2*P.INTERVAL,(function(){f(!0);o.current.start(2*P.INTERVAL,(function(){return f(!1)}))}))}var u=t===W.SHAKE,l=y(r.screenshakeEnabled,e.screenshakeEnabled,r.enabled,e.enabled);if(u&&l){var s;S.ComponentDispatch.dispatch(w.ComponentActions.SHAKE_APP,{duration:1e3,intensity:null!==(s=e.shakeIntensity)&&void 0!==s?s:r.shakeIntensity})}}},_=function(e){v({x:e.clientX,y:e.clientY})};a.useEffect((function(){var e=o.current;window.addEventListener("mousemove",_);return function(){e.stop();window.removeEventListener("mousemove",_)}}),[]);return a.createElement(a.Fragment,null,H(d.Heading,{variant:"heading-xl/medium",level:3},void 0,D.default.Messages.POGGERMODE),H(g.default,{
size:g.default.Sizes.SIZE_14,muted:!0,className:L.default.subtitle},void 0,D.default.Messages.POGGERMODE_SETTINGS_SUBTITLE.format({helpCenterLink:O.default.getArticleURL(w.HelpdeskArticles.POGGERMODE)})),H(J,{settings:r,updateSettings:m}),H(re,{onChangePage:t}),H(te,{settings:r,updateSettings:m}),H(ne,{settings:r,updateSettings:m}),H(ee,{settings:r,updateSettings:m}),H(M.default,{firing:s,position:p}))}var ie=function(e){return e===Y.USER_SETTINGS?c.SlideDirection.LEFT:c.SlideDirection.RIGHT}},346434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.onBackClick,n=(0,o.useStateFromStores)([p.default],(function(){return p.default.getAllUnlockedAchievements()})),r=a.useMemo((function(){return Object.values(n).sort((function(e,t){return t.dateUnlocked-e.dateUnlocked}))}),[n]),g=a.useMemo((function(){return Object.values(v.ACHIEVEMENT_LIST).filter(c.isNotNullish).filter((function(e){return null==n[e.id]})).sort((function(e,t){
return e.rarity-t.rarity}))}),[n]);return a.createElement(a.Fragment,null,S(d.FormSection,{},void 0,S(u.default,{onClick:t,className:h.default.backContainer},void 0,S(i.default,{direction:i.default.Directions.LEFT,className:h.default.icon}),S(s.Text,{variant:"text-lg/normal",color:"text-normal"},void 0,_.default.Messages.BACK))),S("div",{className:h.default.headerContainer},void 0,S("div",{className:h.default.headerTextContainer},void 0,S(l.Heading,{variant:"heading-lg/bold",color:"header-primary",level:4},void 0,_.default.Messages.POGGERMODE_ACHIEVEMENT_TITLE),S(s.Text,{variant:"text-md/normal",color:"header-secondary"},void 0,_.default.Messages.POGGERMODE_ACHIEVEMENT_DESCRIPTION)),S("div",{className:h.default.headerIcon},void 0,S(f.default,{color:m.Colors.STATUS_ORANGE_460,width:40,height:40}))),r.length>0&&S(d.FormSection,{className:h.default.divider},void 0,S("div",{className:h.default.achievementGrid},void 0,r.map((function(e){var t=e.achievementId,n=e.dateUnlocked
;return S(y.default,{achievementId:t,dateUnlocked:n},t)})))),g.length>0&&S(d.FormSection,{className:h.default.divider},void 0,S("div",{className:h.default.headerTextContainer},void 0,S(s.Text,{variant:"text-md/bold",color:"header-secondary"},void 0,_.default.Messages.POGGERMODE_ACHIEVEMENT_LOCKED_TITLE)),S("div",{className:h.default.achievementGrid},void 0,g.map((function(e){return S(y.default,{achievementId:e.id},e.id)})))),S(d.FormSection,{className:h.default.divider},void 0,S("div",{className:h.default.bottomPadding})))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=g(n(583183)),u=g(n(16941)),l=n(772575),s=n(645758),d=n(688388),f=g(n(509765)),c=n(71246),p=g(n(358091)),v=n(114592),y=g(n(181240)),m=n(770348),_=g(n(247001)),h=g(n(953141));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},338591:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,l.default)(s.ShakeLocation.CHAT_INPUT),n=(0,u.default)();return(0,
r.useStateFromStores)([o.default,i.default,a.default],(function(){return n&&o.default.isTyping(e,a.default.getId())?i.default.getUserComboShakeIntensity(a.default.getId(),e,t):0}))};var r=n(536211),a=d(n(423046)),o=d(n(946447)),i=d(n(4590)),u=d(n(429654)),l=d(n(754464)),s=n(378542);function d(e){return e&&e.__esModule?e:{default:e}}},885159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.loadRTCDevStyles=g;c(n(667294));var r,a=d(n(636602)),o=d(n(177230)),i=n(329117),u=c(n(8475)),l=n(770348),s=d(n(175935));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=(0,i.makeLazy)({createPromise:function(){return n.e(41446).then(n.bind(n,209354))},webpackId:209354,name:"PopoutWindowChannelCall"}),m=(0,i.makeLazy)({createPromise:function(){return n.e(38634).then(n.bind(n,224287))},webpackId:224287,
name:"PopoutWindowStageChannelCall"}),_=(0,i.makeLazy)({createPromise:function(){return n.e(41446).then(n.bind(n,302460))},webpackId:302460,name:"PopoutWindowRTCDebug"}),h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.subscribe(l.ActionTypes.CHANNEL_CALL_POPOUT_WINDOW_OPEN,this.handleOpenChannelCallPopout);a.default.subscribe(l.ActionTypes.RTC_DEBUG_POPOUT_WINDOW_OPEN,this.handleOpenRTCDebugPopout)};n._terminate=function(){a.default.unsubscribe(l.ActionTypes.CHANNEL_CALL_POPOUT_WINDOW_OPEN,this.handleOpenChannelCallPopout);a.default.unsubscribe(l.ActionTypes.RTC_DEBUG_POPOUT_WINDOW_OPEN,this.handleOpenRTCDebugPopout)};n.handleOpenChannelCallPopout=function(e){var t=e.channel;u.open(l.PopoutWindowKeys.CHANNEL_CALL_POPOUT,(function(e){return t.isGuildStageVoice()?p(m,{windowKey:e,channel:t}):p(y,{windowKey:e,channel:t})}),{
defaultWidth:854,defaultHeight:480})};n.handleOpenRTCDebugPopout=function(){u.open(l.PopoutWindowKeys.RTC_DEBUG_POPOUT,(function(e){return p(_,{windowKey:e})}),{defaultWidth:854,defaultHeight:480})};n.__getLocalVars=function(){return{DEFAULT_POPOUT_WIDTH:854,DEFAULT_POPOUT_HEIGHT:480,PopoutWindowChannelCall:y,PopoutWindowStageChannelCall:m,PopoutWindowRTCDebug:_}};return t}(o.default);function g(){return p("div",{className:s.default.item})}g.displayName="loadRTCDevStyles";var E=new h;t.default=E},554147:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(74854)),a=s(n(636602)),o=s(n(177230)),i=n(581525),u=s(n(902305)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleMainWindowFocus=function(e){e.focused&&t.injectWindowAnimationFrame(window)};t.handlePopoutWindowChange=function(){var e=u.default.getWindowKeys().find((function(e){return u.default.getWindowFocused(e)}));if(null==e)return t.injectWindowAnimationFrame(window);var n=u.default.getWindow(e);if(null==n||n.closed)return t.injectWindowAnimationFrame(window);t.injectWindowAnimationFrame(n)};return t}var n=t.prototype;n._initialize=function(){u.default.addChangeListener(this.handlePopoutWindowChange);a.default.subscribe(l.ActionTypes.WINDOW_FOCUS,this.handleMainWindowFocus)};n._terminate=function(){u.default.removeChangeListener(this.handlePopoutWindowChange);a.default.unsubscribe(l.ActionTypes.WINDOW_FOCUS,this.handleMainWindowFocus);this.injectWindowAnimationFrame(window)};n.injectWindowAnimationFrame=function(e){var t=function(t){return e.requestAnimationFrame(t)
},n=function(t){return e.cancelAnimationFrame(t)};r.default.inject.RequestAnimationFrame(t);r.default.inject.CancelAnimationFrame(n);i.frameLoop.setRAF(t,n)};n.__getLocalVars=function(){return{}};return t}(o.default));t.default=f},982401:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=n(832635),o=u(n(177230)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).handleConnectionOpen=function(){(0,a.fetchLocalizedPromo)()};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(i.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};n._terminate=function(){
r.default.unsubscribe(i.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};n.__getLocalVars=function(){return{}};return t}(o.default));t.default=s},496357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=v(n(636602)),a=n(832635),o=n(851792),i=v(n(177230)),u=v(n(728429)),l=v(n(697952)),s=v(n(146771)),d=v(n(47969)),f=n(685677),c=n(265517),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).maybeFetchSubscriptions=m(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=u.default.getCurrentUser())||null==t.premiumType){e.next=9;break}if(s.default.hasFetchedSubscriptions()){e.next=5;break}e.next=5;return(0,a.fetchSubscriptions)();case 5:if(null!=(null==(n=s.default.getPremiumSubscription())?void 0:n.paymentSourceId)||d.default.applicationIdsFetched.has(p.PREMIUM_SUBSCRIPTION_APPLICATION)){e.next=9;break}e.next=9;return(0,o.fetchUserEntitlementsForApplication)(p.PREMIUM_SUBSCRIPTION_APPLICATION);case 9:case"end":return e.stop()}}),e)})));t.maybeFetchMostRecentSubscription=function(){var e=u.default.getCurrentUser();null!=e&&null==e.premiumType&&null!=e.purchasedFlags&&((0,f.hasFlag)(e.purchasedFlags,c.PurchasedFlags.PREMIUM_TIER_1)||(0,
f.hasFlag)(e.purchasedFlags,c.PurchasedFlags.PREMIUM_TIER_2))&&(0,a.fetchMostRecentSubscription)()};t.maybeFetchCountryCode=m(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(n=u.default.getCurrentUser())||null==n.premiumType){e.next=4;break}e.next=4;return t.fetchCountryCode();case 4:case"end":return e.stop()}}),e)})));t.fetchCountryCode=m(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,a.fetchIpCountryCode)();case 2:if(null==l.default.ipCountryCode){e.next=6;break}e.next=6;return(0,a.fetchPaymentSources)();case 6:case"end":return e.stop()}}),e)})));return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(p.ActionTypes.CONNECTION_OPEN,this.maybeFetchSubscriptions);r.default.subscribe(p.ActionTypes.CONNECTION_OPEN,this.maybeFetchCountryCode)
;r.default.subscribe(p.ActionTypes.CONNECTION_OPEN,this.maybeFetchMostRecentSubscription)};n._terminate=function(){r.default.unsubscribe(p.ActionTypes.CONNECTION_OPEN,this.maybeFetchSubscriptions);r.default.unsubscribe(p.ActionTypes.CONNECTION_OPEN,this.maybeFetchCountryCode);r.default.unsubscribe(p.ActionTypes.CONNECTION_OPEN,this.maybeFetchMostRecentSubscription)};n.__getLocalVars=function(){return{}};return t}(i.default));t.default=h},32593:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PromotionPreviewExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-06_preview_promotions",label:"Promotions Preview",defaultConfig:{previewEnabled:!1},treatments:[{id:1,label:"Preview Enabled",config:{previewEnabled:!0}}]});t.PromotionPreviewExperiment=r},745108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.dismissOutboundPromotionNotice=h;t.fetchActiveOutboundPromotions=m
;var r=p(n(118915)),a=n(629015),o=p(n(636602)),i=n(851792),u=n(828593),l=p(n(871778)),s=n(32593),d=n(462827),f=p(n(297143)),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}function m(){return _.apply(this,arguments)}function _(){return(_=y(regeneratorRuntime.mark((function e(){var t,n,a,u,p,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.default.isFetchingActiveOutboundPromotions){e.next=2;break}return e.abrupt("return");case 2:e.prev=2;o.default.dispatch({type:c.ActionTypes.ACTIVE_OUTBOUND_PROMOTIONS_FETCH})
;t=s.PromotionPreviewExperiment.getCurrentConfig({}).previewEnabled?c.Endpoints.OUTBOUND_PROMOTIONS_PREVIEW:c.Endpoints.OUTBOUND_PROMOTIONS;e.next=7;return r.default.get({url:t,query:{locale:l.default.locale},oldFormErrors:!0});case 7:n=e.sent;a=n.body;u=f.default.consumedInboundPromotionId;if(f.default.hasFetchedConsumedInboundPromotionId){e.next=16;break}e.next=13;return(0,i.fetchUserEntitlementsForApplication)(c.PREMIUM_SUBSCRIPTION_APPLICATION,!1);case 13:v=e.sent;y=v.find((function(e){return null!=e.promotion_id&&!0===e.consumed}));u=null!==(p=null==y?void 0:y.promotion_id)&&void 0!==p?p:null;case 16:o.default.dispatch({type:c.ActionTypes.ACTIVE_OUTBOUND_PROMOTIONS_FETCH_SUCCESS,activeOutboundPromotions:a.map((function(e){return(0,d.outboundPromotionFromServer)(e)})),consumedInboundPromotionId:u});e.next=22;break;case 19:e.prev=19;e.t0=e.catch(2);o.default.dispatch({type:c.ActionTypes.ACTIVE_OUTBOUND_PROMOTIONS_FETCH_FAIL});case 22:case"end":return e.stop()}}),e,null,[[2,19]])
})))).apply(this,arguments)}function h(){o.default.dispatch({type:c.ActionTypes.OUTBOUND_PROMOTION_NOTICE_DISMISS});var e=f.default.lastDismissedOutboundPromotionStartDate;null!=e&&u.PreloadedUserSettingsActionCreators.updateAsync("userContent",(function(t){t.lastDismissedOutboundPromotionStartDate=a.StringValue.create({value:e})}),u.UserSettingsDelay.INFREQUENT_USER_ACTION)}var g={fetchActiveOutboundPromotions:m,dismissOutboundPromotionNotice:h,markOutboundPromotionsSeen:function(){o.default.dispatch({type:c.ActionTypes.OUTBOUND_PROMOTIONS_SEEN})}};t.default=g},969082:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useOutboundPromotions=function(){var e=(0,a.useStateFromStores)([s.default],(function(){return s.default.lastFetchedActivePromotions})),t=m(),n=(0,a.useStateFromStores)([i.default],(function(){return i.default.getCurrentUser()})),f=p(r.useState(!1),2),c=f[0],_=f[1],h=p(r.useState([]),2),g=h[0],E=h[1];r.useEffect((function(){
null!=e&&o.default.wait((function(){return l.default.markOutboundPromotionsSeen()}))}),[e]);var S=r.useCallback((function(e){E((function(t){return t.some((function(t){return t.promotion.id===e.promotion.id}))?t:[].concat(function(e){if(Array.isArray(e))return y(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||v(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);var n}))}),[]),O=(null==n?void 0:n.premiumType)===d.PremiumTypes.TIER_2;r.useEffect((function(){o.default.wait((function(){O&&null==e&&l.default.fetchActiveOutboundPromotions()}))}),[e,O]);r.useEffect((function(){o.default.wait((function(){(0,u.fetchClaimedOutboundPromotionCodes)().then((function(e){E(e);_(!0)})).catch((function(){E([]);_(!0)}))}))}),[]);for(var b,I={},T=function(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(g);!(b=T()).done;){var A=b.value,C=A.code,M=A.promotion;I[M.id]=C}var N=new Set(t.map((function(e){return e.id}))),P=g.filter((function(e){var t=e.promotion;return!N.has(t.id)}));return{promotionsLoaded:c&&(!O||null!=e),activeOutboundPromotions:t,claimedEndedOutboundPromotions:P,claimedOutboundPromotionCodeMap:I,addClaimedOutboundPromotionCode:S}};t.useUnseenOutboundPromotions=function(){var e=(0,a.useStateFromStores)([s.default],(function(){return s.default.lastSeenOutboundPromotionStartDate})),t=m();return r.useMemo((function(){return null==e?t:t.filter((function(t){
var n=t.startDate;return new Date(n)>new Date(e)}))}),[t,e])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=f(n(636602)),i=f(n(728429)),u=n(462827),l=f(n(745108)),s=f(n(297143)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(){var e=(0,a.useStateFromStoresArray)([s.default],(function(){return s.default.outboundPromotions})),t=(0,a.useStateFromStores)([s.default],(function(){return s.default.consumedInboundPromotionId}))
;return r.useMemo((function(){return e.filter((function(e){return e.id!==t}))}),[e,t])}},110210:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(177230)),o=n(745108),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(i.ActionTypes.CONNECTION_OPEN,this.maybeFetchActiveOutboundPromotions)};n._terminate=function(){r.default.unsubscribe(i.ActionTypes.CONNECTION_OPEN,this.maybeFetchActiveOutboundPromotions)};n.maybeFetchActiveOutboundPromotions=function(e){e.user.premium_type===i.PremiumTypes.TIER_2&&(0,o.fetchActiveOutboundPromotions)()};n.__getLocalVars=function(){return{}};return t}(a.default))
;t.default=s},113781:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(680219)),i=m(n(956117)),u=n(772575),l=m(n(80828)),s=n(645758),d=n(354479),f=n(688388),c=n(3400),p=n(462827),v=m(n(247001)),y=m(n(543282));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){var t=e.onClose;return a.createElement(a.Fragment,null,E(c.ModalHeader,{separator:!1,className:y.default.errorHeader},void 0,E("div",{className:y.default.errorArt}),E(u.Heading,{variant:"heading-xl/medium",level:3},void 0,v.default.Messages.GENERIC_ERROR_TITLE)),E(c.ModalContent,{className:y.default.errorBody},void 0,E(s.Text,{variant:"text-md/normal",className:y.default.bodyText},void 0,v.default.Messages.GENERIC_ERROR_BODY)),E(c.ModalFooter,{},void 0,E(i.default,{color:i.default.Colors.BRAND,onClick:t},void 0,v.default.Messages.CLOSE)))}function O(e){
var t=e.onClose,n=e.onClaim,r=e.code,m=e.outboundPromotion,_=e.transitionState,g=h(a.useState(null),2),O=g[0],b=g[1],I=(0,d.useUID)();a.useEffect((function(){null==r&&(0,p.claimOutboundPromotion)(m.id).then((function(e){return n(e)})).catch((function(e){return b(e)}))}),[r,m.id,n]);var T=E(S,{onClose:t});return E(c.ModalRoot,{transitionState:_,"aria-labelledby":I},void 0,null!=O?T:null==r?E(c.ModalContent,{},void 0,E(l.default,{className:y.default.loading})):a.createElement(a.Fragment,null,E(c.ModalHeader,{separator:!1,className:y.default.headerContainer},void 0,E("div",{className:y.default.art}),E(u.Heading,{variant:"heading-xl/medium",level:3},void 0,v.default.Messages.OUTBOUND_PROMOTION_REDEMPTION_MODAL_TITLE)),E(c.ModalContent,{},void 0,E(s.Text,{variant:"text-md/normal",className:y.default.bodyText},void 0,m.outboundRedemptionModalBody),E(f.FormDivider,{className:y.default.formDivider}),E(f.FormSection,{title:v.default.Messages.REDEMPTION_CODE,className:y.default.formSection
},void 0,E(o.default,{value:r,buttonColor:i.default.Colors.BRAND,buttonLook:i.default.Looks.FILLED,delay:1e3,inputClassName:y.default.textInput}),E(s.Text,{variant:"text-xs/normal",color:"header-secondary",className:y.default.confirmationText},void 0,v.default.Messages.OUTBOUND_PROMOTION_CODE_CONFIRMATION_EMAIL))),E(c.ModalFooter,{},void 0,E(i.default,{color:i.default.Colors.BRAND,onClick:function(){var e=(0,p.getOutboundPromotionRedemptionUrl)(r,m);window.open(e,"_blank")}},void 0,v.default.Messages.REDEEM),E(i.default,{onClick:t,look:i.default.Looks.LINK,color:y.default.maybeLaterButton},void 0,v.default.Messages.MAYBE_LATER))))}O.displayName="OutboundPromotionRedemptionModal";var b=O;t.default=b},29864:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=m(n(667294)),o=v(n(226800)),i=v(n(41024)),u=m(n(177101)),l=n(660065),s=n(455818),d=n(933601),f=n(770348),c=v(n(247001)),p=v(n(202192));function v(e){return e&&e.__esModule?e:{default:e}}
function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null
}}var h=function(e){var t=e.notice,n=e.noticeType,r=e.dismissCurrentNotice,v=null!=(null==t?void 0:t.metadata.premiumSubscription),y=(0,d.useLocalizedPromoQuery)(),m=null==y?void 0:y.countryCode;(0,l.useTrackLocalizedPricingPromoImpression)(f.AnalyticsSections.NOTIFICATION_BAR,m);return null==m?null:_(u.default,{color:v?u.NoticeColors.BRAND:u.NoticeColors.PREMIUM_TIER_2},void 0,_(u.NoticeCloseButton,{onClick:r,noticeType:n}),v?(0,s.getNoticeNitroChangedPrice)(m):_(a.Fragment,{},void 0,_(i.default,{className:p.default.premiumIcon}),(0,s.getLocalizedPricingNotice)(m)),_(u.PrimaryCTANoticeButton,{onClick:function(){r();o.default.open(f.UserSettingsSections.PREMIUM)},noticeType:n},void 0,c.default.Messages.LEARN_MORE))};h.displayName="LocalizedPricingPromoNotice";var g=h;t.default=g},404203:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(294184)),i=u(n(784864));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderFeature=function(e,n){return s("div",{className:i.default.feature},n,t.renderIcon(e),s("div",{},void 0,null!=e.title?s("div",{className:i.default.title},void 0,e.title):null,s("div",{className:null==e.title?i.default.descriptionStandalone:i.default.description},void 0,e.description)))};return t}var n=t.prototype;n.renderIcon=function(e){if(null!=e.overrideIcon)return e.overrideIcon(i.default.icon);if(null!=e.icon&&null!=e.iconClass){return s(e.icon,{className:(0,o.default)(i.default.icon,e.iconClass)})}throw new Error("Missing overrideIcon or iconName and iconClass")};n.render=function(){
return s("div",{className:i.default.features,style:{gridTemplateColumns:Array(this.props.columns).fill("1fr").join(" ")}},void 0,this.props.features.map(this.renderFeature))};return t}(a.Component);f.displayName="PremiumFeaturesList";var c=f;t.default=c},917133:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=V(n(667294)),o=B(n(496486)),i=n(370405),u=n(536211),l=B(n(636602)),s=V(n(832635)),d=n(304440),f=n(856259),c=B(n(279256)),p=B(n(954140)),v=B(n(37039)),y=n(139982),m=B(n(40221)),_=B(n(728429)),h=B(n(748826)),g=B(n(909584)),E=B(n(146771)),S=B(n(956117)),O=n(772575),b=B(n(80828)),I=n(645758),T=B(n(78840)),A=n(235742),C=B(n(308920)),M=B(n(764197)),N=V(n(488430)),P=n(933601),R=n(137787),w=n(805114),D=B(n(314182)),L=n(764232),k=n(222850),j=n(800632),U=n(792281),G=n(770348),F=B(n(247001)),x=B(n(637701));function B(e){return e&&e.__esModule?e:{default:e}}function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(H=function(e){return e?n:t})(e)}function V(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function W(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){W(o,r,a,i,u,"next",e)}function u(e){W(o,r,a,i,u,"throw",e)}i(void 0)}))}}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function q(){var e=(0,v.default)(p.default.PREMIUM_MARKETING_SURFACE_HERO_CTA).AnalyticsLocationProvider;return $("div",{className:x.default.hero},void 0,$("div",{className:x.default.heroContent},void 0,$(T.default,{className:x.default.heroLogo}),$(O.Heading,{className:x.default.heroHeading,level:1,color:"always-white",variant:"heading-xxl/bold"},void 0,F.default.Messages.PREMIUM_MARKETING_SURFACE_HERO_HEADING),$(I.Text,{className:x.default.heroSubheading,color:"always-white",variant:"text-lg/normal"},void 0,F.default.Messages.PREMIUM_MARKETING_SURFACE_HERO_SUBHEADING),$("div",{className:x.default.heroCtas},void 0,$(e,{},void 0,$(D.default,{className:x.default.heroCtaPrimary,color:S.default.Colors.WHITE,innerClassName:x.default.heroCtaInner,
subscriptionTier:G.PremiumSubscriptionSKUs.TIER_2,premiumModalAnalyticsLocation:{object:G.AnalyticsObjects.BUTTON_CTA}}),$(D.default,{isGift:!0,color:S.default.Colors.WHITE,innerClassName:x.default.heroCtaInner,subscriptionTier:G.PremiumSubscriptionSKUs.TIER_2,premiumModalAnalyticsLocation:{object:G.AnalyticsObjects.BUTTON_CTA}})))))}q.displayName="Hero";function Q(){var e=K(a.useState(null),2),t=e[0],n=e[1];a.useEffect((function(){var e=window.setTimeout((function(){n(U.AnimationStagesEnum.LARGER_FILE_UPLOAD_STAGE)}),1500);return function(){window.clearTimeout(e)}}),[]);var r=$(k.FileUploadAnimation,{shouldAnimate:t===U.AnimationStagesEnum.LARGER_FILE_UPLOAD_STAGE,onComplete:function(){return n(U.AnimationStagesEnum.HD_STREAMING_STAGE)}}),o=$(k.HDStreamAnimation,{shouldAnimate:t===U.AnimationStagesEnum.HD_STREAMING_STAGE,onComplete:function(){return n(U.AnimationStagesEnum.EMOJI_STAGE)}}),i=$(k.EmojiAnimation,{shouldAnimate:t===U.AnimationStagesEnum.EMOJI_STAGE,onComplete:function(){
return n(U.AnimationStagesEnum.CUSTOM_PROFILES_STAGE)}}),u=$(k.ProfileCustomizationAnimation,{shouldAnimate:t===U.AnimationStagesEnum.CUSTOM_PROFILES_STAGE});return $("div",{className:x.default.topPerks},void 0,$(L.FileUploadTopPerkCard,{animation:r}),$(L.HDStreamingTopPerkCard,{animation:o}),$(L.EmojiTopPerkCard,{animation:i}),$(L.ProfileTopPerkCard,{animation:u}))}Q.displayName="TopPerksCards";var X=$(w.MarketingSurfaceFeatureGridItemBoosts,{}),Z=$(w.MarketingSurfaceFeatureGridItemStickers,{}),J=$(w.MarketingSurfaceFeatureGridItemBadge,{}),ee=$(w.MarketingSurfaceFeatureGridItemVideoBackgrounds,{}),te=$(w.MarketingSurfaceFeatureGridItemProfileCustomization,{}),ne=$(w.MarketingSurfaceFeatureGridItemLongerMessageContent,{}),re=$(w.MarketingSurfaceFeatureGridItemMoreGuilds,{}),ae=$(w.MarketingSurfaceMoreComingSoon,{});function oe(){return $("div",{className:x.default.featureGridWrapper},void 0,$(O.Heading,{className:x.default.featureGridHeading,level:3,variant:"heading-xl/bold"
},void 0,F.default.Messages.PREMIUM_MARKETING_SURFACE_FEATURE_GRID_HEADING),$("ul",{className:x.default.featureGrid},void 0,X,Z,J,ee,te,ne,re,ae))}oe.displayName="FeatureGrid";function ie(){return $("div",{className:x.default.premiumTier2Container},void 0,$(O.Heading,{variant:"heading-xl/bold"},void 0,F.default.Messages.MARKETING_REFRESH_PREMIUM_TIER_2_CTA_TITLE),$(I.Text,{className:x.default.premiumTier2Description,variant:"text-lg/normal"},void 0,F.default.Messages.PREMIUM_MARKETING_SURFACE_PREMIUM_TIER_2_DESCRIPTION),$("div",{className:x.default.premiumTier2Ctas},void 0,$(D.default,{subscriptionTier:G.PremiumSubscriptionSKUs.TIER_2,className:x.default.premiumTier2Cta,color:S.default.Colors.GREEN}),$(D.default,{subscriptionTier:G.PremiumSubscriptionSKUs.TIER_2,size:S.default.Sizes.SMALL,className:x.default.premiumTier2GiftCta,isGift:!0})))}ie.displayName="PremiumTier2Subscription";var ue=$(c.default,{isOnPremiumMarketingSurface:!0}),le=$(i.Helmet,{title:"Discord"
}),se=$(q,{}),de=$(Q,{}),fe=$(oe,{}),ce=$(ie,{}),pe=function(){var e=K(a.useState((function(){return!h.default.hasFetchedPaymentSources||!E.default.hasFetchedSubscriptions()||!g.default.isLoadedForPremiumSKUs()})),2),t=e[0],n=e[1],r=a.useRef(null),i=a.useRef(null),c=(0,u.useStateFromStores)([_.default],(function(){return _.default.getCurrentUser()})),S=(0,u.useStateFromStores)([m.default],(function(){return m.default.getCurrentSectionId()})),O=(0,v.default)(p.default.PREMIUM_MARKETING_SURFACE).AnalyticsLocationProvider,I=(0,v.default)(p.default.PREMIUM_MARKETING_SURFACE_TIER_1_CTA).AnalyticsLocationProvider,T=(0,v.default)(p.default.PREMIUM_MARKETING_SURFACE_TIER_2_CTA).AnalyticsLocationProvider,w=a.useRef(null),D=a.useMemo((function(){return o.default.throttle((function(e){if(null!==w.current){var t=w.current.getBoundingClientRect().height;e.target.scrollTop+e.target.offsetHeight===t&&C.default.track(G.AnalyticEvents.PREMIUM_MARKETING_SURFACE_REACHED_BOTTOM)}}),100)
}),[]),L=a.useRef(Date.now());a.useEffect((function(){var e=L.current;return function(){C.default.track(G.AnalyticEvents.PREMIUM_MARKETING_SURFACE_EXITED,{time_on_page_ms:Date.now()-e})}}),[]);a.useLayoutEffect((function(){var e,t;switch(S){case j.PREMIUM_MARKETING_SURFACE_HOME_ID:null===(e=r.current)||void 0===e||e.scrollTo({animate:!0,to:0});return;case j.PREMIUM_MARKETING_SURFACE_PERKS_ID:if(null==i.current)return;null===(t=r.current)||void 0===t||t.scrollTo({animate:!0,to:i.current.offsetTop-24})}}),[S]);a.useEffect((function(){return function(){(0,d.selectSection)(j.PREMIUM_MARKETING_SURFACE_HOME_ID)}}),[]);var k=M.default.useExperiment({}).entrypointPosition;a.useEffect((function(){null===k&&(0,y.transitionTo)(G.Routes.ME)}),[k]);var U=(0,P.useLocalizedPromoQuery)(),F=null==U?void 0:U.countryCode;a.useEffect((function(){var e=!0;l.default.wait(Y(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2
;return Promise.all([s.fetchSubscriptions(),s.fetchPaymentSources(),(0,f.fetchPremiumSubscriptionPlans)(F)]);case 2:e&&n(!1);case 3:case"end":return t.stop()}}),t)}))));return function(){e=!1}}),[F]);return N.default.useExperiment({},{autoTrackExposure:!0,disable:(0,N.useIsIneligibleForMarketingExperiment)()}).enabled?t||null==c?$("div",{className:x.default.spinnerWrapper},void 0,$(b.default,{className:x.default.spinner})):$("div",{className:x.default.wrapper},void 0,le,$(O,{},void 0,a.createElement(A.AdvancedScrollerAuto,{ref:r,className:x.default.scroller,onScroll:D},a.createElement("div",{className:x.default.content,ref:w},se,a.createElement("div",{ref:i},de,fe),$(T,{},void 0,ce),$(I,{},void 0,$(R.PremiumTier1Subscription,{className:x.default.tier1Cta})))))):$("div",{className:x.default.wrapper},void 0,ue)};pe.displayName="PremiumMarketingSurface";var ve=pe;t.default=ve},792281:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AnimationStagesEnum=void 0;var n
;t.AnimationStagesEnum=n;!function(e){e[e.LARGER_FILE_UPLOAD_STAGE=0]="LARGER_FILE_UPLOAD_STAGE";e[e.HD_STREAMING_STAGE=1]="HD_STREAMING_STAGE";e[e.EMOJI_STAGE=2]="EMOJI_STAGE";e[e.CUSTOM_PROFILES_STAGE=3]="CUSTOM_PROFILES_STAGE"}(n||(t.AnimationStagesEnum=n={}))},740258:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=n(304440),i=h(n(40221)),u=n(496394),l=n(772575),s=h(n(41024)),d=h(n(128103)),f=h(n(97751)),c=h(n(582945)),p=h(n(308920)),v=n(800632),y=n(770348),m=h(n(247001)),_=h(n(900398));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){switch(e){case v.PREMIUM_MARKETING_SURFACE_HOME_ID:return"Premium Marketing Surface Home";case v.PREMIUM_MARKETING_SURFACE_PERKS_ID:return"Premium Marketing Surface Perks"
;default:return""}},O=function(e){var t=e.sectionId,n=e.currentSectionId,r=e.sectionAvatar,a=e.sectionName;return E(f.default,{avatar:r,name:a,selected:n===t,className:_.default.sectionItem,selectedClassName:_.default.selectedSectionItem,onClick:function(){p.default.track(y.AnalyticEvents.PREMIUM_MARKETING_SURFACE_SIDE_BAR_SELECT,{section:S(t)});!function(e){(0,o.selectSection)(e);switch(e){case v.PREMIUM_MARKETING_SURFACE_HOME_ID:case v.PREMIUM_MARKETING_SURFACE_PERKS_ID:}}(t)}})};O.displayName="SectionListItem";var b=function(){var e=(0,a.useStateFromStoresObject)([i.default],(function(){return{currentSectionId:i.default.getCurrentSectionId()}})).currentSectionId;return E(c.default,{},void 0,E(l.Heading,{variant:"heading-xl/medium",className:_.default.premiumMarketingSurfaceHeader,level:2},void 0,m.default.Messages.PREMIUM),E(O,{sectionId:v.PREMIUM_MARKETING_SURFACE_HOME_ID,currentSectionId:e,sectionAvatar:E(s.default,{color:u.GradientCssUrls.PREMIUM_TIER_2}),
sectionName:m.default.Messages.PREMIUM_MARKETING_SURFACE_SIDEBAR_ABOUT}),E(O,{sectionId:v.PREMIUM_MARKETING_SURFACE_PERKS_ID,currentSectionId:e,sectionAvatar:E(d.default,{width:24,height:24,color:y.Colors.PREMIUM_PERK_PINK}),sectionName:m.default.Messages.PREMIUM_MARKETING_SURFACE_PERKS_TITLE}))};b.displayName="PremiumMarketingSurfaceSidebar";var I=b;t.default=I},754295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=u(n(956117)),o=u(n(303326)),i=["children"];function u(e){
return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,i);return r.createElement(a.default,s({},n,{size:a.default.Sizes.SMALL,look:a.default.Looks.INVERTED,className:o.default.button}),t)}d.displayName="PremiumSettingsPushButton"},526889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=_(n(294184)),o=_(n(496486)),i=n(536211),u=_(n(728429)),l=_(n(909584)),s=_(n(146771)),d=n(772575),f=n(645758),c=_(n(41024)),p=_(n(838583)),v=n(770348),y=_(n(247001)),m=_(n(692202));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.user,n=e.planId,r=e.count,a=e.userPremiumSubscription,o=E((0,i.useStateFromStoresArray)([l.default],(function(){return[l.default.get(n),null!=a?l.default.get(a.planId):null]})),2),u=o[0],s=o[1];if(null==u||p.default.getInterval(n).intervalType!==v.SubscriptionIntervalTypes.MONTH)return null;var _=null!=s?s.skuId:null,h=u.skuId===_,S=p.default.getDisplayName(n);return g("div",{className:m.default.accountCreditRow},void 0,g("div",{className:u.skuId===v.PremiumSubscriptionSKUs.TIER_2?m.default.iconBackgroundTier2:m.default.iconBackgroundTier1},void 0,g(c.default,{className:m.default.icon})),g("div",{className:m.default.rowDetails},void 0,g(d.Heading,{variant:"heading-md/medium",level:3
},void 0,y.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT.format({planName:S})),t.hasFreePremium()?null:g(d.Heading,{className:m.default.rowApplied,variant:"heading-deprecated-14/medium",color:"header-secondary",level:3},void 0,h&&null!=a?y.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT_APPLIED_ON.format({date:a.currentPeriodEnd}):y.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT_APPLIED_MISMATCHED_PLAN.format({planName:S}))),g(f.Text,{className:m.default.rowCreditCount,variant:"text-md/normal"},void 0,y.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT_COUNT_MONTHS.format({count:r})))}O.displayName="AccountCreditRow";function b(e){var t=e.className,n=e.entitlements,r=(0,o.default)(Array.from(n)).filter((function(e){var t=e.subscriptionPlanId,n=e.parentId,r=e.consumed;return null!=t&&null!=n&&!r})).groupBy((function(e){return e.subscriptionPlanId})).value(),l=(0,i.useStateFromStores)([s.default],(function(){return s.default.getPremiumSubscription()})),d=(0,
i.useStateFromStores)([u.default],(function(){return u.default.getCurrentUser()}));return null==d?null:g("div",{className:(0,a.default)(t,m.default.premiumSubscriptionAccountCredit)},void 0,Object.keys(r).map((function(e){return g(O,{planId:e,count:r[e].length,userPremiumSubscription:l,user:d},e)})))}b.displayName="PremiumSubscriptionAccountCredit";var I=b;t.default=I},322423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=p(n(441143)),o=p(n(909584)),i=n(645758),u=n(838583),l=n(243277),s=n(511217),d=n(770348),f=p(n(247001)),c=p(n(799337));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){
o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=e.subscription,n=e.withOverheadSeparator,r=m((0,s.useSubscriptionInvoicePreview)({subscriptionId:t.id,renewal:!0}),1)[0];if(null==r)return null;var p=n?c.default.finePrintWithOverheadSeparator:c.default.finePrint,v=r.invoiceItems.find((function(e){
var t=e.subscriptionPlanId;return(0,u.isPremiumBaseSubscriptionPlan)(t)}));if(null==v)return null;var _=v.subscriptionPlanId,h=o.default.get(_);(0,a.default)(null!=h,"Missing plan");var g=(0,l.formatPrice)(r.total,r.currency),E="";h.interval===d.SubscriptionIntervalTypes.YEAR?E=f.default.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_YEARLY.format({price:g,termsUrl:d.MarketingURLs.TERMS,paidURL:d.MarketingURLs.PAID_TERMS,privacyUrl:d.MarketingURLs.PRIVACY}):h.interval===d.SubscriptionIntervalTypes.MONTH&&(E=1===h.intervalCount?f.default.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_MONTHLY.format({price:g,termsUrl:d.MarketingURLs.TERMS,paidURL:d.MarketingURLs.PAID_TERMS,privacyUrl:d.MarketingURLs.PRIVACY}):f.default.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_MULTI_MONTH.format({price:g,termsUrl:d.MarketingURLs.TERMS,paidURL:d.MarketingURLs.PAID_TERMS,privacyUrl:d.MarketingURLs.PRIVACY,intervalCount:h.intervalCount}));return y(i.Text,{color:"text-muted",className:p,
variant:"text-xs/normal"},void 0,E)}h.displayName="PremiumSubscriptionFinePrintContent";function g(e){var t=e.subscription,n=e.withOverheadSeparator;return t.status===d.SubscriptionStatusTypes.CANCELED||t.isPurchasedExternally?null:y(h,{subscription:t,withOverheadSeparator:n})}g.displayName="PremiumSubscriptionFinePrint"},877454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;m(n(667294));var r,a=v(n(683767)),o=v(n(954140)),i=v(n(37039)),u=v(n(655205)),l=v(n(41024)),s=m(n(177101)),d=n(152960),f=n(770348),c=v(n(247001)),p=v(n(202192));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.dismissCurrentNotice,n=(0,i.default)(o.default.PREMIUM_TIER_2_TRIAL_ENDING_NOTICE).analyticsLocations,r=(0,d.usePremiumTrialOffer)(),v=(0,a.default)(null!=r&&null!=r.expires_at?Date.parse(r.expires_at):0);return null==r||null==r.expires_at||Object.values(v).every((function(e){return 0===e}))?null:_(s.default,{
color:s.NoticeColors.PREMIUM_TIER_2},void 0,_(s.NoticeCloseButton,{onClick:t}),_(l.default,{className:p.default.premiumIcon}),v.days>0?c.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_DAYS.format({days:v.days}):v.hours>0?c.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_HOURS.format({hours:v.hours}):c.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_MINUTES.format({minutes:Math.max(v.minutes,1)}),_(s.NoticeButton,{onClick:function(){(0,u.default)({trialId:r.trial_id,subscriptionTier:f.PremiumSubscriptionSKUs.TIER_2,analyticsLocations:n,analyticsObject:{page:f.AnalyticsPages.IN_APP,section:f.AnalyticsSections.NOTIFICATION_BAR,object:f.AnalyticsObjects.BUTTON_CTA}})}},void 0,c.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_CTA))};h.displayName="PremiumTier2TrialEndingNotice";var g=h;t.default=g},588398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildBoostingHeader=H;t.SubscriptionDetailsEmpty=z;t.default=X
;var r,a=G(n(667294)),o=j(n(294184)),i=j(n(441143)),u=j(n(730381)),l=n(536211),s=j(n(226800)),d=j(n(954140)),f=j(n(37039)),c=j(n(285629)),p=j(n(655205)),v=n(232759),y=j(n(728429)),m=j(n(956117)),_=j(n(558402)),h=j(n(530250)),g=j(n(562475)),E=j(n(80828)),S=n(645758),O=n(688388),b=j(n(417184)),I=j(n(308920)),T=G(n(838583)),A=n(298104),C=n(511217),M=n(653311),N=j(n(754295)),P=j(n(200475)),R=j(n(337309)),w=j(n(986495)),D=n(770348),L=j(n(247001)),k=j(n(56397));function j(e){return e&&e.__esModule?e:{default:e}}function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}function G(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function H(e){var t=e.subscription,n=e.fromStandaloneBillingPage,r=void 0===n||n,u=e.className,d=(0,l.useStateFromStores)([y.default],(function(){var e=y.default.getCurrentUser();(0,i.default)(null!=e,"GuildBoostingHeader: currentUser cannot be undefined");return e}));if(0===(0,T.getNumPremiumGuildSubscriptions)(t.additionalPlans))return null;var f,p=t.status;f=(0,T.isPremiumGuildSubscriptionCanceled)(t)?k.default.guildBoostingSubscriptionRowCanceled:(0,
T.isSubscriptionStatusFailedPayment)(p)?k.default.guildBoostingSubscriptionRowFailedPayment:k.default.guildBoostingSubscriptionRowActive;return a.createElement(a.Fragment,null,B("div",{className:(0,o.default)(f,u)},void 0,B("div",{className:k.default.guildBoostingSubscriptionRowBackground}),B("div",{className:k.default.guildBoostingImage}),B("div",{className:k.default.guildBoostingSubscriptionRowBody},void 0,B("div",{className:k.default.guildBoostingWordmark}),B("div",{},void 0,(0,T.getPremiumGuildHeaderDescription)(t,d))),r&&B(N.default,{color:m.default.Colors.BRAND,onClick:function(){return s.default.open(D.UserSettingsSections.GUILD_BOOSTING)}},void 0,L.default.Messages.PREMIUM_GUILD_PERKS_MODAL_MANAGE_YOUR_SUBSCRIPTIONS)),!r&&B(S.Text,{className:k.default.boostingDesktopAppBlurb,variant:"text-sm/normal"},void 0,L.default.Messages.GUILD_BOOSTING_MANAGEMENT_OPEN_DESKTOP_APP.format({openAppHook:function(){return(0,c.default)("app")}})))}function V(){a.useEffect((function(){
I.default.track(D.AnalyticEvents.TOOLTIP_VIEWED,{type:"subscription_settings_missing_payment_method"})}),[]);return B("div",{className:k.default.paymentBanner},void 0,B(b.default,{className:k.default.paymentBannerIcon,color:D.Colors.STATUS_YELLOW_400}),B(S.Text,{className:k.default.paymentBannerText,variant:"text-sm/normal"},void 0,L.default.Messages.MISSING_PAYMENT_METHOD_BANNER))}V.displayName="NoPaymentMethodBanner";function W(){a.useEffect((function(){I.default.track(D.AnalyticEvents.TOOLTIP_VIEWED,{type:"subscription_settings_invalid_payment_method"})}),[]);return B("div",{className:k.default.paymentBanner},void 0,B(b.default,{className:k.default.paymentBannerIcon,color:D.Colors.STATUS_RED_400}),B(S.Text,{className:k.default.paymentBannerText,variant:"text-sm/normal"},void 0,L.default.Messages.INVALID_PAYMENT_METHOD_BANNER))}W.displayName="InvalidPaymentMethodBanner";function Y(e){var t=e.daysPastDue,n=e.subscription,r=e.openInvoiceId,o=(0,
f.default)(d.default.PAST_DUE_ONE_TIME_PAYMENT_METHOD_BANNER).analyticsLocations;a.useEffect((function(){I.default.track(D.AnalyticEvents.TOOLTIP_VIEWED,{type:"subscription_settings_invalid_payment_method"})}),[]);return B("div",{className:k.default.paymentBanner},void 0,B(b.default,{className:k.default.paymentBannerIcon,color:D.Colors.STATUS_YELLOW_400}),B(S.Text,{className:k.default.paymentBannerText,variant:"text-sm/normal"},void 0,L.default.Messages.PREMIUM_SUBSCRIPTION_ONE_TIME_PAYMENT_PAST_DUE_SUBSCRIPTION_TEXT.format({daysPastDue:t,paymentModalRedirect:function(){(0,p.default)({initialPlanId:n.planIdFromItems,openInvoiceId:r,analyticsLocations:o})}})))}Y.displayName="PastDueOneTimePaymentMethodBanner";function K(e){var t=e.subscription,n=e.renewalInvoicePreview,r=e.className;return B("div",{className:(0,o.default)(k.default.billingInformation,r)},void 0,B(O.FormTitle,{tag:O.FormTitle.Tags.H3,className:k.default.detailBlockHeader
},void 0,L.default.Messages.PREMIUM_SETTINGS_BILLING_INFO),B("div",{},void 0,T.default.getBillingInformationString(t,n)))}K.displayName="SubscriptionBillingInformation";function z(e){return B("div",{className:e.className},void 0,B(O.FormTitle,{className:k.default.sectionTitle,tag:O.FormTitle.Tags.H1},void 0,L.default.Messages.USER_SETTINGS_SUBSCRIPTIONS_HEADER),B("p",{className:k.default.sectionDescription},void 0,L.default.Messages.BILLING_PAYMENT_PREMIUM_DESCRIPTION),B(_.default,{className:k.default.noItemsCard,type:_.default.Types.CUSTOM},void 0,B(h.default,{align:h.default.Align.CENTER},void 0,B(g.default,{game:null,size:g.default.Sizes.SMALL,className:k.default.noItemsIcon}),B("span",{className:k.default.cardText},void 0,L.default.Messages.USER_SETTINGS_NO_SUBSCRIPTIONS))))}z.displayName="SubscriptionDetailsEmpty";var $=B(E.default,{}),q=B(V,{}),Q=B(W,{});function X(e){
var t,n,r,a=e.subscription,i=e.paymentSource,s=e.busy,d=e.className,f=e.fromStandaloneBillingPage,c=void 0===f||f,p=e.analyticsLocation,m=F((0,C.useSubscriptionInvoicePreview)({subscriptionId:a.id,renewal:!0}),1)[0],_=F((0,C.useSubscriptionInvoicePreview)({subscriptionId:a.id,renewal:!0,applyEntitlements:!0}),1)[0],h=(0,l.useStateFromStores)([y.default],(function(){var e;return null===(e=y.default.getCurrentUser())||void 0===e?void 0:e.hasFreePremium()})),g=(0,u.default)(a.currentPeriodEnd),E=null!=a.paymentSourceId,S=null!==(t=null==_?void 0:_.total)&&void 0!==t?t:0,b=null==i?void 0:i.invalid,I=!E&&S>0&&(g.diff((0,u.default)(),"days")<=7||a.status===D.SubscriptionStatusTypes.PAST_DUE)&&!h&&!a.isPurchasedExternally,T=b&&a.status===D.SubscriptionStatusTypes.PAST_DUE&&!h&&!a.isPurchasedExternally,N=(0,M.useIsPrepaidPaymentPastDue)(),j=!h&&N,U=(null==a?void 0:a.status)===D.SubscriptionStatusTypes.PAST_DUE?(0,u.default)().diff((0,u.default)(a.currentPeriodStart),"days"):0,G=F((0,
C.useGetSubscriptionInvoice)({subscriptionId:a.id,preventFetch:!j}),1)[0];if(null==m||null==_)return $;null!=a.renewalMutations&&(a.renewalMutations.planId!==a.planId&&!(0,v.isNoneSubscription)(a.renewalMutations.planId)||a.hasExternalPlanChange)&&(r=B(w.default,{subscription:a,renewalMutations:a.renewalMutations,className:k.default.renewalMutationNotice,analyticsLocation:p}));return B("div",{className:d},void 0,B(O.FormTitle,{className:k.default.sectionTitle,tag:O.FormTitle.Tags.H1},void 0,L.default.Messages.USER_SETTINGS_SUBSCRIPTIONS_HEADER),I?q:null,T?Q:null,j&&null!=G?B(Y,{daysPastDue:U,subscription:a,openInvoiceId:G.id}):null,r,B("div",{className:k.default.subscriptionRows},void 0,B("p",{className:k.default.sectionDescription},void 0,L.default.Messages.BILLING_PAYMENT_PREMIUM_DESCRIPTION),B(P.default,{subscription:a,renewalInvoicePreview:m,paymentSource:i,busy:s,analyticsLocation:p}),B(H,{subscription:a,fromStandaloneBillingPage:c,className:k.default.guildSubscriptionRow
})),B("div",{},void 0,B(O.FormTitle,{tag:O.FormTitle.Tags.H5},void 0,L.default.Messages.BILLING_STEP_PAYMENT),B("div",{className:k.default.details},void 0,B(K,{subscription:a,renewalInvoicePreview:_,className:k.default.detailsBlock}),B("div",{className:(0,o.default)(k.default.detailsBlock,(n={},n[k.default.redBorder]=T,n))},void 0,B(O.FormTitle,{tag:O.FormTitle.Tags.H3,className:k.default.detailBlockHeader},void 0,a.isPurchasedExternally&&null!=a.paymentGateway?L.default.Messages.BILLING_MANAGED_BY_PAYMENT_GATEWAY.format({paymentGatewayName:D.PaymentGatewayToFriendlyName[a.paymentGateway]}):L.default.Messages.BILLING_PAY_FOR_IT_WITH),B(R.default,{subscription:a,onPaymentSourceAdded:A.fetchSubscriptionPlansOnNewPaymentSource,highlightAddPaymentMethodButton:I||T,analyticsLocation:p,currentInvoicePreview:m,dropdownClassName:k.default.paymentDropdown}),B("div",{className:k.default.paymentDropdownFinePrint},void 0,L.default.Messages.BILLING_APPLIES_TO_ALL_SUBSCRIPTIONS)))))}
X.displayName="SubscriptionDetails"},200475:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=N(n(667294)),o=C(n(294184)),i=C(n(441143)),u=N(n(304836)),l=C(n(954140)),s=C(n(37039)),d=C(n(791548)),f=C(n(655205)),c=n(232759),p=C(n(909584)),v=C(n(151097)),y=N(n(956117)),m=C(n(730977)),_=C(n(394726)),h=C(n(259643)),g=n(194322),E=N(n(838583)),S=n(298104),O=n(815992),b=C(n(754295)),I=n(770348),T=C(n(247001)),A=C(n(956424));function C(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}
function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}var L=new d.default("SubscriptionHeader.tsx"),k={page:I.AnalyticsPages.USER_SETTINGS,section:I.AnalyticsSections.SETTINGS_PREMIUM,object:I.AnalyticsObjects.CARD};function j(e){var t,r=e.subscription,d=e.renewalInvoicePreview,C=e.paymentSource,M=e.busy,N=e.analyticsLocation,w=(0,s.default)(l.default.SUBSCRIPTION_HEADER).analyticsLocations,j=function(){r.status!==I.SubscriptionStatusTypes.ACTIVE&&r.status!==I.SubscriptionStatusTypes.PAST_DUE||U()},U=function(){(0,g.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(58579),n.e(36923),n.e(25306),n.e(66341)]).then(n.bind(n,466341));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,R({},e,{premiumSubscription:r,analyticsLocation:N,analyticsLocations:w}))}));case 5:case"end":return e.stop()}}),e)}))))},G=function(){(0,
f.default)({analyticsLocations:w,analyticsLocation:N,analyticsObject:k})},F=function(){if(null!=r&&null!=r.planIdFromItems){var e=p.default.get(r.planIdFromItems);if(null==e){L.info("Plan not fetched for plan id: "+r.planIdFromItems);return}var t=(0,S.getCurrencies)(e,null==C?void 0:C.id,!1),n=t.length>0?t[0]:r.currency,a=O.MultiCurrencyExperiment.getCurrentConfig({}).enabled,o=!1;(1!==t.length&&a||(null==C?void 0:C.id)!==r.paymentSourceId||!(0,S.planHasCurrency)(e.id,n,null==C?void 0:C.id))&&(null==C||(0,E.inPriceDeterminationExperiment)())||(o=!0);o?u.resubscribe(r,n,w,C):(0,f.default)({initialPlanId:r.planIdFromItems,analyticsLocations:w,analyticsLocation:N,analyticsObject:k})}},x=E.default.getPlanIdFromInvoice(r,d);if((0,c.isNoneSubscription)(x))return null;var B=E.default.getStatusFromInvoice(r,d),H=E.default.getPremiumType(x),V=((t={})[A.default.tier0]=H===I.PremiumTypes.TIER_0,t[A.default.tier1]=H===I.PremiumTypes.TIER_1,t[A.default.tier2]=H===I.PremiumTypes.TIER_2,
t[A.default.canceled]=B===I.SubscriptionStatusTypes.CANCELED,t[A.default.failedPayment]=(0,E.isSubscriptionStatusFailedPayment)(B),t),W=null;switch(H){case I.PremiumTypes.TIER_0:W=a.createElement(a.Fragment,null,P(h.default,{className:A.default.discordWordmark,"aria-label":T.default.Messages.PREMIUM_TIER_0}),P("div",{className:A.default.basicWordmark}));break;case I.PremiumTypes.TIER_1:W=a.createElement(a.Fragment,null,P(h.default,{className:A.default.discordWordmark,"aria-label":T.default.Messages.PREMIUM_TIER_1}),P("div",{className:A.default.classicWordmark}));break;case I.PremiumTypes.TIER_2:W=P(_.default,{className:A.default.planName,"aria-label":T.default.Messages.PREMIUM_TITLE})}return P("div",{className:(0,o.default)(A.default.banner,V)},void 0,P("div",{className:A.default.bannerBackgroundImage}),P("div",{className:A.default.detailsContainer},void 0,P("div",{className:A.default.image}),P("div",{className:A.default.details},void 0,W,function(e){(0,
i.default)(null!=d,"Expected renewalInvoicePreview");return P("div",{className:A.default.planInfo},void 0,(0,E.getPlanDescriptionFromInvoice)({planId:e,subscription:r,renewalInvoicePreview:d}))}(x))),P("div",{className:A.default.buttons},void 0,function(){var e=r.status;if(r.isPurchasedExternally){var t=(0,E.getExternalSubscriptionMethodUrl)(r.paymentGateway,"SUBSCRIPTION_MANAGEMENT");return P(v.default,{href:t,useDefaultUnderlineStyles:!1},void 0,P(y.default,{className:(0,o.default)(A.default.toolsButton,A.default.externalButton),size:y.default.Sizes.SMALL,look:y.ButtonLooks.OUTLINED,color:y.ButtonColors.WHITE,submitting:M},void 0,T.default.Messages.BILLING_MANAGE_SUBSCRIPTION))}if(E.default.isBaseSubscriptionCanceled(r))return P(y.default,{className:A.default.toolsButton,size:y.default.Sizes.SMALL,look:y.ButtonLooks.INVERTED,color:y.ButtonColors.BRAND,submitting:M,onClick:F},void 0,T.default.Messages.RESUBSCRIBE)
;if(e===I.SubscriptionStatusTypes.ACTIVE||e===I.SubscriptionStatusTypes.PAST_DUE){var n=!1,i=null;if(null!=r.renewalMutations){n=!0;i=r.renewalMutations.planId!==r.planId?T.default.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PLAN:T.default.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PREMIUM_GUILD_SUBSCRIPTION}if(null!=r.trialEndsAt){n=!0;i=T.default.Messages.PREMIUM_SWITCH_PLAN_DISABLED_IN_TRIAL}e===I.SubscriptionStatusTypes.PAST_DUE&&(n=!0);return P("div",{className:A.default.toolsButtons},void 0,P(y.default,{className:A.default.toolsButton,size:y.default.Sizes.SMALL,look:y.ButtonLooks.LINK,color:y.ButtonColors.WHITE,submitting:M,onClick:j},void 0,T.default.Messages.CANCEL),P(m.default,{text:i},void 0,(function(e){return a.createElement(b.default,R({},e,{disabled:n,className:A.default.toolsButton,onClick:G}),T.default.Messages.PREMIUM_SWITCH_PLANS)})))}}()))}j.displayName="SubscriptionHeader";var U=j;t.default=U},337309:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.subscription,r=e.onPaymentSourceAdded,E=e.highlightAddPaymentMethodButton,S=e.dropdownClassName,O=e.analyticsLocation,I=e.currentInvoicePreview,A=(0,u.useStateFromStores)([y.default],(function(){return y.default.hidePersonalInformation})),L=B((0,u.useStateFromStoresArray)([m.default],(function(){return[m.default.paymentSources,m.default.hasFetchedPaymentSources]})),2),k=L[0],j=L[1],F=(0,v.useSubscriptionPlansLoaded)((0,M.getSubscriptionSKUs)(t)),H=(0,p.default)().analyticsLocations,W=a.useMemo((function(){return Object.values(k).filter((function(e){return!e.invalid}))}),[k]),K=B(a.useState(!1),2),z=K[0],$=K[1],q=B(a.useState(t.currency),2),Q=q[0],X=q[1],Z=function(){var e=x(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&(null!=n||(0,T.inPriceDeterminationExperiment)())){e.next=2;break}
throw Error("missing subscription and paymentSource");case 2:if(null!=n){e.next=7;break}e.next=5;return s.changeSubscriptionCurrency(t,r,H,O);case 5:e.next=9;break;case 7:e.next=9;return s.changePaymentSource(t,n,r,H,O);case 9:$(!1);X(r);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=x(regeneratorRuntime.mark((function e(n,r,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n||(0,T.inPriceDeterminationExperiment)()){e.next=2;break}throw Error("PaymentSource required");case 2:$(!0);e.next=5;return(0,N.updateSubscriptionInvoicePreview)({subscriptionId:t.id,paymentSourceId:null==n?void 0:n.id,renewal:!0,currency:r});case 5:o=e.sent;I.currency!==o.currency||I.currency===o.currency&&I.total!==o.total?Y(o,(function(){a(n,r);if(!(0,T.inPriceDeterminationExperiment)()){(0,i.default)(null!=n,"paymentSource required");(0,d.fetchPremiumSubscriptionPlans)(n.country,n.id)}
}),(function(){$(!1)})):a(n,r);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ee=function(e){var n=_.default.get(t.planIdForCurrencies);(0,i.default)(null!=e,"paymentSource not specified for change");(0,i.default)(null!=n,"Unable to fetch plan");var r=(0,C.getCurrencies)(n.id,e.id,!1);return r.length>0?r[0]:P.CurrencyCodes.USD},te=function(e){null!=e&&J(e,ee(e),Z)},ne=function(e){(0,C.fetchSubscriptionPlansOnNewPaymentSource)(e.id,(0,M.getSubscriptionSKUs)(t)).then((function(){J(e,ee(e),Z)}));"function"==typeof r&&r(e.id)},re=function(){(0,b.openModalLazy)(x(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(78833),n.e(46277),n.e(85190),n.e(72024)]).then(n.bind(n,58838));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,G({},e,{onAddPaymentSource:ne,analyticsLocation:O}))}))
;case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){(0,l.clearError)()}})};if(t.isPurchasedExternally)return function(e){(0,i.default)(null!=e.paymentGateway,"Expected payment gateway when managed externally");var t=(0,T.getExternalSubscriptionMethodUrl)(e.paymentGateway,"PAYMENT_SOURCE_MANAGEMENT");return U(h.default,{href:t,useDefaultUnderlineStyles:!1,className:w.default.externalLink},void 0,U(g.default,{fullWidth:!0,look:g.default.Looks.FILLED,color:g.default.Colors.PRIMARY},void 0,R.default.Messages.BILLING_MANAGE_BILLING))}(t);if(j&&F){if(W.length>0){var ae=_.default.get(t.planIdForCurrencies);(0,i.default)(null!=ae,"Unable to fetch plan");var oe=(0,C.getCurrencies)(ae,t.paymentSourceId,!1);return a.createElement(a.Fragment,null,(ie=t.paymentSourceId,U(c.default,{prependOption:null==ie?{label:R.default.Messages.ATTACH_PAYMENT_SOURCE_PROMPT_OPTION,value:null}:null,className:S,paymentSources:W,hidePersonalInformation:A,selectedPaymentSourceId:ie,onChange:te,
onPaymentSourceAdd:re,dropdownLoading:z})),U(f.CurrencyWrapper,{currencies:oe},void 0,U("div",{className:(0,o.default)(w.default.currency,D.default.flex,D.default.alignCenter)},void 0,U("div",{},void 0,R.default.Messages.PAYMENT_CURRENCY_PAYING_IN),U(f.default,{className:w.default.currencyDropdown,selectedCurrency:Q,currencies:oe,onChange:function(e){J(void 0,e,Z)}}))))}return U(g.default,{fullWidth:!0,look:g.default.Looks.FILLED,color:E?g.default.Colors.BRAND:g.default.Colors.PRIMARY,onClick:re},void 0,R.default.Messages.BILLING_ADD_PAYMENT_METHOD)}return V;var ie};var r,a=j(n(667294)),o=L(n(294184)),i=L(n(441143)),u=n(536211),l=n(653906),s=j(n(304836)),d=n(856259),f=j(n(225585)),c=L(n(779111)),p=L(n(37039)),v=n(547855),y=L(n(663303)),m=L(n(748826)),_=L(n(909584)),h=L(n(151097)),g=L(n(956117)),E=L(n(80828)),S=n(645758),O=L(n(502197)),b=n(194322),I=L(n(550270)),T=n(838583),A=n(243277),C=n(298104),M=n(156849),N=n(511217),P=n(770348),R=L(n(247001)),w=L(n(778916)),D=L(n(3066))
;function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(){G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return G.apply(this,arguments)}function F(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,u,"next",e)}function u(e){F(o,r,a,i,u,"throw",e)}i(void 0)}))}}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=U(E.default,{});var W=function(e){var t=e.modalProps,n=e.onConfirm,r=e.onCancel,o=e.newInvoice,i={newCurrencyAndPrice:(0,A.formatPrice)(o.total,o.currency),helpCenterLink:I.default.getArticleURL(P.HelpdeskArticles.LOCALIZED_PRICING)};return a.createElement(O.default,G({header:R.default.Messages.BILLING_CONFIRM_PRICE_CHANGE_TITLE,confirmText:R.default.Messages.YES_TEXT,cancelText:R.default.Messages.NO_TEXT,onConfirm:n,onCancel:r,
confirmButtonColor:g.default.Colors.BRAND},t),U(S.Text,{variant:"text-md/normal"},void 0,R.default.Messages.LOCALIZED_PRICING_ON_CHANGE_PAYMENT_METHOD.format(i)))};W.displayName="ConfirmPriceChangeModal";var Y=function(e,t,n){(0,b.openModal)((function(r){return U(W,{newInvoice:e,onConfirm:t,onCancel:n,modalProps:r})}),{onCloseRequest:function(){return!1}})}},986495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=L;var r,a=C(n(667294)),o=T(n(294184)),i=T(n(441143)),u=n(536211),l=n(832635),s=T(n(954140)),d=T(n(37039)),f=n(232759),c=T(n(871778)),p=T(n(909584)),v=T(n(151097)),y=T(n(956117)),m=T(n(530250)),_=n(688388),h=T(n(417184)),g=C(n(3400)),E=C(n(838583)),S=n(243277),O=n(770348),b=T(n(247001)),I=T(n(210912));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}function D(e){var t=e.subscription,n=e.renewalMutations,r=e.transitionState,a=e.onClose,o=e.analyticsLocation,v=(0,u.useStateFromStores)([c.default],(function(){return c.default.theme})),h=(0,d.default)(s.default.SUBSCRIPTION_CANCEL_DOWNGRADE_MODAL).analyticsLocations;function T(){return(T=w(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,l.upgradeSubscription)(t,t.planId,h,o);case 2:a();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=p.default.get(t.planId);(0,i.default)(null!=A,"Missing subscriptionPlan");var C=(0,E.getPrice)(t.planId,!1,!1,{paymentSourceId:t.paymentSourceId,currency:t.currency}),M=(0,S.formatRate)((0,S.formatPrice)(C.amount,C.currency),A.interval,A.intervalCount);return P(g.ModalRoot,{
transitionState:r,"aria-label":b.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER},void 0,P(g.ModalHeader,{justify:m.default.Justify.BETWEEN,separator:!1},void 0,P(_.FormTitle,{tag:_.FormTitleTags.H4},void 0,b.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER),P(g.ModalCloseButton,{onClick:a})),P(g.ModalContent,{className:I.default.modalBody},void 0,(0,f.isNoneSubscription)(t.planId)?b.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY_NO_EXISTING_PLAN.format({downgradedPlan:E.default.getDisplayName(n.planId),existingRate:M}):b.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY.format({existingPlan:E.default.getDisplayName(t.planId),downgradedPlan:E.default.getDisplayName(n.planId),existingRate:M})),P(g.ModalFooter,{},void 0,P(y.default,{onClick:function(){return T.apply(this,arguments)}},void 0,b.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BUTTON),P(y.default,{look:y.default.Looks.LINK,
color:v===O.ThemeTypes.LIGHT?y.default.Colors.PRIMARY:y.default.Colors.WHITE,onClick:a},void 0,b.default.Messages.NEVERMIND)))}D.displayName="SubscriptionCancelDowngradeModal";function L(e){var t=e.subscription,n=e.renewalMutations,r=e.className,i=e.analyticsLocation,u=M(a.useState(!1),2),l=u[0],s=u[1];return P("div",{className:(0,o.default)(I.default.root,r)},void 0,P(h.default,{className:I.default.infoIcon}),P("div",{className:I.default.text},void 0,b.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_NOTICE.format({planName:t.hasExternalPlanChange?(0,E.getExternalPlanDisplayName)(n):E.default.getDisplayName(n.planId),date:t.currentPeriodEnd})),t.isPurchasedExternally?null:P(v.default,{onClick:function(e){s(!0);e.preventDefault()},className:I.default.cancelLink},void 0,b.default.Messages.CANCEL),l?P(g.default,{renderModal:function(e){var r=e.transitionState;return P(D,{subscription:t,renewalMutations:n,transitionState:r,onClose:function(){return s(!1)},analyticsLocation:i})},
onCloseRequest:function(){return s(!1)}}):null)}L.displayName="SubscriptionRenewalMutationNotice"},225249:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=G(n(667294)),o=j(n(294184)),i=n(536211),u=j(n(636602)),l=G(n(832635)),s=n(233271),d=n(851792),f=n(856259),c=j(n(226800)),p=j(n(524791)),v=n(547855),y=j(n(45738)),m=j(n(252730)),_=j(n(663303)),h=j(n(516818)),g=j(n(697952)),E=j(n(748826)),S=j(n(146771)),O=j(n(47969)),b=j(n(558402)),I=j(n(530250)),T=j(n(562475)),A=j(n(80828)),C=n(688388),M=j(n(838583)),N=j(n(526889)),P=j(n(322423)),R=G(n(588398)),w=n(770348),D=n(840433),L=j(n(247001)),k=j(n(162652));function j(e){return e&&e.__esModule?e:{default:e}}function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}function G(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(){return F(b.default,{className:k.default.noItemsCard,type:b.default.Types.CUSTOM},void 0,F(I.default,{align:I.default.Align.CENTER},void 0,F(T.default,{game:null,size:T.default.Sizes.SMALL,className:k.default.noItemsIcon}),F("span",{className:k.default.cardText
},void 0,L.default.Messages.USER_SETTINGS_NO_SUBSCRIPTION_CREDIT)))}x.displayName="NoAccountCredit";var B=F(x,{});function H(){var e=(0,i.useStateFromStores)([O.default],(function(){return O.default.getForApplication(w.PREMIUM_SUBSCRIPTION_APPLICATION)}));a.useEffect((function(){(0,d.fetchUserEntitlementsForApplication)(w.PREMIUM_SUBSCRIPTION_APPLICATION)}),[]);return F("section",{className:k.default.sectionAccountCredit},void 0,F(C.FormTitle,{className:k.default.accountCreditTitle,tag:C.FormTitleTags.H1},void 0,L.default.Messages.BILLING_SUBSCRIPTION_CREDIT),F("p",{className:k.default.accountCreditDescription},void 0,L.default.Messages.BILLING_ACCOUNT_CREDIT_DESCRIPTION),null!=e&&M.default.hasAccountCredit(e)?F(N.default,{className:k.default.accountCredit,entitlements:e}):B)}H.displayName="AccountCredit";var V=F(p.default,{}),W=F(A.default,{}),Y=F(H,{});function K(){var e=(0,i.useStateFromStores)([S.default],(function(){return S.default.getPremiumTypeSubscription()})),t=(0,
i.useStateFromStores)([E.default],(function(){return null!=e&&null!=e.paymentSourceId?E.default.getPaymentSource(e.paymentSourceId):null}),[e]),n=(0,i.useStateFromStores)([S.default],(function(){return S.default.hasFetchedSubscriptions()})),r=(0,i.useStateFromStores)([g.default],(function(){return g.default.isBusy})),d=(0,v.useSubscriptionPlansLoaded)(),p=(0,i.useStateFromStores)([h.default],(function(){return h.default.getSubsection()}));a.useEffect((function(){u.default.wait((function(){(0,f.fetchPremiumSubscriptionPlans)();l.fetchSubscriptions();(0,s.fetchGuildBoostSlots)();l.fetchPaymentSources()}));return function(){c.default.clearSubsection()}}),[]);return _.default.enabled?V:n&&d?p===D.ROLE_SUBSCRIPTION_SUBSECTION?F(m.default,{onGoBack:function(){return c.default.clearSubsection()}}):F("div",{className:k.default.container},void 0,F("div",{className:k.default.content},void 0,null!=e?F(R.default,{className:k.default.subscriptionDetails,subscription:e,paymentSource:t,busy:r
}):F(R.SubscriptionDetailsEmpty,{className:k.default.subscriptionDetails}),F(y.default,{onClickManageSubscription:function(){return c.default.setSection(w.UserSettingsSections.SUBSCRIPTIONS,D.ROLE_SUBSCRIPTION_SUBSECTION)}}),Y,null!=e?F(P.default,{subscription:e,withOverheadSeparator:!1}):null)):F("div",{className:(0,o.default)(k.default.container,k.default.loading)},void 0,W)}K.displayName="Subscriptions";var z=K;t.default=z},764232:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ProfileTopPerkCard=t.HDStreamingTopPerkCard=t.FileUploadTopPerkCard=t.EmojiTopPerkCard=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=l(n(294184)),o=n(772575),i=l(n(247001)),u=l(n(192798));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.className,n=e.children,r=e.artwork;return d("div",{className:(0,a.default)(u.default.topPerkCard,t)},void 0,d("div",{className:u.default.topPerkCardBckground},void 0,d(o.Heading,{
className:u.default.topPerkHeading,variant:"heading-xl/bold"},void 0,n),r))}f.displayName="TopPerkCard";var c=function(e){var t=e.heightClass;return d(f,{artwork:e.animation,className:[u.default.topPerkHdStreaming,null!=t?t:u.default.topPerkCardHeight].join(" ")},void 0,d("div",{className:u.default.hdStreamingCopyContainer},void 0,i.default.Messages.PREMIUM_MARKETING_SURFACE_TOP_PERK_HD_STREAMING))};t.HDStreamingTopPerkCard=c;c.displayName="HDStreamingTopPerkCard";var p=function(e){var t=e.heightClass;return d(f,{artwork:e.animation,className:[u.default.topPerkFileUploads,null!=t?t:u.default.topPerkCardHeight].join(" ")},void 0,i.default.Messages.PREMIUM_MARKETING_SURFACE_TOP_PERK_FILE_UPLOADS)};t.FileUploadTopPerkCard=p;p.displayName="FileUploadTopPerkCard";var v=function(e){var t=e.heightClass;return d(f,{artwork:e.animation,className:[u.default.topPerkEmoji,null!=t?t:u.default.topPerkCardHeight].join(" ")},void 0,d("div",{className:u.default.emojiCopyContainer
},void 0,i.default.Messages.PREMIUM_MARKETING_SURFACE_TOP_PERK_EMOJI))};t.EmojiTopPerkCard=v;v.displayName="EmojiTopPerkCard";var y=function(e){var t=e.heightClass;return d(f,{artwork:e.animation,className:[u.default.topPerkProfile,null!=t?t:u.default.topPerkCardHeight].join(" ")},void 0,d("div",{className:u.default.profileCustomizationCopyContainer},void 0,i.default.Messages.PREMIUM_MARKETING_SURFACE_TOP_PERK_PROFILE))};t.ProfileTopPerkCard=y;y.displayName="ProfileTopPerkCard"},222850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ProfileCustomizationAnimation=t.HDStreamAnimation=t.FileUploadAnimation=t.EmojiAnimation=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(235879)),i=l(n(230047)),u=l(n(622782));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t=e.shouldAnimate,r=e.onComplete,l=void 0===r?function(){}:r,s=e.loop,f=void 0!==s&&s,c=(0,a.useStateFromStores)([o.default],(function(){
return o.default.useReducedMotion}));return d(i.default,{importData:function(){return n.e(79994).then(n.t.bind(n,979994,19)).then((function(e){return e.default}))},loop:f,shouldAnimate:!c&&t,className:u.default.profileCustomizationAnimation,onComplete:l})};t.ProfileCustomizationAnimation=f;f.displayName="ProfileCustomizationAnimation";var c=function(e){var t=e.shouldAnimate,r=e.onComplete,l=void 0===r?function(){}:r,s=e.loop,f=void 0!==s&&s,c=(0,a.useStateFromStores)([o.default],(function(){return o.default.useReducedMotion}));return d(i.default,{importData:function(){return n.e(81805).then(n.t.bind(n,381805,19)).then((function(e){return e.default}))},loop:f,shouldAnimate:!c&&t,className:u.default.fileUploadAnimation,onComplete:l})};t.FileUploadAnimation=c;c.displayName="FileUploadAnimation";var p=function(e){var t=e.shouldAnimate,r=e.onComplete,l=void 0===r?function(){}:r,s=e.loop,f=void 0!==s&&s,c=(0,a.useStateFromStores)([o.default],(function(){return o.default.useReducedMotion}))
;return d(i.default,{importData:function(){return n.e(21191).then(n.t.bind(n,421191,19)).then((function(e){return e.default}))},loop:f,shouldAnimate:!c&&t,className:u.default.hdStreamAnimation,onComplete:l})};t.HDStreamAnimation=p;p.displayName="HDStreamAnimation";var v=function(e){var t=e.shouldAnimate,r=e.onComplete,l=void 0===r?function(){}:r,s=e.loop,f=void 0!==s&&s,c=(0,a.useStateFromStores)([o.default],(function(){return o.default.useReducedMotion}));return d(i.default,{importData:function(){return n.e(1819).then(n.t.bind(n,301819,19)).then((function(e){return e.default}))},loop:f,shouldAnimate:!c&&t,className:u.default.emojiAnimation,onComplete:l})};t.EmojiAnimation=v;v.displayName="EmojiAnimation"},68692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(294184)),i=v(n(225626)),u=v(n(373486)),l=n(265517),s=n(770348),d=n(997988),f=v(n(247001)),c=v(n(505021)),p=["onClose"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=_(i.default,{icons:d.DEFAULT_FILE_UPLOAD_ICONS});function g(e){var t=e.onClose,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,p),r=h,i=_("div",{className:c.default.body},void 0,_("span",{},void 0,f.default.Messages.UPLOAD_AREA_PREMIUM_UPSELL_BODY_LINE_1.format({maxSize:f.default.Messages.FILE_UPLOAD_LIMIT_STANDARD})),_("span",{},void 0,f.default.Messages.UPLOAD_AREA_PREMIUM_UPSELL_BODY_LINE_2.format({premiumMaxSize:f.default.Messages.FILE_UPLOAD_LIMIT_PREMIUM_TIER_2})));return a.createElement(u.default,m({artElement:r,artContainerClassName:(0,o.default)(c.default.artContainer),enableArtBoxShadow:!1,type:l.PremiumUpsellTypes.UPLOAD_ERROR_UPSELL,
title:f.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,body:i,context:f.default.Messages.UPLOAD_AREA_PREMIUM_UPSELL_BODY_LINE_1.format({maxSize:f.default.Messages.FILE_UPLOAD_LIMIT_STANDARD}),glowUp:f.default.Messages.UPLOAD_AREA_PREMIUM_UPSELL_BODY_LINE_2.format({premiumMaxSize:f.default.Messages.FILE_UPLOAD_LIMIT_PREMIUM_TIER_2}),analyticsLocation:{section:s.AnalyticsSections.FILE_UPLOAD_POPOUT},onClose:t},n))}g.displayName="FileUploadUpsell"},373486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=O(n(294184)),i=O(n(954140)),u=O(n(37039)),l=O(n(849209)),s=O(n(956117)),d=n(772575),f=n(645758),c=n(3400),p=O(n(308920)),v=n(152960),y=O(n(314182)),m=n(178321),_=n(770348),h=O(n(247001)),g=O(n(745576)),E=O(n(545292)),S=["title","type","guildBoostProps","analyticsSource","analyticsLocation","body","context","glowUp","artContainerClassName","transitionState","onClose","onSubscribeClick","onSecondaryClick","secondaryCTA","showNewBadge","enableArtBoxShadow"];function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e){var t=e.title,n=e.type,r=e.guildBoostProps,O=e.analyticsSource,b=e.analyticsLocation,T=e.body,A=e.context,C=e.glowUp,M=e.artContainerClassName,N=e.transitionState,P=e.onClose,R=e.onSubscribeClick,w=e.onSecondaryClick,D=e.secondaryCTA,L=e.showNewBadge,k=void 0!==L&&L,j=e.enableArtBoxShadow,U=void 0===j||j,G=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,S),F=null!=r,x=null!=(0,v.usePremiumTrialOffer)()&&!F,B=(0,u.default)(i.default.PREMIUM_UPSELL_MODAL).analyticsLocations;a.useEffect((function(){F?p.default.track(_.AnalyticEvents.PREMIUM_GUILD_UPSELL_VIEWED,{type:n+" - Tier "+r.boostedGuildTier,guild_id:r.guild.id,channel_id:r.channelId,location:b,location_stack:B}):p.default.track(_.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:n,source:O,location_stack:B})}),[F]);var H=U?(0,
o.default)(g.default.artContainer,g.default.artContainerBoxShadow,M):(0,o.default)(g.default.artContainer,M),V=null;V="artURL"in G?I("img",{className:g.default.art,alt:"",src:G.artURL}):G.artElement;return I(c.ModalRoot,{className:g.default.root,"aria-label":t,transitionState:N},void 0,I("div",{className:H},void 0,V,k?I("img",{className:g.default.sparkleBadge,alt:"",src:E.default}):null),I(c.ModalContent,{className:g.default.content},void 0,I(d.Heading,{className:g.default.header,variant:"heading-xl/medium",level:3},void 0,t),x?a.createElement(a.Fragment,null,null!=A&&I(f.Text,{className:g.default.context,variant:"text-md/normal"},void 0,A),I(m.PremiumTrialUpsellBrandedContainer,{},void 0,C)):I(f.Text,{variant:"text-md/normal"},void 0,T)),I(c.ModalFooter,{className:g.default.footer},void 0,I("div",{className:g.default.primaryActions},void 0,null!=D?I(s.default,{className:g.default.secondaryAction,onClick:w,size:s.default.Sizes.SMALL,color:s.default.Colors.PRIMARY,
look:s.default.Looks.LINK},void 0,D):null,F?I(l.default,{analyticsLocation:b,guild:r.guild,onClose:P}):I(y.default,{premiumModalAnalyticsLocation:b,subscriptionTier:_.PremiumSubscriptionSKUs.TIER_2,size:s.default.Sizes.SMALL,color:s.default.Colors.GREEN,onClick:function(){null==R||R();P()},buttonText:x?h.default.Messages.PREMIUM_TRIAL_CTA_BUTTON_VARIANT:void 0})),I(s.default,{onClick:P,size:s.default.Sizes.SMALL,color:s.default.Colors.PRIMARY,look:s.default.Looks.LINK},void 0,h.default.Messages.BACK)))}T.displayName="PremiumUpsellModal"},859639:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(350957)),i=l(n(862976)),u=l(n(954663));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d(i.default,{}),c=d(u.default,{});function p(){return(0,a.useStateFromStores)([o.default],(function(){return o.default.showNotice()}))?f:c}p.displayName="EditProfileSettingsNotice"},260532:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=F;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(923387),u=w(n(226800)),l=n(898361),s=w(n(37039)),d=n(203847),f=n(797132),c=n(799393),p=w(n(350957)),v=w(n(799017)),y=w(n(229024)),m=w(n(30098)),_=w(n(887609)),h=w(n(816624)),g=w(n(516818)),E=n(772575),S=w(n(186465)),O=n(645758),b=n(598671),I=n(956506),T=w(n(550270)),A=w(n(118911)),C=w(n(589811)),M=n(770348),N=n(840433),P=w(n(247001)),R=w(n(620582));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var k=L(A.default,{}),j=L(v.default,{});function U(e){var t=e.selectedGuild;a.useEffect((function(){(0,d.markDismissibleContentAsDismissed)(i.DismissibleContent.CENTRALIZED_PROFILE_EDITING)}),[]);return a.createElement(a.Fragment,null,L(O.Text,{variant:"text-sm/normal"},void 0,P.default.Messages.PROFILE_CUSTOMIZATION_GUILD_HINT.format({helpCenterLink:T.default.getArticleURL(M.HelpdeskArticles.GUILD_PROFILES)})),null!=t?L(C.default,{guildId:t.id}):k,j)}var G=L(y.default,{});function F(){
var e=(0,o.useStateFromStores)([_.default],(function(){return _.default.getFlattenedGuildIds()})),t=(0,o.useStateFromStores)([p.default],(function(){return p.default.getGuild()})),n=(0,o.useStateFromStores)([m.default],(function(){return m.default.getGuild(e[0])})),r=(0,o.useStateFromStores)([p.default,h.default],(function(){return p.default.showNotice()||h.default.showNotice()})),v=null!=t?t:n,y=(0,f.useIsDismissibleContentTypeDismissed)(i.DismissibleContent.CENTRALIZED_PROFILE_EDITING),O=(0,o.useStateFromStores)([g.default],(function(){var e;return null!==(e=g.default.getSubsection())&&void 0!==e?e:N.ProfileCustomizationSubsection.USER_PROFILE})),T=(0,s.default)(),A=T.AnalyticsLocationProvider,C=T.analyticsLocations,w=L(U,{selectedGuild:v});a.useEffect((function(){(0,d.markDismissibleContentAsDismissed)(i.DismissibleContent.CENTRALIZED_PROFILE_EDITING_SETTINGS_PAGE)}),[]);return L(A,{},void 0,L(E.Heading,{variant:"heading-lg/bold"
},void 0,P.default.Messages.USER_SETTINGS_PROFILES),L(S.default,{className:R.default.tabBar,type:S.default.Types.TOP,look:S.default.Looks.BRAND,selectedItem:O,onItemSelect:function(e){if(O!==e)if(r){I.ComponentDispatch.dispatch(M.ComponentActions.SHAKE_APP,{duration:300,intensity:l.SHAKE_INTENSITY_DEFAULT});I.ComponentDispatch.dispatch(M.ComponentActions.EMPHASIZE_NOTICE)}else{e===N.ProfileCustomizationSubsection.GUILD&&null==t&&null!=v&&(0,c.initGuildIdentitySettings)(v,C);u.default.setSection(M.UserSettingsSections.PROFILE_CUSTOMIZATION,e)}}},void 0,L(S.default.Item,{className:R.default.tabBarItem,id:N.ProfileCustomizationSubsection.USER_PROFILE},N.ProfileCustomizationSubsection.USER_PROFILE,P.default.Messages.EDIT_PROFILE_CATEGORY_USER_PROFILE),L(S.default.Item,{className:R.default.tabBarItem,id:N.ProfileCustomizationSubsection.GUILD
},N.ProfileCustomizationSubsection.GUILD,P.default.Messages.EDIT_PROFILE_CATEGORY_GUILD_IDENTITY),y||O!==N.ProfileCustomizationSubsection.USER_PROFILE?null:L(b.TextBadge,{text:P.default.Messages.NEW,className:R.default.newBadge})),function(){switch(O){case N.ProfileCustomizationSubsection.GUILD:return w;case N.ProfileCustomizationSubsection.USER_PROFILE:default:return G}}())}F.displayName="EditProfileSettings"},118911:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;y(n(667294));var r,a=y(n(264720)),o=n(139982),i=p(n(956117)),u=n(772575),l=n(645758),s=n(770348),d=p(n(247001)),f=p(n(194705)),c=p(n(854794));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){return m("div",{className:f.default.emptyState},void 0,m("img",{src:c.default,alt:"",className:f.default.image}),m(u.Heading,{className:f.default.topSpacing,variant:"heading-lg/bold"},void 0,d.default.Messages.GUILD_IDENTITY_SETTINGS_EMPTY_STATE_TITLE),m(l.Text,{
className:f.default.topSpacing,variant:"text-md/normal"},void 0,d.default.Messages.GUILD_IDENTITY_SETTINGS_EMPTY_STATE_DESCRIPTION),m(i.default,{className:f.default.topSpacing,onClick:function(){(0,o.transitionTo)(s.Routes.GUILD_DISCOVERY);a.popLayer()}},void 0,d.default.Messages.GUILD_IDENTITY_SETTINGS_EMPTY_STATE_CTA))}_.displayName="GuildIdentityCustomizationPageEmptyState"},482138:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.maybeOpenProfilePreviewModal=function(e,t,n,r){a.default.dispatch({type:o.ActionTypes.PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL,imageSrc:e,file:t,uploadType:n,guildId:r})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},102975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.FakeActivityCharacter=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=y(n(294184)),u=n(248088),l=y(n(235879)),s=n(772575),d=n(645758),f=y(n(247001)),c=y(n(763973)),p=y(n(524268)),v=y(n(950737));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S;function O(e){if(l.default.useReducedMotion)return 0;e-=5399;return Math.min(10,e/300*10)}t.FakeActivityCharacter=S;!function(e){e[e.WUMPUS=0]="WUMPUS";e[e.PHIBI=1]="PHIBI"}(S||(t.FakeActivityCharacter=S={}));var b=((r={})[S.WUMPUS]=c.default.activityCharacterWumpus,r[S.PHIBI]=c.default.activityCharacterPhibi,r),I=o.memo((function(e){var t,n,r=e.activityName,a=e.activityCharacter,l=void 0===a?S.WUMPUS:a,y=g(o.useState(0),2),m=y[0],E=y[1],I=g((0,u.useSpring)((function(){return{from:{rotate:"0deg"},config:{tension:1e3,friction:5}}})),2),T=I[0],A=I[1],C=o.useRef({seconds:m,jitter:(n=(t=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
t=O(C.current.seconds);A({rotate:"-"+t+"deg"});e.next=5;return new Promise((function(e){return setTimeout(e,80)}));case 5:A({rotate:t+"deg"});e.next=8;return new Promise((function(e){return setTimeout(e,80)}));case 8:e.next=0;break;case 10:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}),function(){return n.apply(this,arguments)})});o.useEffect((function(){C.current.seconds=m}));o.useEffect((function(){var e=setInterval((function(){E((function(e){5399===e&&C.current.jitter();return++e}))}),1e3);return function(){return clearInterval(e)}}),[]);var M=l===S.WUMPUS?v.default:p.default;return _("div",{"aria-hidden":!0},void 0,_(s.Heading,{className:c.default.fakeActivityTitle,variant:"eyebrow",color:"header-secondary",level:3},void 0,f.default.Messages.USER_SETTINGS_CUSTOMIZE_PROFILE_TITLE),_("div",{
className:c.default.fakeActivityLayout},void 0,_("div",{className:(0,i.default)(c.default.fakeActivityIcon,b[l])},void 0,_(u.animated.img,{className:c.default.fakeActivityPencil,src:M,style:T})),_("div",{className:c.default.fakeActivityContent},void 0,_(d.Text,{variant:"text-sm/semibold"},void 0,null!=r?r:f.default.Messages.USER_SETTINGS_USER_PROFILE),_(d.Text,{variant:"text-sm/normal"},void 0,f.default.Messages.PROFILE_CUSTOMIZATION_ACTIVITY_TIME.format({renderTimeHook:function(e,t){var n=m%60,r=(m-n)/60;return _("span",{className:c.default.fakeActivityTimeValues},t,r.toString().padStart(2,"0"),":",n.toString().padStart(2,"0"))}})))))}));t.default=I},216920:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=p(n(636602)),o=n(825185),i=p(n(177230)),u=n(799393),l=p(n(728429)),s=n(194322),d=p(n(838583)),f=n(770348),c=n(173708);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}
function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){a.default.subscribe(f.ActionTypes.PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL,this.maybeOpenProfilePreviewModal)};i._terminate=function(){a.default.unsubscribe(f.ActionTypes.PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL,this.maybeOpenProfilePreviewModal)};i.maybeOpenProfilePreviewModal=function(e){var t=e.imageSrc,a=e.file,i=e.uploadType,f=e.guildId,p=null!=f?u.setPendingAvatar:o.setPendingAvatar,v=null!=f?u.setPendingBanner:o.setPendingBanner,m=l.default.getCurrentUser();if(i===c.UploadTypes.AVATAR){if(d.default.canUploadAnimatedAvatar(m)||"image/gif"!==a.type){p(t);return}(0,s.openModalLazy)(_(regeneratorRuntime.mark((function e(){var a,o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(7888)]).then(n.bind(n,7888));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,y({avatarSrc:t,onSubscribe:function(){return p(t)}},e))}));case 5:case"end":return e.stop()}}),e)}))))}else if(i===c.UploadTypes.BANNER){if(d.default.canUsePremiumProfileCustomization(m)){v(t);return}(0,s.openModalLazy)(_(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(7888)]).then(n.bind(n,7888));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,y({bannerSrc:t,onSubscribe:function(){return v(t)}},e))}));case 5:case"end":return e.stop()}}),e)}))))}};i.__getLocalVars=function(){return{}};return t}(i.default));t.default=g},468532:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(688388),o=l(n(456701)),i=l(n(247001)),u=l(n(363304));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.children,n=e.profilePreview,r=e.title,l=e.description,s=e.previewTitle;return d("div",{},void 0,d(a.FormSection,{title:r,tag:a.FormTitleTags.H1,className:u.default.profileCustomizationSection},void 0,l,d("div",{className:u.default.baseLayout},void 0,t,d(o.default,{title:null!=s?s:i.default.Messages.PROFILE_CUSTOMIZATION_PREVIEW,className:u.default.preview},void 0,n))))}f.displayName="ProfileCustomizationPage"},845176:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=F
;var r,a=w(n(667294)),o=n(235234),i=n(536211),u=n(836233),l=n(832215),s=P(n(599950)),d=P(n(670729)),f=n(288702),c=P(n(426178)),p=P(n(876874)),v=P(n(788739)),y=P(n(949898)),m=P(n(16941)),_=P(n(661442)),h=n(772575),g=n(194322),E=w(n(692711)),S=P(n(838583)),O=n(100618),b=P(n(102975)),I=n(824726),T=n(88503),A=n(770348),C=n(173708),M=P(n(247001)),N=P(n(565967));function P(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}function k(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){k(o,r,a,i,u,"next",e)}function u(e){k(o,r,a,i,u,"throw",e)}i(void 0)}))}}function U(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e){
var t,r,P,R=e.user,w=e.guild,k=e.bannerColor,G=e.canUsePremiumCustomization,F=e.onUpsellClick,x=e.onAvatarChange,B=e.onBannerChange,H=e.pendingBanner,V=e.pendingBio,W=e.pendingPronouns,Y=e.pendingAvatar,K=e.pendingAvatarDecoration,z=e.pendingNickname,$=e.openPremiumSettings,q=e.activityName,Q=e.activityCharacter,X=U(a.useState(!1),2),Z=X[0],J=X[1],ee=(0,i.useStateFromStores)([v.default],(function(){return v.default.findActivity(R.id,(function(e){return e.type===A.ActivityTypes.CUSTOM_STATUS}))})),te=a.useContext(u.AccessibilityPreferencesContext).reducedMotion,ne=(0,l.useGlobalHasAvatarDecorations)().canUseAvatarDecorations?(0,I.getPreviewAvatarDecoration)(K,R):null,re=(0,s.default)(ne),ae=(0,i.useStateFromStores)([p.default],(function(){return null==w?null:p.default.getMember(w.id,R.id)})),oe=(0,i.useStateFromStores)([y.default],(function(){return y.default.isFocused()})),ie=a.useRef(null),ue=(0,I.getPreviewNickname)(z,null==ae?void 0:ae.nick),le=a.useCallback((function(){var e,t
;null===(e=ie.current)||void 0===e||null===(t=e.inputRef.current)||void 0===t||t.activateUploadDialogue()}),[]),se=a.useCallback((function(e,t){null==e||null==t?x(null):"image/gif"!==t.type||S.default.canUseAnimatedAvatar(R)?(0,g.openModalLazy)(j(regeneratorRuntime.mark((function r(){var o,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return Promise.all([n.e(40532),n.e(10170),n.e(52173)]).then(n.bind(n,810170));case 2:o=r.sent;i=o.default;return r.abrupt("return",(function(n){return a.createElement(i,L({onCrop:x,file:t,imgURI:e,allowSkip:!0},n))}));case 5:case"end":return r.stop()}}),r)})))):(0,g.openModalLazy)(j(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(14733)]).then(n.bind(n,614733));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,L({},t,{imgURI:e,
onChangeAvatar:function(){t.onClose();le()}}))}));case 5:case"end":return t.stop()}}),t)}))))}),[R,le,x]),de=function(e,t){if(null==e||null==t)return B(null);(0,g.openModalLazy)(j(regeneratorRuntime.mark((function r(){var o,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return Promise.all([n.e(40532),n.e(10170),n.e(52173)]).then(n.bind(n,810170));case 2:o=r.sent;i=o.default;return r.abrupt("return",(function(n){return a.createElement(i,L({onCrop:B,uploadType:C.UploadTypes.BANNER,file:t,imgURI:e,allowSkip:!0},n))}));case 5:case"end":return r.stop()}}),r)}))))};a.useEffect((function(){if(te.enabled){var e=(0,O.getUserBannerURLForContext)({user:R,guildMember:ae,canAnimate:!0,size:300});if(E.isAnimatedImageURL(e)){(new Image).src=null!=e?e:""}}}),[R,ae,te.enabled]);return D("div",{className:N.default.profileBannerPreview},void 0,function(){if(G){var e=te.enabled?Z:oe,t=(0,I.getPreviewBanner)(H,ae,R,e);return D("div",{onMouseMove:function(){
return J(!0)},onMouseLeave:function(){return J(!1)}},void 0,D(d.default,{className:N.default.bannerUploader,showRemoveButton:!1,disabled:!G,image:t,makeURL:function(){return t},onChange:de,imageStyle:{backgroundColor:(0,o.int2hex)(k)},imageClassName:N.default.bannerUploaderInnerSquare,hint:M.default.Messages.CHANGE_BANNER,onOpenImageSelectModal:function(){return(0,I.handleOpenSelectImageModal)(C.UploadTypes.BANNER,null==ae?void 0:ae.guildId)},hideSize:!0,maxFileSizeBytes:T.MAX_IMAGE_UPLOAD_FILESIZE_BYTES,onFileSizeError:I.showFileSizeErrorModal}),te.enabled&&E.isAnimatedImageURL(t)?D(_.default,{className:N.default.gifTag}):null)}return D("div",{className:N.default.bannerNormal,style:{backgroundColor:(0,o.int2hex)(k)}},void 0,D(m.default,{onClick:function(){return null==F?void 0:F({object:A.AnalyticsObjects.EDIT_PROFILE_BANNER})},className:N.default.bannerNitroUpsell},void 0,D(h.Heading,{className:N.default.bannerNitroUpsellText,variant:"eyebrow",level:3
},void 0,M.default.Messages.USER_SETTINGS_UNLOCK_BANNER)))}(),(t=(0,I.getPreviewAvatar)(Y,ae,R),r=null!=ae&&!G,P=D("div",{className:G?N.default.avatarUploaderPremium:N.default.avatarUploaderNormal},void 0,null!=re&&D("img",{src:re,className:N.default.avatarDecorationBorder,alt:" ","aria-hidden":!0}),a.createElement(d.default,{ref:ie,showIcon:null==ne,hint:r?M.default.Messages.UNLOCK_GUILD_MEMBER_AVATAR:void 0,showRemoveButton:!1,imageClassName:N.default.avatarUploaderInner,image:t,onChange:se,makeURL:function(){return t},maxFileSizeBytes:T.MAX_IMAGE_UPLOAD_FILESIZE_BYTES,onFileSizeError:I.showFileSizeErrorModal,onOpenImageSelectModal:function(){return(0,I.handleOpenSelectImageModal)(C.UploadTypes.AVATAR,null==ae?void 0:ae.guildId)}}),null!=ne&&null!=re&&D("img",{className:N.default.avatarDecoration,src:ne,alt:" ","aria-hidden":!0})),r?D(m.default,{onClickCapture:function(e){e.stopPropagation();null==F||F({object:A.AnalyticsObjects.AVATAR})}},void 0,P):P),D(f.UserPopoutInfo,{user:R,
nickname:ue,onOpenPremiumSettings:$,hasCustomStatus:null!=ee,usernameIcon:(0,I.shouldShowUsernameIcon)(Y,null==ae?void 0:ae.avatar)&&D(c.default,{user:R,nickname:ue})}),D("div",{className:N.default.popoutInfo},void 0,D(f.UserPopoutProfileText,{user:R,guild:w,pendingBio:V,pendingPronouns:W,customStatus:null!=ee?D(f.UserPopoutCustomStatus,{customStatusActivity:ee}):void 0}),D(b.default,{activityName:q,activityCharacter:Q})))}F.displayName="ProfileCustomizationPreview"},824726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getPreviewAvatar=function(e,t,n){if(null!=e)return e;var r=null===e,a=n.getAvatarURL(void 0,80,!0);if(null==t)return r?null:a;return r||null==(null==t?void 0:t.avatar)?a:n.getAvatarURL(null==t?void 0:t.guildId,80,!0)};t.getPreviewAvatarDecoration=function(e,t){return void 0!==e?e:l.default.getAvatarDecorationURL({userId:t.id,avatarDecoration:t.avatarDecoration,size:(0,o.getDecorationSizeForAvatarSize)(u.Sizes.SIZE_80)})}
;t.getPreviewBanner=function(e,t,n,r){if(null!=e)return e;var a=null===e,o=l.default.getUserBannerURL({id:n.id,banner:n.banner,canAnimate:r,size:600});if(null==t)return a?null:o;return a||null==(null==t?void 0:t.banner)?o:l.default.getGuildMemberBannerURL({id:n.id,banner:null==t?void 0:t.banner,canAnimate:r,size:600,guildId:null==t?void 0:t.guildId})};t.getPreviewNickname=function(e,t){return""===e?null:null!=e?e:t};t.handleOpenSelectImageModal=function(e,t){(0,i.openModalLazy)(_(regeneratorRuntime.mark((function a(){var o,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return Promise.all([n.e(40532),n.e(75527),n.e(80974)]).then(n.bind(n,75527));case 2:o=a.sent;i=o.default;return a.abrupt("return",(function(n){return r.createElement(i,y({maxFileSizeBytes:f.MAX_IMAGE_UPLOAD_FILESIZE_BYTES,onComplete:function(n,r){return(0,d.maybeOpenProfilePreviewModal)(n,r,e,t)},uploadType:e,showUpsellHeader:!0},n))}));case 5:case"end":return a.stop()}}),a)
}))))};t.shouldShowUsernameIcon=function(e,t){return null!==e&&null!=t};t.showFileSizeErrorModal=function(){(0,a.openUploadError)({title:c.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:c.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:(0,s.sizeString)(f.MAX_IMAGE_UPLOAD_FILESIZE_BYTES)})})};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(164101),o=n(392591),i=n(194322),u=n(628551),l=p(n(692711)),s=n(905835),d=n(482138),f=n(88503),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}},482117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(843314)),i=n(573285),u=n(424527),l=y(n(271180)),s=y(n(567186)),d=n(354479),f=y(n(456701)),c=n(770348),p=y(n(247001)),v=y(n(780683));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=(0,d.uid)(),S=new s.default({id:1,type:c.ChannelTypes.DM}),O=(0,d.uid)();function b(e){
var t=e.sectionTitle,n=e.errors,r=e.onBioChange,s=e.pendingBio,d=e.placeholder,y=e.currentBio,m=e.disabled,g=void 0!==m&&m,b=h(a.useState(null!=s?s:y),2),I=b[0],T=b[1],A=h(a.useState((0,u.toRichValue)(I)),2),C=A[0],M=A[1],N=a.useRef(!1);a.useEffect((function(){if(void 0===s&&I!==y){var e=(0,u.toRichValue)(y);T(y);M(e)}}),[s,y,I]);return _(f.default,{title:t,titleId:E,description:p.default.Messages.USER_SETTINGS_ABOUT_ME_DETAILS,errors:n,disabled:g},void 0,_(l.default,{"aria-describedby":O,"aria-labelledby":E,innerClassName:v.default.bioTextArea,maxCharacterCount:c.BIO_MAX_LENGTH,onChange:function(e,t,n){T(t);M(n);r(t)},placeholder:d,channel:S,textValue:I,richValue:C,type:i.ChatInputTypes.PROFILE_BIO_INPUT,onBlur:function(){N.current=!1},onFocus:function(){N.current=!0},focused:N.current,onSubmit:function(){return new Promise((function(e){e({shouldClear:!1,shouldRefocus:!0})}))}}),_(o.default,{id:O},void 0,p.default.Messages.MAXIMUM_LENGTH.format({maxLength:c.BIO_MAX_LENGTH})))}
b.displayName="AboutMeSection"},96194:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(825185),u=y(n(816624)),l=y(n(956117)),s=y(n(730977)),d=y(n(41024)),f=n(194322),c=y(n(456701)),p=y(n(247001)),v=y(n(796339));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}function S(e){var t=e.user,r=(0,
o.useStateFromStores)([u.default],(function(){return u.default.getPendingAvatarDecoration()})),y=(0,o.useStateFromStores)([u.default],(function(){return u.default.getErrors()})).avatarDecoration,m=void 0===r?null!=t.avatarDecoration:null!=r;return _(c.default,{title:a.createElement(a.Fragment,null,p.default.Messages.USER_SETTINGS_AVATAR_DECORATION,_(s.default,{text:p.default.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP},void 0,(function(e){return a.createElement(d.default,h({},e,{className:v.default.nitroWheel}))}))),errors:y},void 0,_("div",{className:v.default.buttonsContainer},void 0,_(l.default,{size:l.default.Sizes.SMALL,onClick:function(){(0,f.openModalLazy)(E(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(80381)]).then(n.bind(n,780381));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":
return e.stop()}}),e)}))))}},void 0,p.default.Messages.USER_SETTINGS_CHANGE_AVATAR_DECORATION),m&&_(l.default,{className:v.default.removeButton,color:l.default.Colors.PRIMARY,look:l.default.Looks.LINK,size:l.default.Sizes.SMALL,onClick:function(){var e=null==t.avatarDecoration?void 0:null;(0,i.setPendingAvatarDecoration)(e)}},void 0,p.default.Messages.USER_SETTINGS_REMOVE_AVATAR_DECORATION)))}S.displayName="AvatarDecorationsSection"},498163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=d(n(956117)),o=n(824726),i=d(n(456701)),u=n(173708),l=d(n(247001)),s=d(n(807640));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.showRemoveAvatarButton,n=e.errors,r=e.onAvatarChange,d=e.sectionTitle,f=e.guildId,p=e.disabled,v=void 0!==p&&p;return c(i.default,{title:d,errors:n,disabled:v},void 0,c("div",{className:s.default.buttonsContainer},void 0,c(a.default,{size:a.default.Sizes.SMALL,onClick:function(){
return(0,o.handleOpenSelectImageModal)(u.UploadTypes.AVATAR,f)}},void 0,l.default.Messages.USER_SETTINGS_CHANGE_AVATAR),t&&c(a.default,{className:s.default.removeButton,color:a.default.Colors.PRIMARY,look:a.default.Looks.LINK,size:a.default.Sizes.SMALL,onClick:function(){return r(null)}},void 0,l.default.Messages.USER_SETTINGS_REMOVE_AVATAR)))}p.displayName="AvatarSection"},456701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=n(645758),u=n(688388),l=n(905835),s=d(n(107159))
;function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.errors;return a.createElement(a.Fragment,null,t.map((function(e,t){return c(i.Text,{variant:"text-xs/normal",color:"text-danger",className:s.default.errorMessage},t,e.replace(/[0-9.,]+ ?kb/g,(function(e){var t=1024*parseInt(e,10);return isNaN(t)?e:(0,l.sizeString)(t)})))})))}function v(e){
var t,n=e.title,r=e.titleId,a=e.description,i=e.children,l=e.className,d=e.errors,f=e.disabled,v=void 0!==f&&f;return c("div",{className:(0,o.default)(s.default.customizationSection,l,(t={},t[s.default.disabled]=v,t))},void 0,c(u.FormTitle,{className:s.default.title,id:r},void 0,n),null!=a?c(u.FormText,{type:u.FormText.Types.DESCRIPTION,className:s.default.sectionDescription},void 0,a):null,i,null!=d&&c(p,{errors:d}))}v.displayName="CustomizationSection"},589811:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}(n(667294)),o=m(n(441143)),i=n(536211),u=n(799393),l=m(n(350957)),s=m(n(30098)),d=m(n(887609)),f=m(n(380439)),c=m(n(614617)),p=m(n(456701)),v=m(n(247001)),y=m(n(97880));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.guildId,n=(0,i.useStateFromStores)([d.default],(function(){return d.default.getFlattenedGuildIds()})),r=(0,i.useStateFromStores)([s.default],(function(){return s.default.getGuilds()})),m=(0,
i.useStateFromStores)([l.default],(function(){return l.default.showNotice()})),_=a.useMemo((function(){return n.map((function(e){var t=r[e];(0,o.default)(null!=t,"guild should not be null");return{label:t.name,value:t.id}}))}),[n,r]),g=a.useCallback((function(e){return null==e?null:h(f.default,{className:y.default.guildSelectOptionIcon,guild:r[e.value],size:f.default.Sizes.SMOL,active:!0})}),[r]);return h(p.default,{className:y.default.section,title:v.default.Messages.PROFILE_CUSTOMIZATION_GUILD_SELECT_TITLE},void 0,h(c.default,{isDisabled:m,onChange:function(e){var t=r[e];null!=t&&(0,u.setCurrentGuild)(t)},value:t,options:_,renderOptionPrefix:g,placeholder:v.default.Messages.PROFILE_CUSTOMIZATION_GUILD_SELECT_PLACEHOLDER}))}g.displayName="GuildSelector"},561511:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(956117)),i=p(n(730977)),u=p(n(41024)),l=n(824726),s=p(n(456701)),d=n(173708),f=p(n(247001)),c=p(n(20945));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e){var t=e.sectionTitle,n=e.canUsePremiumCustomization,r=e.showRemoveBannerButton,p=e.errors,v=e.upsellButton,_=e.onBannerChange,h=e.guildId,g=e.disabled,E=void 0!==g&&g;return y(s.default,{title:a.createElement(a.Fragment,null,t,y(i.default,{text:f.default.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP},void 0,(function(e){return a.createElement(u.default,m({},e,{className:c.default.nitroWheel}))}))),errors:p,description:f.default.Messages.USER_SETTINGS_BANNER_SPECS,disabled:E},void 0,n||E?y("div",{className:c.default.buttonsContainer},void 0,y(o.default,{size:o.default.Sizes.SMALL,onClick:function(){return(0,l.handleOpenSelectImageModal)(d.UploadTypes.BANNER,h)}
},void 0,f.default.Messages.CHANGE_BANNER),r&&y(o.default,{className:c.default.removeButton,color:o.default.Colors.PRIMARY,look:o.default.Looks.LINK,size:o.default.Sizes.SMALL,onClick:function(){return _(null)}},void 0,f.default.Messages.USER_SETTINGS_REMOVE_BANNER)):v)}_.displayName="ProfileBannerSection"},431676:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=g(n(294184)),i=n(235234),u=g(n(213847)),l=g(n(16941)),s=n(876276),d=g(n(160629)),f=n(26172),c=n(645758),p=g(n(992193)),v=g(n(50867)),y=g(n(456701)),m=n(770348),_=g(n(247001)),h=g(n(371662));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function T(e){return(null!=e?(0,i.getDarkness)(e):1)>.25}function A(e){var t,n,r=e.defaultAvatarColor,g=e.savedUserColor,E=e.pendingColor,I=e.setPendingAccentColor,A=b(a.useState(g),2),C=A[0],M=A[1],N=(0,u.default)(),P=null!==(t=(0,i.hex2int)(N===m.ThemeTypes.DARK?m.HEXColors.PRIMARY_DARK_600:m.HEXColors.WHITE))&&void 0!==t?t:0,R=void 0!==E&&null==E||null==E&&null==g;function w(){if(L===g)return I(void 0);I(L)}function D(e){I(e);M(e)}a.useEffect((function(){void 0===E&&M(g)}),[E,g]);var L=null!=C?C:P,k=L===P,j=T(L)?m.Colors.WHITE:m.Colors.PRIMARY_DARK_530,U=T(R?r:L)?m.Colors.WHITE:m.Colors.PRIMARY_DARK_530,G=O(p.default,{width:32,height:24,color:U}),F=(0,f.useRadioGroup)({orientation:"horizontal"}),x=(0,f.useRadioItem)({isSelected:R,label:_.default.Messages.USER_SETTINGS_PROFILE_COLOR_DEFAULT_BUTTON.format({colorHex:(0,i.int2hex)(r)})}),B=(0,f.useRadioItem)({isSelected:!R,label:_.default.Messages.USER_SETTINGS_PROFILE_COLOR_CUSTOM_BUTTON.format({colorHex:(0,i.int2hex)(L)})})
;return O(y.default,{className:h.default.profileColorSection,title:_.default.Messages.USER_SETTINGS_PROFILE_COLOR},void 0,a.createElement("div",S({className:h.default.buttonsContainer,"aria-label":_.default.Messages.USER_SETTINGS_PROFILE_COLOR},F),O("div",{className:h.default.colorSwatch},void 0,a.createElement(l.default,S({onClick:function(){null==g&&void 0===E||I(null)}},x),O("div",{className:h.default.swatch,style:{backgroundColor:(0,i.int2hex)(r)}},void 0,R?G:null),O(c.Text,{className:h.default.swatchDescription,color:"header-secondary",variant:"text-xs/normal","aria-hidden":!0},void 0,_.default.Messages.USER_SETTINGS_PROFILE_COLOR_DEFAULT))),O("div",{className:h.default.colorSwatch},void 0,a.createElement(l.default,S({onClick:w},B),O("div",{className:(0,o.default)(h.default.customSwatch,(n={},n[h.default.defaultSwatch]=k,n)),style:{backgroundColor:(0,i.int2hex)(L),borderColor:k?void 0:(0,i.int2hex)(L)}},void 0,R?null:G),O(c.Text,{className:h.default.swatchDescription,
color:"header-secondary",variant:"text-xs/normal","aria-hidden":!0},void 0,_.default.Messages.USER_SETTINGS_PROFILE_COLOR_CUSTOM)),O(d.default,{onRequestOpen:w,renderPopout:function(e){return a.createElement(s.CustomColorPicker,S({},e,{value:L,onChange:D}))}},void 0,(function(e){return a.createElement(l.default,S({},e,{className:h.default.dropperIconButton,"aria-label":_.default.Messages.USER_SETTINGS_PROFILE_COLOR_SELECT_COLOR,focusProps:{offset:{bottom:45,left:45}}}),O(v.default,{className:h.default.dropperIcon,width:14,height:14,color:j}))})))))}A.displayName="ProfileColorSection"},777018:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(279950)),o=u(n(456701)),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.sectionTitle,n=e.errors,r=e.onPronounsChange,u=e.pendingPronouns,l=e.placeholder,d=e.currentPronouns,f=e.disabled,c=void 0!==f&&f;return s(o.default,{title:t,errors:n,
disabled:c},void 0,s(a.default,{placeholder:null!=l?l:i.default.Messages.PROFILE_CUSTOMIZATION_PRONOUNS_PLACEHOLDER,maxLength:40,value:null!=u?u:d,onChange:function(e){r(e===d?void 0:e)},disabled:c}))}d.displayName="PronounsSection"},126515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(536211)),o=c(n(972247)),i=c(n(636602)),u=c(n(311492)),l=c(n(30098)),s=c(n(689389)),d=n(732978),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v="publicUpsellChannelNoticeGuilds",y=new Set;var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e;this.waitFor(s.default,l.default,u.default);this.syncWith([s.default,l.default,u.default],f.NOOP)
;y=null!==(e=new Set(o.default.get(v)))&&void 0!==e?e:new Set};n.isVisible=function(e){if(null!=e){var t=u.default.getMemberCount(e.id);return!y.has(e.id)&&null!=t&&t>=d.COMMUNITY_UPSELL_MINIMUM_GUILD_SIZE&&s.default.can(f.Permissions.ADMINISTRATOR,e)&&!e.hasFeature(f.GuildFeatures.COMMUNITY)}};n.__getLocalVars=function(){return{PUBLIC_UPSELL_CHANNEL_NOTICE_GUILDS_KEY:v,guildIds:y}};return t}(a.default.Store);m.displayName="EnablePublicGuildUpsellNoticeStore";var _=new m(i.default,((r={})[f.ActionTypes.PUBLIC_UPSELL_NOTICE_DISMISS]=function(e){var t=e.guildId;if(!y.has(t)){y.add(t);o.default.set(v,y);return!0}},r));t.default=_},666280:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=f(n(918667)),u=f(n(964285)),l=n(770348),s=f(n(247001)),d=f(n(864244));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.guild,n=a.useCallback((function(){(0,
o.hideEnablePublicGuildUpsellNotice)(t.id)}),[t.id]);return p(i.default,{guild:t,onDismissed:n,onClick:function(){return u.default.open(t.id,l.GuildSettingsSections.COMMUNITY)},message:s.default.Messages.NOTICE_ENABLE_PUBLIC_GUILD_UPSELL_MESSAGE,trackingSource:l.ChannelNoticeCtaSources.ENABLE_PUBLIC_GUILD_UPSELL_NOTICE,type:l.ChannelNoticeTypes.PUBLIC_UPSELL,image:d.default,cta:s.default.Messages.LEARN_MORE})};v.displayName="EnablePublicGuildUpsellNotice";var y=v;t.default=y},480826:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.QUARANTINE_APPEAL_LINK=void 0;t.QUARANTINE_APPEAL_LINK="https://dis.gd/appeal"},528660:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=n(536211),o=n(11710),i=(r=n(201292))&&r.__esModule?r:{default:r},u=n(770348);var l=function(e,t){var n=(0,o.useShowConvoStarterInDM)(t),r=(0,a.useStateFromStores)([i.default],(function(){return i.default.getMessages(t.id).length>0}),[t])
;return null!=e&&(e.hasFlag(u.UserFlags.QUARANTINED)&&n&&!r)};t.default=l},604966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;Object.defineProperty(t,"useShouldBlockDMInputForQuarantinedUser",{enumerable:!0,get:function(){return i.default}});!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(960736),o=s(n(550270)),i=s(n(528660)),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}
function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=n(513157),p=function(){return f(a.MessageNoticeBanner,{bannerIcon:c,bannerHeader:l.default.Messages.YOUR_ACCOUNT_IS_QUARANTINED,bannerSubtext:l.default.Messages.QUARANTINE_MODE_DM_BAR_SUBTEXT.format({helpdeskArticle:o.default.getArticleURL(u.HelpdeskArticles.QUARANTINE)})})};p.displayName="QuarantinedUserDMBanner";var v=p;t.default=v},348612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(522731)),i=n(770348);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e){e.relationship.type===i.RelationshipTypes.PENDING_INCOMING&&o.showPendingNotification(e.relationship.user)}function s(e){var t=e.user;o.showAcceptedNotification(t)}var d={init:function(){a.default.subscribe(i.ActionTypes.RELATIONSHIP_ADD,l);a.default.subscribe(i.ActionTypes.FRIEND_REQUEST_ACCEPTED,s)}};t.default=d},861798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.VALIDATE_SOCKET_THROTTLERS=t.VALIDATE_SOCKET_PERIOD_MS=t.VALIDATE_SOCKET_CALLS_PER_PERIOD_LOW=t.VALIDATE_SOCKET_CALLS_PER_PERIOD_HIGH=void 0;t.computeActivityFlags=function(e,t){void 0===t&&(t=!1);var n=e.instance,r=e.secrets,a=e.party,o=0;n&&(o|=I.ActivityFlags.INSTANCE);null!=(null==r?void 0:r.join)&&(o|=I.ActivityFlags.JOIN);if(t){o|=I.ActivityFlags.EMBEDDED;return o|=I.ActivityFlags.PARTY_PRIVACY_VOICE_CHANNEL}if((null==a?void 0:a.privacy)===I.ActivityPartyPrivacy.PUBLIC||u.default.get("ACTIVITIES_FORCE_PUBLIC")){c.AllowActivityPartyPrivacyFriends.getSetting()&&(o|=I.ActivityFlags.PARTY_PRIVACY_FRIENDS);c.AllowActivityPartyPrivacyVoiceChannel.getSetting()&&(o|=I.ActivityFlags.PARTY_PRIVACY_VOICE_CHANNEL)}return o};t.containsSameValues=function(e,t){return r.default.isEqual(e,r.default.pick(t,Object.keys(e)))};t.fetchApplicationsRPC=function(e,t,n){return o.default.get({url:I.Endpoints.APPLICATION_RPC(t),oldFormErrors:!0,retries:3}).then((function(r){
var a=r.body,o=a.rpc_origins,i=a.id,u=a.name,l=a.icon,d=a.cover_image,f=a.flags;if("string"==typeof n)if(e.transport===I.TransportTypes.POST_MESSAGE){var c=(0,s.default)(t);if(null==c||!k(n,[c]))throw new O.default(I.RPCCloseCodes.INVALID_ORIGIN,"Invalid Origin")}else if(!k(n,o))throw new O.default(I.RPCCloseCodes.INVALID_ORIGIN,"Invalid Origin");e.application={id:i,name:u,icon:l,coverImage:d,flags:f}}),(function(){throw new O.default(I.RPCCloseCodes.INVALID_CLIENTID,"Invalid Client ID")}))};t.getDeprecatedVoiceSettingsWithShortcut=function(e){var t=y.default.getSettings(),n=function(e){return Object.values(e).sort((function(e,t){return e.index-t.index})).map((function(e){return{id:e.id,name:e.name}}))},r=e(t);return{input:{available_devices:n(y.default.getInputDevices()),device_id:t.inputDeviceId,volume:t.inputVolume},output:{available_devices:n(y.default.getOutputDevices()),device_id:t.outputDeviceId,volume:t.outputVolume},mode:{type:t.mode,auto_threshold:t.modeOptions.autoThreshold,
threshold:t.modeOptions.threshold,shortcut:r,delay:t.modeOptions.delay},automatic_gain_control:t.automaticGainControl,echo_cancellation:t.echoCancellation,noise_suppression:t.noiseSuppression,qos:t.qos,silence_warning:t.silenceWarning,deaf:t.deaf,mute:t.mute}};t.getRemoteIconURL=L;t.getVoiceConnectionState=function(e){switch(e){case I.RTCConnectionStates.RTC_CONNECTED:case I.RTCConnectionStates.RTC_CONNECTING:case I.RTCConnectionStates.RTC_DISCONNECTED:return e.replace(/^RTC_/,"VOICE_");default:return e}};t.getVoiceSettingsWithShortcut=function(e,t){var n=y.default.getSettings(e),r=t(n);return{input_mode:{type:n.mode,shortcut:r},local_mutes:Object.keys(n.localMutes),local_volumes:n.localVolumes,self_mute:n.mute,self_deaf:n.deaf}};t.hasMessageReadPermission=function(e,t,n){var r=v.default.getGuild(e.getGuildId());return(null!=r?r.getApplicationId():e.getApplicationId())===t||n.indexOf(I.OAuth2Scopes.MESSAGES_READ)>-1};t.isMatchingOrigin=function(e){if(null==e)return!1
;var t,n=window.location.origin;if(e===n)return!0;try{t=a.default.parse(e).hostname}catch(e){return!1}if(window.location.hostname===t&&"localhost"===t)return!0;if(null!=e.match("staging"))return!1;if(P.test(e)&&P.test(n))return!0;return!1};t.processSocketThrottlers=function(e,t){return G.apply(this,arguments)};t.transformChannel=function(e,t){var n=[],r=e.getGuildId();[I.ChannelTypes.GUILD_CATEGORY].concat((a=p.GUILD_VOCAL_CHANNEL_TYPES,function(e){if(Array.isArray(e))return M(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(a)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).includes(e.type)||n.push(new Promise((function(t){m.default.whenReady(e.id,(function(){return t()}));l.default.fetchMessages({channelId:e.id,limit:I.MAX_MESSAGES_PER_CHANNEL})})));var a;return Promise.all(n).then((function(){var n,a=(!e.isNSFW()||!0===(null===(n=h.default.getCurrentUser())||void 0===n?void 0:n.nsfwAllowed))&&t?m.default.getMessages(e.id).toArray().map(j):[],o=Object.values(g.default.getVoiceStatesForChannel(e.id)).map((function(t){return U(r,e.id,t)}));return{id:e.id,name:e.name,type:e.type,topic:e.topic,bitrate:e.bitrate,user_limit:e.userLimit,guild_id:r,position:e.position,messages:a,voice_states:o}}))};t.transformInternalTextMessage=j;t.transformRelationship=function(e,t,n){var r=h.default.getUser(t);return{type:e,user:null!=r?(0,b.default)(r):null,presence:{status:_.default.getStatus(t),
activity:null!=n?_.default.getApplicationActivity(t,n):_.default.getPrimaryActivity(t)}}};t.transformVoiceState=U;t.validateActivityInvite=function(e,t,n){if(e===I.ActivityActionTypes.JOIN)return null!=t&&null!=t.id&&null!=n.join;return!1};t.validateApplication=function(e){if(null==e.id)throw new O.default(I.RPCErrors.INVALID_COMMAND,"Invalid application")};t.validateOrigin=k;t.validateOriginAndUpdateSocket=function(e,t){null==t&&(e.authorization.scopes=[I.RPC_LOCAL_SCOPE])};t.validatePostMessageTransport=function(e){if(e!==I.TransportTypes.POST_MESSAGE)throw new O.default(I.RPCErrors.INVALID_COMMAND,'command not available from "'+e+" transport")};var r=T(n(496486)),a=T(n(608575)),o=T(n(118915)),i=T(n(229354)),u=T(n(972247)),l=T(n(786345)),s=T(n(525917)),d=T(n(268389)),f=n(907932),c=n(894826),p=n(567186),v=T(n(30098)),y=T(n(635014)),m=T(n(201292)),_=T(n(788739)),h=T(n(728429)),g=T(n(387692)),E=T(n(29652)),S=T(n(827513)),O=T(n(248369)),b=T(n(838641)),I=n(770348);function T(e){
return e&&e.__esModule?e:{default:e}}function A(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,u,"next",e)}function u(e){A(o,r,a,i,u,"throw",e)}i(void 0)}))}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(){var e=I.API_HOST.split(":")[0];if(!e.includes("."))return e;var t=e.split("."),n=t[t.length-1];return/^\d+$/.test(n)?e:t.slice(-2).join(".")}(),P=new RegExp("^"+S.default.escape("https://")+"(?:[a-z]+\\.)?("+S.default.escape(N)+"|discordapp.com|discord.com)$");t.VALIDATE_SOCKET_CALLS_PER_PERIOD_LOW=2;t.VALIDATE_SOCKET_CALLS_PER_PERIOD_HIGH=60;var R=6e4;t.VALIDATE_SOCKET_PERIOD_MS=R;var w={};t.VALIDATE_SOCKET_THROTTLERS=w;function D(e){"customEmoji"===e.type&&(e.type="emoji");"emoji"===e.type&&e.src&&(e.src=L(e.src))
;Array.isArray(e.content)&&(e.content=e.content.map(D));return e}function L(e){return/^http/.test(e)?e:location.protocol+"//"+location.host+("/"===e.charAt(0)?"":"/")+e}function k(e,t){void 0===t&&(t=[]);return t.indexOf(e)>-1}function j(e){var t=d.default.parseToAST(e.content,!0,{channelId:e.channel_id}).map(D),n=(0,f.getMessageAuthor)(e),r=n.colorString,a=n.nick;return{id:e.id,blocked:e.blocked,bot:e.bot,content:e.content,content_parsed:t.length?t:void 0,nick:a,author_color:r,edited_timestamp:e.edited_timestamp||e.editedTimestamp,timestamp:e.timestamp,tts:e.tts,mentions:e.mentions,mention_everyone:e.mention_everyone||e.mentionEveryone,mention_roles:e.mention_roles||e.mentionRoles,embeds:e.embeds,attachments:e.attachments,author:e.author?(0,b.default)(e.author):void 0,pinned:e.pinned,type:e.type}}function U(e,t,n){var r=n.mute,a=n.deaf,o=n.selfMute,i=n.selfDeaf,u=n.suppress,l=n.userId,s=h.default.getUser(l);if(null==s)throw new Error("Invalid user id: "+l);return{
nick:E.default.getName(e,t,s),mute:y.default.isLocalMute(s.id),volume:y.default.getLocalVolume(s.id),pan:y.default.getLocalPan(s.id),voice_state:{mute:r,deaf:a,self_mute:o,self_deaf:i,suppress:u},user:(0,b.default)(s)}}function G(){return(G=C(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(r=w[t])){a=n?2:60;r=new i.default(a,R);w[t]=r}e.next=4;return r.process();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},676606:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n={HANDSHAKE:0,FRAME:1,CLOSE:2,HELLO:3};t.default=n},318671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=a({},e);(function(e){var t=e;return"object"==typeof t.args&&"string"==typeof t.cmd})(t)&&(t=function(e){if(e.cmd===r.RPCCommands.AUTHENTICATE)return a({},e,{args:a({},e.args,{access_token:o})});return a({},e)}(t))
;(function(e){var t=e;return"object"==typeof t.data&&"string"==typeof t.cmd})(t)&&(t=function(e){if(e.cmd===r.RPCCommands.AUTHENTICATE)return a({},e,{data:a({},e.data,{access_token:o})});return a({},e)}(t));return t};var r=n(770348);function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return a.apply(this,arguments)}var o="<removed>"},682644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=T(n(496486)),a=n(536211),o=T(n(636602)),i=T(n(644263)),u=T(n(876874)),l=T(n(319111)),s=T(n(361585)),d=T(n(635014)),f=T(n(788739)),c=T(n(893160)),p=T(n(290629)),v=T(n(211136)),y=T(n(538983)),m=T(n(728429)),_=T(n(387692)),h=T(n(308920)),g=n(71246),E=n(864489),S=n(861798),O=T(n(838641)),b=n(770348),I=n(376293);function T(e){return e&&e.__esModule?e:{default:e}}function A(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(){function e(e){this.rpcServer=e.server;this.transports=e.transports
;this.rpcCommandHandlers=e.commands;this.rpcEventHandlers=e.events;this.stores=e.stores;this.registerTransportsForEmbeddedPlatform=e.registerTransportsForEmbeddedPlatform}var t=e.prototype;t.loadServer=function(){E.isPlatformEmbedded&&this.registerTransportsForEmbeddedPlatform();for(var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=C(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.transports);!(e=t()).done;){var n=e.value;this.rpcServer.registerTransport(n)}for(var r=this.rpcCommandHandlers,a=0,o=Object.entries(r);a<o.length;a++){var i=A(o[a],2),u=i[0],l=i[1];this.rpcServer.setCommandHandler(u,l)}
for(var s=this.rpcEventHandlers,d=0,f=Object.entries(s);d<f.length;d++){var c=A(f[d],2),p=c[0],v=c[1];this.rpcServer.setEventHandler(p,v)}};t.init=function(){var e=this;this.rpcServer.getCurrentUser=function(){return m.default.getCurrentUser()};this.rpcServer.onConnect=function(e){o.default.dirtyDispatch({type:b.ActionTypes.RPC_APP_CONNECTED,socketId:e.id,application:e.application});h.default.track(b.AnalyticEvents.AUTHORIZED_APP_CONNECTED,{app_id:e.application.id,transport:e.transport})};this.rpcServer.onDisconnect=function(e,t){o.default.dirtyDispatch({type:b.ActionTypes.RPC_APP_DISCONNECTED,socketId:e.id,application:e.application,reason:t})};var t=[i.default,u.default,f.default,_.default,d.default,c.default];new a.BatchedStoreListener(t.concat(this.stores),(function(){return e.rpcServer.updateSubscriptions()})).attach("RPCServerManager");o.default.subscribe(b.ActionTypes.MESSAGE_CREATE,(function(t){return e.handleMessage(t)}))
;o.default.subscribe(b.ActionTypes.MESSAGE_UPDATE,(function(t){return e.handleMessage(t)}));o.default.subscribe(b.ActionTypes.MESSAGE_DELETE,(function(t){return e.handleMessage(t)}));o.default.subscribe(b.ActionTypes.SPEAKING,(function(t){return e.handleSpeaking(t)}));o.default.subscribe(b.ActionTypes.OAUTH2_TOKEN_REVOKE,(function(t){return e.handleOAuth2TokenRevoke(t)}));o.default.subscribe(b.ActionTypes.GUILD_CREATE,(function(t){return e.handleGuildCreate(t)}));o.default.subscribe(b.ActionTypes.CHANNEL_CREATE,(function(t){return e.handleChannelCreate(t)}));o.default.subscribe(b.ActionTypes.LOGOUT,(function(){return e.handleLogout()}));o.default.subscribe(b.ActionTypes.VOICE_CHANNEL_SELECT,(function(t){return e.handleVoiceChannelSelect(t)}));o.default.subscribe(b.ActionTypes.RPC_NOTIFICATION_CREATE,(function(t){return e.handleNotificationCreate(t)}));o.default.subscribe(b.ActionTypes.ACTIVITY_JOIN,(function(t){return e.handleActivityJoin(t)}))
;o.default.subscribe(b.ActionTypes.ACTIVITY_PIP_MODE_UPDATE,(function(t){return e.handleActivityPIPModeUpdate(t)}));o.default.subscribe(b.ActionTypes.RELATIONSHIP_ADD,(function(t){return e.handleRelationshipAdd(t)}));o.default.subscribe(b.ActionTypes.RELATIONSHIP_REMOVE,(function(t){return e.handleRelationshipRemove(t)}));o.default.subscribe(b.ActionTypes.PRESENCE_UPDATES,(function(t){return e.handlePresenceUpdate(t)}));o.default.subscribe(b.ActionTypes.PRESENCES_REPLACE,(function(){return e.handlePresencesReplace()}));o.default.subscribe(b.ActionTypes.LOBBY_UPDATE,(function(t){return e.handleLobbyUpdate(t)}));o.default.subscribe(b.ActionTypes.LOBBY_DELETE,(function(t){return e.handleLobbyDelete(t)}));o.default.subscribe(b.ActionTypes.LOBBY_MEMBER_CONNECT,(function(t){return e.handleLobbyMemberConnect(t)}));o.default.subscribe(b.ActionTypes.LOBBY_MEMBER_UPDATE,(function(t){return e.handleLobbyMemberUpdate(t)}));o.default.subscribe(b.ActionTypes.LOBBY_MEMBER_DISCONNECT,(function(t){
return e.handleLobbyMemberDisconnect(t)}));o.default.subscribe(b.ActionTypes.LOBBY_MESSAGE,(function(t){return e.handleLobbyMessage(t)}));o.default.subscribe(b.ActionTypes.ENTITLEMENT_CREATE,(function(t){return e.handleEntitlementCreate(t)}));o.default.subscribe(b.ActionTypes.ENTITLEMENT_DELETE,(function(t){return e.handleEntitlementDelete(t)}));o.default.subscribe(b.ActionTypes.USER_ACHIEVEMENT_UPDATE,(function(t){return e.handleUserAchievementUpdate(t)}))};t.handleMessage=function(e){if(0!==this.rpcServer.subscriptions.length){e.type===b.ActionTypes.MESSAGE_CREATE&&this.handleActivityMessage(e);var t,n,r,a=null;switch(e.type){case b.ActionTypes.MESSAGE_CREATE:if("SENDING"===e.message.state)return;t=b.RPCEvents.MESSAGE_CREATE;n=e.channelId;r=e.message;a=""+t+e.message.id;break;case b.ActionTypes.MESSAGE_UPDATE:t=b.RPCEvents.MESSAGE_UPDATE;n=e.message.channel_id;r=e.message;break;case b.ActionTypes.MESSAGE_DELETE:t=b.RPCEvents.MESSAGE_DELETE;n=e.channelId;r={id:e.id};a=""+t+e.id;break
;default:return(0,g.assertNever)(e)}null!=n&&this.rpcServer.dispatchToSubscriptions(t,{channel_id:n},{channel_id:n,message:(0,S.transformInternalTextMessage)(r)},a)}};t.handleSpeaking=function(e){var t=this;if(0!==this.rpcServer.subscriptions.length){var n=0!==e.speakingFlags?b.RPCEvents.SPEAKING_START:b.RPCEvents.SPEAKING_STOP;if(e.context===I.MediaEngineContextTypes.DEFAULT){var r=v.default.getVoiceChannelId();if(null!=r){var a=i.default.getChannel(r);if(null==a)return;var o=_.default.getVoiceState(a.getGuildId(),e.userId);if(null==o)return;this.rpcServer.dispatchToSubscriptions(n,{channel_id:o.channelId},{channel_id:o.channelId,user_id:e.userId})}}else s.default.getLobbyIdsForUser(e.userId).forEach((function(r){var a=l.default.getLobby(r);null!=a&&a.application_id===e.context&&t.rpcServer.dispatchToSubscriptions(n,{},{lobby_id:r,user_id:e.userId})}))}};t.handleVoiceChannelSelect=function(e){var t=e.guildId,n=e.channelId
;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.VOICE_CHANNEL_SELECT,{},{channel_id:n,guild_id:t})};t.handleNotificationCreate=function(e){var t=e.channelId,n=e.message,r=e.icon,a=e.title,o=e.body;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.NOTIFICATION_CREATE,{},{channel_id:t,message:(0,S.transformInternalTextMessage)(n),icon_url:null!=r?(0,S.getRemoteIconURL)(r):null,title:a,body:o})};t.handleActivityJoin=function(e){var t=e.applicationId,n=e.secret,r=e.intent,a=e.embedded;if(0!==this.rpcServer.subscriptions.length){var o={secret:n};a&&(o.intent=r);this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_JOIN,(function(e){return e.socket.application.id===t}),o);this.rpcServer.dispatchToSubscriptions(b.RPCEvents.GAME_JOIN,(function(e){return e.socket.application.id===t}),o)}};t.handleActivityPIPModeUpdate=function(e){var t=e.applicationId,n=e.isPIPMode
;if(0!==this.rpcServer.subscriptions.length){var r={is_pip_mode:n};this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_PIP_MODE_UPDATE,(function(e){return e.socket.application.id===t}),r)}};t.handleActivityMessage=function(e){var t=e.channelId,n=e.message;if(0!==this.rpcServer.subscriptions.length){var r=n.application,a=n.activity;if(null!=r&&null!=a&&null!=a.party_id){var o=m.default.getUser(n.author.id);if(null!=o){var i=m.default.getCurrentUser();if(null!=i&&o.id!==i.id){var u=a.type===b.ActivityActionTypes.JOIN_REQUEST?f.default.getApplicationActivity(i.id,r.id):f.default.getApplicationActivity(o.id,r.id);if(null!=u&&null!=u.party&&u.party.id===a.party_id){var l=u.application_id;switch(a.type){case b.ActivityActionTypes.JOIN:this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_INVITE,(function(e){return e.socket.application.id===l}),{user:(0,O.default)(o),activity:u,type:a.type,channel_id:t,message_id:n.id});break;case b.ActivityActionTypes.JOIN_REQUEST:
this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_JOIN_REQUEST,(function(e){return e.socket.application.id===l}),{user:(0,O.default)(o)})}}}}}}};t.handleOAuth2TokenRevoke=function(e){var t=e.accessToken;this.rpcServer.sockets.forEach((function(e){e.authorization.accessToken===t&&e.close(b.RPCCloseCodes.TOKEN_REVOKED,"Token revoked")}))};t.handleGuildCreate=function(e){var t=e.guild,n=t.id,r=t.name;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.GUILD_CREATE,{},{id:n,name:r})};t.handleChannelCreate=function(e){var t=e.channel,n=t.id,r=t.name,a=t.type;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.CHANNEL_CREATE,{},{id:n,name:r,type:a})};t.handleLogout=function(){this.rpcServer.sockets.forEach((function(e){return e.close(b.RPCCloseCodes.CLOSE_NORMAL,"User logout")}))};t.handleRelationshipAdd=function(e){var t=e.relationship,n=t.id,r=t.type
;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,S.transformRelationship)(r,n))};t.handleRelationshipRemove=function(e){var t=e.relationship.id;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,S.transformRelationship)(b.RelationshipTypes.NONE,t))};t.handlePresenceUpdate=function(e){var t=this,n=e.updates;0!==this.rpcServer.subscriptions.length&&n.forEach((function(e){var n=e.guildId,r=e.user.id;if(null==n){var a=p.default.getRelationshipType(r);a===b.RelationshipTypes.NONE&&y.default.getUserAffinitiesUserIds().has(r)&&(a=b.RelationshipTypes.IMPLICIT);a!==b.RelationshipTypes.NONE&&t.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,S.transformRelationship)(a,r))}}))};t.handlePresencesReplace=function(){var e=this;0!==this.rpcServer.subscriptions.length&&r.default.forEach(p.default.getRelationships(),(function(t,n){
e.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,S.transformRelationship)(t,n))}))};t.handleLobbyUpdate=function(e){var t=e.lobby;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_UPDATE,{},t)};t.handleLobbyDelete=function(e){var t=e.lobbyId;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_DELETE,{},{id:t})};t.handleLobbyMemberConnect=function(e){var t=e.lobbyId,n=e.member;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MEMBER_CONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMemberUpdate=function(e){var t=e.lobbyId,n=e.member;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MEMBER_UPDATE,{},{lobby_id:t,member:n})};t.handleLobbyMemberDisconnect=function(e){var t=e.lobbyId,n=e.member
;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MEMBER_DISCONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMessage=function(e){var t=e.lobbyId,n=e.senderId,r=e.data;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MESSAGE,{},{lobby_id:t,sender_id:n,data:r})};t.handleEntitlementCreate=function(e){var t=e.entitlement;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ENTITLEMENT_CREATE,(function(e){return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleEntitlementDelete=function(e){var t=e.entitlement;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ENTITLEMENT_DELETE,(function(e){return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleUserAchievementUpdate=function(e){var t=e.userAchievement;if(0!==this.rpcServer.subscriptions.length){var n=t.application_id
;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.USER_ACHIEVEMENT_UPDATE,(function(e){return e.socket.application.id===n}),{user_achievement:t})}};return e}();t.default=N},964125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n;return(n={})[p.RPCCommands.AUTHENTICATE]={handler:function(n){var a=n.socket,o=n.args.access_token;if(null==o&&a.transport===p.TransportTypes.IPC){var u=a.application.id;if(null==u)throw new c.default(p.RPCErrors.INVALID_COMMAND,"No application.");var l=p.OAuth2Scopes.IDENTIFY,s=function(){return S({client_id:u,scope:l,response_type:"token"},e,t).then((function(e){if(null==e)throw new c.default(p.RPCErrors.UNKNOWN_ERROR,"Unknown error occurred");var t=e.split(/#|\?/),n=r.default.parse(t[t.length-1]);if(null!=n.error){var o;throw new c.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Error: "+n.error+": "+(null!==(o=n.error_description)&&void 0!==o?o:"unknown error"))}!function(e,t,n,r){
var a,o=null!==(a=i.default.get(E))&&void 0!==a?a:{};o[e]={accessToken:t,scope:n,expires:Date.now()+r};i.default.set(E,o)}(u,n.access_token,n.scope,n.expires_in);return b(a,n.access_token)}))};o=function(e,t){var n=i.default.get(E);if(null!=n&&null!=n[e]){var r=n[e];if(!(r.scope!==t||r.expires<=Date.now()))return r.accessToken;delete n[e];i.default.set(E,n)}}(u,l);return null!=o?b(a,o).catch((function(){!function(e){var t,n=null!==(t=i.default.get(E))&&void 0!==t?t:{};delete n[e];i.default.set(E,n)}(u);return s()})):s()}if(null==o)throw new c.default(p.RPCErrors.INVALID_TOKEN,"No access token provided");return b(a,o)}},n[p.RPCCommands.AUTHORIZE]={handler:function(n){var a=n.socket,i=n.args,u=i.client_id;if(!u)throw new c.default(p.RPCErrors.INVALID_CLIENTID,"No client id provided");if(null!=a.authorization.accessToken)throw new c.default(p.RPCErrors.INVALID_COMMAND,"Already authenticated");if(a.authorization.authing)throw new c.default(p.RPCErrors.INVALID_COMMAND,"Already authing")
;a.authorization.authing=!0;return o.default.get({url:p.Endpoints.APPLICATION_RPC(u),oldFormErrors:!0}).then((function(n){var r=n.body;if(a.application.id!==r.id)throw new c.default(p.RPCErrors.INVALID_CLIENTID,"Application does not match the connection's");var o=i.scopes||i.scope;delete i.scopes;return S(y({},i,{scope:o}),e,t)}),(function(){throw new c.default(p.RPCErrors.INVALID_CLIENTID,"Invalid client id: "+u)})).then((function(e){a.authorization.authing=!1;if(null==e)throw new c.default(p.RPCErrors.UNKNOWN_ERROR,"Unknown error occurred");var t=r.default.parse(e.split("?")[1].split("#")[0]);if(null!=t.error){var n;throw new c.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Error: "+t.error+": "+(null!==(n=t.error_description)&&void 0!==n?n:"unknown error"))}return{code:t.code}})).catch((function(e){a.authorization.authing=!1;throw e}))}},n}
;var r=v(n(817673)),a=v(n(267258)),o=v(n(118915)),i=v(n(972247)),u=v(n(636602)),l=n(552720),s=n(830608),d=v(n(728429)),f=v(n(656016)),c=v(n(248369)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var E="CachedTokens";function S(e,t,n){return O.apply(this,arguments)}function O(){return(O=g(regeneratorRuntime.mark((function e(t,n,r){var o,i,u,v,y,m,_,h,g,E,S,O,b,I,T,A,C,M,N;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.client_id,i=t.response_type,u=void 0===i?"code":i,v=t.redirect_uri,y=t.code_challenge,m=t.code_challenge_method,_=t.state,h=t.scope,g=t.permissions,E=t.guild_id,
S=t.channel_id,O=t.prompt,b=t.disable_guild_select;if(null!=o){e.next=3;break}throw new c.default(p.RPCErrors.OAUTH2_ERROR,"No Client ID provided");case 3:if(null==v){e.next=5;break}throw new c.default(p.RPCErrors.OAUTH2_ERROR,"Redirect URI cannot be used in the RPC OAuth2 Authorization flow");case 5:I=[];"string"==typeof h?I=h.split(" ").filter((function(e){return e.length>0})):Array.isArray(h)&&(I=h);if(null!=d.default.getCurrentUser()){e.next=10;break}throw new c.default(p.RPCErrors.OAUTH2_ERROR,"Client is not logged in");case 10:e.prev=10;e.next=13;return(0,l.fetchAuthorization)({clientId:o,scopes:I,responseType:u,redirectUri:v,codeChallenge:y,codeChallengeMethod:m,state:_});case 13:T=e.sent;e.next=20;break;case 16:e.prev=16;e.t0=e.catch(10);A=e.t0.body;throw new c.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Authorization Error: "+(A.message||"Unknown Error"));case 20:if(O!==s.OAuth2Prompts.NONE||null==T||!T.authorized){e.next=32;break}e.prev=21;e.next=24;return(0,l.authorize)({
authorize:!0,clientId:o,scopes:I,responseType:u,redirectUri:v,codeChallenge:y,codeChallengeMethod:m,state:_});case 24:C=e.sent;return e.abrupt("return",C.location);case 28:e.prev=28;e.t1=e.catch(21);M=e.t1.body;throw new c.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Authorize Error: "+(M.message||"Unknown Error"));case 32:null==r||r(T.application);N=f.default.NONE;try{N=a.default.deserialize(null!=g?g:0)}catch(e){}return e.abrupt("return",n(o,T,I,N,u,v,y,m,_,E,S,O,b));case 36:case"end":return e.stop()}}),e,null,[[10,16],[21,28]])})))).apply(this,arguments)}function b(e,t){if(e.authorization.accessToken)throw new c.default(p.RPCErrors.INVALID_COMMAND,"Already authenticated");if(e.authorization.authing)throw new c.default(p.RPCErrors.INVALID_COMMAND,"Already authenticating");e.authorization.authing=!0;return o.default.get({url:p.Endpoints.OAUTH2_CURRENT_AUTH,headers:{Authorization:"Bearer "+t},oldFormErrors:!0}).then((function(n){e.authorization.authing=!1
;var r=n.body,a=r.application,o=r.user,i=r.scopes,l=r.expires;if(e.application.id!==a.id)throw new c.default(p.RPCErrors.INVALID_CLIENTID,"Application does not match the connection's");var s=d.default.getCurrentUser();if(null==s||!o||s.id!==o.id)throw new c.default(p.RPCErrors.INVALID_TOKEN,"Token does not match current user");e.authorization.scopes=[].concat(m(e.authorization.scopes),m(i),[p.RPC_AUTHENTICATED_SCOPE]);e.authorization.accessToken=t;e.authorization.expires=new Date(l);u.default.dispatch({type:p.ActionTypes.RPC_APP_AUTHENTICATED,socketId:e.id,application:e.application});return y({},n.body,{access_token:t})}),(function(){throw new c.default(p.RPCErrors.INVALID_TOKEN,"Invalid access token: "+t)})).catch((function(t){e.authorization.authing=!1;throw t}))}},311809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i=s(n(94047)),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}
var d=((o={})[l.RPCCommands.SET_USER_ACHIEVEMENT]={scope:(r={},r[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],r),validation:function(e){return e.object().required().keys({achievement_id:e.string().min(2).max(128),percent_complete:e.number().min(0).max(100).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.achievement_id,a=n.percent_complete,o=t.application.id;if(null==o)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return i.default.setUserAchievement(o,r,a).catch((function(e){var t=e.status,n=e.body;switch(t){case 429:throw new u.default(l.RPCErrors.RATE_LIMITED,"You are being rate limited.");case 403:throw null!=n&&n.code===l.AbortCodes.USER_NOT_AUTHORIZED_FOR_APPLICATION?new u.default(l.RPCErrors.UNAUTHORIZED_FOR_ACHIEVEMENT,"Not authorized to update this achievement."):new u.default(l.RPCErrors.UNKNOWN_ERROR,"Unknown error from API. status="+t+".");default:
throw new u.default(l.RPCErrors.UNKNOWN_ERROR,"Unknown error from API. status="+t+".")}})).then((function(){return null}))}},o[l.RPCCommands.GET_USER_ACHIEVEMENTS]={scope:(a={},a[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],a),handler:function(e){var t=e.socket.application.id;if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return i.default.fetchForApplication(t).then((function(e){return e||[]}))}},o);t.default=d},421700:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i=n(360307),u=(r=n(248369))&&r.__esModule?r:{default:r},l=n(770348),s=n(376293);var d=((o={})[l.RPCCommands.SET_CERTIFIED_DEVICES]={scope:(a={},a[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],a),validation:function(e){return e.object().required().keys({devices:e.array().items(e.object().keys({type:e.string().required().valid([s.DeviceTypes.AUDIO_INPUT,s.DeviceTypes.AUDIO_OUTPUT,s.DeviceTypes.VIDEO_INPUT]),
id:e.string().required().min(1),vendor:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),model:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),related:e.array().items(e.string().min(1)),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),automatic_gain_control:e.boolean(),hardware_mute:e.boolean()}))})},handler:function(e){var t=e.socket,n=e.args.devices;if(null==t.application.id)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");(0,i.setCertifiedDevices)(t.application.id,n.map((function(e){return{type:e.type,id:e.id,vendor:e.vendor,model:e.model,related:e.related.filter((function(e){return n.some((function(t){return t.id===e}))})),echoCancellation:e.echo_cancellation,noiseSuppression:e.noise_suppression,automaticGainControl:e.automatic_gain_control,hardwareMute:e.hardware_mute}})))}},o);t.default=d},588648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o=E(n(496486)),i=E(n(23170)),u=E(n(136873)),l=n(139982),s=n(567186),d=E(n(644263)),f=E(n(30098)),c=E(n(689389)),p=E(n(211136)),v=E(n(387692)),y=n(319986),m=E(n(248369)),_=n(861798),h=n(770348),g=["channel_id"];function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=((a={})[h.RPCCommands.GET_CHANNEL]={scope:h.OAuth2Scopes.RPC,handler:function(e){var t=e.args.channel_id,n=e.socket,r=d.default.getChannel(t);if(null==r)throw new m.default(h.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return(0,_.transformChannel)(r,(0,_.hasMessageReadPermission)(r,n.application.id,n.authorization.scopes))}},a[h.RPCCommands.GET_CHANNELS]={scope:h.OAuth2Scopes.RPC,handler:function(e){var t=e.args.guild_id,n=o.default.values(d.default.loadAllGuildAndPrivateChannelsFromDisk());if(t){var r=f.default.getGuild(t);if(null==r)throw new m.default(h.RPCErrors.INVALID_GUILD,"Invalid guild id: "+t);n=n.filter((function(e){return e.guild_id===r.id}))}return{channels:n.filter((function(e){
return c.default.can(h.Permissions.VIEW_CHANNEL,e)})).map((function(e){return{id:e.id,name:e.name,type:e.type}}))}}},a[h.RPCCommands.SELECT_VOICE_CHANNEL]={scope:h.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60),force:e.boolean()})},handler:function(e){var t=e.server,n=e.socket,r=e.args,a=r.channel_id,o=r.timeout,i=void 0===o?0:o,l=r.force,g=void 0!==l&&l;if(!a){u.default.selectVoiceChannel(null);return null}var E=p.default.getVoiceChannelId();if(null!=E&&E!==a&&!1===g)throw new m.default(h.RPCErrors.SELECT_VOICE_FORCE_REQUIRED,"User is already joined to a voice channel.");return t.storeWait(n,(function(){return d.default.getChannel(a)}),i).catch((function(){throw new m.default(h.RPCErrors.SELECT_CHANNEL_TIMED_OUT,"Request to select voice channel timed out.")})).then((function(e){if(null==e)throw new m.default(h.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+a);if(!(0,
s.isVoiceChannel)(e.type))throw new m.default(h.RPCErrors.INVALID_CHANNEL,"Channel is not a voice channel");return Promise.all([Promise.resolve(e),(0,_.transformChannel)(e,(0,_.hasMessageReadPermission)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=S(e,2),n=t[0],r=t[1];if(r.guild_id){if((0,y.isChannelFull)(n,v.default,f.default))throw new m.default(h.RPCErrors.INVALID_CHANNEL,"Channel is full");if(!c.default.can(h.Permissions.CONNECT,n))throw new m.default(h.RPCErrors.INVALID_PERMISSIONS,"Connect permission required to join channel")}u.default.selectVoiceChannel(n.id);return r}))}},a[h.RPCCommands.GET_SELECTED_VOICE_CHANNEL]={scope:(r={},r[h.RPC_SCOPE_CONFIG.ANY]=[h.OAuth2Scopes.RPC,h.OAuth2Scopes.RPC_VOICE_READ],r),handler:function(e){var t=e.socket,n=p.default.getVoiceChannelId(),r=null!=n?d.default.getChannel(n):null;return null!=r?(0,_.transformChannel)(r,(0,_.hasMessageReadPermission)(r,t.application.id,t.authorization.scopes)):null}},
a[h.RPCCommands.SELECT_TEXT_CHANNEL]={scope:h.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60)})},handler:function(e){var t=e.server,n=e.socket,r=e.args,a=r.channel_id,o=r.timeout,i=void 0===o?0:o;if(!a){(0,l.transitionTo)(h.Routes.ME);return null}return t.storeWait(n,(function(){return d.default.getChannel(a)}),i).catch((function(){throw new m.default(h.RPCErrors.SELECT_CHANNEL_TIMED_OUT,"Request to select text channel timed out.")})).then((function(e){if(null==e)throw new m.default(h.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+a);if(!(0,s.isTextChannel)(e.type))throw new m.default(h.RPCErrors.INVALID_CHANNEL,"Channel is not a text channel");return Promise.all([Promise.resolve(e),(0,_.transformChannel)(e,(0,_.hasMessageReadPermission)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=S(e,2),n=t[0],r=t[1]
;if(r.guild_id&&!c.default.can(h.Permissions.VIEW_CHANNEL,n))throw new m.default(h.RPCErrors.INVALID_CHANNEL,"No permission to see channel");r.guild_id?(0,l.replaceWith)(h.Routes.CHANNEL(r.guild_id,n.id)):u.default.selectPrivateChannel(n.id);return r}))}},a[h.RPCCommands.CREATE_CHANNEL_INVITE]={scope:h.OAuth2Scopes.RPC,handler:function(e){var t=e.args,n=t.channel_id,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,g);return i.default.createInvite(n,r,"RPC").catch((function(){throw new m.default(h.RPCErrors.INVALID_PERMISSIONS,"Unable to generate an invite for "+n+". Does this user have permissions?")}))}},a);t.default=b},148400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(636602)),o=u(n(248369)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=((r={})[i.RPCCommands.SET_CONFIG]={scope:i.RPC_AUTHENTICATED_SCOPE,
validation:function(e){return e.object().required().keys({use_interactive_pip:e.boolean()})},handler:function(e){var t=e.socket,n=e.args.use_interactive_pip;if(t.transport!==i.TransportTypes.POST_MESSAGE)throw new o.default(i.RPCErrors.INVALID_COMMAND,'command not available from "'+t.transport+" transport");if(null==t.application.id)throw new o.default(i.RPCErrors.INVALID_COMMAND,"invalid application");a.default.dispatch({type:i.ActionTypes.EMBEDDED_ACTIVITY_SET_CONFIG,applicationId:t.application.id,config:{useInteractivePIP:n}});return Promise.resolve({use_interactive_pip:n})}},r);t.default=l},985918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.crossPlatformCommands=void 0;var r=g(n(311809)),a=g(n(421700)),o=g(n(588648)),i=g(n(148400)),u=g(n(701302)),l=g(n(490305)),s=g(n(220928)),d=g(n(219995)),f=g(n(451498)),c=g(n(506979)),p=g(n(819016)),v=g(n(839777)),y=g(n(553089)),m=g(n(855566)),_=g(n(511502)),h=g(n(663148));function g(e){return e&&e.__esModule?e:{
default:e}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}var S=E({},r.default,{},a.default,{},o.default,{},i.default,{},u.default,{},l.default,{},s.default,{},d.default,{},f.default,{},c.default,{},p.default,{},v.default,{},y.default,{},m.default,{},h.default,{},_.default);t.crossPlatformCommands=S},701302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(496486)),o=l(n(30098)),i=l(n(248369)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[u.RPCCommands.GET_GUILD]={scope:u.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({guild_id:e.string(),timeout:e.number().min(0).max(60)})},handler:function(e){var t=e.socket,n=e.server,r=e.args,a=r.guild_id,l=r.timeout,s=void 0===l?0:l;return n.storeWait(t,(function(){
return o.default.getGuild(a)}),s).catch((function(){throw new i.default(u.RPCErrors.GET_GUILD_TIMED_OUT,"Request to get guild timed out.")})).then((function(e){var t;if(null==e)throw new i.default(u.RPCErrors.INVALID_GUILD,"Invalid guild id: "+a);return{id:e.id,name:e.name,icon_url:null!==(t=e.getIconURL(128))&&void 0!==t?t:null,members:[],vanity_url_code:e.vanityURLCode}}))}},r[u.RPCCommands.GET_GUILDS]={scope:u.OAuth2Scopes.RPC,handler:function(){var e=o.default.getGuilds();return{guilds:a.default.map(e,(function(e){return{id:e.id,name:e.name,icon_url:e.getIconURL(128)}}))}}},r);t.default=s},490305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(728429)),o=s(n(692711)),i=n(175235),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}var d=((r={})[l.RPCCommands.GET_IMAGE]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({type:e.string().required().valid(["user"]),
id:e.string().required(),format:e.string().required().valid(["png","webp","jpg"]),size:e.number().required().valid([16,32,64,128,256,512,1024])})},handler:function(e){var t,n=e.args,r=n.type,s=n.id,d=n.format,f=void 0===d?"png":d,c=n.size,p=void 0===c?128:c;if("user"===r){var v=a.default.getUser(s);if(null==v)throw new u.default(l.RPCErrors.INVALID_USER,"Invalid user id: "+s);t=o.default.getUserAvatarURL(v,!1,p,f);var y=window.GLOBAL_ENV.CDN_HOST;null!=y&&-1!==t.indexOf(y)&&(t+="&_=")}if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No valid type.");return fetch(t).then((function(e){return e.blob()})).then((function(e){return(0,i.readFileAsBase64)(e)})).then((function(e){return{data_url:e}}))}},r);t.default=d},220928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(165551)),o=n(262710),i=n(864489),u=d(n(248369)),l=n(861798),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}
var f=((r={})[s.RPCCommands.OPEN_EXTERNAL_LINK]={validation:function(e){return e.object().required().keys({url:e.string().required()})},handler:function(e){var t=e.socket,n=e.args.url;(0,l.validatePostMessageTransport)(t.transport);try{var r=new URL(n);i.isPlatformEmbedded&&a.default.focus(null,!0);(0,o.handleClick)({href:r.toString()})}catch(e){throw new u.default(s.RPCErrors.INVALID_COMMAND,"Invalid URL: "+n)}}},r);t.default=f},219995:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(24794);n(226720);var a,o,i,u,l,s,d,f,c,p=n(319111),v=(a=n(248369))&&a.__esModule?a:{default:a},y=n(770348);function m(e){if(e instanceof p.LobbyError)switch(e.code){case y.LobbyErrors.FULL:throw new v.default(y.RPCErrors.LOBBY_FULL,"Lobby is full.");case y.LobbyErrors.INVALID_SECRET:throw new v.default(y.RPCErrors.INVALID_LOBBY_SECRET,"Lobby secret is invalid.");case y.LobbyErrors.NOT_FOUND:
throw new v.default(y.RPCErrors.INVALID_LOBBY,"Lobby does not exist.");case y.LobbyErrors.SERVICE_UNAVAILABLE:throw new v.default(y.RPCErrors.SERVICE_UNAVAILABLE,"Lobby service is unavailable.");case y.LobbyErrors.ALREADY_CONNECTING:throw new v.default(y.RPCErrors.INVALID_COMMAND,"Already connecting to lobby.");default:throw new v.default(y.RPCErrors.UNKNOWN_ERROR,"Unknown error has occured.")}throw e}var _=((c={})[y.RPCCommands.CREATE_LOBBY]={scope:(o={},o[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],o),validation:function(e){return e.object().required().keys({type:e.number().valid(Object.values(y.LobbyTypes)),capacity:e.number(),locked:e.boolean(),metadata:e.object()})},handler:function(e){var t=e.socket,n=e.args,a=n.type,o=n.capacity,i=n.locked,u=n.metadata;if(null==t.application.id)throw new v.default(y.RPCErrors.INVALID_COMMAND,"No application.");return(0,r.createLobby)(t.id,t.application.id,{type:a,capacity:o,locked:i,metadata:u}).catch(m)}},c[y.RPCCommands.UPDATE_LOBBY]={
scope:(i={},i[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],i),validation:function(e){return e.object().required().keys({id:e.string().required(),type:e.number().valid(Object.values(y.LobbyTypes)),owner_id:e.string(),capacity:e.number(),locked:e.boolean(),metadata:e.object()})},handler:function(e){var t=e.args,n=t.id,a=t.type,o=t.owner_id,i=t.capacity,u=t.locked,l=t.metadata;return(0,r.updateLobby)(n,{type:a,owner_id:o,capacity:i,locked:u,metadata:l}).catch(m)}},c[y.RPCCommands.DELETE_LOBBY]={scope:(u={},u[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],u),validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;return(0,r.deleteLobby)(t).catch(m)}},c[y.RPCCommands.UPDATE_LOBBY_MEMBER]={scope:(l={},l[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],l),validation:function(e){return e.object().required().keys({lobby_id:e.string().required(),user_id:e.string().required(),metadata:e.object()})},handler:function(e){
var t=e.args,n=t.lobby_id,a=t.user_id,o=t.metadata;return(0,r.updateLobbyMember)(n,a,{metadata:o}).catch(m)}},c[y.RPCCommands.CONNECT_TO_LOBBY]={scope:(s={},s[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],s),validation:function(e){return e.object().required().keys({id:e.string().required(),secret:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,a=n.id,o=n.secret;return(0,r.connect)(t.id,a,o).catch(m)}},c[y.RPCCommands.DISCONNECT_FROM_LOBBY]={scope:(d={},d[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],d),validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;(0,r.disconnect)(t)}},c[y.RPCCommands.SEND_TO_LOBBY]={scope:(f={},f[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],f),validation:function(e){return e.object().required().keys({lobby_id:e.string().required(),data:e.string().required()})},handler:function(e){var t=e.args,n=t.lobby_id,a=t.data;return(0,r.send)(n,a).catch(m)}},
c[y.RPCCommands.SEARCH_LOBBIES]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({filter:e.array().items(e.object().keys({key:e.string().required(),comparison:e.number().required(),cast:e.number().required(),value:e.string().required()})),sort:e.array().items(e.object().keys({key:e.string().required(),cast:e.number().required(),near_value:e.string()})),limit:e.number(),distance:e.number()})},handler:function(e){var t=e.socket,n=e.args,a=n.filter,o=n.sort,i=n.limit,u=n.distance;return(0,r.search)({application_id:t.application.id,filter:a,sort:o,limit:i,distance:u}).catch(m)}},c[y.RPCCommands.CONNECT_TO_LOBBY_VOICE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;(0,r.voiceConnect)(t)}},c[y.RPCCommands.DISCONNECT_FROM_LOBBY_VOICE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},
handler:function(e){var t=e.args.id;(0,r.voiceDisconnect)(t)}},c);t.default=_},451498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=(r=n(791548))&&r.__esModule?r:{default:r},i=n(861798),u=n(770348);var l=new o.default(u.RPC_APPLICATION_LOGGING_CATEGORY),s=((a={})[u.RPCCommands.CAPTURE_LOG]={validation:function(e){return e.object().required().keys({level:e.string().required(),message:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.level,a=n.message;(0,i.validatePostMessageTransport)(t.transport);var o=t.application.id+" - "+a;switch(r){case"log":l.log(o);break;case"warn":l.warn(o);break;case"debug":l.verbose(o);break;case"info":l.info(o);break;case"error":l.error(o)}}},a);t.default=s},506979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(118915)),o=u(n(308920)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
var d=((r={})[i.RPCCommands.GET_NETWORKING_CONFIG]={scope:i.RPC_LOCAL_SCOPE,handler:function(){return Promise.all([a.default.get({url:location.protocol+window.GLOBAL_ENV.NETWORKING_ENDPOINT,retries:3}).then((function(e){return e.body.address})),a.default.post({url:i.Endpoints.NETWORKING_TOKEN,retries:3,oldFormErrors:!0}).then((function(e){return e.body.token}))]).then((function(e){var t=l(e,2);return{address:t[0],token:t[1]}}))}},r[i.RPCCommands.NETWORKING_SYSTEM_METRICS]={scope:i.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id;o.default.track(i.AnalyticEvents.NETWORKING_SYSTEM_METRICS,n)}},r[i.RPCCommands.NETWORKING_PEER_METRICS]={scope:i.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id;o.default.track(i.AnalyticEvents.NETWORKING_PEER_METRICS,n)}},r[i.RPCCommands.NETWORKING_CREATE_TOKEN]={scope:i.RPC_LOCAL_SCOPE,handler:function(){return a.default.post({url:i.Endpoints.NETWORKING_TOKEN,
retries:1,oldFormErrors:!0}).then((function(e){return e.body}))}},r);t.default=d},819016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(496486)),o=d(n(290629)),i=d(n(538983)),u=d(n(728429)),l=n(861798),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}var c=((r={})[s.RPCCommands.GET_RELATIONSHIPS]={scope:s.RPC_LOCAL_SCOPE,handler:function(){var e=f({},o.default.getRelationships());i.default.getUserAffinitiesUserIds().forEach((function(t){null==e[t]&&null!=u.default.getUser(t)&&(e[t]=s.RelationshipTypes.IMPLICIT)}));return{relationships:a.default.map(e,(function(e,t){return(0,l.transformRelationship)(e,t)}))}}},r);t.default=c},839777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a,o=c(n(496486)),i=c(n(636602)),u=c(n(308920)),l=n(698243),s=c(n(248369)),d=n(861798),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=["349134787773988865"],m=((a={})[f.RPCCommands.SET_ACTIVITY]={scope:(r={},r[f.RPC_SCOPE_CONFIG.ANY]=[f.OAuth2Scopes.RPC,f.OAuth2Scopes.RPC_ACTIVITIES_WRITE,f.RPC_LOCAL_SCOPE],r),validation:function(e){return e.object().required().keys({pid:e.number().min(0),activity:e.object().keys({state:e.string().min(2).max(128),details:e.string().min(2).max(128),timestamps:e.object().keys({start:e.number().min(1),end:e.number().min(1)}),assets:e.object().keys({large_image:e.string().min(1).max(256),large_text:e.string().min(2).max(128),small_image:e.string().min(1).max(256),small_text:e.string().min(2).max(128)}),party:e.object().keys({id:e.string().min(2).max(128),size:e.array().items(e.number().min(1)).length(2),
privacy:e.number().default(f.ActivityPartyPrivacy.PRIVATE).valid([f.ActivityPartyPrivacy.PRIVATE,f.ActivityPartyPrivacy.PUBLIC])}),secrets:e.object().keys({match:e.string().min(2).max(128),join:e.string().min(2).max(128),spectate:e.string().min(2).max(128)}),buttons:e.array().items(e.object().keys({label:e.string().min(1).max(32).required(),url:e.string().uri().min(1).max(512).required()})).min(1).max(2),instance:e.boolean(),supported_platforms:e.array().items(e.string().min(1).max(32)).min(1).max(3),type:e.number().default(f.ActivityTypes.PLAYING).valid(f.ActivityTypes.PLAYING,f.ActivityTypes.WATCHING)}).allow(null)})},handler:function(e){var t,n=e.socket,r=e.args,a=r.pid,c=r.activity,v=e.isSocketConnected;if(![f.TransportTypes.IPC,f.TransportTypes.WEBSOCKET,f.TransportTypes.POST_MESSAGE].includes(n.transport))throw new s.default(f.RPCErrors.INVALID_COMMAND,'command not available from "'+n.transport+'" transport')
;if(null==a&&f.TransportTypes.IPC===n.transport)throw new s.default(f.RPCErrors.INVALID_COMMAND,"nonzero pid required");if(null==c){i.default.dispatch({type:f.ActionTypes.LOCAL_ACTIVITY_UPDATE,socketId:n.id,pid:a,activity:c});return Promise.resolve(c)}c.name=n.application.name;c.application_id=n.application.id;var m=n.transport===f.TransportTypes.POST_MESSAGE,_=(0,d.computeActivityFlags)(c,m);_>0&&(c.flags=_);delete c.instance;null===(t=c.party)||void 0===t||delete t.privacy;var h,g=c.assets,E=c.party,S=c.secrets,O=c.timestamps,b=c.buttons,I=c.type;(null==I||I!==f.ActivityTypes.PLAYING&&!m)&&(c.type=f.ActivityTypes.PLAYING);if(null!=S){var T=o.default.values(S).filter((function(e){return!!e}));if(null!=E&&o.default.intersection(T,[E.id]).length>0&&!y.includes(n.application.id))throw new s.default(f.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets cannot match the party id");if(o.default.uniq(T).length<T.length)throw new s.default(f.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets must be unique")
;if(null!=b)throw new s.default(f.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets cannot currently be sent with buttons")}if(null!=b){c.metadata={button_urls:b.map((function(e){return e.url}))};c.buttons=b.map((function(e){return e.label}))}if(null!=O)for(var A=0,C=Object.keys(O);A<C.length;A++){var M=C[A];Date.now().toString().length-O[M].toString().length>2&&(O[M]=Math.floor(1e3*O[M]))}if(null==g)h=Promise.resolve([]);else{if(null==n.application||null==n.application.id)throw new Error;h=(0,l.getAssetIds)(n.application.id,[g.large_image,g.small_image])}return h.then((function(e){var t=p(e,2),r=t[0],o=t[1];if(null!=g){null!=r?g.large_image=r:delete g.large_image;null!=o?g.small_image=o:delete g.small_image}if(v()){i.default.dispatch({type:f.ActionTypes.LOCAL_ACTIVITY_UPDATE,socketId:n.id,pid:a,activity:c});var l=c.secrets,s=c.party,d={application_id:n.application.id,type:c.type};if(null!=l){d.has_match_secret=!!l.match;d.has_join_secret=!!l.join}
null!=g&&(d.has_images=!(!g.large_image&&!g.small_image));if(null!=s){d.party_max=null!=s.size?s.size[1]:void 0;d.party_id=s.id}u.default.track(f.AnalyticEvents.ACTIVITY_UPDATED,d);return c}}))}},a);t.default=m},553089:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(636602)),o=l(n(248369)),i=n(770348),u=n(418173);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[n(478036).RPCCommands.SET_ORIENTATION_LOCK_STATE]={validation:function(e){return e.object().required().keys({lock_state:e.number().valid(u.OrientationLockState.UNLOCKED,u.OrientationLockState.PORTRAIT,u.OrientationLockState.LANDSCAPE).required()})},handler:function(e){var t=e.socket,n=e.args.lock_state,r=t.application.id;if(null==r)throw new o.default(i.RPCErrors.INVALID_COMMAND,"No application.");a.default.dispatch({type:i.ActionTypes.EMBEDDED_ACTIVITY_SET_ORIENTATION_LOCK_STATE,applicationId:r,lockState:n})}},r);t.default=s},855566:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(248369)),o=u(n(424062)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=((r={})[i.RPCCommands.SUBSCRIBE]={handler:function(e){var t=e.server,n=e.socket,r=e.evt,u=e.args;return new Promise((function(e){var l=t.events[r];if(null==l)throw new a.default(i.RPCErrors.INVALID_EVENT,"Invalid event: "+r);if(!(0,o.default)(n.authorization.scopes,l.scope))throw new a.default(i.RPCErrors.INVALID_PERMISSIONS,"Not authenticated or invalid scope");var s=l.handler({args:u,socket:n});setImmediate((function(){return t.addSubscription(n,r,u,s)}));e({evt:r})}))}},r[i.RPCCommands.UNSUBSCRIBE]={handler:function(e){var t=e.server,n=e.socket,r=e.evt,o=e.args;if(null==t.events[r])throw new a.default(i.RPCErrors.INVALID_EVENT,"Invalid event: "+r);t.removeSubscription(n,r,o);return{evt:r}}},r);t.default=l},511502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o=(r=n(871778))&&r.__esModule?r:{default:r},i=n(770348);var u=((a={})[i.RPCCommands.USER_SETTINGS_GET_LOCALE]={scope:i.OAuth2Scopes.IDENTIFY,handler:function(){return{locale:o.default.locale}}},a);t.default=u},663148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=n(483559),o=l(n(248369)),i=l(n(838641)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[u.RPCCommands.GET_USER]={scope:u.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;return(0,a.getUser)(t).then(i.default).catch((function(){throw new o.default(u.RPCErrors.INVALID_USER,"Invalid user id: "+t)}))}},r);t.default=s},655369:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,r;return(r={})[o.RPCEvents.VOICE_SETTINGS_UPDATE]={scope:(n={},
n[o.RPC_SCOPE_CONFIG.ANY]=[o.OAuth2Scopes.RPC,o.OAuth2Scopes.RPC_VOICE_READ],n),handler:function(){return function(t){var n=t.prevState,r=t.dispatch,o=e();a.default.isEqual(o,n)||r(o);return o}}},r[o.RPCEvents.VOICE_SETTINGS_UPDATE_2]={scope:o.RPC_LOCAL_SCOPE,handler:function(e){var n=e.socket;return function(e){var r=e.prevState,o=e.dispatch;if(null==n.application.id)return r;var i=t(n.application.id);a.default.isEqual(i,r)||o(i);return i}}},r};var r,a=(r=n(496486))&&r.__esModule?r:{default:r},o=n(770348)},768050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u,l,s,d,f,c,p,v,y,m,_,h,g,E,S,O,b,I,T,A,C=F(n(496486)),M=F(n(389726)),N=F(n(644263)),P=F(n(30098)),R=F(n(319111)),w=F(n(893160)),D=F(n(728429)),L=F(n(387692)),k=F(n(248369)),j=n(861798),U=F(n(838641)),G=n(770348);function F(e){return e&&e.__esModule?e:{default:e}}function x(e){var t,n=e.args.channel_id,r=e.socket,a=N.default.getChannel(n);if(null==a||!(0,
j.hasMessageReadPermission)(a,r.application.id,r.authorization.scopes))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+n);if(a.isNSFW()&&!0!==(null===(t=D.default.getCurrentUser())||void 0===t?void 0:t.nsfwAllowed))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid nsfw channel id: "+a.id)}function B(e){var t=e.args,n=t.lobby_id,r=t.channel_id;if(null!=r){if(null==N.default.getChannel(r))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+r)}if(null!=n){if(null==R.default.getLobby(n))throw new k.default(G.RPCErrors.INVALID_LOBBY,"Invalid lobby id: "+n)}}var H=((A={})[G.RPCEvents.GUILD_STATUS]={scope:G.OAuth2Scopes.RPC,handler:function(e){var t=e.args.guild_id;if(null==P.default.getGuild(t))throw new k.default(G.RPCErrors.INVALID_GUILD,"Invalid guild id: "+t);return function(e){var n,r=e.prevState,a=e.dispatch,o=P.default.getGuild(t);if(null!=o){var i={guild:{id:o.id,name:o.name,icon_url:null!==(n=o.getIconURL(128))&&void 0!==n?n:null},
online:0};C.default.isEqual(r,i)||a(i);return i}}}},A[G.RPCEvents.VOICE_STATE_CREATE]={scope:(r={},r[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ],r),handler:function(e){var t=e.args.channel_id;if(null==N.default.getChannel(t))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=N.default.getChannel(t);if(null!=a){var o=a.getGuildId(),i=Object.values(L.default.getVoiceStatesForChannel(a.id));if(n){C.default.differenceBy(i,n,(function(e){return e.userId})).forEach((function(e){return r((0,j.transformVoiceState)(o,a.id,e))}))}return i}}}},A[G.RPCEvents.VOICE_STATE_DELETE]={scope:(a={},a[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ],a),handler:function(e){var t=e.args.channel_id;if(null==N.default.getChannel(t))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=N.default.getChannel(t)
;if(null!=a){var o=a.getGuildId(),i=Object.values(L.default.getVoiceStatesForChannel(a.id));C.default.differenceBy(n,i,(function(e){return e.userId})).forEach((function(e){return r((0,j.transformVoiceState)(o,a.id,e))}));return i}}}},A[G.RPCEvents.VOICE_STATE_UPDATE]={scope:(o={},o[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ],o),handler:function(e){var t=e.args.channel_id;if(null==N.default.getChannel(t))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=N.default.getChannel(t);if(null!=a){var o=a.getGuildId(),i=Object.values(L.default.getVoiceStatesForChannel(a.id)).map((function(e){return(0,j.transformVoiceState)(o,a.id,e)}));C.default.differenceWith(i,n,C.default.isEqual).forEach((function(e){return r(e)}));return i}}}},A[G.RPCEvents.VOICE_CONNECTION_STATUS]={scope:(i={},i[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ],i),handler:function(){
return function(e){var t=e.prevState,n=e.dispatch,r={state:(0,j.getVoiceConnectionState)(w.default.getState()),hostname:w.default.getHostname(),pings:w.default.getPings(),average_ping:w.default.getAveragePing(),last_ping:w.default.getLastPing()};C.default.isEqual(r,t)||n(r);return r}}},A[G.RPCEvents.MESSAGE_CREATE]={scope:G.OAuth2Scopes.RPC,handler:x},A[G.RPCEvents.MESSAGE_UPDATE]={scope:G.OAuth2Scopes.RPC,handler:x},A[G.RPCEvents.MESSAGE_DELETE]={scope:G.OAuth2Scopes.RPC,handler:x},A[G.RPCEvents.SPEAKING_START]=((u={})[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ,G.RPC_LOCAL_SCOPE],u.handler=B,u),A[G.RPCEvents.SPEAKING_STOP]=((l={})[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ,G.RPC_LOCAL_SCOPE],l.handler=B,l),A[G.RPCEvents.GUILD_CREATE]={scope:G.OAuth2Scopes.RPC,handler:function(){}},A[G.RPCEvents.CHANNEL_CREATE]={scope:G.OAuth2Scopes.RPC,handler:function(){}},A[G.RPCEvents.GAME_JOIN]={scope:(s={},
s[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_LOCAL_SCOPE],s),handler:function(){}},A[G.RPCEvents.GAME_SPECTATE]={scope:(d={},d[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_LOCAL_SCOPE],d),handler:function(){}},A[G.RPCEvents.ACTIVITY_JOIN]={scope:(f={},f[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],f),handler:function(){}},A[G.RPCEvents.ACTIVITY_JOIN_REQUEST]={scope:(c={},c[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_LOCAL_SCOPE],c),handler:function(){}},A[G.RPCEvents.ACTIVITY_SPECTATE]={scope:(p={},p[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],p),handler:function(){}},A[G.RPCEvents.ACTIVITY_INVITE]={scope:(v={},v[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_LOCAL_SCOPE],v),handler:function(){}},A[G.RPCEvents.ACTIVITY_PIP_MODE_UPDATE]={scope:(y={},y[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],y),handler:function(){}},
A[G.RPCEvents.VOICE_CHANNEL_SELECT]={scope:G.OAuth2Scopes.RPC,handler:function(){}},A[G.RPCEvents.NOTIFICATION_CREATE]={scope:(m={},m[G.RPC_SCOPE_CONFIG.ALL]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_NOTIFICATIONS_READ],m),handler:function(){}},A[G.RPCEvents.RELATIONSHIP_UPDATE]={scope:G.RPC_LOCAL_SCOPE,handler:function(){}},A[G.RPCEvents.CURRENT_USER_UPDATE]={scope:(_={},_[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_LOCAL_SCOPE,G.OAuth2Scopes.IDENTIFY],_),handler:function(){return function(e){var t=e.prevState,n=e.dispatch,r={currentUser:D.default.getCurrentUser()};null==r.currentUser||null!=t&&(0,M.default)(r,t)||n((0,U.default)(r.currentUser));return r}}},A[G.RPCEvents.LOBBY_UPDATE]={scope:(h={},h[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],h),handler:function(){}},A[G.RPCEvents.LOBBY_DELETE]={scope:(g={},g[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],g),handler:function(){}},A[G.RPCEvents.LOBBY_MEMBER_CONNECT]={scope:(E={},
E[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],E),handler:function(){}},A[G.RPCEvents.LOBBY_MEMBER_UPDATE]={scope:(S={},S[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],S),handler:function(){}},A[G.RPCEvents.LOBBY_MEMBER_DISCONNECT]={scope:(O={},O[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],O),handler:function(){}},A[G.RPCEvents.LOBBY_MESSAGE]={scope:(b={},b[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],b),handler:function(){}},A[G.RPCEvents.ENTITLEMENT_CREATE]={scope:(I={},I[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_LOCAL_SCOPE,G.RPC_AUTHENTICATED_SCOPE],I),handler:function(){}},A[G.RPCEvents.ENTITLEMENT_DELETE]={scope:(T={},T[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_LOCAL_SCOPE,G.RPC_AUTHENTICATED_SCOPE],T),handler:function(){}},A[G.RPCEvents.USER_ACHIEVEMENT_UPDATE]={scope:G.RPC_LOCAL_SCOPE,handler:function(){}},A);t.default=H},641402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r=i(n(496486)),a=i(n(248369)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){this.transport=e;this.version=t;this.encoding=n;this.id=r.default.uniqueId();this.authorization={authing:!1,scopes:[],accessToken:null,expires:new Date(0)};this.application={id:null,name:null,icon:null};if(null==t||t>o.RPC_VERSION||t<1)throw new a.default(o.RPCCloseCodes.INVALID_VERSION,"Invalid Version: "+t)}},524650:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(248369)),a=u(n(676606)),o=u(n(641402)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(t){
var n,a=t.origin,o=t.postMessageToRPCClient,u=t.frameId,l=t.version,s=t.encoding,d=t.logger,f=t.postClose,c=t.onSendingToRPCClient;n=e.call(this,i.TransportTypes.POST_MESSAGE,l,s)||this;if(-1===["etf","json"].indexOf(s))throw new r.default(i.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+s);if("etf"===s)throw new r.default(i.RPCCloseCodes.INVALID_ENCODING,"Erlpack cannot be used on this client");n.origin=a;n.postMessageToRPCClient=o;n.frameId=u;n.logger=d;n.postClose=f;n.onSendingToRPCClient=c;return n}var n=t.prototype;n.send=function(e){var t;null===(t=this.onSendingToRPCClient)||void 0===t||t.call(this,e,this.id);this.postMessageToRPCClient([a.default.FRAME,e],this.origin)};n.close=function(e,t){this.postClose(this.origin,{code:e,message:t},this.postMessageToRPCClient)};return t}(o.default);t.default=s},478370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(717187)),a=n(956506),o=l(n(248369)),i=l(n(676606)),u=n(770348)
;function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=new Map,y=new Set,m=function(e,t,n){n([i.default.CLOSE,t],e)},_=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(t,r,i,l){var s;(s=e.call(this)||this).disconnectSocket=function(e,t,n){var r,a;void 0===n&&(n=!1);s.emit("disconnect",e,n?void 0:t);e.close(t.code,null!==(r=t.message)&&void 0!==r?r:"Unknown");var o=null!==(a=Array.from(v.entries()).find((function(t){var n=f(t,2);n[0];return n[1]===e})))&&void 0!==a?a:[null,null],i=f(o,1)[0];null!=i&&v.delete(i)
};s.handleIFrameMount=function(e){var t=e.id;y.add(t)};s.handleIFrameUnmount=function(e){var t,n=e.id;y.delete(n);var r=null!==(t=Array.from(v.entries()).find((function(e){var t=f(e,2);t[0];return t[1].frameId===n})))&&void 0!==t?t:[null,null],a=f(r,2),o=a[0],i=a[1];if(null!=i&&null!=o){s.disconnectSocket(i,{code:u.RPCCloseCodes.CLOSE_NORMAL,message:"iFrame gone"},!0);v.delete(o)}};s.handleMessage=function(e,t,n){var r=v.get(t);try{s.routeEvent(r,t,e,n)}catch(e){null!=r?s.disconnectSocket(r,{code:e.code,message:e.message},!0):m(t,{code:e.code,message:e.message},n)}};s.handleFrame=function(e,t,n){var r,a,i;if(e!==t.origin)throw new o.default(u.RPCCloseCodes.INVALID_ORIGIN,"Origin has changed");try{i="string"==typeof n?JSON.parse(n):n}catch(e){throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Payload not recognized encoding")}null===(r=(a=s).onFrameHandled)||void 0===r||r.call(a,i,s.logger,t);s.emit("request",t,i)};s.handleHandshake=function(){
var e=d(regeneratorRuntime.mark((function e(t,r,a){var i,l,d,f,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(54533).then(n.t.bind(n,197683,23));case 2:i=e.sent.default;e.prev=3;i.assert(r,i.object().required().keys({v:i.number().min(1).max(1).required(),encoding:i.string().equal("json").optional(),client_id:i.string().required(),frame_id:i.string().required()}));e.next=10;break;case 7:e.prev=7;e.t0=e.catch(3);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,e.t0.message);case 10:d=(l=r).frame_id;if(!!y.has(d)){e.next=16;break}s.logger.error("Unrecognized frame ID "+d);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Unrecognized frame ID "+d);case 16:e.prev=16;f=s.createPostMessageProxySocket({origin:t,postMessageToRPCClient:a,frameId:d,version:Number(l.v),logger:s.logger,postClose:m,encoding:null!==(c=l.encoding)&&void 0!==c?c:"json"});e.next=24;break;case 20:e.prev=20;e.t1=e.catch(16)
;s.logger.error("Error opening window socket "+e.t1);throw e.t1;case 24:s.logger.info("Socket Opened: "+f.id);e.prev=25;e.next=28;return s.validateSocketClient(f,t,l.client_id);case 28:if(y.has(d)){e.next=31;break}s.logger.error("Frame ID "+d+" no longer exists");throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Unrecognized frame ID "+d);case 31:v.set(t,f);y.delete(d);s.emit("connect",f);s.logger.info("Socket Validated: "+f.id);e.next=41;break;case 37:e.prev=37;e.t2=e.catch(25);s.logger.info("Socket Closed: "+f.id+", "+e.t2.message);throw e.t2;case 41:case"end":return e.stop()}}),e,null,[[3,7],[16,20],[25,37]])})));return function(t,n,r){return e.apply(this,arguments)}}();s.handleClose=function(){var e=d(regeneratorRuntime.mark((function e(t,r){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(54533).then(n.t.bind(n,197683,23));case 2:a=e.sent.default;e.prev=3;a.assert(r,a.object().required().unknown(!0).keys({
code:a.number().valid(Object.values(u.RPCCloseCodes)).required(),message:a.string().optional()}));e.next=10;break;case 7:e.prev=7;e.t0=e.catch(3);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,e.t0.message);case 10:i=r;s.disconnectSocket(t,i);case 12:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(t,n){return e.apply(this,arguments)}}();a.ComponentDispatch.subscribe(u.ComponentActions.IFRAME_MOUNT,s.handleIFrameMount);a.ComponentDispatch.subscribe(u.ComponentActions.IFRAME_UNMOUNT,s.handleIFrameUnmount);s.validateSocketClient=t;s.logger=r;s.createPostMessageProxySocket=i;s.onFrameHandled=l;return s}t.prototype.routeEvent=function(e,t,n,r){if(!Array.isArray(n))throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Protocol error");var a=f(n,2),l=a[0],s=a[1];switch(l){case i.default.HANDSHAKE:if(null!=e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Already connected");return this.handleHandshake(t,s,r);case i.default.FRAME:
if(null==e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Not connected");return this.handleFrame(t,e,s);case i.default.CLOSE:if(null==e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Not connected");return this.handleClose(e,s);default:throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Invalid opcode")}};return t}(r.default);t.default=_},542490:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=h(n(945771)),a=h(n(922629)),o=n(985918),i=h(n(768050)),u=h(n(43889)),l=h(n(267735)),s=n(766552),d=h(n(406266)),f=h(n(180450)),c=h(n(669755)),p=h(n(594875)),v=h(n(965443)),y=h(n(572110)),m=h(n(261469)),_=h(n(632303));function h(e){return e&&e.__esModule?e:{default:e}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}
var E=g({},o.crossPlatformCommands,{},d.default,{},f.default,{},c.default,{},p.default,{},v.default,{},y.default,{},_.default,{},m.default,{},u.default.authCommands),S=g({},i.default,{},s.overlayEventHandlers,{},u.default.voiceSettingsEvents);var O={server:l.default,commands:E,events:S,stores:[r.default],transports:[u.default.postMessageTransport],registerTransportsForEmbeddedPlatform:function(){a.default.ensureModule("discord_rpc").then((function(){for(var e=0,t=[n(444287).Z,n(650801).Z];e<t.length;e++){var r=t[e];l.default.registerTransport(r)}}))}};t.default=O},43889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(192367),a=i(n(81436)),o=i(n(593621));function i(e){return e&&e.__esModule?e:{default:e}}var u={authCommands:a.default,voiceSettingsEvents:r.voiceSettingsEventHandlers,postMessageTransport:o.default};t.default=u},766552:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.overlayEventHandlers=void 0
;var r,a=s(n(496486)),o=s(n(191839)),i=s(n(81636)),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}var d=((r={})[l.RPCEvents.OVERLAY_UPDATE]={scope:l.RPC_LOCAL_SCOPE,handler:function(e){var t=e.args.pid,n=e.socket;if("number"!=typeof t||t<10)throw new u.default(l.RPCErrors.INVALID_EVENT,"Invalid pid");return function(e){var r=e.prevState,u=e.dispatch,l=i.default.enabled,s=!0,d=n.application.id;if(null!=d){var f=o.default.getActiveLibraryApplication(d);null!=f&&(l=l&&f.isOverlayEnabled());s=i.default.isInputLocked(t)}var c={enabled:l,locked:s};a.default.isEqual(c,r)||u(c);return c}}},r);t.overlayEventHandlers=d},192367:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.voiceSettingsEventHandlers=void 0;var r,a=(r=n(655369))&&r.__esModule?r:{default:r},o=n(367983);var i=(0,a.default)(o.getDeprecatedVoiceSettings,o.getVoiceSettings);t.voiceSettingsEventHandlers=i},367983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.getVoiceSettings=t.getDeprecatedVoiceSettings=void 0;t.unlockOverlay=function(e){if(a.default.isReady(e)){r.default.setLocked(!1,e);return{lock:function(){r.default.setLocked(!0,e)},context:s.AppContext.OVERLAY}}o.default.focus(null,!0);return{lock:function(){o.default.setForegroundProcess(e)},context:s.AppContext.APP}};t.validateSocketClient=void 0;t.validateTransportType=function(e){if(s.TransportTypes.IPC!==e&&s.TransportTypes.POST_MESSAGE!==e)throw new u.default(s.RPCErrors.INVALID_COMMAND,"Invalid transport.")};var r=d(n(390557)),a=d(n(81636)),o=d(n(922629)),i=n(339943),u=d(n(248369)),l=n(861798),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var c=["207646673902501888"];var p=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,
l.validateOriginAndUpdateSocket)(t,n);if(null!=r&&""!==r||!(0,l.isMatchingOrigin)(n)){e.next=6;break}t.authorization.scopes=[s.RPC_PRIVATE_SCOPE,s.RPC_PRIVATE_LIMITED_SCOPE];return e.abrupt("return",Promise.resolve());case 6:if(null!=r&&""!==r){e.next=8;break}return e.abrupt("return",Promise.reject(new u.default(s.RPCCloseCodes.INVALID_CLIENTID,"No Client ID Specified")));case 8:a=o.default.releaseChannel!==s.PublicReleaseChannels.CANARY&&!c.includes(r)&&t.transport!==s.TransportTypes.POST_MESSAGE;e.next=11;return(0,l.processSocketThrottlers)(r,a);case 11:return e.abrupt("return",(0,l.fetchApplicationsRPC)(t,r,n));case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}();t.validateSocketClient=p;t.getDeprecatedVoiceSettings=function(){return(0,
l.getDeprecatedVoiceSettingsWithShortcut)((function(e){var t=[];null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=function(e){return e.map((function(e){var t;return{type:e[0],code:e[1],name:null!==(t=(0,i.codeToKey)(e))&&void 0!==t?t:"unknown"}}))}(e.modeOptions.shortcut));return t}))};t.getVoiceSettings=function(e){return(0,l.getVoiceSettingsWithShortcut)(e,(function(e){var t="";null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=(0,i.toString)(e.modeOptions.shortcut));return t}))}},804135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(682644)),a=o(n(542490));function o(e){return e&&e.__esModule?e:{default:e}}var i=new r.default(a.default);t.default=i},406266:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u,l,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),d=P(n(312260)),f=n(557782),c=P(n(234161)),p=n(508510),v=P(n(767766)),y=n(689575),m=P(n(902305)),_=P(n(644263)),h=P(n(30098)),g=P(n(423086)),E=P(n(689389)),S=P(n(211136)),O=P(n(690445)),b=n(194322),I=n(245838),T=P(n(248369)),A=n(861798),C=n(367983),M=n(770348),N=n(371621);function P(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}
function D(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,u,"next",e)}function u(e){D(o,r,a,i,u,"throw",e)}i(void 0)}))}}function k(e,t,n,r,a){return j.apply(this,arguments)}function j(){return(j=L(regeneratorRuntime.mark((function e(t,n,r,a,o){var i,u,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===o&&(o="");if(null!=(i=g.default.getApplicationActivity(n))&&null!=i.secrets&&(0,A.validateActivityInvite)(a,i.party,i.secrets)){e.next=4;break}throw new T.default(M.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");case 4:if(!(u=(0,v.default)(i,O.default))){e.next=8;break}l=(0,C.unlockOverlay)(t),s=l.lock;return e.abrupt("return",(0,f.openModal)(i,u).then((function(){s()
;throw new T.default(M.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")})));case 8:e.next=10;return d.default.sendActivityInviteUser({userId:r,type:a,activity:i,content:o,location:"In-Game Invite"});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=((l={})[M.RPCCommands.SEND_ACTIVITY_JOIN_INVITE]={scope:(r={},r[M.RPC_SCOPE_CONFIG.ANY]=[M.OAuth2Scopes.RPC,M.RPC_LOCAL_SCOPE],r),handler:function(e){var t=e.socket,n=e.args,r=n.user_id,a=n.pid,o=t.application.id;if(null==o)throw new T.default(M.RPCErrors.INVALID_COMMAND,"No application.");return k(a,o,r,M.ActivityActionTypes.JOIN)}},l[M.RPCCommands.CLOSE_ACTIVITY_JOIN_REQUEST]={scope:(a={},a[M.RPC_SCOPE_CONFIG.ANY]=[M.OAuth2Scopes.RPC,M.RPC_LOCAL_SCOPE],a),handler:function(e){var t=e.args.user_id,n=_.default.getDMFromUserId(t);null!=n&&(0,p.ack)(n,!0,!0)}},l[M.RPCCommands.ACTIVITY_INVITE_USER]={scope:(o={},
o[M.RPC_SCOPE_CONFIG.ANY]=[M.OAuth2Scopes.RPC,M.RPC_LOCAL_SCOPE],o),validation:function(e){return e.object().required().keys({user_id:e.string().required(),type:e.number().required().valid([M.ActivityActionTypes.JOIN]),content:e.string().min(0).max(1024),pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.user_id,o=n.content,i=n.pid,u=t.application.id;if(null==u)throw new T.default(M.RPCErrors.INVALID_COMMAND,"No application.");return k(i,u,a,r,o)}},l[M.RPCCommands.ACCEPT_ACTIVITY_INVITE]={scope:(i={},i[M.RPC_SCOPE_CONFIG.ANY]=[M.OAuth2Scopes.RPC,M.RPC_LOCAL_SCOPE],i),validation:function(e){return e.object().required().keys({type:e.number().required().valid([M.ActivityActionTypes.JOIN]),user_id:e.string().required(),session_id:e.string().required(),channel_id:e.string().required(),message_id:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.user_id,o=n.session_id,i=n.channel_id,u=n.message_id,l=t.application.id
;if(null==l)throw new T.default(M.RPCErrors.INVALID_COMMAND,"No application.");var s=Promise.resolve(!1);if(r===M.ActivityActionTypes.JOIN)s=c.default.join({userId:a,sessionId:o,applicationId:l,channelId:i,messageId:u});return s.then((function(e){if(!e)throw new T.default(M.RPCErrors.INVALID_INVITE,"Invite is expired or invalid.")}))}},l[M.RPCCommands.OPEN_INVITE_DIALOG]={scope:(u={},u[M.RPC_SCOPE_CONFIG.ANY]=[M.OAuth2Scopes.RPC,M.RPC_LOCAL_SCOPE],u),handler:function(e){var t,r,a=e.socket,o=S.default.getVoiceChannelId(),i=_.default.getChannel(o);if(null==i)throw new T.default(M.RPCErrors.INVALID_CHANNEL,"Invalid channel "+o);var u=h.default.getGuild(i.getGuildId());if(null==u)throw new T.default(M.RPCErrors.INVALID_CHANNEL,"Invalid guild "+i.getGuildId());if(!(0,y.canViewInviteModal)(E.default,u,i))throw new T.default(M.RPCErrors.INVALID_PERMISSIONS,"No invite permissions for "+o);var l=m.default.getWindow(M.PopoutWindowKeys.CHANNEL_CALL_POPOUT)
;(null===(t=l)||void 0===t?void 0:t.closed)&&(l=null);var d=null!=l?M.AppContext.POPOUT:M.AppContext.APP;(0,I.exitFullScreen)({},null===(r=l)||void 0===r?void 0:r.document);(0,b.openModalLazy)(L(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return s.createElement(r,w({},e,{guild:u,channel:i,applicationId:a.application.id,analyticsLocation:M.AnalyticsLocations.ACTIVITY_RPC,source:M.InstantInviteSources.ACTIVITY_INVITE}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:d===M.AppContext.POPOUT?N.POPOUT_MODAL_CONTEXT:N.DEFAULT_MODAL_CONTEXT})}},l);t.default=U},180450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=S(n(118915)),i=n(91817),u=n(851792),l=S(n(644263)),s=S(n(288356)),d=S(n(211136)),f=S(n(728429)),c=S(n(47969)),p=S(n(424099)),v=n(194322),y=S(n(308920)),m=n(685677),_=S(n(922629)),h=S(n(248369)),g=n(861798),E=n(770348);function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return b.apply(this,arguments)}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function A(e,t){var n=c.default.isEntitledToSku(f.default.getCurrentUser(),e,t);return null!=n?Promise.resolve(n):(0,u.fetchUserEntitlementsForApplication)(t).then((function(){return!0===c.default.isEntitledToSku(f.default.getCurrentUser(),e,t)}))}var C=((r={})[E.RPCCommands.VALIDATE_APPLICATION]={scope:E.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id;try{if(null==t)throw new h.default(E.RPCErrors.INVALID_COMMAND,"No application.");var r=s.default.getGame(t);if(null==r)throw new h.default(E.RPCErrors.INVALID_ENTITLEMENT,"SKU does not exist.");var o=r.primarySkuId
;if(null==o)throw new h.default(E.RPCErrors.INVALID_ENTITLEMENT,"SKU does not exist.");return Promise.race([A(o,r.id).then((function(e){if(!e)throw new h.default(E.RPCErrors.INVALID_ENTITLEMENT,"User does not have entitlement.")})),(0,i.timeoutPromise)(1e4).then((function(){throw new h.default(E.RPCErrors.INVALID_ENTITLEMENT,"Timed out fetching entitlement.")}))])}catch(e){if(e.code===E.RPCErrors.INVALID_ENTITLEMENT){_.default.focus(null,!0);(0,v.openModalLazy)(T(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(65526)]).then(n.bind(n,865526));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,b({},e,{applicationId:t}))}));case 5:case"end":return e.stop()}}),e)}))))}throw e}}},r[E.RPCCommands.GET_ENTITLEMENT_TICKET]={scope:E.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id
;if(null==t)throw new h.default(E.RPCErrors.INVALID_COMMAND,"No application.");return o.default.post({url:E.Endpoints.ENTITLEMENT_TICKET(t),body:{test_mode:p.default.inTestModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body})).catch((function(e){_.default.focus(null,!0);(0,v.openModalLazy)(T(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(65526)]).then(n.bind(n,865526));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,b({},e,{applicationId:t}))}));case 5:case"end":return e.stop()}}),e)}))));throw e}))}},r[E.RPCCommands.SEND_GENERIC_EVENT]={scope:E.RPC_AUTHENTICATED_SCOPE,handler:function(){console.warn("The SEND_GENERIC_EVENT api has been deprecated.")}},r[E.RPCCommands.SEND_ANALYTICS_EVENT]={validation:function(e){return e.object().required().keys({event_name:e.string().required(),
event_properties:e.object().required()})},handler:function(e){var t,n=e.socket,r=e.args,a=r.event_name,o=r.event_properties;(0,g.validatePostMessageTransport)(n.transport);(0,g.validateApplication)(n.application);var i=n.application.id,u=l.default.getChannel(d.default.getVoiceChannelId()),f=null==u?void 0:u.getGuildId();if(null==u||null==f)throw new h.default(E.RPCErrors.INVALID_COMMAND,"Invalid channel");var c=s.default.getGame(i);if(!(0,m.hasFlag)(null!==(t=null==c?void 0:c.flags)&&void 0!==t?t:0,E.ApplicationFlags.EMBEDDED_FIRST_PARTY))throw new h.default(E.RPCErrors.INVALID_COMMAND,"This application cannot access this API");y.default.track(a,b({},o,{activity_application_id:i,activity_guild_id:f}))}},r[E.RPCCommands.GET_APPLICATION_TICKET]={scope:E.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id;if(null==t)throw new h.default(E.RPCErrors.INVALID_COMMAND,"No application.");return o.default.post({url:E.Endpoints.APPLICATION_TICKET(t),body:{
test_mode:p.default.inTestModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body}))}},r);t.default=C},81436:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=c(n(480831)),o=n(94066),i=n(194322),u=n(864489),l=c(n(922629)),s=c(n(964125)),d=n(770348),f=n(371621);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){
v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}var y=(0,s.default)((function(e,t,n,u,l,s,d,c,p,y,m,_,h){var g="OAuth2Authorize_"+e+"_"+y+"_"+m;return new Promise((function(E){var S=function(e){E(e)};(0,i.openModal)((function(a){return r.createElement(o.OAuth2AuthorizeModal,v({},a,{authorization:t,clientId:e,scopes:null!=n?n:[],callback:S,responseType:l,redirectUri:s,codeChallenge:d,codeChallengeMethod:c,state:p,permissions:u,guildId:y,channelId:m,prompt:_,disableGuildSelect:"boolean"==typeof h?h:"true"===h}))}),{modalKey:g,onCloseRequest:function(){(0,i.closeModal)(g);E(void 0)}},(0,a.default)(t.application)?f.POPOUT_MODAL_CONTEXT:f.DEFAULT_MODAL_CONTEXT)}))}),(function(e){if(u.isPlatformEmbedded){var t=(0,a.default)(e)?d.PopoutWindowKeys.CHANNEL_CALL_POPOUT:null;(0,u.isWindows)()?l.default.minimize(t):l.default.restore(t)
;l.default.focus(t)}}));t.default=y},669755:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(977365)),o=u(n(922629)),i=n(861798);function u(e){return e&&e.__esModule?e:{default:e}}var l=((r={})[n(770348).RPCCommands.ENCOURAGE_HW_ACCELERATION]={validation:function(e){return e.object()},handler:function(e){var t=e.socket;(0,i.validatePostMessageTransport)(t.transport);var n=t.application.id;if(null!=n){(0,a.default)(n);return{enabled:o.default.getEnableHardwareAcceleration()}}}},r);t.default=l},594875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=m(n(636602)),o=n(557782),i=m(n(23170)),u=m(n(390557)),l=m(n(767766)),s=m(n(423086)),d=m(n(690445)),f=n(194322),c=m(n(248369)),p=n(861798),v=n(367983),y=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var E=((r={})[y.RPCCommands.SET_OVERLAY_LOCKED]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({locked:e.boolean().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.locked,r=t.pid;if(null==e.socket.application.id)throw new c.default(y.RPCErrors.INVALID_COMMAND,"No application.");u.default.setLocked(n,r)}},r[y.RPCCommands.OPEN_OVERLAY_ACTIVITY_INVITE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({type:e.number().required().valid([y.ActivityActionTypes.JOIN]),
pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.pid,i=t.application.id;if(null==i)throw new c.default(y.RPCErrors.INVALID_COMMAND,"No application.");var u=s.default.getApplicationActivity(i);if(null==u||null==u.secrets||!(0,p.validateActivityInvite)(r,u.party,u.secrets))throw new c.default(y.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");var f=(0,v.unlockOverlay)(a).lock,m=(0,l.default)(u,d.default);return(0,o.openModal)(u,m).then((function(){f();if(m)throw new c.default(y.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")}))}},r[y.RPCCommands.OPEN_OVERLAY_GUILD_INVITE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({code:e.string().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.code,r=t.pid
;if(null==e.socket.application.id)throw new c.default(y.RPCErrors.INVALID_COMMAND,"No application.");return i.default.resolveInvite(n,"Game SDK").then((function(e){var t=e.invite,n=e.code;if(null==t)throw new c.default(y.RPCErrors.INVALID_INVITE,"Invalid invite id: "+n);var o=(0,v.unlockOverlay)(r),i=o.context,u=o.lock;return new Promise((function(e){a.default.dispatch({type:y.ActionTypes.INVITE_MODAL_OPEN,invite:t,code:n,context:i,resolve:e})})).then(u)}))}},r[y.RPCCommands.OPEN_OVERLAY_VOICE_SETTINGS]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({pid:e.number().min(0).required()})},handler:function(e){var t=e.args.pid,r=e.socket,a=r.application.id;if(null==a)throw new c.default(y.RPCErrors.INVALID_COMMAND,"No application.");var o=(0,v.unlockOverlay)(t).lock;return new Promise((function(e){(0,f.openModalLazy)(g(regeneratorRuntime.mark((function t(){var i,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2
;return Promise.all([n.e(40532),n.e(5374)]).then(n.bind(n,215560));case 2:i=t.sent;u=i.default;return t.abrupt("return",(function(t){return React.createElement(u,_({},t,{mediaEngineContext:a,title:r.application.name,onClose:function(){t.onClose();o();e()}}))}));case 5:case"end":return t.stop()}}),t)}))))}))}},r);t.default=E},965443:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(919094),i=S(n(636602)),u=n(832635),l=n(241889),s=S(n(861315)),d=S(n(740852)),f=S(n(23170)),c=S(n(920061)),p=n(139982),v=S(n(728429)),y=n(194322),m=S(n(308920)),_=S(n(608417)),h=S(n(922629)),g=S(n(248369)),E=n(770348);function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function A(e,t){
null!=e&&m.default.track(E.AnalyticEvents.EXTERNAL_DYNAMIC_LINK_RECEIVED,{invite_code:null,has_auth_token:null,is_backgrounded:null,fingerprint:(0,o.extractId)(e),link_type:t})}var C=((r={})[E.RPCCommands.INVITE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){return T(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.args.code;t.next=3;return f.default.resolveInvite(n,"Desktop Modal");case 3:r=t.sent;if(null!=(a=r.invite)){t.next=7;break}throw new g.default(E.RPCErrors.INVALID_INVITE,"Invalid invite id: "+n);case 7:i.default.dispatch({type:E.ActionTypes.INVITE_MODAL_OPEN,invite:a,code:n,context:E.AppContext.APP});return t.abrupt("return",{invite:a,code:n});case 9:case"end":return t.stop()}}),t)})))()}},r[E.RPCCommands.GUILD_TEMPLATE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){return T(regeneratorRuntime.mark((function t(){var r,o,i;return regeneratorRuntime.wrap((function(t){
for(;;)switch(t.prev=t.next){case 0:r=e.args.code;if(null!=v.default.getCurrentUser()){t.next=3;break}return t.abrupt("return");case 3:t.next=5;return c.default.resolveGuildTemplate(r);case 5:o=t.sent;if(null!=(i=o.guildTemplate)){t.next=9;break}throw new g.default(E.RPCErrors.INVALID_GUILD_TEMPLATE,"Invalid guild template id: "+r);case 9:h.default.focus();(0,y.openModalLazy)(T(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(4053)]).then(n.bind(n,704053));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,b({},e,{guildTemplate:i}))}));case 5:case"end":return e.stop()}}),e)}))));return t.abrupt("return",{guildTemplate:i,code:r});case 12:case"end":return t.stop()}}),t)})))()}},r[E.RPCCommands.GIFT_CODE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args.code;return new Promise((function(e,r){
i.default.wait((function(){d.default.resolveGiftCode(t,!0,!0).then((function(r){var o=r.giftCode;h.default.focus();m.default.track(E.AnalyticEvents.OPEN_MODAL,{type:"gift_accept",location:E.DIRECT_ANALYTICS_LOCATION});(0,y.openModalLazy)(T(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(9199)]).then(n.bind(n,109199));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,b({code:t},e))}));case 5:case"end":return e.stop()}}),e)}))));e({giftCode:o})})).catch((function(){return r(new g.default(E.RPCErrors.INVALID_GIFT_CODE,"Invalid gift code: "+t))}))}))}))}},r[E.RPCCommands.DEEP_LINK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.type,r=t.params;h.default.focus();switch(n){case E.RPCDeepLinks.USER_SETTINGS:if(null!=r){(0,p.replaceWith)(E.Routes.SETTINGS(r.section,r.subsection))
;A(r.fingerprint,E.DynamicLinkType.SETTINGS)}break;case E.RPCDeepLinks.CHANGELOG:if(null!=r){(0,p.replaceWith)(_.default.formatPathWithQuery(E.Routes.CHANGELOGS(r.date),r.query));A(r.fingerprint,E.DynamicLinkType.CHANGELOG)}break;case E.RPCDeepLinks.LIBRARY:(0,p.replaceWith)(E.Routes.APPLICATION_LIBRARY);null!=r&&A(r.fingerprint,E.DynamicLinkType.LIBRARY);break;case E.RPCDeepLinks.STORE_HOME:(0,p.replaceWith)(E.Routes.APPLICATION_STORE);null!=r&&A(r.fingerprint,E.DynamicLinkType.STORE);break;case E.RPCDeepLinks.STORE_LISTING:if(null!=r){(0,p.replaceWith)(E.Routes.APPLICATION_STORE_LISTING_SKU(r.skuId,r.slug));A(r.fingerprint,E.DynamicLinkType.STORE)}break;case E.RPCDeepLinks.CHANNEL:if(null!=r){(0,p.replaceWith)({pathname:E.Routes.CHANNEL(r.guildId,r.channelId,r.messageId),search:r.search});A(r.fingerprint,E.DynamicLinkType.CHANNEL)}}}},r[E.RPCCommands.BROWSER_HANDOFF]={scope:E.RPC_PRIVATE_LIMITED_SCOPE,handler:function(e){var t=e.args,n=t.handoffToken,r=t.fingerprint
;h.default.focus(null,!0);(0,l.handoffEnd)(n,r)}},r[E.RPCCommands.CONNECTIONS_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.providerType,r=t.code,a=t.openid_params,o=t.state;return s.default.callback(n,{code:r,openid_params:a,state:o})}},r[E.RPCCommands.BRAINTREE_POPUP_BRIDGE_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.state,r=t.path,a=t.query;return(0,u.popupBridgeCallback)({paymentSourceType:E.PaymentSourceTypes.PAYPAL,state:n,path:r,query:a})}},r[E.RPCCommands.BILLING_POPUP_BRIDGE_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.state,r=t.path,a=t.query,o=t.payment_source_type;return(0,u.popupBridgeCallback)({paymentSourceType:o,state:n,path:r,query:a})}},r);t.default=C},572110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i,u,l=E(n(851792)),s=E(n(723420)),d=E(n(376543)),f=n(168558),c=h(n(954140)),p=h(n(231765)),v=h(n(424099)),y=h(n(248369)),m=n(367983),_=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}var S=[c.default.RPC];function O(e){if(null==e)return{lock:_.NOOP_NULL,context:_.AppContext.APP};var t=(0,m.unlockOverlay)(e);return{lock:t.lock,context:t.context}}function b(e,t){var n={
subscriptionTier:_.PremiumSubscriptionSKUs.TIER_2,analyticsLocations:S,analyticsObject:t};switch(e){case _.AppContext.APP:return p.default.openPremiumPaymentModalInApp(n);case _.AppContext.OVERLAY:return p.default.openPremiumPaymentModalInOverlay(n);default:throw new Error("Unexpected app context: "+e)}}var I=((u={})[_.RPCCommands.START_PURCHASE]=((r={})[_.RPC_SCOPE_CONFIG.ANY]=[_.RPC_AUTHENTICATED_SCOPE,_.RPC_LOCAL_SCOPE],r.validation=function(e){return e.object().required().keys({sku_id:e.string().required(),pid:e.number().min(0)})},r.handler=function(e){var t=e.socket,n=e.args,r=n.sku_id,a=n.pid;(0,m.validateTransportType)(t.transport);var o=t.application.id;if(null==o)throw new y.default(_.RPCErrors.INVALID_COMMAND,"No application.");var i=O(t.transport!==_.TransportTypes.POST_MESSAGE?a:null),u=i.lock,l=i.context,s={page:_.AnalyticsPages.IN_APP};return(0,f.openIAPPurchaseModal)({applicationId:o,skuId:r,openPremiumPaymentModal:function(){return b(l,s)},analyticsLocations:S,
analyticsLocation:s,context:l}).then((function(e){u();return e}),(function(e){u();if(null!=e)throw new y.default(_.RPCErrors.PURCHASE_ERROR,e);throw new y.default(_.RPCErrors.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))},r),u[_.RPCCommands.GET_SKUS]=((a={})[_.RPC_SCOPE_CONFIG.ANY]=[_.RPC_AUTHENTICATED_SCOPE,_.RPC_LOCAL_SCOPE],a.handler=function(e){var t=e.socket;(0,m.validateTransportType)(t.transport);var n=t.application.id;if(null==n)throw new y.default(_.RPCErrors.INVALID_COMMAND,"No application.");return v.default.inTestModeForApplication(n)?s.fetchSKUsForApplication(n).then((function(e){return e.filter((function(e){return null!=e.price}))})):d.fetchAllStoreListingsForApplication(n).then((function(e){return(null!=e?e:[]).map((function(e){return e.sku})).filter((function(e){return null!=e.price}))}))},a),u[_.RPCCommands.START_PREMIUM_PURCHASE]=((o={})[_.RPC_SCOPE_CONFIG.ANY]=[_.RPC_AUTHENTICATED_SCOPE,_.RPC_LOCAL_SCOPE],o.validation=function(e){return e.object().keys({
pid:e.number().min(0)})},o.handler=function(e){var t=e.socket,n=e.args.pid;(0,m.validateTransportType)(t.transport);if(null==t.application.id)throw new y.default(_.RPCErrors.INVALID_COMMAND,"No application.");var r=O(t.transport!==_.TransportTypes.POST_MESSAGE?n:null),a=r.lock;return b(r.context,{page:_.AnalyticsPages.IN_APP}).then((function(){a()}),(function(e){a();if(null!=e)throw new y.default(_.RPCErrors.PURCHASE_ERROR,e);throw new y.default(_.RPCErrors.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))},o),u[_.RPCCommands.GET_ENTITLEMENTS]=((i={})[_.RPC_SCOPE_CONFIG.ANY]=[_.RPC_AUTHENTICATED_SCOPE,_.RPC_LOCAL_SCOPE],i.handler=function(e){var t=e.socket;(0,m.validateTransportType)(t.transport);var n=t.application.id;if(null==n)throw new y.default(_.RPCErrors.INVALID_COMMAND,"No application.");return l.fetchUserEntitlementsForApplication(n).then((function(e){return null!=e?e:[]}))},i),u);t.default=I},261469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r,a=s(n(740207)),o=s(n(635014)),i=n(339943),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.application.id;if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return t}var f=((r={})[l.RPCCommands.SET_VOICE_SETTINGS_2]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({input_mode:e.object().keys({type:e.string().valid(Object.keys(l.InputModes)),shortcut:e.string().required()}),self_mute:e.boolean(),self_deaf:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.input_mode,u=n.self_mute,l=n.self_deaf,s=d(t);null!=r&&a.default.setMode(r.type,{shortcut:(0,i.toCombo)(r.shortcut)},s);null!=u&&u!==o.default.isSelfMute(s)&&a.default.toggleSelfMute(s);null!=l&&l!==o.default.isSelfDeaf(s)&&a.default.toggleSelfDeaf(s)}},r[l.RPCCommands.SET_USER_VOICE_SETTINGS_2]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({
user_id:e.string().required(),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.user_id,i=n.mute,u=n.volume,l=d(t);null!=i&&i!==o.default.isLocalMute(r,l)&&a.default.toggleLocalMute(r,l);null!=u&&a.default.setLocalVolume(r,u,l)}},r);t.default=f},632303:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u=p(n(740207)),l=p(n(635014)),s=p(n(728429)),d=p(n(248369)),f=n(367983),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}var v=((i={})[c.RPCCommands.SET_USER_VOICE_SETTINGS]={scope:(r={},r[c.RPC_SCOPE_CONFIG.ANY]=[c.OAuth2Scopes.RPC,c.OAuth2Scopes.RPC_VOICE_WRITE],r),validation:function(e){return e.object().required().keys({user_id:e.string().required(),pan:e.object().keys({left:e.number().min(0).max(1).required(),right:e.number().min(0).max(1).required()}),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){
var t=e.args,n=t.user_id,r=t.pan,a=t.volume,o=t.mute,i=s.default.getCurrentUser();if(null==s.default.getUser(n)||(null==i?void 0:i.id)===n)throw new d.default(c.RPCErrors.INVALID_USER,"Invalid user id: "+n);null!=r&&u.default.setLocalPan(n,r.left,r.right);null!=a&&u.default.setLocalVolume(n,a);if(null!=o){var f=l.default.isLocalMute(n);(f&&!o||!f&&o)&&u.default.toggleLocalMute(n)}return{user_id:n,pan:l.default.getLocalPan(n),volume:l.default.getLocalVolume(n),mute:l.default.isLocalMute(n)}}},i[c.RPCCommands.GET_VOICE_SETTINGS]={scope:(a={},a[c.RPC_SCOPE_CONFIG.ANY]=[c.OAuth2Scopes.RPC,c.OAuth2Scopes.RPC_VOICE_READ],a),handler:function(){return(0,f.getDeprecatedVoiceSettings)()}},i[c.RPCCommands.SET_VOICE_SETTINGS]={scope:(o={},o[c.RPC_SCOPE_CONFIG.ANY]=[c.OAuth2Scopes.RPC,c.OAuth2Scopes.RPC_VOICE_WRITE],o),validation:function(e){return e.object().required().keys({input:e.object().keys({device_id:e.string().valid(Object.keys(l.default.getInputDevices())),
volume:e.number().min(0).max(100)}),output:e.object().keys({device_id:e.string().valid(Object.keys(l.default.getOutputDevices())),volume:e.number().min(0).max(200)}),mode:e.object().keys({type:e.string().valid(Object.keys(c.InputModes)),auto_threshold:e.boolean(),threshold:e.number().min(-100).max(0),shortcut:e.array().items(e.object().keys({type:e.number().min(0).max(3).required(),code:e.number().required(),name:e.string()})),delay:e.number().min(0).max(2e3)}),automatic_gain_control:e.boolean(),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),qos:e.boolean(),silence_warning:e.boolean(),deaf:e.boolean(),mute:e.boolean()})},handler:function(e){var t=e.args,n=t.input,r=t.output,a=t.mode,o=t.automatic_gain_control,i=t.echo_cancellation,s=t.noise_suppression,d=t.qos,c=t.silence_warning,p=t.deaf,v=t.mute;if(n){null!=n.device_id&&u.default.setInputDevice(n.device_id);null!=n.volume&&u.default.setInputVolume(n.volume)}if(r){null!=r.device_id&&u.default.setOutputDevice(r.device_id)
;null!=r.volume&&u.default.setOutputVolume(r.volume)}if(a){var y=l.default.getMode(),m=l.default.getModeOptions();null!=a.type&&(y=a.type);null!=a.auto_threshold&&(m.autoThreshold=a.auto_threshold);null!=a.threshold&&(m.threshold=a.threshold);null!=a.shortcut&&(m.shortcut=a.shortcut.map((function(e){return[e.type,e.code]})));null!=a.delay&&(m.delay=a.delay);u.default.setMode(y,m)}null!=o&&u.default.setAutomaticGainControl(o);null!=i&&u.default.setEchoCancellation(i);null!=s&&u.default.setNoiseSuppression(s);null!=d&&u.default.setQoS(d);null!=c&&u.default.setSilenceWarning(c);if(null!=p){var _=l.default.isSelfDeaf();(_&&!p||!_&&p)&&u.default.toggleSelfDeaf()}if(null!=v){var h=l.default.isSelfMute();(h&&!v||!h&&v)&&u.default.toggleSelfMute()}return(0,f.getDeprecatedVoiceSettings)()}},i);t.default=v},650801:(e,t,n)=>{"use strict";({value:!0});t.Z=void 0;var r=n(348764),a=c(n(717187)),o=c(n(496486)),i=c(n(791548)),u=c(n(922629)),l=c(n(318671)),s=c(n(641402)),d=n(367983),f=n(770348)
;function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y,m=u.default.requireModule("discord_rpc").RPCIPC,_=new i.default("RPCServer:IPC"),h={HANDSHAKE:0,FRAME:1,CLOSE:2,PING:3,PONG:4};function g(e,t){null!=e.setHandshakeComplete?e.setHandshakeComplete(t):e._didHandshake=t}function E(e){return null!=e.getHandshakeComplete?e.getHandshakeComplete():e._didHandshake}function S(e){return new Promise((function(t,n){"string"==typeof e&&(e=m.net.createConnection(e));e.pause();e.on("readable",(function(){try{b(e)}catch(t){e.end(O(h.CLOSE,{code:1003,message:t.message}));e.destroy()}}));var r=function(){try{e.end();e.destroy()}catch(e){}},a=Promise.race([new Promise((function(t){return e.on("error",(function(){return t()}))})),new Promise((function(t,n){e.on("pong",(function(){
return n(new Error("socket responded with pong"))}))})),new Promise((function(e,t){setTimeout((function(){return t(new Error("socket alive timeout"))}),1e3)}))]).then((function(){r()}),(function(e){r();throw e}));e.write(O(h.PING,o.default.uniqueId()));return a.then(t,n)}))}function O(e,t){t=JSON.stringify(t);var n=r.Buffer.byteLength(t),a=r.Buffer.alloc(8+n);a.writeInt32LE(e,0);a.writeInt32LE(n,4);a.write(t,8,n);return function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}(a)}function b(e){var t=e.read(8);if(t){var n=(t=r.Buffer.from(t)).readInt32LE(0),a=t.readInt32LE(4);if(!Object.values(h).includes(n)||a<0)throw new Error("protocol error");if(!(t=e.read(a)))throw new Error("data size does not match what was received");t=r.Buffer.from(t);var o=JSON.parse(t.toString());switch(n){case h.PING:e.emit("ping",o);e.write(O(h.PONG,o));break;case h.PONG:e.emit("pong",o);break;case h.HANDSHAKE:if(E(e))throw new Error("already did handshake");g(e,!0);e.emit("handshake",o)
;break;case h.FRAME:if(!E(e))throw new Error("did not handshake");e.emit("request",o);break;case h.CLOSE:e.end();e.destroy()}b(e)}}var I=function(e){p(t,e);function t(t,n,r){var a;(a=e.call(this,"ipc",n,r)||this)._socket=t;return a}var n=t.prototype;n.send=function(e){_.info("Socket Emit: "+this.id,(0,l.default)(e));this._socket.write(O(h.FRAME,e))};n.close=function(e,t){this._socket.end(O(h.CLOSE,{code:e,message:t}));this._socket.destroy()};return t}(s.default),T=new(function(e){p(t,e);function t(){var t;t=e.call(this)||this;(y=m.net.createServer((function(e){return t.handleConnection(e)}))).on("error",(function(e){return _.error("Error: "+e.message)}));m.getAvailableSocket(S).then((function(e){y.listen(e,(function(){("function"==typeof y.listening?y.listening():y.listening)&&_.info("Starting on "+y.address())}))}));return t}t.prototype.handleConnection=function(e){var t=this;g(e,!1);e.pause();e.on("readable",(function(){try{b(e)}catch(t){e.end(O(h.CLOSE,{
code:f.RPCCloseCodes.CLOSE_UNSUPPORTED,message:t.message}));e.destroy()}}));e.once("handshake",(function(n){var r,a=n.client_id,o=+n.v;try{r=new I(e,o,"json")}catch(t){e.end(O(h.CLOSE,{code:t.code,message:t.message}));e.destroy();return}_.info("Socket Opened: "+r.id);e.on("error",(function(e){return _.error("Socket Error: "+e.message)}));e.on("close",(function(){_.info("Socket Close: "+r.id);t.emit("disconnect",r)}));(0,d.validateSocketClient)(r,null,a).then((function(){e.on("request",(function(e){_.info("Socket Message: "+r.id,(0,l.default)(e));t.emit("request",r,e)}));t.emit("connect",r)})).catch((function(e){var t=e.code,n=e.message;return r.close(t,n)}))}))};return t}(a.default));t.Z=T},444287:(e,t,n)=>{"use strict";var r=n(348764).Buffer;({value:!0});t.Z=void 0;var a,o=h(n(717187)),i=h(n(496486)),u=h(n(817673)),l=h(n(608575)),s=h(n(636602)),d=h(n(791548)),f=h(n(909243)),c=h(n(922629)),p=h(n(248369)),v=h(n(318671)),y=h(n(641402)),m=n(367983),_=n(770348);function h(e){
return e&&e.__esModule?e:{default:e}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}try{a=c.default.requireModule("discord_erlpack")}catch(e){try{a=c.default.requireModule("erlpack")}catch(e){}}var I,T=c.default.requireModule("discord_rpc").RPCWebSocket,A=window.GLOBAL_ENV.MARKETING_ENDPOINT,C=new d.default("RPCServer:WSS"),M=[];function N(e){return"function"==typeof e?e():e}function P(e){void 0===e&&(e=0);var t=e>0?void 0:function(){if(N(I.listening)){var e=I.address().port;C.info("Starting on "+e);s.default.dispatch({type:_.ActionTypes.RPC_SERVER_READY,port:e})}};I.listen(_.RPC_STARTING_PORT+e%_.RPC_PORT_RANGE,"127.0.0.1",t)}
function R(e,t,n,a,o){void 0===a&&(a=200);void 0===o&&(o={});var i=N(e.headers).origin?{"Access-Control-Allow-Origin":N(e.headers).origin,"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"POST, GET, PUT, PATCH, DELETE","Access-Control-Allow-Headers":["Content-Type","Authorization"].join(", ")}:{};n=n?JSON.stringify(n):"";a=200!==a||n.length?a:204;t.setHeader("Content-Length",r.byteLength(n));t.setHeader("Content-Type","application/json");t.writeHead(a,b({},o,{},i));t.end(n)}function w(e,t,n,r,a){void 0===a&&(a=0);R(e,t,{code:a,message:r},n)}var D=function(e){S(t,e);function t(t,n,r){var o;o=e.call(this,"ws",n,r)||this;if(-1===["etf","json"].indexOf(r))throw new p.default(_.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+r);if("etf"===r&&null==a)throw new p.default(_.RPCCloseCodes.INVALID_ENCODING,"Erlpack cannot be used on this client");o._socket=t;return o}var n=t.prototype;n.send=function(e){
(f.default.isLoggingOverlayEvents||e.cmd!==_.RPCCommands.OVERLAY&&e.evt!==_.RPCEvents.OVERLAY)&&C.info("Socket Emit: "+this.id,(0,v.default)(e));null!=a&&"etf"===this.encoding?this._socket.send(a.pack(e),{binary:!0}):this._socket.send(JSON.stringify(e))};n.close=function(e,t){this._socket.close(e,t)};return t}(y.default),L=function(e){S(t,e);function t(t,n,r,a){var o;o=e.call(this,"http",r,a)||this;if("json"!==a)throw new p.default(_.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+a);o._sendCallback=t;o._closeCallback=n;return o}var n=t.prototype;n.send=function(e){(f.default.isLoggingOverlayEvents||e.cmd!==_.RPCCommands.OVERLAY)&&C.info("Socket Emit: "+this.id,e);this._sendCallback(e)};n.close=function(e,t){this._closeCallback(t,e)};return t}(y.default),k=new(function(e){S(t,e);function t(){var t;t=e.call(this)||this;var n=0;(I=T.http.createServer()).on("error",(function(e){C.error("Error: "+e.message)
;("EADDRINUSE"===e.code||e.message.includes("EADDRINUSE"))&&setTimeout((function(){return P(++n)}),1e3)}));I.on("request",t.handleRequest.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)));P(n);var r={instanceId:I.instanceId||0,server:I};new T.ws.Server(r).on("connection",(function(e){return t.handleConnection(e)}));return t}var n=t.prototype;n.handleRequest=function(e,t){var n=this,r=g(N(e.url).split("?"),2),a=r[0],o=r[1],i=N(e.method);if("/rpc"!==a||"OPTIONS"!==i){var s="POST"===i;if("/rpc"!==a||"GET"!==i&&!s)w(e,t,404,"Not Found");else{var d=u.default.parse(o),f=s?N(e.headers)["content-type"].split("/")[1]:"json",c=function(){var e=l.default.parse(d.callback),n=e.protocol,r=e.host;n===location.protocol&&r===location.host?t.setHeader("Location",d.callback):t.setHeader("Location",A);t.writeHead(301);t.end()},p=new L(s?R.bind(null,e,t):c,s?w.bind(null,e,t,400):c,+d.v,f);if(s)(0,
m.validateSocketClient)(p,N(e.headers).origin,d.client_id).then((function(){var r="";e.on("data",(function(e){return r+=e}));e.on("error",(function(){return w(e,t,500,"Internal Server Error")}));e.on("end",(function(){return n.handleMessage(p,r)}))})).catch((function(e){var t=e.code,n=e.message;return p.close(t,n)}));else{p.authorization.scopes=[_.RPC_PRIVATE_LIMITED_SCOPE];this.handleMessage(p,decodeURIComponent(d.payload))}}}else R(e,t,{body:""})};n.handleConnection=function(e){var t,n=this,r=u.default.parse(N(e.upgradeReq).url.split("?")[1]),a=N(e.upgradeReq).headers.origin||"";try{t=new D(e,+r.v,r.encoding||"json")}catch(t){e.close(t.code,t.message);return}C.info("Socket Opened: "+t.id);e.on("error",(function(e){return C.error("WS Error: "+e.message)}));e.on("close",(function(e,r){C.info("Socket Closed: "+t.id+", code "+e+", message "+r);i.default.remove(M,(function(e){return e===t}));n.emit("disconnect",t)}));(0,m.validateSocketClient)(t,a,r.client_id).then((function(){M.push(t)
;e.on("message",(function(e){return n.handleMessage(t,e)}));n.emit("connect",t)})).catch((function(e){var n=e.code,r=e.message;return t.close(n,r)}))};n.handleMessage=function(e,t){var n;try{if(null!=a&&"etf"===e.encoding)n=a.unpack(t);else{if("string"!=typeof t)throw new Error;n=JSON.parse(t)}}catch(t){e.close(_.RPCCloseCodes.CLOSE_UNSUPPORTED,"Payload not "+e.encoding);return}(f.default.isLoggingOverlayEvents||n.cmd!==_.RPCCommands.OVERLAY)&&C.info("Socket Message: "+e.id,(0,v.default)(n));this.emit("request",e,n)};return t}(o.default));t.Z=k},593621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(791548)),a=d(n(909243)),o=d(n(318671)),i=d(n(478370)),u=n(367983),l=d(n(176829)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}var f=new r.default("RPCServer:PostMessage"),c=function(e,t,n){(a.default.isLoggingOverlayEvents||e.cmd!==s.RPCCommands.OVERLAY)&&t.info("Socket Message: "+n.id,(0,o.default)(e))};var p=function(){
var e=new i.default(u.validateSocketClient,f,l.default,c);window.addEventListener("message",(function(t){if(window!==t.source)if(null!=t.source&&null!=t.source.postMessage){var n=t.source,r=t.data,a=t.origin;e.handleMessage(r,a,(function(e,t){n.postMessage(e,t)}))}else f.error("Unknown event source")}));return e}();t.default=p},176829:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(909243)),a=u(n(318671)),o=u(n(524650)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.origin,n=e.postMessageToRPCClient,u=e.frameId,l=e.version,s=e.encoding,d=e.logger,f=e.postClose;return new o.default({origin:t,postMessageToRPCClient:n,frameId:u,version:l,encoding:s,logger:d,postClose:f,onSendingToRPCClient:function(e,t){(r.default.isLoggingOverlayEvents||e.cmd!==i.RPCCommands.OVERLAY&&e.evt!==i.RPCEvents.OVERLAY)&&d.info("Socket Emit: "+t,(0,a.default)(e))}})};t.default=l},478910:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(21774),i=n(770348);var u={init:function(){a.default.subscribe(i.ActionTypes.USER_SETTINGS_UPDATE,o.refreshSearchTokens);a.default.subscribe(i.ActionTypes.I18N_LOAD_SUCCESS,o.refreshSearchTokens)}};t.default=u},626643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,r.useStateFromStores)([l.default],(function(){var t,n=l.default.getQuery(e),r=l.default.getRawResults(e);if(null==n||null==r)return[];var u=(0,a.createASTHighlighter)(null!==(t=n.content)&&void 0!==t?t:"");return r.map((function(e){return e.map((function(e){var t=(0,o.createMessageRecord)(e);return t.isSearchHit?t.set("customRenderedContent",(0,i.default)(t,{postProcessor:u})):t}))}))}),[e],r.statesWillNeverBeEqual),n=(0,r.useStateFromStores)([u.default],(function(){var e=0;return[t.map((function(t){return t.filter((function(t){
var n=u.default.isBlocked(t.author.id);n&&t.isSearchHit&&e++;return!n||t.isSearchHit}))})),e]}),[t],r.statesWillNeverBeEqual),s=(p=n,v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(p,v)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=s[0],c=s[1];var p,v
;return{searchResults:f,blockCount:c}};var r=n(536211),a=n(697255),o=n(202929),i=s(n(116518)),u=s(n(290629)),l=s(n(205982));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},326648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(151097)),i=v(n(80828)),u=v(n(186465)),l=n(645758),s=v(n(730977)),d=v(n(550270)),f=n(770348),c=v(n(247001)),p=v(n(794097));function v(e){
return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.searchMode,n=e.searchByMode;return _("header",{className:p.default.searchHeader},void 0,a.createElement(g,e),_(u.default,{orientation:"horizontal",
className:p.default.searchHeaderTabList,selectedItem:t,onItemSelect:n},void 0,_(u.default.Item,{id:f.SearchModes.NEWEST},void 0,c.default.Messages.SEARCH_NEWEST_SHORT),_(u.default.Item,{id:f.SearchModes.OLDEST},void 0,c.default.Messages.SEARCH_OLDEST_SHORT),_(u.default.Item,{id:f.SearchModes.MOST_RELEVANT},void 0,c.default.Messages.SEARCH_MOST_RELEVANT_SHORT)))}h.displayName="SearchHeader";function g(e){var t,n=e.isSearching,r=e.isIndexing,o=e.documentsIndexed;(r||n)&&(t=_("div",{className:p.default.spinnerWrapper},void 0,_(i.default,{type:i.default.Type.SPINNING_CIRCLE,className:p.default.spinner,itemClassName:p.default.spinnerPath})));var u=r&&!n;return _("div",{className:p.default.totalResults,role:"status"},void 0,u?_(s.default,{text:c.default.Messages.SEARCH_STILL_INDEXING_HINT.format({count:o})},void 0,(function(n){return a.createElement("div",m({className:p.default.totalResultsWrapper},n),a.createElement(E,e),t)})):a.createElement(E,e),u?null:t)}g.displayName="TotalContent"
;function E(e){var t=e.isSearching,n=e.isIndexing,r=e.totalResults;if(t)return _(l.Text,{variant:"text-md/normal",color:"header-primary"},void 0,c.default.Messages.SEARCHING);if(n)return _(l.Text,{variant:"text-md/normal"},void 0,_(o.default,{className:p.default.helpdeskLink,href:d.default.getArticleURL(f.HelpdeskArticles.SEARCH_INDEXING)},void 0,c.default.Messages.STILL_INDEXING));var a=r.toLocaleString();return _(l.Text,{variant:"text-md/normal",color:"header-primary"},void 0,c.default.Messages.TOTAL_RESULTS.format({count:a}))}},301929:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(668281)),o=i(n(574628));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.changePage,n=e.offset,r=e.totalResults,i=e.pageLength,u=Math.floor(n/i)+1;return l("div",{className:o.default.container},void 0,l(a.default,{currentPage:u,totalCount:r,pageSize:i,onPageChange:t,maxVisiblePages:5}))}
s.displayName="SearchPagination"},458517:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(496486)),i=n(659779),u=n(378158),l=v(n(314234)),s=v(n(2914)),d=v(n(644263)),f=v(n(16941)),c=v(n(247001)),p=v(n(248556));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function S(e,t){
var n,r=null===(n=window)||void 0===n?void 0:n.getSelection();if(null!=r&&!r.isCollapsed)return!0;if(null==e||null==t)return!1;for(;(0,i.isElement)(e)&&e!==t;){var a=e.tagName;if("A"===a||"IMG"===a||"BUTTON"===a)return!0;e=e.parentNode}return!1}var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).containerRef=a.createRef();t.hitRef=a.createRef();t.handleContextMenu=function(e,t){var r=d.default.getChannel(t.channel_id);if(null!=r){e.stopPropagation();(0,u.openContextMenuLazy)(e,g(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(56530),n.e(25496)]).then(n.bind(n,925496));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,_({},e,{message:t,channel:r}))}))
;case 5:case"end":return e.stop()}}),e)}))))}};t.jumpTo=function(e){if(null!=e){e.preventDefault();e.stopPropagation()}var n=t.props,r=n.onJump,a=n.result.find((function(e){return e.isSearchHit}));null!=a&&r(a)};t.handleMessageClick=function(e){S(e.target,t.containerRef.current)?e.stopPropagation():t.jumpTo(e)};return t}t.prototype.render=function(){var e=this,t=this.props,n=t.result,r=t.listItemProps,i=t.searchOffset,u=t.index,v=t.totalResults,y=o.default.find(n,(function(e){return e.isSearchHit}));if(null==y)return null;var h=d.default.getChannel(y.channel_id);if(null==h)return null;var g="search-result-"+y.id;return m(l.default,{ringTarget:this.hitRef,ringClassName:p.default.searchResultFocusRing,offset:4},void 0,a.createElement("li",_({className:p.default.container},r,{"aria-posinset":1+i+u,"aria-setsize":v,"aria-labelledby":g}),m(f.default,{tabIndex:-1,onClick:this.handleMessageClick,innerRef:this.containerRef,className:p.default.searchResult,focusProps:{enabled:!1}
},void 0,a.createElement("div",{ref:this.hitRef,className:p.default.message,key:y.id},m(s.default,{id:g,message:y,channel:h,onContextMenu:function(t){return e.handleContextMenu(t,y)},animateAvatar:!1,subscribeToComponentDispatch:!1}))),m("div",{className:p.default.buttonsContainer,"aria-hidden":!0},void 0,m(f.default,{className:p.default.button,onClick:this.jumpTo},void 0,c.default.Messages.JUMP))))};return t}(a.PureComponent);t.default=O;O.displayName="SearchResult"},315021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.search,n=e.searchId,r=e.renderEmbeds,w=e.scrollTo,D=e.searchResults,L=e.blockCount,U=t.offset,G=t.totalResults,F=t.isSearching,x=t.showBlockedResults,B=m.RenderSpoilers.useSetting(),H=a.useCallback((function(e){e!==S.default.getChannelId()&&u.default.transitionToInviteChannelSync(e)}),[]),V=a.useCallback((function(e){F||s.changePage(n,e-1)}),[n,F]),W=a.useCallback((function(e){if(e.blocked)i.default.show({
title:P.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:P.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:e.author.username}),confirmText:P.default.Messages.OKAY});else{var t=_.default.getChannel(e.channel_id),r=null!=t?t.getGuildId():null;l.default.trackJump(e.channel_id,e.id,"Search Results",{search_id:E.default.getAnalyticsId(n)});(0,y.transitionTo)(N.Routes.CHANNEL(r,e.channel_id,e.id))}}),[n]),Y=a.useMemo((function(){if(null==D)return[];var e,t=0;return D.reduce((function(n,r){var a=r.find((function(e){return e.isSearchHit}));if(!x&&null!=a&&g.default.isBlocked(a.author.id))return n;var o=_.default.getChannel(r[0].channel_id);if(null==o)return n;null!=e&&e===o.id||n.push({channel:o,results:[],startIndex:t});t+=1;n[n.length-1].results.push(r);e=null==o?void 0:o.id;return n}),[])}),[D,x]),K=a.useRef([]),z=Y.reduce((function(e,t){return e+1+t.results.length}),0),$=a.useCallback((function(e,t){if(d.default.keyboardModeEnabled){var n=K.current,r=null!=t?n[t]:void 0
;if(null!=r&&null!=r.hitRef.current){var a=r.hitRef.current.getClientRects()[0],o=a.top-.5*a.height;w(o,!1,(function(){var t;null===(t=document.getElementById(e))||void 0===t||t.focus()}))}}}),[w]),q=a.useCallback((function(e){var t=K.current[e];null==t||t.jumpTo()}),[]),Q=(0,o.useListNavigator)({navId:"search-results",itemCount:z,focusedIndex:0,setFocus:$,onSelect:q}),X=Y.map((function(e){var t,o=e.channel,i=e.results,u=e.startIndex,l=null!=o?(0,f.computeChannelName)(o,O.default,g.default,!1):"???",s=null!==(t=(0,c.default)(o))&&void 0!==t?t:A.default,d=h.default.can(N.Permissions.MANAGE_MESSAGES,o);return j(I.SpoilerDisplayContext.Provider,{value:(0,v.default)(B,d)},void 0,j("ul",{role:"group",className:R.default.searchResultGroup,"aria-label":l},o.id+"-"+u,j(b.default,{onClick:function(){return H(o.id)}},void 0,j(T.Text,{className:R.default.channelName,variant:"text-md/normal",color:"header-primary"},void 0,j(s,{className:R.default.channelNameIcon,width:16,height:16
}),j("span",{},void 0,l))),i.map((function(e,t){var o=u+t;return a.createElement(M.default,{ref:function(e){return K.current[o]=e},totalResults:G,scrollTo:w,searchId:n,renderEmbeds:r,searchOffset:U,pageResultsLength:i.length,result:e,index:o,key:"search-result-"+o,onJump:W,listItemProps:Q.getItemProps({index:o})})}))))}));X.push();var Z=a.useRef(null);a.useLayoutEffect((function(){var e;null===(e=Z.current)||void 0===e||e.focus()}),[D]);var J=(0,p.useFocusJumpSection)();return a.createElement(a.Fragment,null,a.createElement("div",k({ref:Z},Q.getContainerProps(),J,{"aria-busy":F}),X),L>0?j(b.default,{tag:"div",className:R.default.resultsBlocked,onClick:function(){return s.setShowBlockedResults(n,!x)}},void 0,j("div",{className:R.default.resultsBlockedImage}),j("div",{className:R.default.resultsBlockedText},void 0,x?P.default.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({count:L}):P.default.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({count:L}))):null,!F&&j(C.default,{
changePage:V,offset:U,totalResults:G,pageLength:N.SEARCH_PAGE_SIZE}))};var r,a=L(n(667294)),o=n(515664),i=w(n(190040)),u=w(n(23170)),l=w(n(786345)),s=L(n(896846)),d=w(n(235879)),f=n(678928),c=w(n(786661)),p=n(632123),v=w(n(916372)),y=n(139982),m=n(894826),_=w(n(644263)),h=w(n(689389)),g=w(n(290629)),E=w(n(205982)),S=w(n(211136)),O=w(n(728429)),b=w(n(16941)),I=n(364767),T=n(645758),A=w(n(562796)),C=w(n(301929)),M=w(n(458517)),N=n(770348),P=w(n(247001)),R=w(n(464999));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return k.apply(this,arguments)}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},225379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=k
;var r,a=A(n(667294)),o=I(n(294184)),i=I(n(496486)),u=n(536211),l=I(n(23170)),s=A(n(896846)),d=I(n(844784)),f=n(894826),c=I(n(205982)),p=I(n(211136)),v=I(n(871778)),y=I(n(49465)),m=I(n(235742)),_=n(956506),h=I(n(626643)),g=I(n(326648)),E=I(n(315021)),S=n(770348),O=I(n(247001)),b=I(n(22542));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}function P(e,t){P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return P(e,t)}var R=function(e){N(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).autoAnalytics=function(e){void 0===e&&(e=null);if(null!=t.props.searchAnalyticsId){var n=0,r=0,a=0,o=0
;null!=t.props.searchResults&&(0,i.default)(t.props.searchResults).flatten().filter((function(e){return e.isSearchHit})).forEach((function(e){if(null!=e.content&&""!==e.content){n++;/https?:\/\/[^\s]+/.test(e.content)&&o++}null!=e.embeds&&e.embeds.length>0&&a++;null!=e.attachments&&e.attachments.length>0&&r++}));d.default.trackWithMetadata(S.AnalyticEvents.SEARCH_RESULT_VIEWED,{search_type:t.props.searchType,search_id:t.props.searchAnalyticsId,prev_search_id:e!==t.props.searchAnalyticsId?e:null,is_error:t.props.searchHasError,limit:t.props.searchLimit,offset:t.props.searchOffset,page:Math.floor(t.props.searchOffset/t.props.searchLimit)+1,total_results:t.props.searchTotalResults,page_results:null!=t.props.searchResults?t.props.searchResults.length:null,is_indexing:t.props.searchIsIndexing,page_num_messages:n,page_num_links:o,page_num_embeds:a,page_num_attach:r})}};return t}var n=t.prototype;n.componentDidMount=function(){this.autoAnalytics()};n.componentDidUpdate=function(e){
this.props.searchAnalyticsId===e.searchAnalyticsId&&this.props.searchOffset===e.searchOffset||this.autoAnalytics(e.searchAnalyticsId)};n.render=function(){return null};return t}(a.Component);R.displayName="SearchResultsViewedAutoAnalytics";var w=function(e){var t=e.children;return M("div",{className:b.default.emptyResultsWrap},void 0,M("div",{className:b.default.emptyResultsContent},void 0,t))};w.displayName="EmptyResults";var D=M(y.default,{}),L=function(e){N(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).state={searchMode:S.SearchModes.NEWEST};t.scrollerRef=a.createRef();t.scrollTo=function(e,n,r){var a=t.scrollerRef.current;if(null!=a){var o=a.getScrollerState().scrollTop-e;a.scrollTo({to:o,animate:n,callback:r})}};t.selectChannel=function(e){e!==p.default.getChannelId()&&l.default.transitionToInviteChannelSync(e)};t.searchPrevious=function(){var e=t.props,n=e.searchId
;e.search.isSearching||s.searchPreviousPage(n)};t.searchNext=function(){var e=t.props,n=e.searchId;e.search.isSearching||s.searchNextPage(n)};t.handleSearchResultsClose=function(){var e=t.props.searchId;s.clearSearchState(e)};t.searchByMode=function(e){var n=t.props,r=n.searchId,a=n.search.isSearching;if(e!==t.state.searchMode&&!a){d.default.trackWithMetadata(S.AnalyticEvents.SEARCH_RESULT_SORT_CHANGED,{search_id:c.default.getAnalyticsId(r),new_sort_type:e});s.searchByMode(r,e);t.setState({searchMode:e})}};t.toggleShowBlockedMessages=function(){var e=t.props,n=e.searchId,r=e.search.showBlockedResults;s.setShowBlockedResults(n,!r)};t.renderHeader=function(){var e=t.state.searchMode,n=t.props.search,r=n.totalResults,a=n.isSearching,o=n.isHistoricalIndexing,i=n.documentsIndexed;return M(g.default,{searchMode:e,searchByMode:t.searchByMode,totalResults:r,isSearching:a,isIndexing:o,documentsIndexed:i})};t.renderIndexing=function(){
var e=c.default.getSearchType(t.props.searchId)===S.SearchTypes.GUILD?O.default.Messages.SEARCH_GUILD_STILL_INDEXING:O.default.Messages.SEARCH_DM_STILL_INDEXING;return M(w,{},void 0,D,M("div",{className:(b.default.emptyResultsText,b.default.stillIndexing)},void 0,e))};t.renderNoResults=function(){var e,n,r=t.props.search.showNoResultsAlt,a=r?O.default.Messages.SEARCH_NO_RESULTS_ALT:O.default.Messages.SEARCH_NO_RESULTS;return M(w,{},void 0,M("div",{className:(0,o.default)(b.default.noResultsImage,(e={},e[b.default.alt]=r,e))}),M("div",{className:(0,o.default)(b.default.emptyResultsText,b.default.noResults,(n={},n[b.default.alt]=r,n))},void 0,a))};t.renderError=function(){return M(w,{},void 0,M("div",{className:b.default.errorImage}),M("div",{className:(0,o.default)(b.default.emptyResultsText,b.default.errorMessage)},void 0,O.default.Messages.SEARCH_ERROR))};t.renderContent=function(){
var e=t.props,n=e.searchResults,r=e.blockCount,a=t.props.search,o=a.totalResults,i=a.isSearching,u=a.isIndexing;return a.hasError?t.renderError():u?t.renderIndexing():i?null:o>0?M(E.default,{search:t.props.search,searchResults:n,blockCount:r,searchId:t.props.searchId,renderEmbeds:t.props.renderEmbeds,scrollTo:t.scrollTo}):t.renderNoResults()};return t}var n=t.prototype;n.componentDidMount=function(){_.ComponentDispatch.subscribe(S.ComponentActions.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)};n.componentWillUnmount=function(){_.ComponentDispatch.unsubscribe(S.ComponentActions.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)};n.componentDidUpdate=function(e){var t=e.search;if(this.props.search.showBlockedResults!==t.showBlockedResults){var n=this.scrollerRef.current;if(null==n)return;n.scrollToBottom()}};n.render=function(){
var e=this.props,t=e.searchAnalyticsId,n=e.searchType,r=e.searchResults,o=this.props.search,i=o.offset,u=o.hasError,l=o.totalResults,s=o.isHistoricalIndexing;return M("section",{className:b.default.searchResultsWrap,"aria-label":O.default.Messages.SEARCH_RESULTS_SECTION_LABEL},void 0,this.renderHeader(),a.createElement(m.default,{ref:this.scrollerRef,className:b.default.scroller},this.renderContent()),M(R,{searchType:n,searchAnalyticsId:t,searchResults:r,searchOffset:i,searchLimit:S.SEARCH_PAGE_SIZE,searchHasError:u,searchTotalResults:l,searchIsIndexing:s}))};return t}(a.PureComponent);L.displayName="SearchResults";function k(e){var t=e.searchId;return a.createElement(L,C({searchId:t},(0,u.useStateFromStoresObject)([c.default],(function(){return{search:c.default.getResultsState(t),searchAnalyticsId:c.default.getAnalyticsId(t),searchType:c.default.getSearchType()}}),[t]),(0,h.default)(t),{renderEmbeds:f.RenderEmbeds.useSetting(),developerMode:f.DeveloperMode.useSetting()},(0,
u.useStateFromStoresObject)([v.default],(function(){return{theme:v.default.theme}}))))}k.displayName="ConnectedSearchResults"},394444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.UserSettingsManager=void 0;var r=l(n(636602)),a=l(n(929031)),o=l(n(177230)),i=l(n(871778)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=!1,f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(u.ActionTypes.CONNECTION_OPEN,this.setVerifyTimezone);r.default.subscribe(u.ActionTypes.CONNECTION_OPEN_SUPPLEMENTAL,this.maybeShowChangeLanguageToast);r.default.subscribe(u.ActionTypes.OVERLAY_INITIALIZE,this.setVerifyTimezone)
;r.default.subscribe(u.ActionTypes.USER_SETTINGS_UPDATE,this.ensureTimezoneUpdated)};n.maybeShowChangeLanguageToast=function(){};n._terminate=function(){r.default.unsubscribe(u.ActionTypes.CONNECTION_OPEN,this.setVerifyTimezone);r.default.unsubscribe(u.ActionTypes.OVERLAY_INITIALIZE,this.setVerifyTimezone);r.default.unsubscribe(u.ActionTypes.USER_SETTINGS_UPDATE,this.ensureTimezoneUpdated)};n.setVerifyTimezone=function(){d=!0};n.ensureTimezoneUpdated=function(){if(d){d=!1;var e=(new Date).getTimezoneOffset();i.default.timezoneOffset!==e&&setImmediate((function(){return a.default.updateRemoteSettings({timezoneOffset:e})}))}};return t}(o.default);t.UserSettingsManager=f;var c=new f;t.default=c},355152:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){switch(e){case a.SettingsOverrideReasonKeys.REDUCED_MOTION:return o.default.Messages.ACCESSIBILITY_REDUCED_MOTION_SETTINGS_OVERRIDE.format()
;case a.SettingsOverrideReasonKeys.REDUCED_MOTION_STICKERS:return o.default.Messages.STICKERS_AUTO_PLAY_HELP_DISABLED;default:return}};var r,a=n(130613),o=(r=n(247001))&&r.__esModule?r:{default:r}},610929:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(null==e)return!1;return a.default.getCurrentConfig({guildId:e.guild_id}).allowSoundboard&&e.type!==o.ChannelTypes.GUILD_STAGE_VOICE};var r,a=(r=n(915188))&&r.__esModule?r:{default:r},o=n(770348)},205809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isSoundboardSupported=u;t.useIsSoundboardSupported=function(){return(0,a.useStateFromStores)([o.default],(function(){return u(o.default)}))};var r,a=n(536211),o=(r=n(635014))&&r.__esModule?r:{default:r},i=n(376293);function u(e){void 0===e&&(e=o.default);return e.supports(i.Features.SAMPLE_PLAYBACK)}},362978:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.sounds,r=e.guild,y=f.BoostedGuildFeatures[r.premiumTier].limits.soundboardSounds,m=t.length>=y;function g(){(0,d.openModalLazy)(E(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(87757)]).then(n.bind(n,987757));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,h({},e,{guildId:r.id}))}));case 5:case"end":return e.stop()}}),e)}))))}var S=function(e){var t;return a.createElement(i.default,h({},e,{className:(0,o.default)(p.default.soundButton,v.default.soundAddButton,(t={},t[v.default.soundAddButtonDisabled]=m,t)),onClick:m?void 0:g}),_(s.default,{className:v.default.soundAddIcon}),_(u.Text,{variant:"text-xs/normal",color:"header-primary"},void 0,c.default.Messages.SOUNDBOARD_SOUND_ADD_SOUND),_("div",{className:(0,o.default)(v.default.buttonOverlay,p.default.buttonOverlay)}))};if(m)return _(l.default,{
text:c.default.Messages.SOUNDBOARD_SOUND_ADD_DISABLED.format({maxSounds:y})},void 0,(function(e){return S(e)}));return S()};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(294184)),i=y(n(16941)),u=n(645758),l=y(n(730977)),s=y(n(155393)),d=n(194322),f=n(265517),c=y(n(247001)),p=y(n(573473)),v=y(n(842496));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}},830900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(423405)),i=v(n(222935)),u=v(n(143414)),l=v(n(160629)),s=v(n(982244)),d=v(n(915188)),f=v(n(751037)),c=v(n(247001)),p=["channel"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.channel,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,p),r=t.getGuildId(),v=(0,o.default)(t),y=v.mute,h=v.suppress;d.default.useExperiment({guildId:null!=r?r:""},{autoTrackExposure:null!=r});return null==r||y||h?null:_(l.default,{position:l.default.Positions.TOP,renderPopout:function(e){var t=e.closePopout;return _(i.default,{},void 0,_(f.default,{guildId:r,onClose:t,analyticsSource:"call button"}))}},void 0,(function(e){
return a.createElement(u.default,m({},e,{label:c.default.Messages.GUILD_SETTINGS_SOUNDBOARD,iconComponent:s.default},n))}))}h.displayName="SoundboardCallButton"},954500:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=v(n(636602)),o=v(n(177230)),i=n(6505),u=v(n(652566)),l=v(n(644263)),s=v(n(527501)),d=n(194322),f=n(948924),c=v(n(610929)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(y=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var o=t.prototype;o._initialize=function(){if(!__OVERLAY__){a.default.subscribe(p.ActionTypes.GUILD_SOUNDBOARD_SOUND_REQUEST_PLAY,this._handleSoundboardRequestPlay)
;a.default.subscribe(p.ActionTypes.VOICE_CHANNEL_SELECT,this._handleVoiceChannelSelect)}};o._terminate=function(){if(!__OVERLAY__){a.default.unsubscribe(p.ActionTypes.GUILD_SOUNDBOARD_SOUND_REQUEST_PLAY,this._handleSoundboardRequestPlay);a.default.unsubscribe(p.ActionTypes.VOICE_CHANNEL_SELECT,this._handleVoiceChannelSelect)}};o._handleSoundboardRequestPlay=function(e){var t=e.sound,n=e.analyticsLocation,r=e.fromOverlay;(0,f.playSoundboardSound)(t,n,r)};o._handleVoiceChannelSelect=function(e){var t=e.guildId,a=e.channelId;if(null!=t){var o=l.default.getChannel(a),f=s.default.getKeybindForAction(p.GlobalKeybindActions.SOUNDBOARD_HOLD);(0,c.default)(o)&&null!=f&&u.default.hasHotspot(i.HotspotLocations.SOUNDBOARD_WHEEL_EDUCATION_MODAL)&&(0,d.openModalLazy)(h(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(906)]).then(n.bind(n,900906));case 2:a=e.sent;o=a.default
;return e.abrupt("return",(function(e){return r.createElement(o,m({},e,{guildId:t,keybind:f}))}));case 5:case"end":return e.stop()}}),e)}))))}};o.__getLocalVars=function(){return{}};return t}(o.default));t.default=E},751037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=x;var r,a=k(n(667294)),o=n(47354),i=n(536211),u=D(n(954140)),l=D(n(37039)),s=D(n(185948)),d=D(n(526098)),f=D(n(964285)),c=D(n(749666)),p=D(n(30098)),v=D(n(893160)),y=D(n(527501)),m=D(n(151097)),_=D(n(16941)),h=k(n(20902)),g=D(n(80828)),E=n(688388),S=D(n(634230)),O=n(194322),b=n(864489),I=n(339943),T=k(n(948924)),A=D(n(637193)),C=D(n(625483)),M=D(n(273872)),N=D(n(362978)),P=n(770348),R=D(n(247001)),w=D(n(883740));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function G(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){U(o,r,a,i,u,"next",e)}function u(e){U(o,r,a,i,u,"throw",e)}i(void 0)}))}}var F=j(g.default,{});function x(e){var t=e.guildId,r=e.analyticsSource,p=e.onClose,g=(0,i.useStateFromStores)([A.default],(function(){return A.default.getSoundsForGuild(t)})),M=(0,i.useStateFromStores)([A.default],(function(){return A.default.getIsFetchingSoundsForGuild(t)})),N=(0,i.useStateFromStores)([v.default],(function(){return v.default.getMediaSessionId()})),D=(0,l.default)(u.default.SOUNDBOARD_POPOUT),L=D.analyticsLocations,k=D.AnalyticsLocationProvider,U=(0,i.useStateFromStores)([y.default],(function(){return y.default.getKeybindForAction(P.GlobalKeybindActions.SOUNDBOARD_HOLD)})),x=(0,C.default)(),H=x.playSound,V=x.checkIsPlayingSound;function W(){p();(0,O.openModalLazy)(G(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(31656)]).then(n.bind(n,431656));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}(0,s.default)({type:o.ImpressionTypes.POPOUT,name:o.ImpressionNames.SOUNDBOARD_POPOUT,properties:{source:r,guild_id:t,media_session_id:N}});a.useEffect((function(){T.fetchSoundsForGuild(t)}),[t]);var Y=(0,b.isWindows)()?R.default.Messages.SOUNDBOARD_KEYBIND_HINT_GLOBAL:R.default.Messages.SOUNDBOARD_KEYBIND_HINT;return j(k,{},void 0,j("div",{className:w.default.root},void 0,j("div",{className:w.default.header},void 0,j(E.FormTitle,{className:w.default.headerText},void 0,R.default.Messages.GUILD_SETTINGS_SOUNDBOARD,j(d.default,{className:w.default.betaTag})),j(_.default,{className:w.default.settingsClickArea,onClick:function(){p();f.default.open(t,P.GuildSettingsSections.SOUNDBOARD)},"aria-label":R.default.Messages.SETTINGS},void 0,j(S.default,{className:w.default.settingsIcon
}))),M?F:j(B,{guildId:t,onPlay:function(e){H(e,L)},checkIsPlayingSound:V,sounds:g}),null!=U?j(h.default,{messageType:h.HelpMessageTypes.INFO,className:w.default.keybindHint,textClassName:w.default.keybindHintText},void 0,Y.format({keybind:(0,I.toString)(U.shortcut,!0).split(" + "),keybindHook:function(e,t){return j("span",{className:w.default.keybindHintKeysWrapper},t,j(c.default,{className:w.default.keybindShortcut,shortcut:(0,I.toString)(U.shortcut,!1)}))},openSettingsHook:function(e,t){return j(m.default,{onClick:W},t,e)}})):null))}x.displayName="SoundboardPopout";function B(e){var t=e.sounds,n=e.guildId,r=e.onPlay,a=e.checkIsPlayingSound,o=(0,i.useStateFromStores)([p.default],(function(){return p.default.getGuild(n)}));return null==o?null:j("div",{className:w.default.soundGrid},void 0,t.map((function(e){return j(M.default,{playing:a(e.id),sound:e,onPlay:function(){return r(e)}},e.id)})),j(N.default,{sounds:t,guild:o}))}B.displayName="SoundGrid"},131020:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=E(n(468811)),i=n(923387),u=E(n(954140)),l=E(n(37039)),s=n(55922),d=E(n(265328)),f=E(n(423405)),c=E(n(956117)),p=E(n(160629)),v=E(n(730977)),y=E(n(982244)),m=E(n(915188)),_=E(n(751037)),h=E(n(247001)),g=["channel","iconClassName"];function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(){O=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t=e.channel,n=e.iconClassName,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,g),E=(0,f.default)(t),S=E.mute,T=E.suppress,A=t.getGuildId(),C=I((0,s.useGetDismissibleContent)([i.DismissibleContent.SOUNDBOARD_EDUCATION]),2),M=C[0],N=C[1],P=(0,
l.default)(u.default.SOUNDBOARD_BUTTON).AnalyticsLocationProvider,R=o.default.v4();function w(e){null==e||e();N()}m.default.useExperiment({guildId:null!=A?A:""},{autoTrackExposure:null!=A});if(null==A)return null;var D=b(y.default,{className:n}),L=function(e){return b(p.default,{position:p.default.Positions.TOP,renderPopout:function(e){var t=e.closePopout;return b(_.default,{guildId:A,onClose:t,analyticsSource:"rtc panel"})}},void 0,(function(t){return a.createElement(c.default,O({},e,t,{disabled:S||T,onClick:function(n){var r;w();null==e||null===(r=e.onClick)||void 0===r||r.call(e);t.onClick(n)},fullWidth:!0,size:c.default.Sizes.SMALL},r),D)}))};if(M===i.DismissibleContent.SOUNDBOARD_EDUCATION)return b(p.default,{positionKey:R,position:p.default.Positions.TOP,align:p.default.Align.CENTER,shouldShow:!0,renderPopout:function(e){var t=e.closePopout;return b(d.default,{header:h.default.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_HEADER,
body:h.default.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_BODY,tryItText:h.default.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_GOT_IT,onTryFeature:function(){return w(t)},closePopout:function(){return w(t)},analyticsName:"Soundboard"})}},void 0,(function(){return L()}));return b(P,{},void 0,b(v.default,{text:S?h.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_GUILD_MUTE:T?h.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_SUPPRESSED:h.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD},void 0,(function(e){return L(e)})))}A.displayName="SoundboardRTCPanelButton"},294498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setSoundpack=function(e){a.default.track(i.AnalyticEvents.SOUNDPACK_UPDATED,{soundpack:e,previous_soundpack:o.default.getSoundpack()});r.default.dispatch({type:i.ActionTypes.SET_SOUNDPACK,soundpack:e})};var r=u(n(636602)),a=u(n(308920)),o=u(n(796608)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}},754966:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(967965),i=d(n(329441)),u=n(294498),l=d(n(796608)),s=n(340038);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.className,n=(0,a.useStateFromStores)([l.default],(function(){return l.default.getSoundpack()})),r=i.default.useExperiment({}).allowSoundpacks;if(!r)return null;var d=r?(0,s.getSoundpackOptionsAprilFools2021)():[];return c(o.SingleSelect,{className:t,onChange:function(e){return(0,u.setSoundpack)(e)},value:n,options:d})}p.displayName="SoundpackSelect"},619476:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var r=(0,a.useStateFromStores)([u.default,i.default],(function(){return null!=t?(0,s.default)(u.default,i.default,t,e):void 0}),[e,t]);if(null==r||null==e||null==t)return null;var v=r.isCurrentUser||r.notPlayable||r.playingSameTrack,y=r.isCurrentUser||r.syncingWithUser||r.syncingWithParty
;return[m(o.MenuItem,{id:"spotify-play-"+e.session_id,action:function(){return(0,f.default)(r,c.SpotifyActionTypes.USER_ACTIVITY_PLAY,n)},label:p.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_PLAY_ON_SPOTIFY,subtext:v?(0,l.default)(r,c.SpotifyActionTypes.USER_ACTIVITY_PLAY):void 0,disabled:v}),r.canPlaySpotify?m(o.MenuItem,{id:"spotify-sync-"+e.session_id,action:function(){return(0,d.default)(r,c.SpotifyActionTypes.USER_ACTIVITY_SYNC,n)},label:p.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_LISTEN_ALONG,subtext:y?(0,l.default)(r,c.SpotifyActionTypes.USER_ACTIVITY_SYNC):void 0,disabled:y}):null]};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(145122),i=v(n(423046)),u=v(n(146411)),l=v(n(601715)),s=v(n(985923)),d=v(n(909630)),f=v(n(669790)),c=n(673810),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},1430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.audienceAckRequestToSpeak=E;t.editStage=function(e,t,n){
return b.apply(this,arguments)};t.endStage=function(e){return I.apply(this,arguments)};t.inviteUserToStage=function(e,t){var n=e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n,t),body:{suppress:!1,request_to_speak_timestamp:(new Date).toISOString(),channel_id:e.id}})};t.moveSelfToAudience=function(e){var t=null==e?void 0:e.getGuildId();(0,r.default)(null!=t,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(t),body:{suppress:!0,channel_id:e.id,self_video:!1,self_stream:!1}})};t.moveUserToAudience=function(e,t){if(null==t||null==e)return;var n=t.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");S(t,e.id,!0);return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n,e.id),body:{suppress:!0,channel_id:t.id,self_video:!1,self_stream:!1}})};t.removeUserFromChannel=function(e,t){var n=null==t?void 0:t.getGuildId()
;if(null==n||null==e)return;u.default.setChannel(n,e.id,null)};t.setEveryoneRolePermissionAllowed=function(e,t,n){var o=e.getGuildId();(0,r.default)(null!=o,"Channel cannot be guildless");var u=e.permissionOverwrites[o],s=g({id:o,type:l.PermissionOverwriteType.ROLE,allow:f.default.NONE,deny:f.default.NONE},u);if(n){s.allow=a.default.add(s.allow,t);s.deny=a.default.remove(s.deny,t)}else{s.allow=a.default.remove(s.allow,t);s.deny=a.default.add(s.deny,t)}i.default.updatePermissionOverwrite(e.id,s)};t.setUserSuppress=S;t.startStage=function(e,t,n,r){return O.apply(this,arguments)};t.toggleRequestToSpeak=function(e,t){var n=e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");t&&(0,s.trackWithMetadata)(y.AnalyticEvents.REQUEST_TO_SPEAK_INITIATED,g({},(0,c.getStageChannelMetadata)(e)));return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n),body:{request_to_speak_timestamp:t?(new Date).toISOString():null,channel_id:e.id}})}
;var r=m(n(441143)),a=m(n(267258)),o=m(n(118915)),i=m(n(709403)),u=m(n(415275)),l=n(81069),s=n(844784),d=m(n(387692)),f=m(n(656016)),c=n(411315),p=n(169769),v=n(104144),y=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){var n=null==e?void 0:e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");var a=d.default.getVoiceStateForChannel(e.id);(0,
v.getAudienceRequestToSpeakState)(a)!==v.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK||t||(0,s.trackWithMetadata)(y.AnalyticEvents.PROMOTED_TO_SPEAKER,g({},(0,c.getStageChannelMetadata)(e)));return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n),body:{suppress:t,request_to_speak_timestamp:null,channel_id:e.id}})}function S(e,t,n){var a=e.getGuildId();(0,r.default)(null!=a,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(a,t),body:{suppress:n,channel_id:e.id}})}function O(){return(O=h(regeneratorRuntime.mark((function e(t,n,r,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return(0,p.startStageInstance)(t.id,n,r,a);case 4:o=e.sent;E(t,!1);return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=h(regeneratorRuntime.mark((function e(t,n,r){var a
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return(0,p.updateStageInstance)(t.id,n,r);case 4:a=e.sent;return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=h(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,p.endStageInstance)(t.id);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},685810:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.participantMemberInfo=function(e){var t;if((0,a.isNewUser)(e.user))return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_TO_DISCORD;var n=null===(t=e.member)||void 0===t?void 0:t.joinedAt;if(null==n)return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NON_MEMBER;if(null!=e.member&&e.member.roles.length>0){var r,i
;return null!==(r=null===(i=e.role)||void 0===i?void 0:i.name)&&void 0!==r?r:o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER_ROLES}if((new Date).getTime()-Date.parse(n)<864e5)return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_MEMBER;return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER};var r,a=n(873838),o=(r=n(247001))&&r.__esModule?r:{default:r}},411315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fillChunk=function(e,t,n){var a=(0,r.chunk)(e,t),o=null!=n?n:t;return a.reduce((function(e,t){if(o<=t.length)return[].concat(v(e),[t]);var n=[].concat(v(t),v(new Array(o-t.length).fill(null)));return[].concat(v(e),[n])}),[])};t.getRemoveModeratorTooltipHint=function(e,t){switch(e){case d.RowType.OWNER:return f.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_OWNER;case d.RowType.ADMINISTRATOR:return f.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_ADMINISTRATOR;case d.RowType.MEMBER:case d.RowType.ROLE:
return t?f.default.Messages.CHANNEL_PERMISSIONS_CANNOT_REMOVE_PERMISSIONS:f.default.Messages.CHANNEL_PERMISSIONS_REMOVE_MODERATOR_TOOLTIP;case d.RowType.EMPTY_STATE:return null}};t.getStageChannelMetadata=function(e){var t=u.default.getStageInstanceByChannel(e.id);return{channel_id:e.id,guild_id:e.guild_id,topic:null==t?void 0:t.topic,media_session_id:a.default.getMediaSessionId(),request_to_speak_state:i.default.canEveryoneRole(s.Permissions.REQUEST_TO_SPEAK,e)?l.RequestToSpeakPermissionStates.EVERYONE:l.RequestToSpeakPermissionStates.NO_ONE,stage_instance_id:null==t?void 0:t.id}};t.isVersionEqual=function(e,t){var n=p(e,2)[1],r=p(t,2)[1];return n===r};t.summarizeUsernamesParticipating=function(e,t,n,r){var a=t[0],i=o.default.getName(e,n,a),u=null!=r?r:t.length;if(1===u&&null!=a)return i;if(null==a)return f.default.Messages.SPEAKING_COUNT.format({count:u});return f.default.Messages.USER_SUMMARY_WITH_OTHERS.format({name:i,count:u-1})}
;t.summarizeUsernamesParticipatingWithSpeakerNickname=function(e,t,n){var r=null!=n?n:e.length;if(1===r&&null!=t)return t;if(null==t)return f.default.Messages.SPEAKING_COUNT.format({count:r});return f.default.Messages.USER_SUMMARY_WITH_OTHERS.format({name:t,count:r-1})};var r=n(496486),a=c(n(893160)),o=c(n(29652)),i=c(n(656016)),u=c(n(217964)),l=n(808961),s=n(770348),d=n(739889),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||y(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},342716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r=v(n(636602)),a=v(n(740207)),o=n(123516),i=v(n(177230)),u=n(747868),l=v(n(607209)),s=v(n(423046)),d=v(n(644263)),f=v(n(635014)),c=n(104144),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var m=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).handleVoiceStateUpdates=function(e){var n=e.voiceStates,r=s.default.getId();n.forEach((function(e){var n;if(e.userId===r){if(null===(n=d.default.getChannel(e.channelId))||void 0===n?void 0:n.isGuildStageVoice()){if(!((0,c.getAudienceRequestToSpeakState)(e)===c.RequestToSpeakStates.ON_STAGE)){t.handleStopStream(e);t.handleStopUserVideo()}}}}))};t.handleStopStream=function(e){var t=l.default.getActiveStreamForUser(e.userId)
;null!=t&&(0,o.stopStream)((0,u.encodeStreamKey)(t),!1)};t.handleStopUserVideo=function(){f.default.isVideoEnabled()&&a.default.setVideoEnabled(!1)};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(p.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)};n._terminate=function(){r.default.unsubscribe(p.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)};n.__getLocalVars=function(){return{}};return t}(i.default));t.default=m},169769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.endStageInstance=function(e){return a.default.delete(o.Endpoints.STAGE_INSTANCE(e))};t.startStageInstance=function(e,t,n,r,a){return l.apply(this,arguments)};t.updateStageInstance=function(e,t,n){return s.apply(this,arguments)};var r,a=(r=n(118915))&&r.__esModule?r:{default:r},o=n(770348);function i(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function u(e){i(o,r,a,u,l,"next",e)}function l(e){i(o,r,a,u,l,"throw",e)}u(void 0)}))}}function l(){return(l=u(regeneratorRuntime.mark((function e(t,n,r,i,u){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return a.default.post({url:o.Endpoints.STAGE_INSTANCES,body:{channel_id:t,topic:n,privacy_level:r,guild_scheduled_event_id:u,send_start_notification:i}});case 2:l=e.sent;return e.abrupt("return",l.body);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=u(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return a.default.patch({url:o.Endpoints.STAGE_INSTANCE(t),body:{topic:n,privacy_level:r}});case 2:i=e.sent;return e.abrupt("return",i.body);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},913687:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(!e.isGuildStageVoice())return!1;if(!u.default.isLive(e.id))return!1;var t=r.default.getId();if(!i.default.isModerator(t,e.id))return!1;var n=a.default.getMutableParticipants(e.id,o.StageChannelParticipantNamedIndex.MODERATOR);if(n.length<=1)return!0;if(!i.default.isSpeaker(t,e.id))return!1;return n.filter((function(e){return e.id!==t&&e.speaker})).length<=0};var r=l(n(423046)),a=l(n(897191)),o=n(921867),i=l(n(258079)),u=l(n(217964));function l(e){return e&&e.__esModule?e:{default:e}}},530877:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.useStateFromStores)([o.default],(function(){return o.default.getId()}));return(0,i.default)(t,e)===i.RequestToSpeakStates.ON_STAGE};var r,a=n(536211),o=(r=n(423046))&&r.__esModule?r:{default:r},i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(104144));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}},724571:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,r.useStateFromStores)([a.default,o.default,i.default],(function(){var t=a.default.getId();return o.default.getVoiceChannelId()===e?i.default.getPermissionsForUser(t,e):null}),[e])};var r=n(536211),a=u(n(423046)),o=u(n(211136)),i=u(n(258079));function u(e){return e&&e.__esModule?e:{default:e}}},902477:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useRequestToSpeakPermission=function(e){
var t=(0,a.useStateFromStores)([o.default],(function(){return o.default.getChannel(e)}),[e]),n=i.default.canEveryoneRole(l.Permissions.REQUEST_TO_SPEAK,t),s=(p=r.useState(n),v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(p,v)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(p,v)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=s[0],c=s[1];var p,v;r.useEffect((function(){n!==d&&c(n)}),[n]);return[d,function(e){if(null!=t){c(e);(0,u.setEveryoneRolePermissionAllowed)(t,l.Permissions.REQUEST_TO_SPEAK,e)}}]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=s(n(644263)),i=s(n(656016)),u=n(1430),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},945544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useStageChannelParticipantsList=_;t.useStageChannelParticipantsListThrottled=function(e,t,n,r){void 0===r&&(r=!1);var a=_(e,t,r),o=v(a,2),i=o[0],u=o[1],l=v((0,f.useThrottledState)(a,n,[t[s.StageChannelParticipantNamedIndex.AUDIENCE]]),2),d=l[0],c=l[1],p=[i[h.SELECTED],i[h.SPEAKER],d[h.AUDIENCE]],y=[u[h.SELECTED],u[h.SPEAKER],c[h.AUDIENCE]];if(r){p.splice(1,0,i[h.MEDIA]);y.splice(1,0,u[h.MEDIA])}return[p,y]};t.useThrottleDurationForChannel=function(e){var t=(0,l.useStageParticipantsCount)(e,s.StageChannelParticipantNamedIndex.AUDIENCE),n=v(r.useState(!1),2),a=n[0],o=n[1];r.useEffect((function(){t>100?o(!0):t<75&&o(!1)}),[t]);return a?5e3:0};var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(496486),o=n(536211),i=c(n(825724)),u=c(n(897191)),l=n(216554),s=n(921867),d=n(411315),f=n(2663);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0
;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n){var l=(0,o.useStateFromStores)([u.default],(function(){return[e,u.default.getParticipantsVersion(e)]}),[e],d.isVersionEqual),f=(0,o.useStateFromStores)([i.default],(function(){return i.default.getSelectedParticipantId(e)}),[e]);return r.useMemo((function(){var r=[],o=[],i=-1,d=[];if(n)for(var c,p=function(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(u.default.getMutableParticipants(e,s.StageChannelParticipantNamedIndex.SPEAKER));!(c=p()).done;){var v=c.value;if(!v.voiceState.selfVideo&&v.type!==s.StageChannelParticipantTypes.STREAM)break;v.id!==f&&d.push(v);i++}var m=function(e,t,n){var u=n?e.filter((function(e,t){return e.id!==f&&t>i})):e,l=(0,a.chunk)(u,t);o.push(l);r.push(l.length)},_=null!=f?u.default.getParticipant(e,f):null;(null==_?void 0:_.speaker)?m([_],1,!1):m([],1,!1);[s.StageChannelParticipantNamedIndex.SPEAKER,s.StageChannelParticipantNamedIndex.AUDIENCE].forEach((function(e){
m(u.default.getMutableParticipants(l[0],e),t[e],e===s.StageChannelParticipantNamedIndex.SPEAKER)}));m(d,1,!1);return[r,o]}),[l,t,f,n,e])}var h;!function(e){e[e.SELECTED=0]="SELECTED";e[e.SPEAKER=1]="SPEAKER";e[e.AUDIENCE=2]="AUDIENCE";e[e.MEDIA=3]="MEDIA"}(h||(h={}))},641474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){void 0===t&&(t=3);return(n=(0,a.useStateFromStores)([o.default],(function(){for(var n,r=o.default.getMutableParticipants(e),a=[],i=function(){var e=n.value;if(a.length>=t)return"break";if(null!=a.find((function(t){return t.id===e.user.id})))return"continue";a.push(e.user)},l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r);!(n=l()).done;){var s=i();if("break"===s)break}return[{participants:r,usersInSummary:a},o.default.getParticipantsVersion(e)]}),[e,t],i.isVersionEqual),r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(n,r)||u(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];var n,r};var r,a=n(536211),o=(r=n(897191))&&r.__esModule?r:{default:r},i=n(411315);function u(e,t){if(e){
if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},2663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useThrottledState=t.useThrottledFunction=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(496486);function o(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=function(e){return e};t.useThrottledState=function(e,t,n,a){void 0===n&&(n=[]);var o=s(l,t,n,a),i=r.useRef(e)
;r.useEffect((function(){var t=o(e);i.current=t}),[e,o]);return 0===t?e:i.current};var s=function(e,t,n,o){void 0===n&&(n=[]);var u=r.useRef((0,a.throttle)(e,t,o));r.useEffect((function(){u.current=(0,a.throttle)(e,t,o);return function(){var e;null===(e=u.current)||void 0===e||e.cancel()}}),[e,t,o].concat(i(n)));return u.current};t.useThrottledFunction=s},462867:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,o.useStateFromStores)([i.default],(function(){return i.default.getId()})),n=(0,l.default)(t,e.id),r=n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK||n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,s=(p=a.useState(r),v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e
}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(p,v)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=s[0],c=s[1];var p,v;a.useEffect((function(){c(r)}),[r]);return[d,function(){n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK?(0,u.audienceAckRequestToSpeak)(e,!0):(0,u.toggleRequestToSpeak)(e,!d);c(!d)}]};var r,a=d(n(667294)),o=n(536211),i=(r=n(423046))&&r.__esModule?r:{default:r},u=n(1430),l=d(n(104144));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t
})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},158579:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=s(n(667294)),i=s(n(2850)),u=(r=n(339753))&&r.__esModule?r:{default:r};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=o.memo((function(e){var t=e.channel,n=e.participants,r=e.maxTiles;if(0===n.length)return null;for(var a=[],o=0;o<r;o++)if(o<n.length){var l=n[o];a.push(d(i.default,{channel:t,participant:l},l.id))}else a.push(d(i.AudienceEmptyTile,{},o))
;return d("div",{className:u.default.participants},void 0,a)}));t.default=f},386191:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(645758),i=l(n(247001)),u=l(n(326714));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=a.memo((function(e){var t,n=e.role,r=e.participantCount;return d("div",{className:u.default.roleContainer},void 0,d(o.Text,{className:u.default.roleName,variant:"text-xs/normal"},void 0,null!==(t=null==n?void 0:n.name)&&void 0!==t?t:i.default.Messages.AUDIENCE_LABEL,"—",r))}));t.default=f},2850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.AudienceEmptyTile=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=b(n(294184)),i=b(n(441143)),u=n(536211),l=n(378158),s=n(433383),d=b(n(711195)),f=b(n(414068)),c=b(n(876874)),p=b(n(16941)),v=b(n(160629)),y=n(645758),m=b(n(337322)),_=b(n(782732)),h=b(n(924671)),g=b(n(29652)),E=n(104144),S=n(770348),O=b(n(967709));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,u,"next",e)}function u(e){A(o,r,a,i,u,"throw",e)}i(void 0)}))}}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=a.memo((function(e){var t=e.guildId,n=e.channelId,r=e.user,a=e.isPremium,o=e.isBlocked;return M("div",{className:O.default.textContainer},void 0,o?M(m.default,{className:O.default.blockedIcon,color:S.Colors.STATUS_RED}):null,M(y.Text,{className:O.default.text,variant:"text-sm/normal",color:"header-primary"},void 0,g.default.getName(t,n,r)),a?M(_.default,{className:O.default.boost,
color:S.Colors.GUILD_BOOSTING_PINK}):null)})),P=a.memo((function(e){var t,n,r,i=e.participant,u=e.guildId,l=e.channel,s=e.isPremium,d=i.user,f=i.blocked,c=i.rtsState,p=c===E.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,v=c===E.RequestToSpeakStates.REQUESTED_TO_SPEAK||p;return a.createElement(a.Fragment,null,M("div",{className:O.default.avatarContainer},void 0,v&&M(h.default,{className:(0,o.default)(O.default.icon,(t={},t[O.default.invited]=p,t))}),M("img",{src:null!==(n=d.getAvatarURL(l.guild_id,56,!1))&&void 0!==n?n:void 0,alt:d.username,"aria-label":d.username,className:(0,o.default)(O.default.avatar,(r={},r[O.default.faded]=f,r))})),M(N,{guildId:u,channelId:l.id,user:d,isPremium:s,isBlocked:f}))})),R=function(){return M("div",{className:O.default.tileBaseContainer})};t.AudienceEmptyTile=R;R.displayName="AudienceEmptyTile";var w=a.memo((function(e){var t=e.participant,r=e.channel,y=t.user,m=t.blocked,_=r.getGuildId(),h=(0,s.useAppContext)(),g=(0,
u.useStateFromStores)([c.default],(function(){var e;return null!=_&&null!=(null===(e=c.default.getMember(_,y.id))||void 0===e?void 0:e.premiumSince)}),[_,y.id]);(0,i.default)(null!=_,"Channel cannot be guildless");var E=a.useCallback((function(e){(0,l.openContextMenuLazy)(e,C(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(5814)]).then(n.bind(n,205814));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,T({},e,{user:y,guildId:_,channelId:r.id,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1}))}));case 5:case"end":return e.stop()}}),e)}))),{context:h})}),[y,_,r.id,h]),S=a.useCallback((function(e){return a.createElement(f.default,T({},e,{guildId:_,channelId:r.id,userId:y.id}))}),[r.id,_,y.id]),b=M(P,{participant:t,guildId:_,channel:r,isPremium:g})
;return M(v.default,{preload:function(){return(0,d.default)(y.id,y.getAvatarURL(r.guild_id,80),{guildId:r.guild_id})},renderPopout:S,position:v.default.Positions.RIGHT,spacing:8},void 0,(function(e){var t;return a.createElement(p.default,T({className:(0,o.default)(O.default.tileContainer,(t={},t[O.default.singleIcon]=g||m,t[O.default.doubleIcon]=g&&m,t)),onContextMenu:E},e),b)}))}));t.default=w},226155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=d(n(709578)),i=d(n(635014)),u=d(n(974661)),l=d(n(180573)),s=["aspectRatio","blocked","channel","className","focused","children","inCall","inPopout","noBorder","onClick","onContextMenu","onDoubleClick","onVideoResize","paused","pulseSpeakingIndicator","participant","width"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e){var t=e.aspectRatio,n=e.blocked,r=e.channel,d=e.className,f=e.focused,v=e.children,y=e.inCall,m=e.inPopout,_=e.noBorder,h=e.onClick,g=e.onContextMenu,E=e.onDoubleClick,S=e.onVideoResize,O=e.paused,b=e.pulseSpeakingIndicator,I=e.participant,T=e.width,A=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s),C=i.default.getVideoComponent();return c("div",{style:{width:T},className:l.default.spaceBetweenTiles},void 0,c(u.default,{className:l.default.tileSizer,aspectRatio:t},void 0,a.createElement(o.default,p({blocked:n,channel:r,className:d,focused:f,inCall:y,inPopout:m,noBorder:_,onClick:h,onContextMenu:g,onDoubleClick:E,onVideoResize:S,participant:I,paused:O,pulseSpeakingIndicator:b,videoComponent:C,width:T},A)),v))}v.displayName="AutosizingCallTile"},991636:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(294184)),o=s(n(247001)),i=s(n(300443)),u=s(n(483683)),l=s(n(63685));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.className,n=e.children;return f("div",{className:(0,a.default)(i.default.container,t)},void 0,f("img",{alt:o.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:l.default,className:(0,a.default)(i.default.sparkleIcon,i.default.sparkleBottom)}),n,f("img",{alt:o.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:u.default,className:(0,a.default)(i.default.sparkleIcon,i.default.sparkleTop)}))}c.displayName="IconWithSparkles"},542402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;h(n(667294));var r,a=m(n(294184)),o=m(n(644263)),i=m(n(211136)),u=m(n(956117)),l=n(645758),s=m(n(337322)),d=h(n(177101)),f=n(1430),c=m(n(14325)),p=n(123718),v=m(n(247001)),y=m(n(110717));function m(e){return e&&e.__esModule?e:{
default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function E(e){var t=i.default.getVoiceChannelId();if(null!=t){var n=o.default.getChannel(t);null!=n&&(0,f.audienceAckRequestToSpeak)(n,e)}}function S(){var e,t=(0,c.default)(),n=null!==(e=(0,p.useStageBlockedUsersCount)(null==t?void 0:t.id))&&void 0!==e?e:0;return g(d.default,{className:y.default.container,color:d.NoticeColors.DEFAULT},void 0,g("div",{},void 0,v.default.Messages.STAGE_SPEAK_INVITE_HEADER),n>0?g("div",{className:y.default.blocked},void 0,g(s.default,{width:12,height:12,className:y.default.blockedIcon}),g("div",{className:y.default.blockedText},void 0,v.default.Messages.STAGE_SPEAK_INVITE_HEADER_BLOCKED_USERS.format({number:n}))):null,g(u.default,{className:(0,a.default)(y.default.button,y.default.acceptButton),size:u.default.Sizes.MIN,color:u.default.Colors.WHITE,onClick:function(){return E(!1)}},void 0,g(l.Text,{className:y.default.acceptText,variant:"text-xs/normal",color:"none"},void 0,v.default.Messages.STAGE_SPEAK_INVITE_ACCEPT)),g(u.default,{
className:(0,a.default)(y.default.button,y.default.declineButton),look:u.default.Looks.OUTLINED,size:u.default.Sizes.MIN,color:u.default.Colors.WHITE,onClick:function(){return E(!0)}},void 0,g(l.Text,{className:y.default.declineText,variant:"text-xs/normal",color:"none"},void 0,v.default.Messages.STAGE_SPEAK_INVITE_DECLINE)))}S.displayName="InvitedToSpeakNotice"},214563:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(730977)),i=d(n(980351)),u=n(478036),l=d(n(247001)),s=d(n(817463))
;function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(){return p(o.default,{text:l.default.Messages.STAGE_MODERATOR_TOOLTIP},void 0,(function(e){return a.createElement("div",c({},e,{className:s.default.container
}),p(i.default,{color:u.Colors.WHITE}))}))};v.displayName="ModeratorBadge";var y=v;t.default=y},397789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(966708),u=m(n(145122)),l=m(n(563621)),s=m(n(160629)),d=m(n(91424)),f=m(n(811198)),c=m(n(878556)),p=n(770348),v=m(n(247001)),y=m(n(607673));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(){
h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,i.useChannelNotificationRadioItems)(t);return S(u.default,{navId:"notification-settings",onClose:n,"aria-label":v.default.Messages.NOTIFICATION_SETTINGS,onSelect:r},void 0,a)}O.displayName="NotificationSettingsMenu";function b(e){
var t=e.channel,n=g(a.useState(!1),2),r=n[0],i=n[1],u=(0,o.useStateFromStores)([l.default],(function(){return l.default.getChannelOverrides(t.guild_id)[t.id]}),[t.guild_id,t.id]),m=(null==u?void 0:u.message_notifications)===p.UserNotificationSettings.NO_MESSAGES,_=v.default.Messages.NOTIFICATION_SETTINGS;return S(s.default,{shouldShow:r,animation:s.default.Animation.NONE,position:s.default.Positions.BOTTOM,align:s.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return i(!1)},renderPopout:function(e){return a.createElement(O,h({},e,{channel:t}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(c.default.Icon,h({},e,{onClick:function(){return i((function(e){return!e}))},tooltip:n?null:_,icon:m?f.default:d.default,foreground:m?y.default.strikethrough:null,"aria-label":_}))}))}b.displayName="NotificationSettingsButton"},885903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(332282)),o=u(n(991636)),i=u(n(364266));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.className;return s(o.default,{className:t},void 0,s("div",{className:i.default.background},void 0,s(a.default,{className:i.default.foreground,width:32,height:32})))}d.displayName="RaisedHandsEmptyStateImage"},460936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=oe;var r,a=F(n(667294)),o=U(n(294184)),i=U(n(441143)),u=n(536211),l=n(378158),s=F(n(538930)),d=n(982437),f=U(n(711195)),c=U(n(414068)),p=U(n(876874)),v=U(n(689389)),y=U(n(788739)),m=U(n(956117)),_=U(n(16941)),h=U(n(160629)),g=U(n(567668)),E=n(645758),S=U(n(730977)),O=U(n(259530)),b=U(n(855480)),I=U(n(833837)),T=U(n(924671)),A=U(n(521358)),C=n(1430),M=n(216554),N=n(685810),P=n(104144),R=U(n(801967)),w=n(902477),D=U(n(885903)),L=n(478036),k=U(n(247001)),j=U(n(983953));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(G=function(e){return e?n:t})(e)}function F(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function x(){x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return x.apply(this,arguments)}function B(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){B(o,r,a,i,u,"next",e)}function u(e){B(o,r,a,i,u,"throw",e)}i(void 0)
}))}}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var K,z=Y(T.default,{}),$=Y(O.default,{}),q=a.memo((function(e){var t=e.toggleRequestToSpeakSidebar;return Y("div",{className:j.default.headerContainer},void 0,z,Y(E.Text,{className:j.default.headerTitle,variant:"text-md/normal",color:"header-primary"},void 0,k.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE),Y(_.default,{className:j.default.headerClose,onClick:t,"aria-label":k.default.Messages.CLOSE},void 0,$))})),Q=Y(b.default,{width:16,height:16}),X=a.memo((function(e){var t=e.channel;return Y(_.default,{className:j.default.selfSpeakerContainer,onClick:function(){
(0,C.audienceAckRequestToSpeak)(t,!1)}},void 0,Y("div",{className:(0,o.default)(j.default.buttonContainer,j.default.selfSpeakerButton)},void 0,Q),Y(E.Text,{className:j.default.selfSpeakerText,variant:"text-md/normal",color:"none"},void 0,k.default.Messages.MODERATOR_RAISE_OWN_HAND))})),Z=Y(I.default,{width:16,height:16}),J=Y(O.default,{width:16,height:16}),ee=a.memo((function(e){var t=e.channel,r=e.participant,v=e.tempDisableOnInit,g=void 0!==v&&v,O=V(a.useState(g),2),b=O[0],I=O[1];a.useEffect((function(){if(b){var e=setTimeout((function(){return I(!1)}),1e3);return function(){return clearTimeout(e)}}}),[]);var T=t.getGuildId();(0,i.default)(null!=T,"Channel cannot be guildless");var A=(0,u.useStateFromStoresObject)([y.default],(function(){return{isMobile:y.default.isMobileOnline(r.user.id),status:y.default.getStatus(r.user.id,T)}})),M=A.isMobile,R=A.status,w=(0,u.useStateFromStores)([p.default],(function(){return p.default.getMember(T,r.user.id)})),D=a.useMemo((function(){var e
;return(e={})[T]=[r.user.id],e}),[T,r.user.id]);(0,d.useSubscribeGuildMembers)(D);var L=r.rtsState===P.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;function U(){(0,C.setUserSuppress)(t,r.user.id,!1)}function G(){(0,C.setUserSuppress)(t,r.user.id,!0)}var F=function(e){(0,l.openContextMenuLazy)(e,H(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(5814)]).then(n.bind(n,205814));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,x({},e,{user:r.user,guildId:T,channelId:t.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))};return Y("div",{className:j.default.participantRowContainer},void 0,Y(h.default,{preload:function(){return(0,f.default)(r.user.id,r.user.getAvatarURL(t.guild_id,80),{guildId:t.guild_id})},renderPopout:function(e){
return a.createElement(c.default,x({},e,{userId:r.user.id,guildId:T,channelId:t.id}))},position:h.default.Positions.LEFT,spacing:16},void 0,(function(e){var t;return a.createElement(_.default,x({className:j.default.participantMemberContainer,onContextMenu:F},e),Y(s.default,{size:s.Sizes.SIZE_40,className:j.default.participantAvatar,user:r.user,isMobile:M,status:R}),Y("div",{className:j.default.participantTextContainer},void 0,Y(E.Text,{className:j.default.participantName,variant:"text-md/normal",color:"none",style:{color:null!==(t=null==w?void 0:w.colorString)&&void 0!==t?t:void 0}},void 0,r.userNick),Y(E.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,(0,N.participantMemberInfo)(r))))})),Y(S.default,{text:L?k.default.Messages.REQUEST_TO_SPEAK_INVITATION_SEND:k.default.Messages.REQUEST_TO_SPEAK_ACCEPT},void 0,(function(e){return a.createElement(m.default,x({},e,{innerClassName:j.default.buttonContainer,look:m.default.Looks.BLANK,size:m.default.Sizes.NONE,onClick:U,
disabled:L||b}),Z)})),Y(S.default,{text:k.default.Messages.REQUEST_TO_SPEAK_DECLINE},void 0,(function(e){return a.createElement(m.default,x({},e,{innerClassName:(0,o.default)(j.default.buttonContainer,j.default.buttonMargin),look:m.default.Looks.BLANK,size:m.default.Sizes.NONE,onClick:G}),J)})))})),te=a.memo((function(e){var t=e.channel,n=V((0,w.useRequestToSpeakPermission)(t.id),2),r=n[0],a=n[1];return Y(g.default,{className:j.default.toggle,onChange:a,value:r},void 0,k.default.Messages.MODERATOR_ALLOW_EVERYONE_RAISE_HAND)})),ne=Y(D.default,{}),re=a.memo((function(){return Y("div",{className:j.default.emptyStateContainer},void 0,ne,Y(E.Text,{className:j.default.emptyStateTitle,variant:"text-lg/normal",color:"header-primary"},void 0,k.default.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_TITLE),Y(E.Text,{className:j.default.emptyStateBody,variant:"text-sm/normal",color:"header-secondary"},void 0,k.default.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_BODY))}));!function(e){
e[e.TOGGLE_REQUEST_TO_SPEAK=0]="TOGGLE_REQUEST_TO_SPEAK";e[e.MAKE_SPEAKER=1]="MAKE_SPEAKER";e[e.PARTICIPANTS=2]="PARTICIPANTS"}(K||(K={}));var ae=Y(re,{},"participants-empty");function oe(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,r=(0,R.default)(t.id).speaker,a=(0,M.useSortedRequestToSpeakParticipants)(t.id),o=[(0,u.useStateFromStores)([v.default],(function(){return v.default.can(L.Permissions.MANAGE_CHANNELS,t)||v.default.can(L.Permissions.MANAGE_ROLES,t)}))?1:0,r?0:1,Math.max(1,a.length)];var i=Y(te,{channel:t},"rts-toggle"),l=Y(X,{channel:t},"make-speaker");return Y("div",{className:j.default.container},void 0,Y(q,{toggleRequestToSpeakSidebar:n}),Y(A.default,{className:j.default.contentContainer,sections:o,sectionHeight:function(e){return e===K.PARTICIPANTS?40:0},rowHeight:function(e){switch(e){case K.TOGGLE_REQUEST_TO_SPEAK:return 66;case K.MAKE_SPEAKER:return 48;case K.PARTICIPANTS:return 0===a.length?178:48}return 0},renderRow:function(e){var n=e.section,r=e.row
;switch(n){case K.TOGGLE_REQUEST_TO_SPEAK:return i;case K.MAKE_SPEAKER:return l;case K.PARTICIPANTS:if(0===a.length)return ae;var o=a[r];return Y(ee,{channel:t,participant:o,tempDisableOnInit:!0},o.id)}return null},renderSection:function(e){return e.section===K.PARTICIPANTS?Y(E.Text,{className:j.default.listTitle,variant:"text-xs/normal",color:"header-secondary"},"participants-section",a.length>0?k.default.Messages.REQUEST_TO_SPEAK_LIST_TITLE.format({numHands:a.length}):k.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE):null}}))}oe.displayName="RequestToSpeakSidebar"},492626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=(r=n(203418))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var l=function(e){var t=e.children;return e.shouldAnimate?u("div",{className:o.default.outerContainer},void 0,u("div",{className:o.default.innerContainer},void 0,t)):t};l.displayName="SpeakerPulse";var s=l;t.default=s},551619:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=J;var r,a=H(n(667294)),o=x(n(294184)),i=x(n(441143)),u=n(496486),l=n(473727),s=n(536211),d=x(n(972247)),f=x(n(636602)),c=n(433383),p=x(n(825724)),v=x(n(66384)),y=n(596271),m=H(n(8475)),_=x(n(902305)),h=n(139982),g=H(n(430251)),E=x(n(866219)),S=x(n(561603)),O=x(n(423046)),b=x(n(211136)),I=n(194322),T=n(319986),A=n(864489),C=n(518802),M=x(n(922629)),N=H(n(285256)),P=x(n(460936)),R=x(n(460372)),w=x(n(600577)),D=x(n(268372)),L=x(n(35997)),k=x(n(357474)),j=n(770348),U=n(859089),G=x(n(247001)),F=x(n(76034));function x(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function H(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function V(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){V(o,r,a,i,u,"next",e)}function u(e){V(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var $="HasBeenInStageChannel",q=function(e,t){
return function(){var n=e.getGuildId();null!=n&&null!=t&&(0,h.transitionToGuild)(n,t);m.openChannelCallPopout(e)}},Q=function(){f.default.wait((function(){return m.close(j.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}))};function X(e){var t=e.channel,n=e.appContext,r=e.popoutOpen,o=e.popoutWindow,i=e.selectedParticipant,u=t.getGuildId(),l=(0,s.useStateFromStores)([b.default],(function(){return b.default.getMostRecentSelectedTextChannelId(u)}),[u]),d=O.default.getId(),f=!(0,s.useStateFromStores)([p.default],(function(){return p.default.isFullscreenInContext(n)}))&&(!A.isPlatformEmbedded||A.isPlatformEmbedded&&M.default.supportsFeature(j.NativeFeatures.POPOUT_WINDOWS)),c=null!=i&&i.type!==U.ParticipantTypes.ACTIVITY&&i.user.id!==d,y=a.useMemo((function(){var e;return null!==(e=null==o?void 0:o.window)&&void 0!==e?e:window}),[o]),m=(0,k.default)({channel:t,appContext:n,popoutOpen:r,popoutWindow:o,currentWindow:y});return a.createElement(a.Fragment,null,c?z(S.default,{context:(0,
v.default)(i.type),userId:i.user.id,currentWindow:y,sliderClassName:F.default.volumeSlider}):null,f?z(E.default,{className:F.default.rightTrayIcon,popoutOpen:r,onOpenPopout:q(t,l),onClosePopout:Q}):null,m)}function Z(e){var t,n=e.channel,r=e.toggleRequestToSpeakSidebar,o=e.showRequestToSpeakSidebar,d=(0,c.useAppContext)(),f=(0,s.useStateFromStores)([_.default],(function(){return _.default.getWindow(j.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),v=null!=f&&!f.closed,m=(0,s.useStateFromStores)([b.default],(function(){return b.default.getVoiceChannelId()===n.id}),[n.id]),h=(0,s.useStateFromStores)([p.default],(function(){return p.default.getSelectedParticipant(n.id)}),[n.id]),E=v&&d!==j.AppContext.POPOUT,S=Y(a.useState(0),2),O=S[0],I=S[1],A=(0,N.default)().isOnStartStageScreen;(0,N.useUpdateIsOnStartStageScreenEffect)(n);a.useEffect((function(){!m&&v&&Q()}),[v,m]);if(!m&&!v){var C=(0,y.getGuildIdForGenericRedirect)(n),M=n.getGuildId();(0,
i.default)(null!=M,"Guild voice channel without guild id.");return z(l.Redirect,{to:(0,T.previousTextChannelRouteForGuild)(null!=C?C:M)})}t=A?z(L.default,{channel:n,onContinueClick:function(){return(0,N.setIsOnStartStageScreen)(!1)}}):z(w.default,{channel:n,onScroll:function(e){var t=e.target.scrollTop;(0,u.debounce)((function(){return I(t)}),1e3,{leading:!0})()}});var P=z(D.default,{channel:n,toggleRequestToSpeakSidebar:r,showRequestToSpeakSidebar:o,isOnStartStageScreen:A}),k=z(X,{channel:n,appContext:d,popoutOpen:v,popoutWindow:f,selectedParticipant:h}),U=z(R.default,{channel:n});return z(g.default,{disableGradients:0===O&&g.DisableGradient.TOP,renderBottomCenter:function(){return P},renderBottomRight:function(){return k},renderHeader:function(){return U},onActive:function(){},onPreventIdle:function(){},onAllowIdle:function(){},onForceIdle:function(){},screenMessage:E?{mainText:G.default.Messages.POPOUT_PLAYER_OPENED}:null,idle:!1},void 0,!E&&t)}
Z.displayName="StageChannelCallContent";function J(e){var t,r=e.channel,i=Y(a.useState(!1),2),u=i[0],l=i[1],s=a.useCallback((function(){l(!u)}),[u]);a.useEffect((function(){if(null==d.default.get($)){(0,I.openModalLazy)(W(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(2345)]).then(n.bind(n,102345));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))));d.default.set($,Date.now())}}),[]);return z("div",{className:F.default.container},void 0,z("div",{className:(0,o.default)(F.default.callContainer,(0,C.getThemeClass)(j.ThemeTypes.DARK),(t={},t[F.default.sidebarVisible]=u,t))},void 0,z(Z,{channel:r,toggleRequestToSpeakSidebar:s,showRequestToSpeakSidebar:u})),u?z(P.default,{channel:r,toggleRequestToSpeakSidebar:s}):null)}J.displayName="StageChannelCall"},460372:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=D;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=T(n(294184)),i=n(536211),u=n(433383),l=T(n(678928)),s=T(n(981706)),d=T(n(689389)),f=n(645758),c=T(n(634230)),p=T(n(332282)),v=T(n(878556)),y=n(864489),m=n(518802),_=T(n(922629)),h=n(559133),g=n(365744),E=T(n(217964)),S=T(n(397789)),O=n(770348),b=T(n(247001)),I=T(n(903330));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function C(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,u,"next",e)}function u(e){M(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(){return R.apply(this,arguments)}function R(){return(R=N(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,y.isOSX)()||!y.isPlatformEmbedded){e.next=14;break}e.next=3
;return null===(n=(r=window.DiscordNative.remoteApp).getDefaultDoubleClickAction)||void 0===n?void 0:n.call(r);case 3:e.t1=t=e.sent;e.t0=null!==e.t1;if(!e.t0){e.next=7;break}e.t0=void 0!==t;case 7:if(!e.t0){e.next=11;break}e.t2=t;e.next=12;break;case 11:e.t2="Maximize";case 12:"Minimize"===(a=e.t2)?_.default.minimize():"Maximize"===a&&_.default.maximize();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=e.channel,n=(0,u.useAppContext)(),r=(0,i.useStateFromStores)([d.default],(function(){return d.default.can(g.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}));return a.createElement(a.Fragment,null,C(S.default,{channel:t}),C(s.default,{guildId:t.guild_id,className:I.default.eventsButton}),r?C(v.default.Icon,{onClick:function(){(0,h.openStageChannelSettings)(t,n)},tooltip:b.default.Messages.STAGE_SETTINGS,"aria-label":b.default.Messages.STAGE_SETTINGS,icon:c.default}):null)}function D(e){var t=e.channel,n=(0,l.default)(t),r=(0,
i.useStateFromStores)([E.default],(function(){return E.default.getStageInstanceByChannel(t.id)}));return C(v.default,{toolbar:C(w,{channel:t}),onDoubleClick:P,transparent:!0,className:(0,o.default)((0,m.getThemeClass)(O.ThemeTypes.DARK),I.default.participants)},void 0,C(v.default.Icon,{icon:p.default,disabled:!0,"aria-label":b.default.Messages.STAGE_CHANNEL,className:I.default.icon}),C(v.default.Title,{className:I.default.channelName},void 0,n),null!=r?a.createElement(a.Fragment,null,C(v.default.Divider,{className:I.default.divider}),C(f.Text,{variant:"text-md/normal",color:"header-secondary",className:I.default.title},void 0,null==r?void 0:r.topic)):null)}D.displayName="StageChannelCallHeader"},25974:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(294184)),i=n(536211),u=m(n(689389)),l=n(645758),s=m(n(337322)),d=m(n(878338)),f=m(n(855480)),c=n(365744),p=m(n(217964)),v=m(n(247001)),y=m(n(957652));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=14;var E=function(e){var t=e.subtitle;return h(l.Text,{color:"header-secondary",variant:"text-sm/normal",className:(0,o.default)(y.default.subtitle,y.default.height)},void 0,t)};E.displayName="StageSubtitle";var S=function(e){var t=e.speakerCount,n=e.audienceCount,r=e.blockedCount;return h("div",{className:y.default.height},void 0,h("div",{className:y.default.stageSummary},void 0,h(f.default,{height:g,width:g,className:y.default.icon}),h(l.Text,{color:"header-secondary",variant:"text-xs/normal"},void 0,v.default.Messages.SPEAKING_COUNT.format({count:String(t)})),h("div",{className:y.default.dotSeparator}),h(d.default,{width:g,height:g,className:y.default.icon}),h(l.Text,{color:"header-secondary",variant:"text-xs/normal"},void 0,v.default.Messages.LISTENING_COUNT.format({count:String(n)})),r>0?a.createElement(a.Fragment,null,h("div",{className:y.default.dotSeparator}),h(s.default,{width:g,height:g,
className:y.default.icon}),h(l.Text,{color:"header-secondary",variant:"text-xs/normal"},void 0,v.default.Messages.BLOCKED_COUNT.format({count:String(r)}))):null))};S.displayName="StageSummary";var O=function(e){var t=e.channel,n=e.speakerCount,r=e.audienceCount,a=e.blockedCount,o=(0,i.useStateFromStores)([p.default],(function(){return p.default.getStageInstanceByChannel(t.id)}),[t.id]),s=(0,i.useStateFromStores)([u.default],(function(){return u.default.can(c.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),d=function(e,t){return t?v.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR:v.default.Messages.STAGE_START_PROMPT_TITLE}(0,s),f=null!=o,m=s&&!f?v.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR_DESKTOP:void 0;return h("div",{className:y.default.container},void 0,!f&&h(l.Text,{variant:"text-lg/normal",color:"header-primary",className:y.default.title},void 0,d),null!=m?h(E,{subtitle:m}):h(S,{speakerCount:n,audienceCount:r,blockedCount:a}))};O.displayName="StageChannelCallTopic"
;var b=O;t.default=b},600577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.LayoutSections=void 0;var r,a=b(n(667294)),o=n(536211),i=S(n(864345)),u=S(n(825724)),l=S(n(728429)),s=S(n(387692)),d=S(n(897191)),f=n(921867),c=S(n(217964)),p=n(945544),v=S(n(158579)),y=S(n(386191)),m=S(n(25974)),_=S(n(586315)),h=S(n(576989)),g=b(n(533646)),E=S(n(298579));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C,M=424,N=624,P=824;t.LayoutSections=C;!function(e){e[e.SELECTED=0]="SELECTED";e[e.SPEAKER=1]="SPEAKER";e[e.AUDIENCE=2]="AUDIENCE"}(C||(t.LayoutSections=C={}));var R=function(e){var t,n,r,i=e.channel,S=e.width,O=e.onScroll,b=(0,o.useStateFromStores)([l.default],(function(){var e;return null===(e=l.default.getCurrentUser())||void 0===e?void 0:e.id}),[]),A=(0,o.useStateFromStores)([u.default],(function(){return u.default.getSelectedParticipantId(i.id)})),R=(0,o.useStateFromStores)([s.default],(function(){
return s.default.isInChannel(i.id,b)}),[b,i.id]),w=(0,o.useStateFromStoresObject)([d.default],(function(){var e=d.default.getParticipantCount(i.id,f.StageChannelParticipantNamedIndex.AUDIENCE);return{speakerCount:d.default.getParticipantCount(i.id,f.StageChannelParticipantNamedIndex.SPEAKER),audienceCount:e,blockedCount:d.default.getParticipantCount(i.id,f.StageChannelParticipantNamedIndex.BLOCKED),selectedStageParticipant:null!=A?d.default.getParticipant(i.id,A):null}}),[A]),D=w.speakerCount,L=w.audienceCount,k=w.blockedCount,j=w.selectedStageParticipant,U=function(e){return Math.floor((e-32)/102)}(S),G=function(e){return e<M?1:e<N?2:e<P?3:4}(S),F=((t={})[f.StageChannelParticipantNamedIndex.SPEAKER]=G,t[f.StageChannelParticipantNamedIndex.AUDIENCE]=U,t[f.StageChannelParticipantNamedIndex.SELECTED]=1,t),x=(0,p.useThrottleDurationForChannel)(i.id),B=T((0,
p.useStageChannelParticipantsListThrottled)(i.id,F,x),2),H=B[0],V=B[1],W=[Math.max(null!==(n=H[C.SELECTED])&&void 0!==n?n:1,1),Math.max(null!==(r=H[C.SPEAKER])&&void 0!==r?r:1,1),H[C.AUDIENCE]],Y=function(e,t){var n=Math.floor(e/t-8);return{speakerTileWidth:n,speakerTileHeight:Math.floor(n/g.SPEAKER_TILE_ASPECT_RATIO)}}(S,G),K=Y.speakerTileWidth,z=Y.speakerTileHeight,$=Math.min(S-64,3*K+8),q=null!=(0,o.useStateFromStores)([c.default],(function(){return c.default.getStageInstanceByChannel(i.id)}),[i.id]),Q=function(e){return e===H.length-1},X=I(m.default,{channel:i,audienceCount:L,speakerCount:D,blockedCount:k},"speaker-header");return R?I(_.default,{sections:W,renderSection:function(e){var t=e.section;return t===C.SELECTED?X:t===C.AUDIENCE?0===L?null:I(y.default,{participantCount:L},"audience-header-"+t):null},sectionHeight:function(e){return e===C.SPEAKER?q?90:154:64},renderRow:function(e){var t=e.section,n=e.row,r=V[t][n];if(null==(null==r?void 0:r.length))return null;switch(t){
case C.SELECTED:return 0===r.length||null==r[0]?null:I("div",{className:E.default.focusedRow},"selected-participant",I(g.default,{channel:i,participant:r[0],width:$}));case C.SPEAKER:return I(a.Fragment,{},"speakers-"+t+"-"+n,I(h.default,{tileWidth:K,channel:i,participants:r,selectedParticipant:j}));case C.AUDIENCE:return I(v.default,{channel:i,participants:r,maxTiles:U},"audience-"+t+"-"+n);default:return null}},rowHeight:function(e){return null==V[e][C.SELECTED]?0:e===C.SELECTED?$/g.SPEAKER_TILE_ASPECT_RATIO+8:e===C.SPEAKER?z:98},renderFooter:function(e){var t=e.section;return t===C.SPEAKER?I("div",{className:E.default.divider},"speaker-divider"):Q(t)?I("div",{className:E.default.spacer},"bottom-spacer"):null},footerHeight:function(e){return e===C.SPEAKER?24:Q(e)?88:0},className:E.default.scroller,chunkSize:60,onScroll:O}):null};R.displayName="StageChannelCallView";var w=(0,i.default)(R);t.default=w},268372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=ce(n(667294)),o=de(n(294184)),i=n(536211),u=de(n(136873)),l=n(433383),s=de(n(825724)),d=de(n(190320)),f=de(n(932018)),c=de(n(590087)),p=de(n(379310)),v=n(668516),y=de(n(5031)),m=de(n(620859)),_=de(n(473842)),h=ce(n(145122)),g=de(n(373115)),E=de(n(431388)),S=de(n(770404)),O=de(n(423405)),b=n(839166),I=de(n(493051)),T=de(n(222935)),A=n(143414),C=de(n(607576)),M=de(n(645675)),N=de(n(423046)),P=de(n(30098)),R=de(n(635014)),w=de(n(689389)),D=de(n(728429)),L=de(n(956117)),k=de(n(160629)),j=n(645758),U=de(n(930600)),G=de(n(155084)),F=de(n(833837)),x=de(n(2604)),B=de(n(924671)),H=de(n(496709)),V=de(n(233121)),W=n(194322),Y=ce(n(272544)),K=n(559133),z=n(1430),$=n(216554),q=n(921867),Q=n(318678),X=n(365744),Z=de(n(258079)),J=de(n(217964)),ee=de(n(461713)),te=de(n(913687)),ne=de(n(530877)),re=de(n(697160)),ae=de(n(462867)),oe=n(770348),ie=n(474477),ue=n(371621),le=de(n(247001)),se=de(n(639286));function de(e){return e&&e.__esModule?e:{default:e}}function fe(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(fe=function(e){return e?n:t})(e)}function ce(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=fe(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function pe(){pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return pe.apply(this,arguments)}function ve(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){ve(o,r,a,i,u,"next",e)}function u(e){ve(o,r,a,i,u,"throw",e)}i(void 0)}))}}function me(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e){var t=e.channel,n=e.appContext;(0,te.default)(t)?(0,K.openEndStageModal)(t,n):u.default.disconnect()}function Ee(e,t){return e?le.default.Messages.AUDIENCE_LOWER_HAND:t?le.default.Messages.AUDIENCE_RAISE_HAND_CTA:le.default.Messages.AUDIENCE_RAISE_HAND_NO_PERMISSION}var Se=a.memo((function(e){var t=e.channel,n=_e((0,ae.default)(t),2),r=n[0],a=n[1],o=(0,i.useStateFromStores)([w.default],(function(){return w.default.can(oe.Permissions.REQUEST_TO_SPEAK,t)}))
;return me("div",{className:se.default.container},void 0,me(A.CenterControlButton,{color:r?"white":"primaryDark",label:Ee(r,o),iconComponent:function(){return me(B.default,{className:r?se.default.raisedHandButtonIconActive:se.default.raisedHandButtonIcon})},onClick:a,disabled:!o&&!r}),me(Ae,{channel:t}),me(Pe,{channel:t}))})),Oe={16:Y.MaskIDs.CHANNEL_CALL_CONTROL_BUTTON_BADGE_16,22:Y.MaskIDs.CHANNEL_CALL_CONTROL_BUTTON_BADGE_22,29:Y.MaskIDs.CHANNEL_CALL_CONTROL_BUTTON_BADGE_29};var be=me(H.default,{});function Ie(e){var t=e.toggleRequestToSpeakSidebar,n=e.showRequestToSpeakSidebar;return me(A.CenterControlButton,{className:(0,o.default)(se.default.speakerRaiseHandButton),color:n?"white":"primaryDark",label:n?le.default.Messages.REQUEST_TO_SPEAK_AREA_CLOSE:le.default.Messages.REQUEST_TO_SPEAK_AREA_OPEN,iconComponent:function(){return be},onClick:t})}Ie.displayName="RequestToSpeakButton";var Te=me(x.default,{});function Ae(e){var t=e.channel,r=(0,l.useAppContext)(),o=(0,
i.useStateFromStores)([w.default],(function(){return w.default.can(oe.Permissions.CREATE_INSTANT_INVITE,t)})),u=(0,i.useStateFromStores)([P.default],(function(){return P.default.getGuild(t.guild_id)})),s=(0,i.useStateFromStores)([J.default],(function(){return J.default.getStageInstanceByChannel(t.id)})),d=o||null!=(null==s?void 0:s.invite_code);if(null==u||!d)return null;return me(A.CenterControlButton,{className:se.default.buttonSpacing,label:le.default.Messages.INSTANT_INVITE,iconComponent:function(){return Te},onClick:function(){(0,W.openModalLazy)(ye(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,pe({},e,{guild:u,channel:t,source:oe.InstantInviteSources.CHANNEL_CALL}))}));case 5:case"end":return e.stop()}}),e)}))),{
contextKey:r===oe.AppContext.POPOUT?ue.POPOUT_MODAL_CONTEXT:ue.DEFAULT_MODAL_CONTEXT})}})}Ae.displayName="InviteButton";var Ce=me(F.default,{});function Me(e){var t=e.onClick;return me(A.CenterControlButton,{className:(0,o.default)(se.default.makeMeASpeakerButton),label:le.default.Messages.MODERATOR_RAISE_OWN_HAND,iconComponent:function(){return Ce},onClick:t})}Me.displayName="MakeMeASpeakerButton";var Ne=me(V.default,{height:24,width:24});function Pe(e){var t=e.channel,n=e.onSelect,r=(0,l.useAppContext)(),a=(0,v.useCanCreateEditDeleteEvent)(t.guild_id,t),u=(0,i.useStateFromStores)([J.default],(function(){return J.default.getStageInstanceByChannel(t.id)}),[t.id]),s=null!=(null==u?void 0:u.guild_scheduled_event_id),d=N.default.getId(),f=Z.default.isModerator(d,t.id);return s&&(a||f)?me(k.default,{renderPopout:function(e){var a=e.closePopout;return me(T.default,{},void 0,me(h.default,{navId:"exit-options","aria-label":le.default.Messages.SET_STATUS,onClose:a,onSelect:n
},void 0,me(h.MenuItem,{id:"end-stage",color:ie.MenuItemColor.DANGER,action:function(){return(0,K.openEndGuildEventConfirmationModal)(t,r)},label:le.default.Messages.END_GUILD_EVENT_FOR_EVERYONE,icon:U.default})))},align:k.default.Align.CENTER,position:k.default.Positions.TOP,animation:k.default.Animation.FADE},void 0,(function(e){var n=e.onClick;return me(A.CenterControlButton,{className:se.default.buttonSpacing,label:le.default.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,color:"red",iconComponent:function(){return Ne},onClick:function(){return ge({channel:t,appContext:r})},onPopoutClick:n})})):me(L.default,{size:L.default.Sizes.MEDIUM,color:L.default.Colors.RED,className:(0,o.default)(se.default.buttonSpacing,se.default.leaveQuietlyButton),onClick:function(){return ge({channel:t,appContext:r})}},void 0,me("div",{className:se.default.leaveQuietlyButtonInnerContainer},void 0,me(j.Text,{color:"none",variant:"text-sm/normal"},void 0,le.default.Messages.AUDIENCE_DISCONNECT),me(V.default,{
height:24,width:24,className:se.default.leaveQuietlyIcon})))}Pe.displayName="ExitStageButton";var Re=me(G.default,{});function we(e){var t=e.onClick;return me(A.CenterControlButton,{className:(0,o.default)(se.default.audienceButton),label:le.default.Messages.MOVE_ME_TO_AUDIENCE,iconComponent:function(){return Re},onClick:t})}we.displayName="MoveToAudienceButton";var De=a.memo((function(e){var t,n,r=e.channel,u=e.toggleRequestToSpeakSidebar,l=e.showRequestToSpeakSidebar,s=(0,O.default)(r),v=s.suppress,y=s.selfMute,m=s.mute,_=v||y||m,h=(0,Q.useCanModerateRequestToSpeak)(r.id),A=ee.default.useExperiment({guildId:null!==(t=r.getGuildId())&&void 0!==t?t:""}).showVideoControls,N=(0,g.default)(),P=N.cameraUnavailable,w=N.enabled,L=(0,S.default)(r),U=(0,E.default)(r),G=U.limit,F=U.reachedLimit,x=(0,i.useStateFromStores)([D.default],(function(){return D.default.getCurrentUser()})),B=(0,i.useStateFromStores)([R.default],(function(){return(0,p.default)(R.default)})),H=(0,
$.useStageParticipantsCount)(r.id,q.StageChannelParticipantNamedIndex.REQUESTED_TO_SPEAK_ONLY),V=(n=H)<10?16:n<100?22:29;if(null==x)return null;var W=a.createElement(a.Fragment,null,me(k.default,{renderPopout:function(e){var t=e.closePopout;return me(T.default,{},void 0,me(f.default,{onClose:t}))},position:k.default.Positions.TOP,align:k.default.Align.CENTER,animation:k.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return me(M.default,{centerButton:!0,color:w?"white":"primaryDark",hasPermission:L,enabled:w,cameraUnavailable:P,onChange:b.handleToggleVideo,onCameraUnavailable:I.default,channelLimitReached:F,channelLimit:G,popoutOpen:r,onPopoutClick:n})})),me(b.GoLiveButton,{coloring:[b.BaseControlTrayColors.PRIMARY_DARK,b.ActiveControlTrayColors.WHITE],channel:r,currentUser:x,exitFullScreen:function(){return null},canGoLive:B,hasPermission:L}));return me("div",{className:se.default.container},void 0,!v&&me(we,{onClick:function(){return(0,
z.moveSelfToAudience)(r)}}),h&&v&&me(Me,{onClick:function(){return(0,z.audienceAckRequestToSpeak)(r,!1)}}),v?null:me("div",{className:se.default.avControls},void 0,A&&W,me(k.default,{renderPopout:function(e){var t=e.closePopout;return me(T.default,{},void 0,me(d.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0}))},align:k.default.Align.CENTER,position:k.default.Positions.TOP,animation:k.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return me(C.default,{color:_?"white":"primaryDark",centerButton:!0,onPopoutClick:n,selfMute:y,serverMute:m,suppress:v,popoutOpen:r,onClick:function(){return(0,c.default)(m,v)}})}))),h?me("div",{className:(0,o.default)(se.default.speakerRaiseHandButtonContainer,se.default.buttonSpacing)},void 0,H>0?me(Y.default,{mask:Oe[V],width:56,height:56},void 0,me(Ie,{toggleRequestToSpeakSidebar:u,showRequestToSpeakSidebar:l})):me(Ie,{toggleRequestToSpeakSidebar:u,showRequestToSpeakSidebar:l}),H>0?me(j.Text,{
className:se.default.speakerRaiseHandBadge,variant:"text-xs/normal",style:{width:V}},void 0,H>=100?"99+":H):null):null,me(Ae,{channel:r}),me(Pe,{channel:r}))}));function Le(e){var t=e.channel;return me("div",{className:se.default.container},void 0,me(Pe,{channel:t}))}Le.displayName="StartStageControlTray";var ke=a.memo((function(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,r=e.showRequestToSpeakSidebar,a=e.isOnStartStageScreen,o=(0,ne.default)(t.id),u=(0,Q.useCanModerateRequestToSpeak)(t.id),l=(0,i.useStateFromStores)([w.default],(function(){return w.default.can(X.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),d=t.guild_id,f=(0,v.useCanCreateEditDeleteEvent)(d,t),c=(0,re.default)(t.id),p=(0,i.useStateFromStores)([s.default],(function(){return null!=t?s.default.getSelectedParticipant(t.id):null})),h=!c&&null==p;return a?me(Le,{channel:t}):o||u?me("div",{className:se.default.containerColumn},void 0,me("div",{className:se.default.eventPrompts},void 0,h?me(m.default,{guildId:d,
channelId:null==t?void 0:t.id}):null,me("div",{className:se.default.separator}),h&&l?me(_.default,{channel:t}):null,me("div",{className:se.default.separator}),h&&f?me(y.default,{guildId:d}):null,me("div",{className:se.default.separator})),me(De,{channel:t,toggleRequestToSpeakSidebar:n,showRequestToSpeakSidebar:r})):me(Se,{channel:t})}));t.default=ke},525339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=c(n(636602)),o=c(n(177230)),i=c(n(423046)),u=c(n(644263)),l=c(n(121441)),s=n(194322),d=n(104144),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var h="STAGE_INVITED_TO_SPEAK_MODAL",g=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];(t=e.call.apply(e,[this].concat(o))||this).handleVoiceStateUpdates=function(e){var t,a=e.voiceStates,o=i.default.getId(),c=null===(t=l.default.getSession())||void 0===t?void 0:t.sessionId,p=a.find((function(e){return e.userId===o&&e.sessionId===c}));if(null!=p){var y=p.channelId;if(null!=y){var _=u.default.getChannel(y);if(null==_?void 0:_.isGuildStageVoice()){var g=(0,d.getAudienceRequestToSpeakState)(p)===d.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;if(null!=_&&g){if((0,s.hasModalOpen)(h))return;(0,s.openModalLazy)(m(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(7025)]).then(n.bind(n,207025));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){
return r.createElement(a,v({},e,{channel:_}))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:h,onCloseRequest:f.NOOP_NULL})}}}else(0,s.hasModalOpen)(h)&&(0,s.closeModal)(h)}};return t}var o=t.prototype;o._initialize=function(){a.default.subscribe(f.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)};o._terminate=function(){a.default.unsubscribe(f.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)};o.__getLocalVars=function(){return{MODAL_KEY:h}};return t}(o.default));t.default=g},586315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=n(753274),o=u(n(237727)),i=u(n(790875));function u(e){return e&&e.__esModule?e:{default:e}}var l=(0,o.default)(i.default.auto,i.default.fade,null!==(r=ResizeObserver)&&void 0!==r?r:a.ResizeObserver);t.default=l},248414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.StageChannelNowPlayingDelegate=void 0
;var r,a=y(n(667294)),o=p(n(342518)),i=p(n(644263)),u=p(n(16941)),l=n(772575),s=y(n(637356)),d=n(13761),f=p(n(217964)),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t,n,r=e.activity,p=(null!==(t=(0,d.unpackStageChannelParty)(r))&&void 0!==t?t:{}).channelId,v=(0,o.default)([f.default],(function(){return f.default.getStageInstanceByChannel(p)}),[p]),y=a.useRef(null),_=a.useCallback((function(){var e=i.default.getChannel(p);null!=e&&s.connectAndOpen(e)}),[p]),h=null!==(n=null==v?void 0:v.topic)&&void 0!==n?n:r.name,g=c.default.Messages.STAGE_CHANNEL_ACTIVITY_FEED_JOIN.format({channel:h});return a.createElement("div",{ref:y},m(u.default,{onClick:_,focusProps:{ringTarget:y}},void 0,m(l.Heading,{variant:"heading-deprecated-14/medium",level:3},void 0,g)))}_.displayName="StageChannelBody";var h=function(){function e(){this.body=_}var t=e.prototype;t.shouldShow=function(e){return(0,d.shouldShowActivity)(e)}
;t.createHeader=function(e){return{subtitle:c.default.Messages.STAGE_CHANNEL_ACTIVITY_FEED_DEFAULT,icon:null}};return e}();t.StageChannelNowPlayingDelegate=h},576989:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(533646)),i=u(n(403800));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=a.memo((function(e){var t=e.channel,n=e.participants,r=e.tileWidth,a=e.selectedParticipant;return s("div",{className:i.default.rowContainer},void 0,n.map((function(e){return e.id===(null==a?void 0:a.id)?null:s(o.default,{channel:t,participant:e,width:r},e.id)})))}));t.default=d},533646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.SPEAKER_TILE_ASPECT_RATIO=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=M(n(441143)),i=n(536211),u=M(n(229132)),l=n(378158),s=n(123516),d=n(433383),f=n(836233),c=M(n(825724)),p=n(747868),v=n(385753),y=M(n(711195)),m=M(n(414068)),_=M(n(607209)),h=M(n(30098)),g=M(n(689389)),E=M(n(387692)),S=M(n(160629)),O=M(n(258079)),b=M(n(226155)),I=M(n(214563)),T=n(770348),A=n(859089),C=M(n(892314));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){
var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}var L=16/9;t.SPEAKER_TILE_ASPECT_RATIO=L;var k=w(I.default,{}),j=function(e){
var t=e.stageParticipant,n=e.rtcParticipant,r=e.channel,o=e.guildId,i=e.user,u=e.width,l=e.isModerator,s=e.onContextMenu,d=e.inPopout,c=a.useContext(f.AccessibilityPreferencesContext).reducedMotion,p=t.blocked,v=t.id;return w(S.default,{preload:null==n?void 0:function(){return(0,y.default)(n.user.id,n.user.getAvatarURL(r.guild_id,80),{guildId:r.guild_id})},renderPopout:function(e){return a.createElement(m.default,D({},e,{guildId:o,channelId:r.id,userId:i.id}))},position:S.default.Positions.RIGHT,spacing:8},void 0,(function(e){return a.createElement(b.default,D({key:v},e,{participant:n,aspectRatio:L,blocked:p,channel:r,className:C.default.tile,inCall:!0,inPopout:d,paused:!1,pulseSpeakingIndicator:!c.enabled,width:u,onClick:function(t,n){return e.onClick(n)},onContextMenu:s}),l&&k)}))};j.displayName="StageVoiceTile";var U=w(I.default,{}),G=function(e){
var t=e.stageParticipant,n=e.rtcParticipant,r=e.channel,o=e.width,l=e.isModerator,d=e.onContextMenu,y=e.inPopout,m=a.useContext(f.AccessibilityPreferencesContext).reducedMotion,S=t.id,O=t.blocked,I=(0,i.useStateFromStoresArray)([_.default],(function(){return _.default.getAllActiveStreams()}),[]),M=(0,i.useStateFromStores)([c.default],(function(){return null!=r?c.default.getSelectedParticipant(r.id):null})),N=a.useCallback((function(e,t){if(e.type===A.ParticipantTypes.STREAM){if(0===I.filter((function(t){return(0,p.encodeStreamKey)(t)===e.id&&t.state!==T.ApplicationStreamStates.ENDED})).length){if(!(0,v.canWatchStream)(r,E.default,h.default,g.default))return;(0,s.watchStream)((0,p.decodeStreamKey)(e.id),{forceMultiple:t.shiftKey})}}(null==M?void 0:M.id)===e.id?u.default.selectParticipant(r.id,null):u.default.selectParticipant(r.id,e.id)}),[I,r,M]);return w(b.default,{participant:n,aspectRatio:L,blocked:O,channel:r,className:C.default.tile,inCall:!0,inPopout:y,onClick:N,onContextMenu:d,
paused:!1,pulseSpeakingIndicator:!m.enabled,width:o},S,l&&U)};G.displayName="StageMediaTile";var F=a.memo((function(e){var t,r=e.participant,u=e.channel,s=e.width,f=(0,d.useAppContext)(),p=u.getGuildId();(0,o.default)(null!=p,"Channel cannot be guildless");var v=r.user,y=(0,i.useStateFromStores)([c.default],(function(){return c.default.getParticipant(u.id,r.id)}),[u.id,r.id]),m=(0,i.useStateFromStores)([O.default],(function(){return O.default.isModerator(v.id,u.id)}),[u.id,v.id]);if(null==y||y.type===A.ParticipantTypes.ACTIVITY)return null;var _=function(e,t){switch(e.type){case A.ParticipantTypes.HIDDEN_STREAM:case A.ParticipantTypes.STREAM:(0,l.openContextMenuLazy)(t,R(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return n.e(96434).then(n.bind(n,596434));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,D({},t,{stream:e.stream,appContext:f,
exitFullscreen:function(){}}))}));case 5:case"end":return t.stop()}}),t)}))),{context:f});return;case A.ParticipantTypes.USER:default:(0,l.openContextMenuLazy)(t,R(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(5814)]).then(n.bind(n,205814));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,D({},e,{user:v,guildId:p,channelId:u.id,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1}))}));case 5:case"end":return e.stop()}}),e)}))),{context:f})}},h=y.type===A.ParticipantTypes.USER&&!(null===(t=y.voiceState)||void 0===t?void 0:t.selfVideo);return a.createElement(a.Fragment,null,w(h?j:G,{stageParticipant:r,rtcParticipant:y,channel:u,guildId:p,user:v,width:s,isModerator:m,onContextMenu:_,inPopout:f===T.AppContext.POPOUT}))}));t.default=F},35997:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.ContinuePrompt=A;t.default=M;I(n(667294));var r,a=n(536211),o=n(668516),i=O(n(176079)),u=O(n(5031)),l=O(n(620859)),s=O(n(473842)),d=O(n(689389)),f=n(772575),c=n(645758),p=O(n(332282)),v=I(n(152731)),y=n(365744),m=O(n(641474)),_=O(n(697160)),h=O(n(991636)),g=n(770348),E=O(n(247001)),S=O(n(910215));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e){var t=e.onClick;return T(i.default,{iconContainerClassName:S.default.continueIconContainer,icon:T(p.default,{className:S.default.continueIcon,height:20,width:20}),color:g.Colors.PRIMARY_DARK_700,title:E.default.Messages.STAGE_CONTINUE_PROMPT_TITLE,description:E.default.Messages.STAGE_CONTINUE_PROMPT_SUBTITLE,onClick:t})}A.displayName="ContinuePrompt";function C(e){var t=e.channel,n=(0,m.default)(t.id),r=n.participants,a=n.usersInSummary;return T("div",{className:S.default.audienceSummary},void 0,T(v.default,{className:S.default.summaryItem,guildId:t.guild_id,users:a,
size:v.Sizes.SIZE_16}),T(c.Text,{variant:"text-sm/normal",color:"header-secondary"},void 0,function(e){if(0===e.length)return"";if(1===e.length)return E.default.Messages.STAGE_AUDIENCE_WAITING_ONE.format({first:e[0].userNick});if(2===e.length)return E.default.Messages.STAGE_AUDIENCE_WAITING_TWO.format({first:e[0].userNick,second:e[1].userNick});var t=e.length-2;return E.default.Messages.STAGE_AUDIENCE_WAITING_MANY.format({first:e[0].userNick,second:e[1].userNick,numOthers:t})}(r)))}C.displayName="AudienceSummary";function M(e){var t=e.channel,n=e.onContinueClick,r=(0,a.useStateFromStores)([d.default],(function(){return d.default.can(y.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),i=t.guild_id,v=(0,o.useCanCreateEditDeleteEvent)(i,t),m=(0,_.default)(t.id);return T("div",{className:S.default.container},void 0,T(h.default,{},void 0,T("div",{className:S.default.iconBackground},void 0,T(p.default,{width:40,height:40,className:S.default.icon}))),T("div",{className:S.default.headerContainer
},void 0,T(f.Heading,{className:S.default.title,variant:"heading-xl/medium",level:3},void 0,E.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR),T(c.Text,{className:S.default.subtitle,variant:"text-sm/normal"},void 0,E.default.Messages.STAGE_START_PROMPT_SUBTITLE)),m?null:T(l.default,{guildId:i,channelId:t.id}),r?T(s.default,{className:S.default.eventPrompt,channel:t}):null,v?T(u.default,{className:S.default.eventPrompt,guildId:i}):null,T("hr",{className:S.default.separator}),T(A,{onClick:n}),T(C,{channel:t}))}M.displayName="StartStageChannelCallView"},357474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=I;var r,a=S(n(667294)),o=n(536211),i=g(n(636602)),u=g(n(229132)),l=n(844784),s=g(n(825724)),d=S(n(8475)),f=g(n(278851)),c=g(n(211136)),p=g(n(308920)),v=n(956506),y=n(864489),m=n(245838),_=n(770348),h=g(n(76034));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function I(e){var t=e.channel,n=e.appContext,r=e.popoutOpen,g=e.popoutWindow,E=e.currentWindow,S=n===_.AppContext.POPOUT,I=a.useRef(null),T=(0,o.useStateFromStoresObject)([s.default],(function(){var e=s.default.getMode(t.id),r=n===_.AppContext.POPOUT;r&&(e=_.ChannelModes.VIDEO);var a=e===_.ChannelModes.VIDEO?s.default.getLayout(t.id,n):_.ChannelLayouts.MINIMUM;r&&a!==_.ChannelLayouts.FULL_SCREEN&&(a=_.ChannelLayouts.NO_CHAT);return{currentLayout:a,mode:e}}),[t,n]),A=T.currentLayout,C=T.mode,M=(0,o.useStateFromStores)([c.default],(function(){return c.default.getVoiceChannelId()===t.id}),[t.id]);a.useEffect((function(){I.current=C}));var N=a.useRef(A),P=a.useMemo((function(){var e=null!=g&&S?g.document:document,t=E.document.getElementById("app-mount");return{currentWindow:E,currentDocument:e,rootNode:t}
}),[g,S,E]),R=P.currentDocument,w=P.rootNode,D=r&&!S,L=C===_.ChannelModes.VIDEO&&M&&!D,k=a.useCallback((function(e,r){if(r!==e){u.default.updateLayout(t.id,r,n);r===_.ChannelLayouts.FULL_SCREEN&&t.isPrivate()&&v.ComponentDispatch.dispatch(_.ComponentActions.TEXTAREA_BLUR)}}),[n,t]),j=a.useCallback((function(e){if(null!=w&&e===_.ChannelLayouts.FULL_SCREEN){k(e,N.current);(0,m.exitFullScreen)((function(e){N.current=e}),R)}}),[R,k,w]),U=a.useCallback((function(e){return function(){if(null!=w)if(e!==_.ChannelLayouts.FULL_SCREEN){N.current=e;k(e,_.ChannelLayouts.FULL_SCREEN);(0,m.requestFullScreen)(w)}else j(e)}}),[k,j,w]);a.useEffect((function(){var e=function(){null!=w&&((0,m.isFullScreen)(w,R)||A!==_.ChannelLayouts.FULL_SCREEN||U(A)())};R.addEventListener(m.FULLSCREEN_CHANGE_EVENT,e);return function(){R.removeEventListener(m.FULLSCREEN_CHANGE_EVENT,e)}}),[R,A,U,w]);a.useEffect((function(){p.default.track(_.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,b({video_layout:S?"popout":A},(0,
l.collectVoiceAnalyticsMetadata)(t.id)));return function(){S&&(0,y.isOSX)()||j(A)}}),[]);a.useEffect((function(){null!=w&&I.current===_.ChannelModes.VIDEO&&C===_.ChannelModes.VOICE&&(0,m.exitFullScreen)(w,R)}),[R,C,I,w]);a.useEffect((function(){!M&&S&&i.default.wait((function(){return d.close(_.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}))}),[M,S]);return L?O(f.default,{themeable:!1,node:w,guestWindow:g,className:h.default.rightTrayIcon,onClick:U(A)}):null}I.displayName="useFullscreenChannelCallButton"},179274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(645758),o=u(n(417184)),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=s(o.default,{width:14,height:14}),f=function(e,t){return s(a.Text,{color:"text-danger",style:{display:"flex",gap:"4px",margin:"8px 0 4px 0",alignItems:"center"},variant:"text-sm/normal"},t,d,e)};f.displayName="warningHook";var c={
getTextInVoiceSendMessageChannelPermissionText:function(e){return e?i.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_TIV_DESCRIPTION_TEXT_DISABLED.format({warningHook:f}):i.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_TEXT},getTextInVoiceReadMessageHistoryChannelPermissionText:function(e){return e?i.default.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_WITH_TIV_DESCRIPTION_TEXT_DISABLED.format({warningHook:f}):i.default.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_TEXT}};t.default=c},55556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(142024)),o=u(n(247001)),i=u(n(771950));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=s("img",{alt:"",src:u(n(742918)).default});function f(e){var t=e.onClickCta,n=e.markAsDismissed;return s(a.default,{header:o.default.Messages.TEXT_IN_VOICE_MODERATOR_COACH_MARK_HEADER,
content:o.default.Messages.TEXT_IN_VOICE_MODERATOR_COACH_MARK_SUBTITLE.format(),asset:s("div",{className:i.default.image},void 0,d),buttonCTA:o.default.Messages.TEXT_IN_VOICE_MODERATOR_COACH_MARK_CTA,onClick:t,secondaryButtonCTA:o.default.Messages.DISMISS,onSecondaryClick:function(){},markAsDismissed:n})}f.displayName="GuildTiVModeratorCoachMark"},965484:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(536211)),a=s(n(636602)),o=s(n(649563)),i=s(n(423046)),u=s(n(644263)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c={init:function(){a.default.subscribe(l.ActionTypes.CHANNEL_DELETE,(function(e){var t=e.channel;if(null!=t.guild_id){var n=u.default.getAllThreadsForParent(t.id);if(n.length>0){r.default.Store.pauseEmittingChanges();try{for(var o,i=d(n);!(o=i()).done;){var s=o.value;a.default.dispatch({type:l.ActionTypes.THREAD_DELETE,channel:s,guildHashes:void 0})}}finally{r.default.Store.resumeEmittingChanges();r.default.Store.emitChanges()}}}}));a.default.subscribe(l.ActionTypes.MESSAGE_CREATE,(function(e){
var t,n,r=e.channelId,a=e.message,l=u.default.getChannel(r);if(a.author.id===i.default.getId()&&(null==l?void 0:l.isActiveThread())){var s=new Date(null!==(t=null===(n=l.threadMetadata)||void 0===n?void 0:n.archiveTimestamp)&&void 0!==t?t:0).getTime();Date.now()-s<5e3&&o.default.resort(l.parent_id)}}))}};t.default=c},84902:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useThreadMemberListSections=function(e,t){(0,o.useStateFromStores)([i.default],(function(){return i.default.getMemberListVersion(e)}));var n=(0,o.useStateFromStores)([i.default],(function(){return i.default.getMemberListSections(e)})),l=r.useMemo((function(){var e=(0,a.default)(t.roles).values().filter((function(e){return e.hoist})).sortBy((function(e){return e.position})).reverse().map((function(e){return e.id})).value();e.push("online","offline");return e}),[t.roles]);return null==n?[]:l.map((function(e){var r,a,o=t.roles[e];return{
label:"online"===e?u.default.Messages.STATUS_ONLINE:"offline"===e?u.default.Messages.STATUS_OFFLINE:o.name,userIds:null!==(r=null===(a=n[e])||void 0===a?void 0:a.userIds)&&void 0!==r?r:[],id:e,roleId:e}}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(496486)),o=n(536211),i=l(n(698099)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},698099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=m(n(496486)),o=m(n(536211)),i=m(n(636602)),u=m(n(644263)),l=m(n(876874)),s=m(n(832721)),d=m(n(788739)),f=m(n(690445)),c=m(n(728429)),p=n(71246),v=m(n(656016)),y=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E={},S=function(){function e(e,t,n){this.guildId=e;this.parentId=t;this.threadId=n;this.version=0;this.sections={};this.allUserIds=new Set}var t=e.prototype;t.rebuild=function(e){var t=this;this.version++;this.sections={};null!=e&&(this.allUserIds=new Set(e));var n=u.default.getChannel(this.parentId);(0,a.default)(Array.from(this.allUserIds)).map((function(e){var r=h(t.calculateNewState(e,n),3);return{userId:e,sectionId:r[0],displayName:r[1],canViewChannel:r[2]}})).sortBy((function(e){return e.userId})).sortBy((function(e){return e.displayName})).forEach((function(e){
t.addUser(e.userId,e.sectionId,e.displayName,e.canViewChannel,!0)}))};t.updateMultipleUserIds=function(e,t){var n=this;if(null!=t&&this.guildId!==t)return!1;if(0===(e=e.filter((function(e){return n.allUserIds.has(e)}))).length)return!1;e.length>50?this.rebuild():e.forEach((function(e){return n.updateUserId(e)}));return!0};t.updateUserId=function(e){if(!this.allUserIds.has(e))return!1;var t=h(this.findOldState(e),3),n=t[0],r=t[1],a=t[2],o=h(this.calculateNewState(e,u.default.getChannel(this.parentId)),3),i=o[0],l=o[1],s=o[2];if(n===i&&r===l&&a===s)return!1;this.removeUserId(e,n);this.addUser(e,i,l,s);return!0};t.addUserId=function(e){var t=h(this.calculateNewState(e,u.default.getChannel(this.parentId)),3),n=t[0],r=t[1],a=t[2];this.addUser(e,n,r,a)};t.removeUserId=function(e,t){this.allUserIds.delete(e);if(null!=t&&this.removeUserIdFromSection(e,t))return!0;for(var n in this.sections)if(this.removeUserIdFromSection(e,n))return!0;return!1};t.addUser=function(e,t,n,r,a){
this.allUserIds.add(e);var o=c.default.getUser(e);if(null!=o&&""!==o.username){t in this.sections||(this.sections[t]={sectionId:t,usersById:{},userIds:[]});var i=this.sections[t];i.usersById[e]={userId:e,displayName:n,canViewChannel:r};if(a)i.userIds.push(e);else{var u=this.findUserIdSortedPosition(i,e,n);i.userIds.splice(u,0,e)}this.version++}};t.findUserIdSortedPosition=function(e,t,n){for(var r=e.userIds,a=e.usersById,o=0;o<r.length;o++){var i=r[o],u=a[i].displayName;if(u===n){if(t<i)return o}else if(null==u){if(null!=n)return o}else if(null!=n&&n<u)return o}return r.length};t.removeUserIdFromSection=function(e,t){var n=this.sections[t];if(null==t)return!1;if(e in n.usersById){delete n.usersById[e];n.userIds=n.userIds.filter((function(t){return t!==e}));this.version++;return!0}return!1};t.findOldState=function(e){for(var t in this.sections){var n=this.sections[t];if(e in n.usersById){var r=n.usersById[e];return[t,r.displayName,r.canViewChannel]}}return[void 0,void 0,!1]}
;t.calculateNewState=function(e,t){var n,r,a=l.default.getMember(this.guildId,e),o=c.default.getUser(e),i=c.default.getCurrentUser(),u=(null==o?void 0:o.id)===(null==i?void 0:i.id)?f.default.getStatus():d.default.getStatus(e,this.guildId),s=null!=o&&null!=t&&v.default.can({permission:y.Permissions.VIEW_CHANNEL,user:o,context:t}),p=u!==y.StatusTypes.OFFLINE&&u!==y.StatusTypes.INVISIBLE&&u!==y.StatusTypes.UNKNOWN?null!==(n=null==a?void 0:a.hoistRoleId)&&void 0!==n?n:"online":"offline",m=null!==(r=null==a?void 0:a.nick)&&void 0!==r?r:null==o?void 0:o.username;return[p,null==m?void 0:m.toLowerCase(),s]};return e}();function O(e){return b(e.user.id)}function b(e){if(null==e)return!1;var t=!1;for(var n in E)E[n].updateUserId(e)&&(t=!0);return t}function I(e){var t=e.guildId,n=!1;for(var r in E)if(E[r].guildId===t){E[r].rebuild();n=!0}return n}var T=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default,l.default,s.default,d.default,f.default,c.default);this.syncWith([s.default],(function(){var e=s.default.getSubscribedThreadIds(),t=!1;for(var n in E)if(!e.has(n)){delete E[n];t=!0}return t}));this.syncWith([f.default],(function(){var e;return b(null===(e=c.default.getCurrentUser())||void 0===e?void 0:e.id)}))};n.getMemberListVersion=function(e){var t;return null===(t=E[e])||void 0===t?void 0:t.version};n.getMemberListSections=function(e){var t;return null===(t=E[e])||void 0===t?void 0:t.sections};n.canUserViewChannel=function(e,t,n){var r,a,o=E[e];if(null==o)return!1;var i=null===(r=o.sections[t])||void 0===r?void 0:r.usersById[n];return null!==(a=null==i?void 0:i.canViewChannel)&&void 0!==a&&a};n.__getLocalVars=function(){return{memberLists:E}};return t}(o.default.Store);T.displayName="ThreadMemberListStore";var A=new T(i.default,((r={})[y.ActionTypes.CONNECTION_OPEN]=function(){E={}
},r[y.ActionTypes.THREAD_MEMBERS_UPDATE]=function(e){if(!(e.id in E))return!1;var t,n;null===(t=e.addedMembers)||void 0===t||t.forEach((function(t){var n=t.userId;return E[e.id].addUserId(n)}));null===(n=e.removedMemberIds)||void 0===n||n.forEach((function(t){return E[e.id].removeUserId(t)}))},r[y.ActionTypes.THREAD_UPDATE]=function(e){var t,n=e.channel;if(!(n.id in E)||!0!==(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived))return!1;delete E[n.id]},r[y.ActionTypes.THREAD_DELETE]=function(e){var t=e.channel;if(!(t.id in E))return!1;delete E[t.id]},r[y.ActionTypes.CHANNEL_UPDATES]=function(e){var t=e.updates,n=new Set(t.map((function(e){return e.channel.id}))),r=!1;for(var a in E)if(n.has(E[a].parentId)){E[a].rebuild();r=!0}return r},r[y.ActionTypes.THREAD_MEMBER_LIST_UPDATE]=function(e){var t=e.threadId,n=e.guildId,r=e.members,a=u.default.getChannel(t),o=null==a?void 0:a.parent_id;if(null!=o){E[t]=new S(n,o,t);E[t].rebuild(r.map((function(e){return e.user_id})))}},
r[y.ActionTypes.USER_UPDATE]=O,r[y.ActionTypes.PRESENCE_UPDATES]=function(e){return e.updates.map((function(e){return b(e.user.id)})).some((function(e){return e}))},r[y.ActionTypes.GUILD_MEMBER_ADD]=O,r[y.ActionTypes.GUILD_MEMBER_UPDATE]=O,r[y.ActionTypes.GUILD_MEMBER_REMOVE]=O,r[y.ActionTypes.PRESENCES_REPLACE]=function(e){var t=e.presences,n=(0,a.default)(t).map((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.id})).filter(p.isNotNullish).uniq().value(),r=!1;for(var o in E)E[o].updateMultipleUserIds(n)&&(r=!0);return r},r[y.ActionTypes.GUILD_MEMBERS_CHUNK]=function(e){var t=e.guildId,n=e.members.map((function(e){return e.user.id})),r=!1;for(var a in E)E[a].updateMultipleUserIds(n,t)&&(r=!0);return r},r[y.ActionTypes.GUILD_ROLE_UPDATE]=I,r[y.ActionTypes.GUILD_ROLE_DELETE]=I,r));t.default=A},861370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=fe
;var r,a=re(n(667294)),o=te(n(294184)),i=n(536211),u=te(n(186705)),l=te(n(55189)),s=te(n(786630)),d=te(n(805918)),f=te(n(235879)),c=te(n(954140)),p=te(n(37039)),v=n(573285),y=n(424527),m=te(n(271180)),_=te(n(907616)),h=te(n(820652)),g=te(n(872134)),E=te(n(58941)),S=te(n(2914)),O=te(n(422207)),b=n(770755),I=n(894826),T=te(n(644263)),A=re(n(687549)),C=te(n(30098)),M=te(n(201292)),N=te(n(689389)),P=te(n(680873)),R=te(n(789446)),w=te(n(16941)),D=n(645758),L=re(n(279950)),k=n(730977),j=n(688388),U=te(n(259530)),G=te(n(82050)),F=te(n(830759)),x=te(n(878556)),B=te(n(582945)),H=n(993442),V=n(682937),W=n(871382),Y=n(247726),K=n(192110),z=te(n(521595)),$=n(682640),q=te(n(387812)),Q=n(770348),X=n(665984),Z=te(n(247001)),J=te(n(271615)),ee=te(n(704586));function te(e){return e&&e.__esModule?e:{default:e}}function ne(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ne=function(e){return e?n:t})(e)}function re(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ne(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function ae(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function oe(){oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return oe.apply(this,arguments)}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value)
;if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var se,de=v.ChatInputTypes.THREAD_CREATION;!function(e){e[e.Empty=0]="Empty";e[e.AutoMod=1]="AutoMod"}(se||(se={}));function fe(e){var t=e.parentChannelId,n=e.parentMessageId,r=e.location,a=(0,i.useStateFromStores)([T.default],(function(){return T.default.getChannel(t)})),o=(0,p.default)(c.default.CREATE_THREAD).AnalyticsLocationProvider;return null==a?null:le(o,{},void 0,le(H.ComponentDispatchGroupProvider,{},void 0,le("section",{"aria-label":Z.default.Messages.CREATE_THREAD,className:J.default.container},void 0,le(d.default,{channel:a,draftType:A.DraftType.FirstThreadMessage}),le(x.default,{toolbar:le(x.default.Icon,{icon:U.default,tooltip:Z.default.Messages.CLOSE,onClick:function(){return(0,$.closeAndClearThreadSidebar)(t)}})},void 0,le(x.default.Icon,{icon:F.default,disabled:!0,"aria-label":Z.default.Messages.THREAD
}),le(x.default.Title,{},void 0,Z.default.Messages.NEW_THREAD)),le(ce,{parentChannel:a,parentMessageId:n,location:r}))))}fe.displayName="CreateThreadSidebar";function ce(e){var t,n=e.parentChannel,r=e.parentMessageId,l=e.location,d=(0,i.useStateFromStores)([f.default],(function(){return f.default.messageGroupSpacing})),c=(0,i.useStateFromStores)([C.default],(function(){return C.default.getGuild(n.guild_id)})),p=(t=a.useContext(H.ComponentDispatchGroupContext),a.useCallback((function(){t.bumpDispatchPriority()}),[t])),v=function(e,t){var n=ie(a.useState({}),2),r=n[0],o=n[1],i=a.useCallback((function(n){o((function(e){return oe({},e,{},n)}));u.default.changeThreadSettings(e.id,oe({},n,{parentMessageId:t}))}),[e.id,t]);return{threadSettings:r,setThreadSettings:o,updateThreadSettings:i}}(n,r),m=v.threadSettings,_=v.setThreadSettings,g=v.updateThreadSettings,E=function(e,t){var n=ie(a.useState((0,y.createEmptyState)()),2),r=n[0],o=n[1];a.useEffect((function(){function n(n){
var r,a=A.default.getDraft(e.id,A.DraftType.FirstThreadMessage);0!==a.length&&!0!==n||o((0,y.createState)(a));t(null!==(r=A.default.getThreadSettings(e.id))&&void 0!==r?r:{})}n(!0);A.default.addChangeListener(n);return function(){A.default.removeChangeListener(n)}}),[e.id,t]);return{textAreaState:r,setTextAreaState:o}}(n,_),S=E.textAreaState,I=E.setTextAreaState,T=(0,K.usePrivateThreadMode)(n),M=function(e){var t=e.parentChannel,n=e.parentMessageId,r=e.threadSettings,o=e.privateThreadMode,i=e.textAreaState,u=e.location,l=ie(a.useState(null),2),s=l[0],d=l[1],f=ie(a.useState(null),2),c=f[0],p=f[1],v=(0,q.default)({parentChannel:t,parentMessageId:n,threadSettings:r,privateThreadMode:o,location:u,onThreadCreated:$.openThreadSidebarForViewing,useDefaultThreadName:!0}),y=a.useCallback(function(){var e,a=(e=regeneratorRuntime.mark((function e(a,o,u){var l,s,f,c,y,m,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==a&&(a=i.textValue);a=a.trim()
;null!=o&&0!==o.length||(o=null===(s=O.default.getStickerPreview(t.id,de.drafts.type))||void 0===s?void 0:s.map((function(e){return e.id})));null!=u&&0!==u.length||(u=P.default.getUploads(t.id,A.DraftType.FirstThreadMessage));f=null!==(l=r.name)&&void 0!==l?l:"";c=null==n&&0===f.length;y=""===a&&(null==o||0===o.length)&&0===u.length;d(c?se.Empty:null);p(y?se.Empty:null);if(!c&&!y){e.next=11;break}return e.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 11:if(null!=n){e.next=18;break}e.next=14;return(0,W.applyChatRestrictions)({content:a,stickers:o,uploads:u,type:de,channel:t});case 14:if(e.sent.valid){e.next=18;break}return e.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 18:e.prev=18;e.next=21;return v(a,o,u);case 21:e.next=28;break;case 23:e.prev=23;e.t0=e.catch(18);(null===(m=e.t0.body)||void 0===m?void 0:m.code)===Q.AbortCodes.AUTOMOD_TITLE_BLOCKED&&d(se.AutoMod);(null===(_=e.t0.body)||void 0===_?void 0:_.code)===Q.AbortCodes.AUTOMOD_MESSAGE_BLOCKED&&p(se.AutoMod)
;return e.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 28:(0,b.clearStickerPreview)(t.id,de.drafts.type);return e.abrupt("return",{shouldClear:!0,shouldRefocus:!1});case 30:case"end":return e.stop()}}),e,null,[[18,23]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ae(o,r,a,i,u,"next",e)}function u(e){ae(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t,n){return a.apply(this,arguments)}}(),[v,i.textValue,r.name,n,t]);return{nameError:s,messageError:c,submit:y}}({parentChannel:n,parentMessageId:r,threadSettings:m,privateThreadMode:T,textAreaState:S,location:l}),N=M.nameError,R=M.messageError,w=M.submit,D=(0,K.getIsPrivate)(m,T)?G.default:F.default;return le("div",{className:J.default.chat,onMouseDown:p,onFocus:p},void 0,le("div",{className:(0,o.default)(J.default.messagesWrapper,"group-spacing-"+d)},void 0,le("form",{onSubmit:function(e){e.preventDefault();w()},className:J.default.form},void 0,le(B.default,{
className:J.default.scroller,fade:!0},void 0,le("div",{className:J.default.scrollerInner},void 0,le(h.default,{channelId:"create-thread-null"},void 0,le("div",{className:ee.default.iconWrapper},void 0,le(D,{className:ee.default.icon})),le(ve,{parentChannel:n,parentMessageId:r,threadSettings:m,updateThreadSettings:g,error:N}),n.type===Q.ChannelTypes.GUILD_TEXT?le(pe,{startedFromMessage:null!=r,threadSettings:m,updateThreadSettings:g,privateThreadMode:T,guild:c}):null),le(me,{parentChannel:n,parentMessageId:r}))),le("div",{className:J.default.submitContainer},void 0,le(ye,{parentChannel:n,textAreaState:S,setTextAreaState:I,submit:w,error:R}),le(s.default,{channel:n,isThreadCreation:!0})))))}ce.displayName="CreateThreadForm";function pe(e){var t=e.startedFromMessage,n=e.threadSettings,r=e.updateThreadSettings,a=e.privateThreadMode,i=e.guild,u=(0,p.default)().analyticsLocations,l=(0,K.getIsPrivate)(n,a),s=null!=i&&!i.hasFeature(Q.GuildFeatures.PRIVATE_THREADS),d=function(e){
e.stopPropagation();e.preventDefault();var t=(0,V.minimumRequiredTierForGuildFeature)(Q.GuildFeatures.PRIVATE_THREADS);null!=i&&null!=t&&(0,E.default)({analyticsLocations:u,analyticsSourceLocation:{section:Q.AnalyticsSections.CREATE_THREAD_SIDEBAR,object:Q.AnalyticsObjects.PRIVATE_THREAD_CHECKBOX},guild:i,perks:(0,X.guildBoostingPerks)()})},f=le("div",{className:J.default.privateThreadFormTitle},void 0,le("span",{className:J.default.privateThreadFormTitleText},void 0,Z.default.Messages.PRIVATE_THREAD),null!=i?le(g.default,{guild:i,guildFeature:Q.GuildFeatures.PRIVATE_THREADS,tooltipPosition:k.TooltipPositions.TOP,className:J.default.privateThreadFeaturePill,onClick:d}):null),c=le(R.default,{className:(0,o.default)(J.default.checkbox),type:R.default.Types.INVERTED,disabled:a===K.PrivateThreadMode.PrivateOnly||a===K.PrivateThreadMode.DisabledWithUpsell,value:l,onChange:function(e,t){return r({isPrivate:t})}},void 0,le(D.Text,{variant:"text-md/normal",color:"none"
},void 0,Z.default.Messages.FORM_THREAD_PRIVATE_THREAD_SECTION_LABEL));return t||a===K.PrivateThreadMode.Disabled?null:le(j.FormSection,{title:f,className:J.default.formSection},void 0,s?le(w.default,{onClick:d},void 0,c):c,l?le(D.Text,{className:J.default.privateThreadDescription,variant:"text-xs/normal",color:"header-secondary"},void 0,Z.default.Messages.FORM_THREAD_PRIVATE_THREAD_DESCRIPTION):null)}function ve(e){var t,n=e.parentChannel,r=e.parentMessageId,a=e.threadSettings,o=e.updateThreadSettings,i=e.error,u=null!==(t=a.name)&&void 0!==t?t:"",s=(0,K.getDefaultThreadName)(n,r),d=null!=r;return le(j.FormSection,{title:Z.default.Messages.THREAD_NAME+(d?" (Optional)":""),className:J.default.formSection},void 0,le(L.default,{value:u,placeholder:""!==s?s:Z.default.Messages.FORM_THREAD_NAME_PLACEHOLDER,maxLength:Q.MAX_CHANNEL_NAME_LENGTH,onChange:function(e){o({name:(0,z.default)(e,!1)});""!==e?l.default.startTyping(n.id):l.default.stopTyping(n.id)},onBlur:function(){var e=(0,
z.default)(u,!0);e!==u&&o({name:e})},error:i===se.AutoMod?Z.default.Messages.FORUM_POST_AUTOMOD_ERROR:i===se.Empty&&0===u.trim().length?Z.default.Messages.FORM_THREAD_NAME_REQUIRED_ERROR:null}))}ve.displayName="ThreadName";function ye(e){var t,n=e.parentChannel,r=e.textAreaState,s=e.setTextAreaState,d=e.submit,f=e.error,c=ie(a.useState(!0),2),p=c[0],v=c[1],y=a.useCallback((function(){return v(!0)}),[]),h=a.useCallback((function(){return v(!1)}),[]),g=a.useCallback((function(e,t,r){u.default.saveDraft(n.id,t,A.DraftType.FirstThreadMessage);s((function(e){""!==t&&e.textValue!==t?l.default.startTyping(n.id):""===t&&l.default.stopTyping(n.id);return{textValue:t,richValue:r}}))}),[n.id,s]),E=a.useCallback((function(e){var t=e.value,n=e.uploads,r=e.stickers;return d(t,r,n)}),[d]);(0,H.useComponentAction)({event:Q.ComponentActions.TEXTAREA_FOCUS,handler:y});(0,H.useComponentAction)({event:Q.ComponentActions.TEXTAREA_BLUR,handler:h});var S=(0,i.useStateFromStores)([N.default],(function(){
return N.default.can(Q.Permissions.ATTACH_FILES,n)})),O=f===se.Empty&&0===r.textValue.trim().length,b=f===se.AutoMod||O;return a.createElement(a.Fragment,null,le(_.default,{channelId:n.id,type:de,canAttachFiles:S}),le("div",{className:J.default.starterMessageError},void 0,le(L.Error,{error:f===se.AutoMod?Z.default.Messages.FORUM_POST_AUTOMOD_ERROR:O?Z.default.Messages.FORM_THREAD_STARTER_MESSAGE_REQUIRED_ERROR:null})),le(m.default,{type:de,channel:n,placeholder:Z.default.Messages.FORM_THREAD_STARTER_MESSAGE_PLACEHOLDER,textValue:r.textValue,richValue:r.richValue,focused:p,className:J.default.channelTextArea,innerClassName:(0,o.default)(J.default.channelTextAreaInner,(t={},t[J.default.channelTextAreaInnerError]=b,t)),onFocus:y,onBlur:h,onChange:g,onSubmit:E,promptToUpload:Y.promptToUpload}))}function me(e){var t=e.parentChannel,n=e.parentMessageId,r=(0,i.useStateFromStores)([M.default],(function(){return null==n?null:M.default.getMessage(t.id,n)})),a=I.MessageDisplayCompact.useSetting()
;return null!=r?le(S.default,{className:J.default.messagePreview,message:r,channel:t,compact:a,renderThreadAccessory:!1}):null}},556250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(496486)),i=n(536211),u=_(n(265851)),l=_(n(160629)),s=n(645758),d=_(n(830759)),f=n(878556),c=_(n(782270)),p=n(566142),v=_(n(39447)),y=_(n(247001)),m=_(n(517831));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(h=function(e){return e?n:t})(e)}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e
}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.channel,n=S(a.useState(!1),2),r=n[0],_=n[1],h=(0,i.useStateFromStores)([c.default],(function(){return o.default.size(c.default.getThreadsForParent(t.guild_id,t.id))})),O=a.useCallback((function(){_(!1)}),[]),b=a.useCallback((function(){r||(0,p.trackThreadBrowserOpened)("Popout");_(!r)}),[r])
;return E(l.default,{animation:l.default.Animation.NONE,position:l.default.Positions.BOTTOM,align:l.default.Align.RIGHT,autoInvert:!1,shouldShow:r,onRequestClose:O,renderPopout:function(){return E(u.default,{},void 0,E(v.default,{className:m.default.browser,channel:t,onClose:O}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(f.Icon,g({},e,{className:m.default.icon,onClick:b,icon:d.default,"aria-label":y.default.Messages.THREADS,tooltip:n?null:y.default.Messages.THREADS,selected:n}),h>0?E(s.Text,{variant:"text-md/normal",color:"interactive-normal",className:m.default.count},void 0,h>=100?"99+":h):null)}))}b.displayName="ThreadBrowserPopout"},73942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=O;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(160629)),i=m(n(91424)),u=m(n(811198)),l=m(n(878556)),s=n(956506),d=n(895431),f=m(n(358751)),c=n(64072),p=n(770348),v=m(n(247001)),y=m(n(353121));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.channel,n=(0,d.useThreadNotificationSetting)(t),r=E(a.useState(!1),2),m=r[0],_=r[1];a.useEffect((function(){var e=function(){return _(!0)};s.ComponentDispatch.subscribe(p.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e);return function(){s.ComponentDispatch.unsubscribe(p.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}}),[]);var S=v.default.Messages.NOTIFICATION_SETTINGS;return h(o.default,{shouldShow:m,animation:o.default.Animation.NONE,position:o.default.Positions.BOTTOM,align:o.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return _(!1)},renderPopout:function(e){return a.createElement(f.default,g({},e,{channel:t,navId:"thread-context",
label:v.default.Messages.THREAD_ACTIONS_MENU_LABEL}))}},void 0,(function(e,t){var r=t.isShown;return a.createElement(l.default.Icon,g({},e,{onClick:function(){return _((function(e){return!e}))},tooltip:r?null:S,icon:n===c.ThreadMemberFlags.NO_MESSAGES?u.default:i.default,foreground:n===c.ThreadMemberFlags.NO_MESSAGES?y.default.strikethrough:null,"aria-label":S,selected:r}))}))}O.displayName="ThreadNotificationSettingsButton"},627900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var r,a=O(n(667294)),o=E(n(691692)),i=E(n(609510)),u=E(n(894630)),l=E(n(783938)),s=E(n(326348)),d=E(n(412649)),f=E(n(730205)),c=E(n(730487)),p=O(n(145122)),v=n(894826),y=E(n(160629)),m=E(n(775803)),_=E(n(878556)),h=n(682640),g=E(n(247001));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return I.apply(this,arguments)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=e.channel,n=T(a.useState(!1),2),r=n[0],o=n[1];function i(){o((function(e){return!e}))}var u=g.default.Messages.MORE;return b(y.default,{shouldShow:r,animation:y.default.Animation.NONE,position:y.default.Positions.BOTTOM,align:y.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return o(!1)},renderPopout:function(e){return a.createElement(M,I({},e,{channel:t}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(_.default.Icon,I({},e,{onClick:i,tooltip:n?null:u,icon:m.default,"aria-label":u,selected:n}))}))}C.displayName="ThreadOverflowMenuButton";function M(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,o.default)(t),y=(0,d.default)(t.id),m=(0,s.default)(t),_=(0,c.default)(t.id),E=(0,i.default)(t),S=(0,u.default)(t,"Toolbar Overflow"),O=(0,l.default)(t),I=(0,f.default)(t),T=v.UseThreadSidebar.useSetting();return b(p.default,{navId:"thread-context",onClose:n,
"aria-label":g.default.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:r},void 0,b(p.MenuGroup,{},void 0,S),b(p.MenuGroup,{},void 0,m,O,y,T?b(p.MenuItem,{id:"open",label:g.default.Messages.OPEN_IN_SPLIT_VIEW,action:function(){(0,h.openThreadSidebarForViewing)(t)}}):null),b(p.MenuGroup,{},void 0,I,a,E),b(p.MenuGroup,{},void 0,_))}M.displayName="OverflowMenu"},621688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=e.channel,r=e.baseChannelId;return a.createElement(a.Fragment,null,n.isForumPost()||!0===(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived)?null:P(b.default,{channel:n}),P(L,{channel:n}),P(S.default.Icon,{icon:h.default,tooltip:A.default.Messages.CLOSE,onClick:function(){return(0,I.closeThreadSidebar)(null!=r?r:n.parent_id)}}))}
;var r,a=N(n(667294)),o=C(n(691692)),i=C(n(609510)),u=C(n(894630)),l=C(n(783938)),s=C(n(326348)),d=C(n(412649)),f=C(n(480864)),c=C(n(233557)),p=C(n(730205)),v=C(n(730487)),y=N(n(145122)),m=n(391869),_=C(n(160629)),h=C(n(259530)),g=C(n(435012)),E=C(n(775803)),S=C(n(878556)),O=n(956506),b=C(n(73942)),I=n(682640),T=n(770348),A=C(n(247001));function C(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}
return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e){var t=e.channel,n=w(a.useState(!1),2),r=n[0],o=n[1];function i(){o((function(e){return!e}))}var u=A.default.Messages.MORE;return P(_.default,{shouldShow:r,animation:_.default.Animation.NONE,position:_.default.Positions.BOTTOM,align:_.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return o(!1)},renderPopout:function(e){return a.createElement(k,R({},e,{channel:t}))}
},void 0,(function(e,t){var n=t.isShown;return a.createElement(S.default.Icon,R({},e,{onClick:i,tooltip:n?null:u,icon:E.default,"aria-label":u,selected:n}))}))}L.displayName="OverflowMenuButton";function k(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,u.default)(t,"Sidebar Overflow"),_=(0,l.default)(t),h=(0,f.default)(t),E=(0,c.default)(t),S=(0,o.default)(t),b=(0,d.default)(t.id),I=(0,s.default)(t),C=(0,i.default)(t),M=(0,v.default)(t.id),N=(0,p.default)(t);function R(){(0,m.transitionToChannel)(t.id)}return P(y.default,{navId:"thread-context",onClose:n,"aria-label":A.default.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:r},void 0,P(y.MenuGroup,{},void 0,a,P(y.MenuItem,{id:"open",label:A.default.Messages.OPEN_IN_FULL_VIEW,action:R})),P(y.MenuGroup,{},void 0,h,E),P(y.MenuGroup,{},void 0,I,_,b),P(y.MenuGroup,{},void 0,P(y.MenuItem,{id:"search",label:A.default.Messages.SEARCH,icon:g.default,action:function(){R();setTimeout((function(){
O.ComponentDispatch.dispatch(T.ComponentActions.FOCUS_SEARCH,{prefillCurrentChannel:!1})}),2e3)}}),P(y.MenuItem,{id:"pins",label:A.default.Messages.PINS,icon:g.default,action:function(){R();O.ComponentDispatch.dispatch(T.ComponentActions.TOGGLE_CHANNEL_PINS)}})),P(y.MenuGroup,{},void 0,N,S,C),P(y.MenuGroup,{},void 0,M))}k.displayName="OverflowMenu"},252283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,r=e.baseChannelId,O=(0,o.useStateFromStores)([v.default],(function(){return v.default.getChannel(t)})),b=(0,o.useStateFromStores)([m.default],(function(){return m.default.getGuild(null==O?void 0:O.getGuildId())})),T=(0,d.default)(O),M=a.useRef(!1);a.useEffect((function(){if(null!=O&&!M.current){M.current=!0;var e=(0,s.collectThreadMetadata)(v.default.getChannel(O.id),!0);(0,s.trackWithMetadata)(g.AnalyticEvents.CHANNEL_OPENED,C({},e,{channel_id:O.id,guild_id:O.guild_id,parent_id:O.parent_id,channel_view:"Split View"}))}
}),[O]);if(null==O||null==b)return null;var N=I(h.default,{channel:O,baseChannelId:r});return a.createElement(a.Fragment,null,I(l.default,{channel:O,draftType:y.DraftType.ChannelMessage}),I(_.default,{toolbar:N,"aria-label":E.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL},void 0,(0,c.renderTitle)({channel:O,channelName:T,guild:b,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,A(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,C({},e,{channel:O}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){null!=O&&(0,p.transitionToChannel)(O.id)}})),I("div",{className:S.default.chat},void 0,I(u.default,{channel:O,guild:b,chatInputType:f.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=O(n(914789)),l=O(n(805918)),s=n(844784),d=O(n(678928)),f=n(573285),c=n(451115),p=n(391869),v=O(n(644263)),y=n(687549),m=O(n(30098)),_=O(n(878556)),h=O(n(621688)),g=n(770348),E=O(n(247001)),S=O(n(974290));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}},387812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.parentChannel,n=e.parentMessageId,a=e.threadSettings,o=e.privateThreadMode,u=e.location,l=e.onThreadCreated,c=e.useDefaultThreadName,p=r.useCallback((function(e,t,n,r){i.default.uploadFiles({channelId:e.id,uploads:t,draftType:d.DraftType.FirstThreadMessage,options:{stickerIds:r},parsedMessage:s.default.parse(e,n)})}),[]);return(0,f.useCreateThreadCommon)({parentChannel:t,parentMessageId:n,threadSettings:a,privateThreadMode:o,location:u,onThreadCreated:l,useDefaultThreadName:c,uploadHandler:p})};t.useCreateForumPost=function(e){var t=e.parentChannel,n=e.guild;var r=(0,l.useForumChannelStore)((function(e){return{name:e.name,appliedTags:e.appliedTags}}),a.default),i=r.name,s=r.appliedTags;return(0,f.useCreateForumPostCommon)({parentChannel:t,name:i,appliedTags:s,upload:function(e,t,r){return new Promise((function(a,i){var l=new u.MultiUploader(e);l.on("error",(function(e,t,r){t!==c.AbortCodes.EXPLICIT_CONTENT||null==n?i({body:r}):o.default.show({
title:p.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,body:p.default.Messages.BOT_GUILD_EXPLICIT_CONTENT.format({name:n.toString()})})}));l.on("complete",(function(e,t){a({body:t})}));l.uploadFiles(r,t)}))}})};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=v(n(193747)),o=v(n(190040)),i=v(n(274710)),u=n(369617),l=n(90926),s=v(n(614293)),d=n(687549),f=n(192110),c=n(770348),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}},
785992:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SPEECH_RATE_INCREMENTS=t.MAX_TTS_LENGTH=void 0;t.MAX_TTS_LENGTH=200;t.SPEECH_RATE_INCREMENTS=[0,.25,.5,.75,1,1.25,1.5,1.75,2,2.25,2.5,2.75,3,3.25,3.5,3.75,4,4.25,4.5,4.75,5,5.25,5.5,5.75,6,6.25,6.5,6.75,7,7.25,7.5,7.75,8,8.25,8.5,8.75,9,9.25,9.5,9.75,10]},340877:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=C(n(636602)),a=A(n(448549)),o=n(678928),i=A(n(86031)),u=n(894826),l=C(n(423046)),s=C(n(502546)),d=C(n(644263)),f=C(n(876874)),c=C(n(30098)),p=C(n(635014)),v=C(n(919935)),y=C(n(290629)),m=C(n(211136)),_=C(n(563621)),h=C(n(871778)),g=C(n(728429)),E=n(43247),S=C(n(91603)),O=n(785992),b=n(770348),I=C(n(247001));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e){return e&&e.__esModule?e:{default:e}}var M=[],N=null,P=null,R=null;function w(e,t,n,r){var a=c.default.getGuild(n),i=e.replace(b.MARKDOWN_SPOILER_REGEXP_GLOBAL,I.default.Messages.SPOILER).replace(/<@!?(\d+)>/g,(function(e,t){var r,a=g.default.getUser(t);return null==a?e:null!==(r=f.default.getNick(n,a.id))&&void 0!==r?r:a.username})).replace(/<@&?(\d+)>/g,(function(e,t){var n=null!=a?a.roles[t]:null;return null!=n&&null!=n.name?n.name:I.default.Messages.MESSAGE_TTS_DELETED_ROLE})).replace(/<#(\d+)>/g,(function(e,t){var n=d.default.getChannel(t);return null==n?e:(0,o.computeChannelName)(n,g.default,y.default)
})).replace(/<a?:(\w+):(\d+)>/g,(function(e,t){return I.default.Messages.EMOJI+" "+t})).replace(/<\/([^\s]+?):(\d+)>/g,(function(e,t){return"/"+t}));return null==r?I.default.Messages.MESSAGE_TTS.format({username:t,body:i}):I.default.Messages.MESSAGE_TTS_REPLY.format({username:t,body:i,replyUsername:r})}function D(){if(!a.supported)return!1;var e=h.default.locale;if(null==R){var t;R=null===(t=window.speechSynthesis)||void 0===t?void 0:t.getVoices()}var n=R.filter((function(t){return t.lang===e||t.lang.slice(0,e.length)===e}));P=n.length>0?n[0]:null}function L(e,t,n,r,o){var i=a.createUtterance(e,n);if(null!==i){null==P&&D();if(t)(0,E.stopSpeaking)();else{var u;null===(u=N)||void 0===u||u.removeEventListener("end",E.stopSpeaking)}i.addEventListener("end",E.stopSpeaking);null!=r&&i.addEventListener("start",r);null!=o&&i.addEventListener("end",o);N=i;a.speakUtterance(i,P)}}function k(e,t,n,r,a){L(e,t,a,(function(){(0,E.speakingMessage)(n,r)}))}function j(e){
L(e.text,e.interrupt,e.maxLength,e.onStart,e.onEnd)}function U(){null!==N&&N.removeEventListener("end",E.stopSpeaking);a.cancelAll();N=null;return!0}function G(e){var t,n,r,a=e.message,o=e.channel,u=a.type===b.MessageTypes.REPLY?i.default.getMessageByReference(a.messageReference):null,l=(null==u?void 0:u.state)===i.ReferencedMessageState.LOADED?null==u||null===(t=u.message)||void 0===t?void 0:t.author:null,s=null!=l?null!==(n=f.default.getNick(o.guild_id,null==l?void 0:l.id))&&void 0!==n?n:l.username:null,d=o.getGuildId(),c=null!==(r=f.default.getNick(d,a.author.id))&&void 0!==r?r:a.author.username;k(w(a.content,c,d,s),!0,o.id,a.id);return!0}function F(e){var t=e.channelId,n=e.message;if(e.optimistic||p.default.isSelfDeaf())return!1;var r=d.default.getChannel(t);if(null==r)return!1
;var a=m.default.getChannelId(),o=s.default.getCurrentSidebarChannelId(a),i=t===a||t===o,c=u.EnableTTSCommand.getSetting()&&n.tts&&i,h=v.default.getTTSType(),g=n.author.id!==l.default.getId()&&(h===b.TTSNotificationTypes.ALL_CHANNELS||h===b.TTSNotificationTypes.SELECTED_CHANNEL&&i);if((c||g)&&!y.default.isBlocked(n.author.id)){var E,S,I;if(M.indexOf(n.id)>=0)return!1;M.unshift(n.id)>10&&M.pop();var T=r.getGuildId();if(null!=T&&_.default.getMutedChannels(T).has(t))return!1;var A=null!==(E=f.default.getNick(T,n.author.id))&&void 0!==E?E:n.author.username,C=n.type===b.MessageTypes.REPLY?null===(S=n.referenced_message)||void 0===S?void 0:S.author:null,N=null!=C?null!==(I=f.default.getNick(T,null==C?void 0:C.id))&&void 0!==I?I:C.username:null;k(w(n.content,A,T,N),!1,r.id,n.id,O.MAX_TTS_LENGTH)}return!1}function x(e){var t=e.id,n=e.channelId,r=S.default.currentMessage;if(null!=r&&t===r.messageId&&n===r.channelId){(0,E.stopSpeaking)();return!0}return!1}function B(){
p.default.isSelfDeaf()&&a.cancelAll()}var H={init:function(){r.default.subscribe(b.ActionTypes.SPEAK_TEXT,j);r.default.subscribe(b.ActionTypes.SPEAK_MESSAGE,G);r.default.subscribe(b.ActionTypes.STOP_SPEAKING,U);r.default.subscribe(b.ActionTypes.MESSAGE_CREATE,F);r.default.subscribe(b.ActionTypes.MESSAGE_DELETE,x);r.default.subscribe(b.ActionTypes.AUDIO_TOGGLE_SELF_DEAF,B);r.default.subscribe(b.ActionTypes.USER_SETTINGS_UPDATE,D);r.default.subscribe(b.ActionTypes.I18N_LOAD_SUCCESS,D)}};t.default=H},142024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CaretPosition=void 0;t.default=y;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=c(n(294184)),u=c(n(956117)),l=n(772575),s=n(645758),d=n(583551),f=c(n(135849));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.CaretPosition=a;!function(e){e.CENTER="caretCenter";e.RIGHT="caretRight"}(a||(t.CaretPosition=a={}));function y(e){
var t,n=e.className,r=e.header,c=e.headerClassName,p=e.content,y=e.buttonCTA,m=e.secondaryButtonCTA,_=e.onClick,h=e.onSecondaryClick,g=e.onComponentMount,E=e.asset,S=e.markAsDismissed,O=e.caretPosition,b=void 0===O?a.CENTER:O;o.useEffect((function(){null==g||g()}),[]);var I=null!=m;return v("div",{className:(0,i.default)(n,f.default.upsellTooltipWrapper,f.default[b])},void 0,E,null==r?null:v(l.Heading,{className:(0,i.default)(c,f.default.upsellTooltipHeader),variant:"heading-md/medium",level:3},void 0,r),v(s.Text,{className:f.default.upsellTooltipText,variant:"text-sm/normal"},void 0,p),v("div",{className:f.default.upsellButtonsContainer},void 0,I?v(u.default,{color:u.default.Colors.BRAND,onClick:function(){null==h||h();null==S||S(d.ContentDismissActionType.SECONDARY)}},void 0,m):null,null==y?null:v(u.default,{className:(0,i.default)((t={},t[f.default.fullWidth]=!I,t)),color:u.default.Colors.BRAND,look:u.default.Looks.INVERTED,onClick:function(e){_(e)
;null==S||S(d.ContentDismissActionType.PRIMARY)}},void 0,y)))}y.displayName="UpsellTooltip";y.CaretPosition=a},418968:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=_(n(667294)),a=y(n(636602)),o=y(n(177230)),i=y(n(200738)),u=y(n(288356)),l=y(n(788739)),s=y(n(290629)),d=y(n(728429)),f=n(194322),c=_(n(308920)),p=n(770348),v=n(673810);function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}var O=null;function b(e){return I.apply(this,arguments)}function I(){return(I=S(regeneratorRuntime.mark((function e(t){var a,o,y,m,_,g,E,b,I,T,A,C,M,N,P,R,w,D,L,k,j,U,G,F,x,B;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A=t.userId,C=t.section,M=t.guildId,N=void 0===M?p.ME:M,P=t.channelId,R=t.friendToken,w=t.autoFocusNote,
D=t.analyticsLocation;if(null!=(L=d.default.getUser(A))){e.next=4;break}return e.abrupt("return");case 4:if(null!=(k=l.default.getPrimaryActivity(A))){j=k.party;U=k.assets;G=null!=k.application_id?u.default.getGame(k.application_id):null}F=l.default.getStatus(A);x=l.default.isMobileOnline(A);B=F;F===p.StatusTypes.ONLINE&&(B=x?p.AnalyticsUserStatusTypes.ONLINE_MOBILE:p.AnalyticsUserStatusTypes.ONLINE_DESKTOP);e.next=12;return(0,f.openModalLazy)(S(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(16972)]).then(n.bind(n,116972));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,h({},e,{user:L,autoFocusNote:w,guildId:N,friendToken:R,initialSection:C}))}));case 5:case"end":return e.stop()}}),e)}))));case 12:O=e.sent;c.default.track(p.AnalyticEvents.OPEN_MODAL,h({type:"Profile Modal",guild_id:N!==p.ME?N:null,channel_id:P,
other_user_id:A,application_id:null!==(a=null==k?void 0:k.application_id)&&void 0!==a?a:null,application_name:null==k?void 0:k.name,sku_id:null!==(o=null===(y=G)||void 0===y?void 0:y.primarySkuId)&&void 0!==o?o:null,is_friend:s.default.isFriend(A),has_images:Boolean(null!==(m=null===(_=U)||void 0===_?void 0:_.large_image)&&void 0!==m?m:null===(g=U)||void 0===g?void 0:g.small_image),party_max:null===(E=j)||void 0===E||null===(b=E.size)||void 0===b?void 0:b[1],party_id:null===(I=j)||void 0===I?void 0:I.id,party_platform:(0,v.isSpotifyParty)(null===(T=j)||void 0===T?void 0:T.id)?p.PlatformTypes.SPOTIFY:null,game_platform:(0,i.default)(k),profile_user_status:B,profile_has_nitro_customization:null!=L.banner},null==D?null:(0,c.expandLocation)(D)));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){null!=O&&(0,f.closeModal)(O);O=null}var A=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.subscribe(p.ActionTypes.USER_PROFILE_MODAL_OPEN,b);a.default.subscribe(p.ActionTypes.USER_PROFILE_MODAL_CLOSE,T)};n._terminate=function(){a.default.unsubscribe(p.ActionTypes.USER_PROFILE_MODAL_OPEN,b);a.default.unsubscribe(p.ActionTypes.USER_PROFILE_MODAL_CLOSE,T)};n.__getLocalVars=function(){return{modalKey:O}};return t}(o.default));t.default=A},142006:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=h(n(294184)),i=n(536211),u=n(483559),l=h(n(257867)),s=h(n(956117)),d=h(n(530250)),f=n(354479),c=n(688388),p=n(3400),v=h(n(582945)),y=n(770348),m=h(n(247001)),_=h(n(634298));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){
var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=E(c.FormDivider,{}),A=E(c.FormDivider,{});function C(e){var t=e.transitionState,r=(0,i.useStateFromStoresObject)([l.default],(function(){return{requiredAction:l.default.getAction()}})).requiredAction,h=b(a.useState(!1),2),g=h[0],S=h[1],I=(0,f.useUID)();function C(){return(C=O(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!0);if(r!==y.UserRequiredActions.AGREEMENTS){e.next=8;break}e.next=4;return(0,u.acceptAgreements)();case 4:t=e.sent;S(t);e.next=13;break;case 8:if(r!==y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT){e.next=13;break}e.next=11;return(0,u.acknowledgeTOSNotification)();case 11:n=e.sent;S(n);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return E(p.ModalRoot,{"aria-labelledby":I,transitionState:t,className:(0,
o.default)(_.default.modal,_.default.specificOverride,"theme-light")},void 0,E("div",{id:I,className:_.default.title},void 0,m.default.Messages.NEW_TERMS_TITLE),T,E(v.default,{},void 0,E(c.FormText,{className:_.default.description},void 0,r===y.UserRequiredActions.AGREEMENTS?m.default.Messages.TERMS_AGREEMENT_DESCRIPTION_1:r===y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT?m.default.Messages.TERMS_ACKNOWLEDGEMENT_DESCRIPTION_1.format({date:y.TOS_AGREEMENT_DUE_BY}):null),E(c.FormText,{className:_.default.description},void 0,r===y.UserRequiredActions.AGREEMENTS?m.default.Messages.TERMS_AGREEMENT_DESCRIPTION_2:r===y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT?m.default.Messages.TERMS_ACKNOWLEDGEMENT_DESCRIPTION_2:null),E(d.default,{className:_.default.container,align:d.default.Align.CENTER,justify:d.default.Justify.CENTER},void 0,E(d.default,{direction:d.default.Direction.VERTICAL},void 0,E("div",{className:_.default.link},void 0,m.default.Messages.TERMS_OF_SERVICE.format({
url:y.MarketingURLs.TERMS})),E("div",{className:_.default.link},void 0,m.default.Messages.PRIVACY_POLICY.format({url:y.MarketingURLs.PRIVACY})),E("div",{className:_.default.link},void 0,m.default.Messages.COMMUNITY_GUIDELINES.format({url:y.MarketingURLs.GUIDELINES})),E("div",{className:_.default.link},void 0,m.default.Messages.BLOG_POST.format({url:y.MarketingURLs.TOS_UPDATE_FEB_2022}))),E("img",{className:_.default.image,alt:"",src:n(31890)}))),A,E("div",{className:_.default.buttonContainer},void 0,E(s.default,{className:_.default.button,submitting:g,onClick:function(){return C.apply(this,arguments)}},void 0,m.default.Messages.GOT_IT)))}C.displayName="UserAgreementsModal"},77670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=_(n(667294)),o=y(n(636602)),i=_(n(403607)),u=y(n(728429)),l=n(378444),s=y(n(749033)),d=n(194322),f=n(42031),c=y(n(142006)),p=n(770348),v=n(478036);function y(e){return e&&e.__esModule?e:{default:e}}function m(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var g="AGREEMENTS_MODAL_KEY",E=h(i.default,{}),S={init:function(){o.default.subscribe(p.ActionTypes.CONNECTION_OPEN,this.handleRequiredAction);o.default.subscribe(p.ActionTypes.USER_REQUIRED_ACTION_UPDATE,this.handleRequiredAction);o.default.subscribe(p.ActionTypes.CURRENT_USER_UPDATE,this.handleCurrentUserUpdate);o.default.subscribe(p.ActionTypes.LOGOUT,this.handleLogout)},handleRequiredAction:function(e){var t=e.requiredAction;if(!f.ProcessArgs.isDisallowPopupsSet())if(null==u.default.getCurrentUser()){(0,l.closeFullScreenLayer)("verification");(0,d.hasModalOpen)(g)&&(0,d.closeModal)(g)}else if(t===p.UserRequiredActions.REQUIRE_CAPTCHA||t===p.UserRequiredActions.REQUIRE_VERIFIED_EMAIL||t===p.UserRequiredActions.REQUIRE_VERIFIED_PHONE)(0,l.openFullScreenLayer)((function(){return E}),{layerKey:"verification",Layer:s.default});else if(t===p.UserRequiredActions.AGREEMENTS||t===p.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT)(0,d.openModal)((function(e){return a.createElement(c.default,e)
}),{modalKey:g,onCloseRequest:v.NOOP_NULL});else if(null==t){(0,l.closeFullScreenLayer)("verification");(0,d.hasModalOpen)(g)&&(0,d.closeModal)(g)}},handleLogout:function(){(0,l.closeFullScreenLayer)("verification")},handleCurrentUserUpdate:function(e){e.user.verified&&(0,d.closeModal)(i.EMAIL_VERIFICATION_MODAL_KEY)}};t.default=S},781900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchEmailSettings=function(){return p.apply(this,arguments)};t.updateEmailSetting=function(e,t){return v.apply(this,arguments)};t.updateMarketingEmailSettings=function(){return y.apply(this,arguments)};var r=n(47354),a=n(377371),o=s(n(636602)),i=s(n(351772)),u=n(969299),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,r,a,o,i){try{
var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}function p(){return(p=c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return i.default.get({url:l.Endpoints.EMAIL_SETTINGS,trackedActionData:{event:r.NetworkActionNames.EMAIL_SETTINGS_FETCH,properties:function(e){var t,n=null==e||null===(t=e.body)||void 0===t?void 0:t.initialized;return(0,a.exact)({initialized:n})}}});case 3:t=e.sent;o.default.dispatch({type:l.ActionTypes.EMAIL_SETTINGS_FETCH_SUCCESS,settings:t.body});e.next=10;break;case 7:e.prev=7;e.t0=e.catch(0);o.default.dispatch({type:l.ActionTypes.EMAIL_SETTINGS_FETCH_FAILURE});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}
function v(){return(v=c(regeneratorRuntime.mark((function e(t,n){var a,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.default.dispatch({type:l.ActionTypes.EMAIL_SETTINGS_UPDATE,updates:(a={},a[t]=n,a)});e.prev=1;e.next=4;return i.default.patch({url:l.Endpoints.EMAIL_SETTINGS,body:{settings:{categories:(u={},u[t]=n,u)}},trackedActionData:{event:r.NetworkActionNames.EMAIL_SETTINGS_UPDATE,properties:{category:t,value:n}}});case 4:s=e.sent;o.default.dispatch({type:l.ActionTypes.EMAIL_SETTINGS_UPDATE_SUCCESS,settings:s.body});e.next=11;break;case 8:e.prev=8;e.t0=e.catch(1);o.default.dispatch({type:l.ActionTypes.EMAIL_SETTINGS_UPDATE_FAILURE});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function y(){return(y=c(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u.MarketingEmailCategories.reduce((function(e,t){var n;return d({},e,((n={})[t]=!1,
n))}),{});o.default.dispatch({type:l.ActionTypes.EMAIL_SETTINGS_UPDATE,updates:t});e.prev=2;e.next=5;return i.default.patch({url:l.Endpoints.EMAIL_SETTINGS,body:{settings:{categories:t}},trackedActionData:{event:r.NetworkActionNames.EMAIL_SETTINGS_UPDATE,properties:{category:"marketing",value:!1}}});case 5:n=e.sent;o.default.dispatch({type:l.ActionTypes.EMAIL_SETTINGS_UPDATE_SUCCESS,settings:n.body});e.next=12;break;case 9:e.prev=9;e.t0=e.catch(2);o.default.dispatch({type:l.ActionTypes.EMAIL_SETTINGS_UPDATE_FAILURE});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}},969299:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MarketingEmailCategories=t.EmailCategoriesList=t.EmailCategories=t.EMAILS_SUBSECTION=void 0;var r,a=(r=n(247001))&&r.__esModule?r:{default:r};var o;t.EMAILS_SUBSECTION="emails";t.EmailCategories=o;!function(e){e.COMMUNICATION="communication";e.SOCIAL="social";e.TIPS="tips"
;e.RECOMMENDATIONS_AND_EVENTS="recommendations_and_events";e.UPDATES_AND_ANNOUNCEMENTS="updates_and_announcements"}(o||(t.EmailCategories=o={}));var i=[o.TIPS,o.RECOMMENDATIONS_AND_EVENTS,o.UPDATES_AND_ANNOUNCEMENTS];t.MarketingEmailCategories=i;var u=[{category:o.COMMUNICATION,label:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION},subLabel:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION_SUBLABEL}},{category:o.SOCIAL,label:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL},subLabel:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL_SUBLABEL}},{category:o.UPDATES_AND_ANNOUNCEMENTS,label:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS},subLabel:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS_SUBLABEL}},{category:o.TIPS,label:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS
},subLabel:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS_SUBLABEL}},{category:o.RECOMMENDATIONS_AND_EVENTS,label:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS},subLabel:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS_SUBLABEL}}];t.EmailCategoriesList=u},421010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}var d={},f=null;function c(){d={};f=null}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getEmailSettings=function(){return{categories:d,initialized:f}};n.__getLocalVars=function(){return{categories:d,initialized:f}};return t}(a.default.Store);p.displayName="EmailSettingsStore";var v=new p(o.default,((r={})[i.ActionTypes.CONNECTION_OPEN]=c,r[i.ActionTypes.LOGOUT]=c,r[i.ActionTypes.EMAIL_SETTINGS_FETCH_SUCCESS]=function(e){var t=e.settings;d=t.categories;f=t.initialized},r[i.ActionTypes.EMAIL_SETTINGS_UPDATE_SUCCESS]=function(e){var t=e.settings;d=t.categories},r[i.ActionTypes.EMAIL_SETTINGS_UPDATE]=function(e){var t=e.updates;d=s({},d,{},t)},r));t.default=v},933411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(213192)),a=d(n(496486)),o=d(n(536211)),i=n(358103),u=d(n(972247)),l=n(324828),s=n(840433);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=(0,r.default)({IMAGE:null,VIDEO:null}),n=o.default.PersistedStore.migrateAndReadStoreState("GIFFavoritesStore",[function(e){return null==e?{favorites:[],
timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e},function(e){return Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}}]).state;return null==n||0===n.favorites.length?[]:n.favorites.map((function(r,a){var o=i.FavoriteGIF.create();o.format=r.format===t.IMAGE?i.GIFType.IMAGE:r.format===t.VIDEO?i.GIFType.VIDEO:i.GIFType.NONE;o.src=r.src;o.width=r.width;o.height=r.height;o.order=n.favorites.length-a+e;return{url:r.url,favorite:o}}))}var v=[{version:2,run:function(e){var t=p(1);if(0===t.length)return!1;null==e.favoriteGifs&&(e.favoriteGifs=i.FavoriteGIFs.create());e.favoriteGifs.gifs={};for(var n,r=f(t);!(n=r()).done;){var a=n.value,o=a.url,u=a.favorite;e.favoriteGifs.gifs[o]=u}e.favoriteGifs.hideTooltip=t.length>2;return!0},cleanup:function(){}},{version:3,run:function(e){var t=o.default.PersistedStore.migrateAndReadStoreState("StickersPersistedStore",[function(e){return null==e||0===Object.keys(e).length?{usageHistory:{},favorites:[]}:e},function(e){
if(null==e||0===Object.keys(e).length)return{usageHistory:{},favorites:[]};null==e.favorites&&(e.favorites=[]);return e}]).state;if(null==t)return!1;var n=!1;if(t.favorites.length>0){e.favoriteStickers=i.FavoriteStickers.create();e.favoriteStickers.stickerIds=a.default.uniq(t.favorites).slice(0,s.MAX_FAVORITES);n=!0}if(a.default.size(t.usageHistory)>0){e.stickerFrecency=i.StickerFrecency.create();e.stickerFrecency.stickers=(0,l.serializeUsageHistory)(t.usageHistory,100);n=!0}return n},cleanup:function(){u.default.remove("StickersPersistedStore")}},{version:4,run:function(e){var t=o.default.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{usageHistory:u.default.get("EmojiUsageHistory")||{}}}]).state;if(null==t)return!1;var n=!1;if(null!=t.favorites&&t.favorites.length>0){e.favoriteEmojis=i.FavoriteEmojis.create();e.favoriteEmojis.emojis=a.default.uniq(t.favorites).slice(0,s.MAX_FAVORITES);n=!0}if(a.default.size(t.usageHistory)>0){
e.emojiFrecency=i.EmojiFrecency.create();e.emojiFrecency.emojis=(0,l.serializeUsageHistory)(t.usageHistory,100);n=!0}return n},cleanup:function(){u.default.remove("EmojiStore");u.default.remove("EmojiUsageHistory");u.default.remove("EmojiDiversitySurrogate")}},{version:6,run:function(e){null==e.favoriteGifs&&(e.favoriteGifs=i.FavoriteGIFs.create());null==e.favoriteGifs.gifs&&(e.favoriteGifs.gifs={});var t=p(1);if(0===t.length)return!1;(0,a.default)(e.favoriteGifs.gifs).values().sortBy("order").forEach((function(e,n){return e.order=t.length+1+n}));for(var n,r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length,o=0,u=f(t);!(n=u()).done;){var l=n.value,d=l.url,c=l.favorite;c.order=t.length-o;o++;if(d in e.favoriteGifs.gifs)e.favoriteGifs.gifs[d].order=c.order;else{var v=i.FavoriteGIF.toBinary(c).length+d.length+7;if(!(r+v>s.MAX_FAVORITE_GIFS_SIZE)){r+=v;e.favoriteGifs.gifs[d]=c}}}r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length;for(;r>s.MAX_FAVORITE_GIFS_SIZE;){var y=0
;for(var m in e.favoriteGifs.gifs){delete e.favoriteGifs.gifs[m];if(++y>=10)break}r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length}return!0},cleanup:function(){}},{version:7,run:function(e){var t=o.default.PersistedStore.migrateAndReadStoreState("ApplicationCommandFrecency",[]).state;if(null==t)return!1;var n=!1;if(a.default.size(t.usageHistory)>0){e.applicationCommandFrecency=i.ApplicationCommandFrecency.create();e.applicationCommandFrecency.applicationCommands=(0,l.serializeUsageHistory)(t.usageHistory,500);n=!0}return n},cleanup:function(){u.default.remove("ApplicationCommandFrecency")}}];t.default=v},409501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=y(n(496486)),a=n(358103),o=y(n(972247)),i=y(n(636602)),u=y(n(290760)),l=y(n(371732)),s=y(n(433385)),d=n(828593),f=y(n(960441)),c=n(324828),p=n(840433),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e)
;return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}var h="lastFrecencySavedTime",g=3e5*Math.random(),E=864e5+Math.floor(36e5*Math.random()),S=null,O=Date.now(),b={init:function(){i.default.subscribe(v.ActionTypes.CONNECTION_OPEN,I);i.default.subscribe(v.ActionTypes.CONNECTION_RESUMED,I);i.default.subscribe(v.ActionTypes.CONNECTION_CLOSED,T);d.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return!1},processProto:function(){M(!0)}});d.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return l.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(l.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){
e.stickerFrecency=a.StickerFrecency.create();e.stickerFrecency.stickers=(0,c.serializeUsageHistory)(l.default.stickerFrecencyWithoutFetchingLatest.usageHistory,100)}}});d.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return s.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(s.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.emojiFrecency=a.EmojiFrecency.create();e.emojiFrecency.emojis=(0,c.serializeUsageHistory)(s.default.emojiFrecencyWithoutFetchingLatest.usageHistory,100)}}});d.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return u.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(u.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){
e.applicationCommandFrecency=a.ApplicationCommandFrecency.create();e.applicationCommandFrecency.applicationCommands=(0,c.serializeUsageHistory)(u.default.getCommandFrecencyWithoutLoadingLatest().usageHistory,500)}}})}};t.default=b;function I(){var e;O=null!==(e=o.default.get(h))&&void 0!==e?e:Date.now();M(!1)}function T(){clearTimeout(S);S=null}function A(){return C.apply(this,arguments)}function C(){return(C=_(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O=Date.now();M(!0);if(f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.next=6;break}if(!(l.default.hasPendingUsage()||s.default.hasPendingUsage()||u.default.hasPendingUsage())){e.next=6;break}e.next=6;return d.FrecencyUserSettingsActionCreators.loadIfNecessary();case 6:r.default.forEach(d.UserSettingsActionCreatorsByType,(function(e){e.markDirtyIfHasPendingChange()}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
function M(e){if(e){O=Date.now();o.default.set(h,O)}null!=S&&clearTimeout(S);var t=Date.now()-O,n=Math.max(g,E-t);S=setTimeout(A,n)}},526774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getSMSBackupDisabledMessage=function(e){if(e.hasFlag(a.UserFlags.STAFF)||e.hasFlag(a.UserFlags.PARTNER))return o.default.Messages.MFA_SMS_DISABLED_PARTNER;if(null==e.email)return o.default.Messages.MFA_SMS_DISABLED_NO_EMAIL;return null};var r,a=n(770348),o=(r=n(247001))&&r.__esModule?r:{default:r}},562497:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=p(n(536211)),a=n(923387),o=n(629015),i=p(n(972247)),u=n(6505),l=p(n(644263)),s=n(925179),d=n(324828),f=n(770348),c=n(198622);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var n=!1;null==e.userContent&&(e.userContent={dismissedContents:new Uint8Array});null==e.userContent.dismissedContents&&(e.userContent.dismissedContents=new Uint8Array);if(!(0,
s.hasBit)(e.userContent.dismissedContents,t)){e.userContent.dismissedContents=(0,s.addBit)(e.userContent.dismissedContents,t);n=!0}return n}function y(e,t,n){return!!u.HotspotStore.hasHiddenHotspot(t)&&v(e,n)}var m=[{version:2,run:function(e){var t,n;!function(e){e.Mentions="Recent Mentions";e.Unreads="Inbox"}(n||(n={}));if(null!=e.inbox)return!1;var r=!1,o=a.InboxSettings.create();e.inbox=o;if(i.default.get("seenInboxTutorial",!1)){o.viewedTutorial=!0;r=!0}var u=i.default.get("recentsButtonTab2");if(null!=u){o.currentTab=u===n.Mentions?a.InboxTab.MENTIONS:a.InboxTab.UNREADS;r=!0}var s=null!==(t=i.default.get("unread-messages-collapsed-channels"))&&void 0!==t?t:{};for(var f in s){var c;if(s[f]){var p=l.default.getChannel(f);if(null!=p){r=!0;(0,d.mutateUserChannelSettings)(e,null!==(c=p.guild_id)&&void 0!==c?c:"0",p.id,(function(e){e.collapsedInInbox=!0}))}}}return r},cleanup:function(){i.default.remove("seenInboxTutorial");i.default.remove("recentsButtonTab2")
;i.default.remove("unread-messages-collapsed-channels")}},{version:3,run:function(e){var t=r.default.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{diversitySurrogate:i.default.get("EmojiDiversitySurrogate")||""}}]).state;if(null==t)return!1;var n=!1;if(null!=t.diversitySurrogate&&""!==t.diversitySurrogate){null==e.textAndImages&&(e.textAndImages=a.TextAndImagesSettings.create());null==e.textAndImages.diversitySurrogate&&(e.textAndImages.diversitySurrogate=o.StringValue.create());e.textAndImages.diversitySurrogate.value=t.diversitySurrogate;n=!0}return n},cleanup:function(){}},{version:4,run:function(e){var t=!1;(!0===i.default.get("HAS_SEEN_HUB_UPSELL")||u.HotspotStore.hasHiddenHotspot(u.HotspotLocations.HUB_SECOND_EMAIL_CONNECTION_UPSELL))&&(t=v(e,a.DismissibleContent.HUB_WAITLIST_UPSELL));return t},cleanup:function(){i.default.remove("HAS_SEEN_HUB_UPSELL")}},{version:5,run:function(e){var t,n,r,u,l,s,d,f=!1
;e.textAndImages=null!==(t=e.textAndImages)&&void 0!==t?t:a.TextAndImagesSettings.create();e.notifications=null!==(n=e.notifications)&&void 0!==n?n:a.NotificationSettings.create();e.privacy=null!==(r=e.privacy)&&void 0!==r?r:a.PrivacySettings.create();e.voiceAndVideo=null!==(u=e.voiceAndVideo)&&void 0!==u?u:a.VoiceAndVideoSettings.create();e.gameLibrary=null!==(l=e.gameLibrary)&&void 0!==l?l:a.GameLibrarySettings.create();e.debug=null!==(s=e.debug)&&void 0!==s?s:a.DebugSettings.create();var c=null!==(d=i.default.get("UserSettingsStore"))&&void 0!==d?d:{};if("boolean"==typeof c.useRichChatTextBox){e.textAndImages.useRichChatInput=o.BoolValue.create({value:c.useRichChatTextBox});f=!0}if("string"==typeof c.renderSpoilers){e.textAndImages.renderSpoilers=o.StringValue.create({value:c.renderSpoilers});f=!0}if("boolean"==typeof c.useThreadSidebar){e.textAndImages.useThreadSidebar=o.BoolValue.create({value:c.useThreadSidebar});f=!0}if("boolean"==typeof c.showInAppNotifications){
e.notifications.showInAppNotifications=o.BoolValue.create({value:c.showInAppNotifications});f=!0}if(c.emojiPickerCollapsedSections instanceof Array){e.textAndImages.emojiPickerCollapsedSections=c.emojiPickerCollapsedSections;f=!0}if(c.stickerPickerCollapsedSections instanceof Array){e.textAndImages.stickerPickerCollapsedSections=c.stickerPickerCollapsedSections;f=!0}if("boolean"==typeof c.viewImageDescriptions){e.textAndImages.viewImageDescriptions=o.BoolValue.create({value:c.viewImageDescriptions});f=!0}if("boolean"==typeof c.showCommandSuggestions){e.textAndImages.showCommandSuggestions=o.BoolValue.create({value:c.showCommandSuggestions});f=!0}if("boolean"==typeof c.alwaysPreviewVideo){e.voiceAndVideo.alwaysPreviewVideo=o.BoolValue.create({value:c.alwaysPreviewVideo});f=!0}if("boolean"==typeof c.notifyFriendsOnGoLive){e.notifications.notifyFriendsOnGoLive=o.BoolValue.create({value:c.notifyFriendsOnGoLive});f=!0}if("boolean"==typeof c.installShortcutDesktop){
e.gameLibrary.installShortcutDesktop=o.BoolValue.create({value:c.installShortcutDesktop});f=!0}if("boolean"==typeof c.installShortcutStartMenu){e.gameLibrary.installShortcutStartMenu=o.BoolValue.create({value:c.installShortcutStartMenu});f=!0}if("boolean"==typeof c.allowActivityPartyPrivacyFriends){e.privacy.allowActivityPartyPrivacyFriends=o.BoolValue.create({value:c.allowActivityPartyPrivacyFriends});f=!0}if("boolean"==typeof c.allowActivityPartyPrivacyVoiceChannel){e.privacy.allowActivityPartyPrivacyVoiceChannel=o.BoolValue.create({value:c.allowActivityPartyPrivacyVoiceChannel});f=!0}if("boolean"==typeof c.rtcPanelShowVoiceStates){e.debug.rtcPanelShowVoiceStates=o.BoolValue.create({value:c.rtcPanelShowVoiceStates});f=!0}return f},cleanup:function(){}},{version:7,run:function(e){return y(e,u.HotspotLocations.APPLICATION_COMMAND_TOOLTIP,a.DismissibleContent.APPLICATION_COMMAND_TOOLTIP)},cleanup:function(){}},{version:8,run:function(e){
return y(e,u.HotspotLocations.CHANNEL_BANNER_MEMBER_LIST_NOTICE,a.DismissibleContent.CHANNELINFO_CHANNELBANNER_NOTICE)},cleanup:function(){}},{version:9,run:function(e){u.HotspotStore.hasHiddenHotspot(u.HotspotLocations.MULTI_ACCOUNT_TOOLTIP)&&i.default.set(c.MULTIACCOUNT_TOOLTIP_SEEN_KEY,"true");return y(e,u.HotspotLocations.MULTI_ACCOUNT_TOOLTIP,a.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP)},cleanup:function(){}},{version:10,run:function(e){var t,n=y(e,u.HotspotLocations.HUB_LINK_CHANNEL_NOTICE,a.DismissibleContent.CHANNEL_NOTICE_HUBLINK),r=null!==(t=i.default.get("channelNotices"))&&void 0!==t?t:{};!1===r[f.ChannelNoticeTypes.INVITE]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_INVITE)&&(n=!0);!1===r[f.ChannelNoticeTypes.QUICKSWITCHER]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER)&&(n=!0);!1===r[f.ChannelNoticeTypes.GUILD_BOOSTING]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION)&&(n=!0);return n},cleanup:function(){i.default.remove("channelNotices")}
},{version:11,run:function(e){var t=!1;y(e,u.HotspotLocations.GUILD_EVENT_UPSELL,a.DismissibleContent.GUILD_HEADER_EVENT_UPSELL)&&(t=!0);y(e,u.HotspotLocations.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS)&&(t=!0);y(e,u.HotspotLocations.ANIMATED_GUILD_BANNER_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_ANIMATED_GUILD_BANNER)&&(t=!0);return t},cleanup:function(){}},{version:12,run:function(e){var t=!1;i.default.get("hideNag")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_DOWNLOAD)&&(t=!0);i.default.get("hideConnectSpotify")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0);i.default.get("hideConnectPlayStation")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0);i.default.get("hideMFASMSNotice")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_MFA_SMS_BACKUP)&&(t=!0);return t},cleanup:function(){i.default.remove("hideNag");i.default.remove("hideConnectSpotify");i.default.remove("hideConnectPlayStation")
;i.default.remove("hideMFASMSNotice")}},{version:13,run:function(e){var t=!1;i.default.get("hidePremiumPromo")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_PROMO)&&(t=!0);i.default.get("hidePremiumTier2TrialEnding")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING)&&(t=!0);i.default.get("hidePremiumReactivateNotice")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_REACTIVATE)&&(t=!0);y(e,u.HotspotLocations.INVITE_SPLASH_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_INVITE_SPLASH)&&(t=!0);return t},cleanup:function(){i.default.remove("hidePremiumPromo");i.default.remove("hidePremiumTier2TrialEnding");i.default.remove("hidePremiumReactivateNotice")}},{version:14,run:function(e){return y(e,u.HotspotLocations.ACTIVITY_BEB_TUTORIAL,a.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK)},cleanup:function(){}},{version:15,run:function(e){return y(e,u.HotspotLocations.NOW_PLAYING_CONSENT_CARD,a.DismissibleContent.NOW_PLAYING_CONSENT_CARD)},cleanup:function(){}},{
version:16,run:function(e){var t=i.default.get("PromotionsPersistedStore");if(null==t)return!1;var n=t._state.lastDismissedOutboundPromotionStartDate;if(null!=n){null==e.userContent&&(e.userContent=a.UserContentSettings.create());if(null==e.userContent.lastDismissedOutboundPromotionStartDate){e.userContent.lastDismissedOutboundPromotionStartDate=o.StringValue.create({value:n});return!0}}return!1},cleanup:function(){}},{version:17,run:function(e){var t=r.default.PersistedStore.migrateAndReadStoreState("ExpressionSuggestionsPersistedStore",null).state;if(null==t)return!1;var n=t.expressionSuggestionsEnabled;if(null!=n){null==e.textAndImages&&(e.textAndImages=a.TextAndImagesSettings.create());if(null==e.textAndImages.expressionSuggestionsEnabled){e.textAndImages.expressionSuggestionsEnabled=o.BoolValue.create({value:n});return!0}}return!1},cleanup:function(){i.default.remove("ExpressionSuggestionsPersistedStore")}},{version:18,run:function(e){var t=!1
;y(e,u.HotspotLocations.GUILD_DELETE_FEEDBACK,a.DismissibleContent.GUILD_DELETE_FEEDBACK)&&(t=!0);y(e,u.HotspotLocations.GUILD_LEAVE_FEEDBACK,a.DismissibleContent.GUILD_LEAVE_FEEDBACK)&&(t=!0);return t},cleanup:function(){}}];t.default=m},278403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getHumanReadableScope=function(e){var t;switch(e){case a.OAuth2Scopes.IDENTIFY:t=o.default.Messages.SCOPE_IDENTIFY;break;case a.OAuth2Scopes.EMAIL:t=o.default.Messages.SCOPE_EMAIL;break;case a.OAuth2Scopes.CONNECTIONS:t=o.default.Messages.SCOPE_CONNECTIONS;break;case a.OAuth2Scopes.GUILDS:t=o.default.Messages.SCOPE_GUILDS;break;case a.OAuth2Scopes.GUILDS_JOIN:t=o.default.Messages.SCOPE_GUILDS_JOIN;break;case a.OAuth2Scopes.GUILDS_MEMBERS_READ:t=o.default.Messages.SCOPE_GUILDS_MEMBERS_READ;break;case a.OAuth2Scopes.GDM_JOIN:t=o.default.Messages.SCOPE_GDM_JOIN;break;case a.OAuth2Scopes.BOT:t=o.default.Messages.SCOPE_BOT;break;case a.OAuth2Scopes.RPC:
t=o.default.Messages.SCOPE_RPC;break;case a.OAuth2Scopes.RPC_NOTIFICATIONS_READ:t=o.default.Messages.SCOPE_RPC_NOTIFICATIONS_READ;break;case a.OAuth2Scopes.RPC_VOICE_WRITE:t=o.default.Messages.SCOPE_RPC_VOICE_WRITE;break;case a.OAuth2Scopes.RPC_VOICE_READ:t=o.default.Messages.SCOPE_RPC_VOICE_READ;break;case a.OAuth2Scopes.RPC_ACTIVITIES_WRITE:t=o.default.Messages.SCOPE_RPC_ACTIVITIES_WRITE;break;case a.OAuth2Scopes.MESSAGES_READ:t=o.default.Messages.SCOPE_MESSAGES_READ;break;case a.OAuth2Scopes.APPLICATIONS_BUILDS_UPLOAD:t=o.default.Messages.SCOPE_APPLICATIONS_BUILDS_UPLOAD;break;case a.OAuth2Scopes.APPLICATIONS_BUILDS_READ:t=o.default.Messages.SCOPE_APPLICATIONS_BUILDS_READ;break;case a.OAuth2Scopes.APPLICATIONS_STORE_UPDATE:t=o.default.Messages.SCOPE_APPLICATIONS_STORE_UPDATE;break;case a.OAuth2Scopes.APPLICATIONS_ENTITLEMENTS:t=o.default.Messages.SCOPE_APPLICATIONS_ENTITLEMENTS;break;case a.OAuth2Scopes.APPLICATIONS_COMMANDS:t=o.default.Messages.SCOPE_APPLICATIONS_COMMANDS;break
;case a.OAuth2Scopes.APPLICATIONS_COMMANDS_UPDATE:t=o.default.Messages.SCOPE_APPLICATIONS_COMMANDS_UPDATE;break;case a.OAuth2Scopes.APPLICATIONS_COMMANDS_PERMISSIONS_UPDATE:t=o.default.Messages.SCOPE_APPLICATIONS_COMMANDS_PERMISSIONS_UPDATE;break;case a.OAuth2Scopes.ACTIVITIES_READ:t=o.default.Messages.SCOPE_ACTIVITIES_READ;break;case a.OAuth2Scopes.ACTIVITIES_WRITE:t=o.default.Messages.SCOPE_ACTIVITIES_WRITE;break;case a.OAuth2Scopes.RELATIONSHIPS_READ:t=o.default.Messages.SCOPE_RELATIONSHIPS_READ;break;default:t=e}return t};var r,a=n(478036),o=(r=n(247001))&&r.__esModule?r:{default:r}},109061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getBestMatches=function(e,t){var n=t.split(/\s+/g).filter((function(e){return""!==e}));if(0===n.length)return e;for(var r,i=[],u=o(e);!(r=u()).done;){for(var l,s=r.value,f=0,c=o(n);!(l=c()).done;){var p=l.value;d(s,p)&&(f+=1)}if(0!==f){null==i[f]&&(i[f]=[]);i[f].push(s)}}return(0,a.default)(i.filter((function(e){
return void 0!==e})).reverse())};t.getEntries=function(e){return Array.from(Object.entries(e)).map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(t,n)||i(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{id:r[0],experiment:r[1]}}))};t.getExperimentDateFromId=s;t.matchesDeep=d;t.sortEntries=function(e){return e.slice().sort((function(e,t){var n=s(e.id),r=s(t.id);if(null!=n&&null!=r){var a=r.localeCompare(n);if(0!==a)return a}return e.experiment.title.localeCompare(t.experiment.title)}))}
;var r,a=(r=n(385564))&&r.__esModule?r:{default:r};function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=/^(\d{4}-\d{1,2})/;function s(e){var t=l.exec(e);return null!=t?t[1]:null}function d(e,t){
if(Array.isArray(e))for(var n,r=o(e);!(n=r()).done;){if(d(n.value,t))return!0}else if("object"==typeof e&&null!==e)for(var a=0,i=Object.values(e);a<i.length;a++){if(d(i[a],t))return!0}else if("string"==typeof e&&e.toLowerCase().includes(t.toLowerCase()))return!0;return!1}},859566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=c(n(496486)),a=c(n(636602)),o=c(n(933411)),i=c(n(562497)),u=c(n(228087)),l=n(828593),s=c(n(960441)),d=n(840433),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}var p={init:function(){u.default[d.UserSettingsTypes.PRELOADED_USER_SETTINGS]=i.default;u.default[d.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS]=o.default;a.default.subscribe(f.ActionTypes.CONNECTION_OPEN,v);a.default.subscribe(f.ActionTypes.USER_SETTINGS_PROTO_ENQUEUE_UPDATE,y);a.default.subscribe(f.ActionTypes.USER_SETTINGS_PROTO_LOAD_IF_NECESSARY,m);a.default.subscribe(f.ActionTypes.APP_STATE_UPDATE,_)}};t.default=p;function v(){
var e=s.default.getFullState(),t=e[d.UserSettingsTypes.PRELOADED_USER_SETTINGS];t.editInfo.triggeredMigrations&&l.PreloadedUserSettingsActionCreators.markDirtyFromMigration(t.proto,t.editInfo.cleanupFuncs);r.default.forEach(l.UserSettingsActionCreatorsByType,(function(t,n){null!=e[Number(n)].editInfo.offlineEditDataVersion&&t.scheduleSaveFromOfflineEdit()}))}function y(e){var t=e.settings,n=t.proto,r=t.type,a=e.delaySeconds,o=e.jitter;l.UserSettingsActionCreatorsByType[r].markDirty(n,{delaySeconds:a,jitter:o})}function m(e){var t=e.settingsType;l.UserSettingsActionCreatorsByType[t].loadIfNecessary()}function _(e){var t=e.state;"inactive"!==t&&"background"!==t||r.default.forEach(l.UserSettingsActionCreatorsByType,(function(e,t){if(null!=s.default.getFullState()[Number(t)].editInfo.timeout){e.logger.log("Triggering persistChanges due to AppStateUpdate");e.persistChanges()}}))}},403074:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.clearAuthSessions=function(){
o.default.dispatch({type:l.ActionTypes.AUTH_SESSIONS_UPDATE,sessions:[]})};t.fetchAuthSessions=function(){return y.apply(this,arguments)};t.logOutSessions=function(e){return m.apply(this,arguments)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=d(n(118915)),o=d(n(636602)),i=n(194322),u=d(n(40856)),l=n(770348),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,u,"next",e)}function u(e){p(o,r,a,i,u,"throw",e)}i(void 0)}))}}function y(){return(y=v(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return a.default.get({url:l.Endpoints.AUTH_SESSIONS});case 2:(null==(n=e.sent)?void 0:n.ok)&&null!=(null===(t=n.body)||void 0===t?void 0:t.user_sessions)&&o.default.dispatch({type:l.ActionTypes.AUTH_SESSIONS_UPDATE,sessions:n.body.user_sessions});return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){
return(m=v(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=7;break}if(0!==t.length){e.next=3;break}return e.abrupt("return");case 3:n=s.default.Messages.AUTH_SESSIONS_LOGOUT_MANY_PASSWORD_MODAL_TITLE.format({sessionCount:t.length});r=s.default.Messages.AUTH_SESSIONS_LOGOUT_MANY_MFA_MODAL_TITLE.format({sessionCount:t.length});e.next=10;break;case 7:n=s.default.Messages.AUTH_SESSIONS_LOGOUT_PASSWORD_MODAL_TITLE;r=s.default.Messages.AUTH_SESSIONS_LOGOUT_MFA_MODAL_TITLE;t=[t];case 10:e.next=12;return _({passwordTitle:n,mfaTitle:r,request:function(e,n){return a.default.post({url:l.Endpoints.AUTH_SESSIONS_LOGOUT,body:{session_ids:t,password:e,code:n}})}});case 12:(null==(i=e.sent)?void 0:i.ok)&&o.default.dispatch({type:l.ActionTypes.AUTH_SESSIONS_LOGGED_OUT,sessionIds:t});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){
var t=e.passwordTitle,a=e.mfaTitle,o=e.request;return new Promise((function(e){(0,i.openModalLazy)(v(regeneratorRuntime.mark((function i(){var l,d;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return Promise.resolve().then(n.bind(n,149342));case 2:l=i.sent;d=l.default;return i.abrupt("return",(function(n){return r.createElement(d,c({},n,{handleSubmit:function(t){(0,u.default)({title:a,actionText:s.default.Messages.NEXT,disallowBackupCodes:!0},(function(e){var n=e.code;return o(t,n)})).then(e);return Promise.resolve()},title:t,actionText:s.default.Messages.NEXT}))}));case 5:case"end":return i.stop()}}),i)}))))}))}},397302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}function s(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return f.apply(this,arguments)}var c=[];function p(){c=[]}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getSessions=function(){return c};n.__getLocalVars=function(){return{sessions:c}};return t}(a.default.Store);v.displayName="AuthSessionsStore";var y=new v(o.default,((r={})[i.ActionTypes.LOGOUT]=p,r[i.ActionTypes.LOGIN_SUCCESS]=p,r[i.ActionTypes.AUTH_SESSIONS_UPDATE]=function(e){var t=e.sessions;c=t.map((function(e){return f({},e,{approx_last_used_time:new Date(e.approx_last_used_time)})}))},r[i.ActionTypes.AUTH_SESSIONS_LOGGED_OUT]=function(e){for(var t,n=e.sessionIds,r=!1,a=function(){var e=t.value,n=c.findIndex((function(t){return t.id_hash===e}));if(n>=0){c.splice(n,1);r=!0}},o=s(n);!(t=o()).done;)a();return r},r));t.default=y},855211:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,
n(373505).createExperiment)({kind:"user",id:"2022-06_auth_sessions_user_settings",label:"Auth Sessions User Settings",defaultConfig:{showSettings:!1},treatments:[{id:1,label:"Show settings",config:{showSettings:!0}}]});t.default=r},860238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.censorEmail=function(e){var t=(o=e.split("@"),i=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(o,i)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name)
;return"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],a=t[1];var o,i;return"*".repeat(r.length)+"@"+a};t.censorPhone=function(e){return""+"*".repeat(e.length-4)+e.slice(-4)};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},730146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(131795)),i=s(n(387316)),u=n(645758),l=s(n(696499));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){
var e,t,n=window.GLOBAL_ENV.RELEASE_CHANNEL,r=null===(e="4bb0c7192f31b346becaac6b03c8eae2e7aa6553")?void 0:e.substring(0,7),s=null===i.default||void 0===i.default?void 0:i.default.remoteApp.getVersion(),d=null===o.default||void 0===o.default||null===(t=o.default.os)||void 0===t?void 0:t.toString(),c=null!=i.default?"("+i.default.os.release+")":null;return f("div",{className:l.default.info},void 0,f(u.Text,{tag:"span",className:l.default.line,variant:"text-xs/normal",color:"text-muted"},void 0,n," ","134587"," ",f("span",{className:l.default.versionHash},void 0,"(",r,")"))," ",null!=s?a.createElement(a.Fragment,null,f(u.Text,{tag:"span",className:l.default.line,variant:"text-xs/normal",color:"text-muted"},void 0,"Host ",s)," "):null,null!=d?f(u.Text,{tag:"span",className:l.default.line,variant:"text-xs/normal",color:"text-muted"},void 0,d," ",c):null)}c.displayName="ClientDebugInfo"},321424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N
;var r,a=S(n(667294)),o=n(536211),i=g(n(740852)),u=g(n(663303)),l=g(n(956117)),s=g(n(530250)),d=n(645758),f=g(n(279950)),c=n(688388),p=n(194322),v=S(n(308920)),y=n(281699),m=n(770348),_=g(n(247001)),h=g(n(219686));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function C(e,t){
C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).state={codeInput:"",submitting:!1,hasError:!1,isPromoCode:!1};t.handleChange=function(e){t.setState({codeInput:e,hasError:!1})};t.handleSubmit=function(){var e=T(regeneratorRuntime.mark((function e(r){var o,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault();if(""!==(o=t.state.codeInput)){e.next=4;break}return e.abrupt("return");case 4:if(null!=(u=(0,y.processGiftCodeInput)(o))){e.next=8;break}t.setState({hasError:!0});return e.abrupt("return");case 8:t.setState({submitting:!0});e.prev=9;e.next=12;return i.default.resolveGiftCode(u);case 12:if(null==(l=e.sent)||null==l.giftCode.promotion){e.next=16;break}t.setState({
isPromoCode:!0});throw new Error("Cannnot redeem promotion code as gift");case 16:v.default.track(m.AnalyticEvents.OPEN_MODAL,{type:"gift_accept",location:b({},t.analyticsLocation,{object:m.AnalyticsObjects.BUTTON_CTA})});(0,p.openModalLazy)(T(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(9199)]).then(n.bind(n,109199));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,b({code:u},e))}));case 5:case"end":return e.stop()}}),e)}))));t.setState({codeInput:""});e.next=24;break;case 21:e.prev=21;e.t0=e.catch(9);t.setState({hasError:!0});case 24:e.prev=24;t.setState({submitting:!1});return e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[9,21,24,27]])})));return function(t){return e.apply(this,arguments)}}();return t}t.prototype.render=function(){
var e=this.props.obscureInput,t=this.state,n=t.codeInput,r=t.submitting,a=t.hasError,o=t.isPromoCode;return O(c.FormSection,{tag:c.FormTitleTags.H1,title:_.default.Messages.GIFT_INVENTORY_REDEEM_CODES},void 0,O(c.FormTitle,{},void 0,_.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMPT),O("form",{onSubmit:this.handleSubmit},void 0,O(s.default,{},void 0,O(f.default,{type:e?"password":"text",value:n,onChange:this.handleChange,placeholder:m.GIFT_CODE_REDEMPTION_PLACEHOLDER,error:!o&&a?_.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_INVALID:null,className:h.default.codeRedemptionInput}),O(l.default,{type:"submit",submitting:r},void 0,_.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_REDEEM))),o?O(d.Text,{className:h.default.errorMessage,variant:"text-sm/normal"},void 0,_.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMOTION.format({promoLink:"https://discord.com/billing/promotions/"+n})):null)};!function(e,t,n){t&&A(e.prototype,t);n&&A(e,n)
;Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"analyticsLocation",get:function(){return b({},this.props.analyticsContext.location,{object:m.AnalyticsObjects.BUTTON_CTA})}}]);return t}(a.Component);M.displayName="CodeRedemption";function N(){var e=a.useContext(v.AnalyticsContext),t=(0,o.useStateFromStores)([u.default],(function(){return u.default.enabled}));return O(M,{analyticsContext:e,obscureInput:t})}N.displayName="ConnectedCodeRedemption"},164697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),o=_(n(294184)),i=_(n(441143)),u=_(n(536211)),l=_(n(728429)),s=_(n(956117)),d=_(n(558402)),f=_(n(530250)),c=n(645758),p=n(194322),v=_(n(950445)),y=_(n(247001)),m=_(n(672103));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var b=S(f.default.Child,{grow:0,shrink:0},void 0,S(v.default,{})),I=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.renderNotice=function(){var e=this.props,t=e.isClaimed,n=e.unclaimedNotice,r=e.unverifiedNotice;return t?null!=r?r:y.default.Messages.NOTICE_UNVERIFIED_ACCOUNT:null!=n?n:y.default.Messages.NOTICE_UNCLAIMED_ACCOUNT};r.renderPrimaryAction=function(){return this.props.isClaimed?this.props.hasEmail?b:S(s.default,{size:s.default.Sizes.MEDIUM,color:s.default.Colors.BRAND,onClick:this.openChangeEmailModal},void 0,y.default.Messages.ADD_EMAIL_SHORT):S(f.default.Child,{grow:0,shrink:0},void 0,S(s.default,{
size:s.default.Sizes.MEDIUM,color:s.default.Colors.BRAND,onClick:this.openClaimAccountModal},void 0,y.default.Messages.CLAIM_ACCOUNT))};r.renderSecondaryAction=function(){return this.props.isClaimed&&this.props.hasEmail?S(f.default.Child,{grow:0,shrink:0},void 0,S(s.default,{color:s.default.Colors.PRIMARY,look:s.default.Looks.LINK,onClick:this.openChangeEmailModal},void 0,y.default.Messages.CHANGE_EMAIL_SHORT)):null};r.openClaimAccountModal=function(){(0,p.openModalLazy)(E(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(41597)]).then(n.bind(n,304388));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))};r.openChangeEmailModal=function(){(0,p.openModalLazy)(E(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:e.next=2;return Promise.all([n.e(40532),n.e(92253)]).then(n.bind(n,592253));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))};r.render=function(){var e=this.props,t=e.className,n=e.isClaimed,r=e.isVerified;return n&&r?null:S(d.default,{className:(0,o.default)(m.default.wrapper,t)},void 0,S(f.default,{align:f.default.Align.CENTER},void 0,S(f.default.Child,{className:m.default.image,grow:0,shrink:0}),S(f.default.Child,{},void 0,S(c.Text,{variant:"text-sm/normal"},void 0,this.renderNotice()),S(f.default,{justify:f.default.Justify.CENTER,className:m.default.content},void 0,this.renderPrimaryAction(),this.renderSecondaryAction()))))};return t}(a.Component);I.displayName="EmailNotice";var T=u.default.connectStores([l.default],(function(){var e=l.default.getCurrentUser();(0,i.default)(null!=e,"EmailNotice: currentUser cannot be undefined");return{isClaimed:e.isClaimed(),isVerified:e.verified,
hasEmail:null!=e.email}}))(I);t.default=T},39122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=D(n(667294)),o=R(n(730381)),i=R(n(536211)),u=n(91817),l=R(n(740852)),s=R(n(819660)),d=R(n(423046)),f=R(n(288356)),c=R(n(202904)),p=R(n(663303)),v=R(n(909584)),y=R(n(399561)),m=R(n(542618)),_=R(n(956117)),h=R(n(16941)),g=D(n(242881)),E=R(n(530250)),S=R(n(562475)),O=R(n(80828)),b=R(n(69405)),I=n(537683),T=n(856384),A=n(281699),C=n(770348),M=n(265517),N=R(n(247001)),P=R(n(801048));function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function L(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,u,"next",e)}function u(e){L(o,r,a,i,u,"throw",e)}i(void 0)}))}}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function U(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;G(e,t)}function G(e,t){G=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return G(e,t)}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(e){var t=e.giftStyle,n=e.shouldAnimate;return F(s.default,{giftStyle:t,className:P.default.seasonalGiftBox,shouldAnimate:n})}x.displayName="SeasonalAnimation";var B=function(e){U(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._copyModeTimeout=new u.Timeout;t.state={copyMode:g.CopyInputModes.DEFAULT};t.handleCopy=function(e){var n=t.props,r=n.giftCode,a=n.sku;(0,A.trackGiftCodeCopy)(r,a);try{(0,T.copy)(e);t.setState({copyMode:g.CopyInputModes.SUCCESS})}catch(e){t.setState({copyMode:g.CopyInputModes.ERROR})}t._copyModeTimeout.start(1e3,(function(){t.setState({
copyMode:g.CopyInputModes.DEFAULT})}))};return t}var n=t.prototype;n.componentWillUnmount=function(){this._copyModeTimeout.stop()};n.handleRevoke=function(e){l.default.revokeGiftCode(e)};n.render=function(){var e=this,t=this.props,n=t.hideCode,r=t.giftCode,i=this.state.copyMode;return F(E.default,{direction:E.default.Direction.VERTICAL,className:P.default.giftCodeRow},void 0,F(g.default,{className:P.default.codeText,value:(0,A.getGiftCodeURL)(r.code),text:this.copyButtonText,mode:i,supportsCopy:T.SUPPORTS_COPY,hideMessage:n?N.default.Messages.GIFT_INVENTORY_HIDDEN:null,onCopy:this.handleCopy,buttonColor:g.default.ButtonColors.BRAND,buttonLook:g.default.ButtonLooks.FILLED}),F("div",{className:P.default.subTextRow},void 0,null!=r.expiresAt?F(a.Fragment,{},void 0,N.default.Messages.GIFT_INVENTORY_EXPIRES_IN.format({hours:r.expiresAt.diff((0,o.default)(),"h")})," ","— "):null,F(h.default,{tag:"a",onClick:function(){return e.handleRevoke(r.code)}},void 0,N.default.Messages.REVOKE)))}
;!function(e,t,n){t&&j(e.prototype,t);n&&j(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"copyButtonText",get:function(){switch(this.state.copyMode){case g.CopyInputModes.SUCCESS:return N.default.Messages.BILLING_GIFT_COPIED;case g.CopyInputModes.ERROR:return N.default.Messages.FAILED;default:return N.default.Messages.COPY}}}]);return t}(a.PureComponent);B.displayName="GiftCodeRow";var H=function(e){U(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._loadedAt=null;t.state={isOpen:!1,isCreating:!1,isHovered:!1};t.handleGenerateGiftCode=function(){var e=k(regeneratorRuntime.mark((function e(n){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.stopPropagation();r=t.props,a=r.skuId,o=r.subscriptionPlanId,i=r.giftStyle;t.setState({isCreating:!0});e.next=5;return l.default.createGiftCode(a,o,i);case 5:t.setState({isCreating:!1,isOpen:!0})
;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.handleToggleOpen=function(){var e=t.props,n=e.skuId,r=e.subscriptionPlanId,a=e.loadedAt,o=!t.state.isOpen;(null==a||null==t._loadedAt||a<t._loadedAt)&&o&&l.default.fetchUserGiftCodesForSKU(n,r);t.setState({isOpen:!t.state.isOpen})};return t}var n=t.prototype;n.componentDidMount=function(){this._loadedAt=Date.now()};n.renderTitle=function(){var e,t=this.props,n=t.sku,r=t.subscriptionPlan,a=t.giftCodeBatchId;e=a===M.BLACK_FRIDAY_2020_GIFT_CODE_BATCH_ID?N.default.Messages.BLACK_FRIDAY_PROMOTION_GIFT_INVENTORY_TITLE:a===M.STICKERS_GIFT_CODE_BATCH_ID&&null!=r?(r.interval===C.SubscriptionIntervalTypes.MONTH?N.default.Messages.STICKERS_GIFT_INVENTORY_TITLE_MONTH:N.default.Messages.STICKERS_GIFT_INVENTORY_TITLE_YEAR).format({skuName:n.name,intervalCount:r.intervalCount
}):null==r?n.name:(r.interval===C.SubscriptionIntervalTypes.MONTH?N.default.Messages.GIFT_INVENTORY_SUBSCRIPTION_MONTHS:N.default.Messages.GIFT_INVENTORY_SUBSCRIPTION_YEARS).format({skuName:n.name,intervalCount:r.intervalCount});return F("div",{className:P.default.gameName},void 0,e)};n.renderGenerateGiftCodeRow=function(){return F(E.default,{justify:E.default.Justify.BETWEEN,align:E.default.Align.CENTER,className:P.default.generateCodeRow},void 0,F("div",{className:P.default.codeText},void 0,N.default.Messages.GIFT_INVENTORY_GENERATE_HELP),F(_.default,{submitting:this.state.isCreating,size:_.default.Sizes.SMALL,color:_.default.Colors.BRAND,onClick:this.handleGenerateGiftCode},void 0,N.default.Messages.GIFT_INVENTORY_GENERATE_LINK))};n.setIsHovered=function(e){this.setState({isHovered:e})};n.render=function(){var e=this,t=this.props,n=t.entitlements,r=t.application,o=t.giftCodes,i=t.className,u=t.sku,l=t.isFetching,s=t.hideCodes,d=t.giftStyle,f=this.state.isOpen;return F(m.default,{
className:i},void 0,F(h.default,{onClick:this.handleToggleOpen,className:P.default.card,onMouseEnter:function(){return e.setIsHovered(!0)},onMouseLeave:function(){return e.setIsHovered(!1)}},void 0,F(m.default.Header,{splashArtURL:r.getSplashURL(512)},void 0,F("div",{className:P.default.cardHeader},void 0,F(E.default,{align:E.default.Align.CENTER},void 0,null!=d?F(x,{giftStyle:d,shouldAnimate:this.state.isHovered}):F(S.default,{game:r,size:S.default.Sizes.MEDIUM,skuId:u.id}),F("div",{className:P.default.headerText},void 0,this.renderTitle(),F("div",{className:P.default.subTextHeader},void 0,N.default.Messages.GIFT_INVENTORY_COPIES.format({copies:n.length})))),F(b.default,{direction:f?b.default.Directions.UP:b.default.Directions.DOWN,className:P.default.expandIcon})))),f?F(m.default.Body,{},void 0,l?F(O.default,{className:P.default.spinner}):F(a.Fragment,{},void 0,o.length<n.length?this.renderGenerateGiftCodeRow():null,o.map((function(e){return F(B,{giftCode:e,sku:u,hideCode:s},e.code)
})))):null)};return t}(a.PureComponent);H.displayName="EntitlementGiftGroupCard";var V=i.default.connectStores([y.default,p.default,c.default,f.default,v.default,d.default],(function(e){var t=e.skuId,n=e.subscriptionPlanId,r=e.giftStyle,a=y.default.get(t);if(null==a)throw new Error("SKU was unavailable while rendering gift.");var o=c.default.getForGifterSKUAndPlan(d.default.getId(),t,n).filter((function(e){return!e.isClaimed})).filter((function(e){return e.giftStyle===r}));return{sku:a,hideCodes:p.default.enabled,isFetching:c.default.getUserGiftCodesFetchingForSKUAndPlan(t,n),loadedAt:c.default.getUserGiftCodesLoadedAtForSKUAndPlan(t,n),application:f.default.getGame(a.applicationId),subscriptionPlan:null!=n?(0,I.getOrFetchSubscriptionPlan)(n):null,giftCodes:o}}))(H);t.default=V},379743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=w(n(294184)),i=w(n(496486)),u=w(n(730381)),l=n(536211),s=w(n(636602)),d=n(851792),f=w(n(226800)),c=w(n(213847)),p=w(n(268389)),v=n(462827),y=n(969082),m=w(n(113781)),_=w(n(288356)),h=w(n(47969)),g=w(n(956117)),E=n(772575),S=w(n(80828)),O=n(645758),b=n(688388),I=w(n(3400)),T=n(35033),A=n(281699),C=w(n(39122)),M=n(770348),N=n(265517),P=w(n(247001)),R=w(n(266958));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(){L=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e){var t,n=e.outboundPromotion,r=e.code,i=e.addClaimedOutboundPromotionCode,l=j(a.useState(!1),2),s=l[0],d=l[1],f=j(a.useState(!1),2),y=f[0],_=f[1],h=function(){return d((function(e){return!e}))},S=(0,c.default)(),b=(0,v.getPromotionImageURL)(n.id,S),A=null!=r,C=A?(0,T.dateFormat)((0,u.default)(n.endDate).add(N.OUTBOUND_PROMOTION_REDEMPTION_EXPIRATION_WINDOW),"LL"):(0,T.dateFormat)((0,
u.default)(n.endDate),"LL");A&&s?t=P.default.Messages.OUTBOUND_PROMOTION_CARD_CLAIMED_EXPANDED_BODY.format({endDate:C,onClickDetails:h}):A&&!s?t=P.default.Messages.OUTBOUND_PROMOTION_CARD_CLAIMED_UNEXPANDED_BODY.format({endDate:C,onClickDetails:h}):!A&&s?t=P.default.Messages.OUTBOUND_PROMOTION_CARD_UNCLAIMED_EXPANDED_BODY.format({endDate:C,onClickDetails:h}):A||s||(t=P.default.Messages.OUTBOUND_PROMOTION_CARD_UNCLAIMED_UNEXPANDED_BODY.format({endDate:C,onClickDetails:h}));var M=A?P.default.Messages.OUTBOUND_PROMOTION_SEE_CODE:P.default.Messages.PROMOTION_CARD_ACTION_CLAIM,w=a.useCallback((function(){return _(!1)}),[]),D=n.outboundTitle,U=n.outboundTermsAndConditions;return a.createElement(a.Fragment,null,k("div",{className:(0,o.default)(R.default.skuCard,R.default.promotionCard)},void 0,k("div",{className:R.default.mainPromotionCardContainer},void 0,k("div",{className:R.default.promotionCardLeftContainer},void 0,k("div",{className:R.default.promotionIcon},void 0,k("img",{alt:"",src:b,
className:R.default.promotionIconImage})),k("div",{},void 0,k(E.Heading,{variant:"heading-md/medium",level:3},void 0,D),k(O.Text,{variant:"text-sm/normal",color:"text-normal",className:R.default.promotionText},void 0,t))),k(g.default,{color:g.default.Colors.BRAND,size:g.default.Sizes.SMALL,onClick:function(){return _(!0)}},void 0,M)),s&&k(O.Text,{className:R.default.promotionLegalese,variant:"text-xs/normal",color:"header-secondary"},void 0,p.default.parse(U,!1,{allowLinks:!0}))),y&&k(I.default,{renderModal:function(e){return a.createElement(m.default,L({},e,{onClose:w,onClaim:i,code:r,outboundPromotion:n}))},onCloseRequest:w}))}var F=function(){var e=(0,l.useStateFromStores)([_.default],(function(){return Boolean(_.default.lastFetched)})),t=(0,l.useStateFromStoresArray)([h.default],(function(){return h.default.getGiftable()})),n=j(i.default.partition(t,(function(e){return null==e.giftCodeBatchId})),2),r=n[0],o=n[1],u=i.default.groupBy(r,(function(e){return(0,
A.makeComboId)(e.skuId,e.subscriptionPlanId,e.giftStyle)})),c=j(a.useState(!1),2),p=c[0],v=c[1];a.useEffect((function(){s.default.wait((function(){(0,d.fetchGiftableEntitlements)().then((function(){return v(!0)}))}))}),[]);var m,g,E,O,I,T,w=(0,y.useOutboundPromotions)(),D=w.promotionsLoaded,L=w.activeOutboundPromotions,U=w.claimedEndedOutboundPromotions,F=w.claimedOutboundPromotionCodeMap,x=w.addClaimedOutboundPromotionCode;function B(){f.default.open(M.UserSettingsSections.PREMIUM)}return e&&p&&D?a.createElement(a.Fragment,null,(g=o.find((function(e){return e.giftCodeBatchId===N.BLACK_FRIDAY_2020_GIFT_CODE_BATCH_ID&&!e.consumed})),E=null!==(m=o.filter((function(e){return e.giftCodeBatchId===N.STICKERS_GIFT_CODE_BATCH_ID&&!e.consumed})))&&void 0!==m?m:[],O=j(i.default.partition(E,(function(e){return e.subscriptionPlanId===M.SubscriptionPlans.PREMIUM_YEAR_TIER_2})),2),I=O[0],T=O[1],k(b.FormSection,{tag:b.FormTitleTags.H1,
title:L.length+U.length>0?P.default.Messages.GIFT_INVENTORY_YOUR_GIFTS:void 0},void 0,U.map((function(e){var t=e.code,n=e.promotion;return k(G,{outboundPromotion:n,code:t,addClaimedOutboundPromotionCode:x},n.id)})),L.map((function(e){return k(G,{outboundPromotion:e,code:F[e.id],addClaimedOutboundPromotionCode:x},e.id)})),null!=g?k(C.default,{className:R.default.skuCard,skuId:g.skuId,subscriptionPlanId:g.subscriptionPlanId,entitlements:[g],giftCodeBatchId:N.BLACK_FRIDAY_2020_GIFT_CODE_BATCH_ID},(0,A.makeComboId)(g.skuId,g.subscriptionPlanId)):null,I.length>0?k(C.default,{className:R.default.skuCard,skuId:I[0].skuId,subscriptionPlanId:I[0].subscriptionPlanId,entitlements:I,giftCodeBatchId:N.STICKERS_GIFT_CODE_BATCH_ID},(0,A.makeComboId)(I[0].skuId,I[0].subscriptionPlanId)):null,T.length>0?k(C.default,{className:R.default.skuCard,skuId:T[0].skuId,subscriptionPlanId:T[0].subscriptionPlanId,entitlements:T,giftCodeBatchId:N.STICKERS_GIFT_CODE_BATCH_ID},(0,
A.makeComboId)(T[0].skuId,T[0].subscriptionPlanId)):null)),k(b.FormSection,{tag:b.FormTitleTags.H1,title:P.default.Messages.GIFT_INVENTORY_GIFTS_YOU_PURCHASED},void 0,0===Object.keys(u).length?k("div",{className:R.default.emptyState},void 0,k("div",{className:R.default.emptyStateImage}),k("h2",{className:R.default.emptyStateHeader},void 0,P.default.Messages.GIFT_INVENTORY_NO_GIFTS),k("p",{className:R.default.emptyStateSubtext},void 0,P.default.Messages.GIFT_INVENTORY_NO_GIFTS_SUBTEXT.format({onClick:B}))):i.default.keys(u).map((function(e){var t=(0,A.parseComboId)(e),n=t.skuId,r=t.subscriptionPlanId,a=t.giftStyle;return k(C.default,{className:R.default.skuCard,skuId:n,subscriptionPlanId:r,entitlements:u[e],giftStyle:a},e)})))):k(S.default,{className:R.default.loading})};t.default=F},243905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(6505),u=n(645758),l=n(730977),s=n(688388),d=v(n(992193)),f=v(n(259530)),c=n(967965),p=v(n(639617));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=m(s.FormDivider,{});function E(e){var t=e.hotspotLocation,n=_((0,o.useStateFromStoresArray)([i.HotspotStore],(function(){return[i.HotspotStore.hasHotspot(t,!0),i.HotspotStore.getHotspotOverride(t)]})),2),r=n[0],u=n[1];return a.createElement(a.Fragment,null,m(s.FormItem,{title:t,className:p.default.hotspotSwitch},void 0,r?m(l.TooltipContainer,{className:p.default.iconContainer,element:"span",text:"Active"},void 0,m(d.default,{className:p.default.checkmark})):m(l.TooltipContainer,{className:p.default.iconContainer,element:"span",text:"Inactive"},void 0,m(f.default,{className:p.default.xmark})),m(c.SingleSelect,{className:p.default.overrideSelect,value:u,options:[{value:void 0,label:"No Override"},{value:!0,label:"Force Active"},{value:!1,label:"Force Inactive"}],onChange:function(e){return null!=e?(0,i.setHotspotOverride)(t,e):(0,i.clearHotspotOverride)(t)}})),g)}function S(e){var t=e.className;return m(s.FormSection,{
title:"Hotspots",tag:s.FormTitleTags.H1,className:t},void 0,m(u.Text,{className:p.default.helpText,tag:"p",variant:"text-sm/normal"},void 0,'All the "hotspots" in app, and their current status. Use the select menu to override them on or off.'),Object.keys(i.HotspotLocations).sort((function(e,t){return e.localeCompare(t)})).map((function(e){return m(E,{hotspotLocation:e},e)})))}S.displayName="HotspotConfiguration"},388988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=R(n(294184)),i=R(n(817673)),u=n(536211),l=n(832635),s=n(856259),d=R(n(954140)),f=R(n(37039)),c=R(n(849209)),p=n(547642),v=R(n(500985)),y=R(n(655205)),m=R(n(314182)),_=R(n(30098)),h=R(n(146771)),g=R(n(151097)),E=R(n(956117)),S=n(645758),O=R(n(279950)),b=R(n(730977)),I=n(688388),T=R(n(588417)),A=n(967965),C=n(770348),M=R(n(598022)),N=R(n(349748)),P=R(n(3066));function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=L(I.FormTitle,{},void 0,"Gift"),G=L(I.FormTitle,{},void 0,"Premium Select Plan"),F=L(I.FormTitle,{},void 0,"Boost"),x=L("div",{},void 0,"No Guild to boost"),B=L(I.FormTitle,{},void 0,L("div",{},void 0,"Standalone: Trial Promotion Redemption"),L(g.default,{href:"https://i.dis.gd/createPromo"},void 0,"How to create promotion")),H=L(I.FormTitle,{},void 0,"Standalone: Gift/Subscription Purchase"),V=L(I.FormTitle,{},void 0,"Creator Revenue"),W=L(I.FormTitle,{},void 0,"Helpers");function Y(){var e=k(a.useState(C.PremiumSubscriptionSKUs.TIER_2),2),t=e[0],n=e[1],r=k((0,u.useStateFromStoresArray)([_.default],(function(){return[_.default.getGuilds()]})),1)[0],g=k((0,u.useStateFromStoresArray)([h.default],(function(){
return[h.default.getPremiumSubscription()]})),1)[0],R=Object.values(r).map((function(e){return{value:e,label:e.name}})),w=k(a.useState(R.length>0?R[0].value:null),2),j=w[0],Y=w[1],K=k(a.useState(""),2),z=K[0],$=K[1],q=k(a.useState({plan_id:C.SubscriptionPlans.PREMIUM_MONTH_TIER_2,gift:"true"}),2),Q=q[0],X=q[1],Z="true"!==Q.gift&&null!=g,J=k(a.useState(R.length>0?R[0].value:null),2),ee=J[0],te=J[1],ne=(0,f.default)(d.default.PAYMENT_FLOW_TEST_PAGE),re=ne.AnalyticsLocationProvider,ae=ne.analyticsLocations;(0,p.useFetchListingsForGuild)(null==ee?void 0:ee.id);var oe=(0,p.useGroupListingsForGuild)(null==ee?void 0:ee.id),ie=a.useMemo((function(){return null==ee?[]:oe.filter((function(e){return null!=e.subscription_listings&&e.subscription_listings.map((function(e){return e.published})).includes(!0)}))}),[oe,ee]);return L(re,{},void 0,L(I.FormSection,{title:"Payment Flow Modals",tag:I.FormTitleTags.H1},void 0,L(I.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)
},void 0,U,L(A.SingleSelect,{value:t,options:[{value:C.PremiumSubscriptionSKUs.TIER_2,label:"nitro"},{value:C.PremiumSubscriptionSKUs.TIER_1,label:"nitro classic"}],onChange:function(e){return n(e)}}),L(m.default,{subscriptionTier:t,isGift:!0,premiumModalAnalyticsLocation:{},className:N.default.button})),L(T.default,{className:M.default.formDivider}),L(I.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)},void 0,G,L(E.default,{onClick:function(){return(0,y.default)({analyticsLocations:ae})}},void 0,"Select Plan")),L(T.default,{className:M.default.formDivider}),L(I.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)},void 0,F,L(A.SingleSelect,{value:j,options:R,onChange:function(e){return Y(e)}}),null!=j?L(c.default,{guild:j,analyticsLocation:{}}):x),L(T.default,{className:M.default.formDivider}),L(I.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)},void 0,B,L(O.default,{placeholder:"Promotion Code",value:z,onChange:function(e){
return $(e)}}),L(b.default,{text:"Need Promotion Code",shouldShow:z.length<1},void 0,(function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return L(E.default,{disabled:z.length<1,onMouseEnter:t,onMouseLeave:n,onClick:function(){window.open(C.Routes.BILLING_PROMOTION_REDEMPTION(z))}},void 0,"Open Link")}))),L(T.default,{className:M.default.formDivider}),L(I.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)},void 0,H,L(A.SingleSelect,{value:Q.plan_id,options:[{value:C.SubscriptionPlans.PREMIUM_MONTH_TIER_1,label:"nitro classic"},{value:C.SubscriptionPlans.PREMIUM_MONTH_TIER_2,label:"nitro"}],onChange:function(e){return X((function(t){return D({},t,{plan_id:e})}))}}),L(A.SingleSelect,{value:Q.gift,options:[{value:"true",label:"Gift"},{value:"false",label:"Not Gift"}],onChange:function(e){return X((function(t){return D({},t,{gift:e})}))}}),L(b.default,{text:"Already subscribed",shouldShow:Z},void 0,(function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return L(E.default,{
onMouseLeave:n,onMouseEnter:t,disabled:Z,onClick:function(){window.open(C.Routes.BILLING_PREMIUM_SUBSCRIBE+"?"+i.default.stringify(D({},Q)))}},void 0,"Open Link")}))),L(T.default,{className:M.default.formDivider}),L(I.FormItem,{className:(0,o.default)(P.default.flex,P.default.alignCenter,M.default.formItem)},void 0,V,L(S.Text,{className:M.default.guildServerDescription,variant:"text-sm/normal"},void 0,"Premium Server Subscription For"),L(A.SingleSelect,{value:ee,options:R,onChange:function(e){return te(e)}})),null!=ee?L("div",{className:(0,o.default)(M.default.groupListings,P.default.flex)},void 0,ie.map((function(e){return e.subscription_listings_ids.map((function(t){return L(v.default,{guildId:ee.id,groupListingId:e.id,listingId:t},t)}))}))):null,L(T.default,{className:M.default.formDivider}),L(I.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)},void 0,W,L(E.default,{onClick:function(){return(0,s.resetSubscriptionPlanData)()}
},void 0,"Reset SubscriptionPlanStore"),L(E.default,{onClick:function(){return(0,l.resetSubscriptionStore)()}},void 0,"Reset SubscriptionStore"))))}Y.displayName="PaymentFlowModalTestPage";var K=Y;t.default=K},950445:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(441143)),i=y(n(536211)),u=y(n(939949)),l=y(n(88509)),s=y(n(728429)),d=y(n(956117)),f=n(645758),c=y(n(502197)),p=n(194322),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={isSendingVerificationEmail:!1};t.handleResendVerification=function(){var e=t.props,n=e.currentUser,r=e.onClick;null==r||r();t.setState({isSendingVerificationEmail:!0},(function(){u.default.verifyResend().then((function(){return(0,p.openModal)((function(e){return a.createElement(c.default,_({header:v.default.Messages.VERIFICATION_EMAIL_TITLE,confirmText:v.default.Messages.OKAY,confirmButtonColor:d.default.Colors.BRAND},e),h(f.Text,{variant:"text-md/normal"},void 0,v.default.Messages.VERIFICATION_EMAIL_BODY.format({email:n.email})))}))})).catch((function(e){var t=e.body,n=v.default.Messages.VERIFICATION_EMAIL_ERROR_BODY;null!=t&&t.email&&(n=t.email);(0,p.openModal)((function(e){return a.createElement(l.default,_({title:v.default.Messages.VERIFICATION_EMAIL_ERROR_TITLE,body:n},e))}))})).then((function(){return t.setState({isSendingVerificationEmail:!1})}))}))}
;return t}t.prototype.render=function(){var e=this.props,t=e.color,n=e.look,r=e.size;return h(d.default,{look:n,size:r,color:t,disabled:this.state.isSendingVerificationEmail,onClick:this.handleResendVerification},void 0,v.default.Messages.RESEND_VERIFICATION_EMAIL)};return t}(a.Component);E.displayName="ResendEmailVerificationButton";E.defaultProps={size:d.default.Sizes.MEDIUM,color:d.default.Colors.BRAND};var S=i.default.connectStores([s.default],(function(){var e=s.default.getCurrentUser();(0,o.default)(null!=e,"ResendEmailVerificationButton: currentUser cannot be undefined");return{currentUser:e}}))(E);t.default=S},815780:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(805764)),o=f(n(151097)),i=f(n(877622)),u=f(n(170331)),l=f(n(637853)),s=n(770348),d=f(n(126436));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v={offset:{top:-8}};function y(){return p("div",{
className:d.default.socialLinks},void 0,p(o.default,{target:"_blank",tabIndex:-1,rel:"author",title:"Twitter",href:(0,a.default)(s.LocalizedLinks.TWITTER),className:d.default.link,focusProps:v},void 0,p(l.default,{foreground:d.default.foreground,"aria-hidden":!0})),p(o.default,{target:"_blank",rel:"author",title:"Facebook",tabIndex:-1,href:s.SOCIAL_LINKS.FACEBOOK_URL,className:d.default.link,focusProps:v},void 0,p(i.default,{foreground:d.default.foreground,"aria-hidden":!0})),p(o.default,{target:"_blank",rel:"author",title:"Instagram",tabIndex:-1,href:s.SOCIAL_LINKS.INSTAGRAM_URL,className:d.default.link,focusProps:v},void 0,p(u.default,{foreground:d.default.foreground,"aria-hidden":!0})))}y.displayName="SocialLinks"},825541:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w
;var r,a,o=T(n(667294)),i=n(536211),u=b(n(636602)),l=T(n(446637)),s=b(n(525917)),d=b(n(424099)),f=b(n(956117)),c=b(n(530250)),p=b(n(682473)),v=b(n(279950)),y=n(354479),m=n(688388),_=n(3400),h=n(967965),g=n(770348),E=b(n(247001)),S=b(n(253769)),O=b(n(380203));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,u,"next",e)}function u(e){C(o,r,a,i,u,"throw",e)}i(void 0)}))}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()
}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.LOCALHOST="localhost";e.PROXY="proxy"}(a||(a={}));function R(e,t,n){if(null==e)return null;switch(e){case a.LOCALHOST:return"https://localhost:"+t;case a.PROXY:return(0,s.default)(n)}}function w(e){var t=e.onClose,n=e.transitionState,r=(0,i.useStateFromStoresObject)([d.default],(function(){return{authorizedApplicationId:d.default.testModeApplicationId,
authorizationError:d.default.error,authorizing:d.default.isFetchingAuthorization}})),s=r.authorizedApplicationId,b=r.authorizationError,I=r.authorizing,T=N(o.useState(null!=s?s:""),2),C=T[0],P=T[1],w=N(o.useState("8080"),2),D=w[0],L=w[1],k=N(o.useState(a.LOCALHOST),2),j=k[0],U=k[1],G=(0,y.useUID)(),F=g.SNOWFLAKE_REGEX.test(C);o.useEffect((function(){return function(){return u.default.wait((function(){return l.resetError()}))}}),[]);function x(){return(x=M(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.resetError();n=R(j,D,C);e.next=4;return l.authorizeAndSetTestModeApplication(C,n);case 4:null!=e.sent&&t();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=null!=s&&s===C,H=B?function(){l.reset();P("");U(null)}:function(){return x.apply(this,arguments)};return A(_.ModalRoot,{"aria-labelledby":G,transitionState:n},void 0,A(_.ModalHeader,{justify:c.default.Justify.BETWEEN,separator:!1
},void 0,A(m.FormTitle,{id:G,tag:m.FormTitle.Tags.H1,className:O.default.marginReset},void 0,E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_HEADER),A(_.ModalCloseButton,{onClick:t})),A(_.ModalContent,{className:S.default.modalContent},void 0,A(m.FormText,{className:O.default.marginBottom20,type:m.FormText.Types.DESCRIPTION},void 0,E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_BODY),null==b?null:A(p.default,{className:O.default.marginBottom20},void 0,b),A("form",{onSubmit:function(e){e.preventDefault();H()}},void 0,A(c.default,{direction:c.default.Direction.VERTICAL,align:c.default.Align.START},void 0,A(m.FormItem,{className:S.default.inputWrapper,title:E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PLACEHOLDER,required:!0},void 0,A(v.default,{value:C,maxLength:19,error:F?null:E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_INVALID,onChange:function(e){P(e)},disabled:I})),A(m.FormItem,{className:S.default.inputWrapper,
title:E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_ORIGIN_LABEL},void 0,A(h.SingleSelect,{isDisabled:!F||""===C,value:j,options:[{value:a.LOCALHOST,label:E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_LOCALHOST_OPTION,key:"localhost"},{value:a.PROXY,label:E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PROXY_OPTION,key:"proxy"}],onChange:function(e){U(e)},placeholder:"URL Origin Type"})),j!==a.LOCALHOST?null:A(m.FormItem,{className:S.default.inputWrapper,title:E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PORT_NUMBER_LABEL,required:!0},void 0,A(v.default,{value:D,maxLength:5,onChange:function(e){return L(e)},disabled:I})),A(f.default,{submitting:I,type:"submit",disabled:!F||0===C.length||j===a.LOCALHOST&&0===D.length,color:B?f.default.Colors.RED:f.default.Colors.GREEN},void 0,B?E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_CLEAR:E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_ACTIVATE)))))}w.displayName="TextModeModal"},874364:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=L(n(667294)),o=w(n(294184)),i=w(n(441143)),u=w(n(536211)),l=w(n(163521)),s=w(n(498811)),d=w(n(410671)),f=w(n(149342)),c=w(n(54725)),p=n(947472),v=w(n(753304)),y=w(n(728429)),m=w(n(151097)),_=L(n(956117)),h=w(n(789446)),g=w(n(16941)),E=w(n(530250)),S=n(688388),O=n(194322),b=n(856384),I=n(135628),T=n(526774),A=w(n(418082)),C=n(770348),M=n(52656),N=w(n(247001)),P=w(n(177056)),R=w(n(380203));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return k.apply(this,arguments)}function j(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,u,"next",e)}function u(e){j(o,r,a,i,u,"throw",e)}i(void 0)}))}}function G(e,t){G=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return G(e,t)}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(e){var t=e.code,n=t.code,r=t.consumed,o=n.substr(0,4)+"-"+n.substr(4),i=a.useRef(null),u=a.useCallback((function(e){if("c"===e.key&&e.metaKey&&b.SUPPORTS_COPY){var t;e.preventDefault();e.stopPropagation();(0,b.copy)(o);null==i||null===(t=i.current)||void 0===t||t.focus()}}),[o]);return F("li",{className:R.default.marginBottom20},void 0,F(g.default,{innerRef:i,className:P.default.backupCode,onKeyDown:u},void 0,F(h.default,{displayOnly:!0,readOnly:!0,className:P.default.codeCheckbox,value:r},void 0,F("span",{className:P.default.code},void 0,o))))}x.displayName="BackupCodeItem";var B=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;G(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={
revealed:!1,password:""};t.togglePhoneNumberVisibility=function(e){e.preventDefault();t.setState({revealed:!t.state.revealed})};t.handleDisableMFA=function(){l.default.disable()};t.generateBackupCodes=U(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=v.default.getVerificationKey();e.next=3;return l.default.confirmViewBackupCodes(t,!0);case 3:case"end":return e.stop()}}),e)})));t.sendMFABackupCodesVerificationKeyEmail=function(){(0,O.openModal)((function(e){return a.createElement(f.default,k({},e,{handleSubmit:function(e){return l.default.sendMFABackupCodesVerificationKeyEmail(e).then((function(){t.viewBackupCodes(e)}))},title:N.default.Messages.TWO_FA_VIEW_BACKUP_CODES_ENTER_PASSWORD,actionText:N.default.Messages.TWO_FA_BACKUP_CODES_NEXT_ACTION}))}))};t.viewBackupCodes=function(e){(0,O.openModal)((function(t){return a.createElement(d.default,k({},t,{handleSubmit:function(e){
return l.default.confirmViewBackupCodes(e,!1).then((function(){return t.onClose()}))},maxLength:8,title:N.default.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_LABEL,label:N.default.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_INPUT_LABEL,forceNoPlaceholder:!0,retryPrompt:N.default.Messages.TWO_FA_CONFIRM_VIEW_RESEND_EMAIL_PROMPT,retrySuccessMessage:N.default.Messages.TWO_FA_CONFIRM_VIEW_RESEND_EMAIL_SUCCESS,onRetry:function(){return l.default.sendMFABackupCodesVerificationKeyEmail(e)},actionText:N.default.Messages.TWO_FA_VIEW_CODES_SUBMIT,helpMessage:N.default.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_BODY}))}))};t.getDownloadFileContents=function(){var e=t.props.backupCodes.map((function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"(used)":"")})).join("\r\n");return N.default.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:t.props.currentUser.email})+"\r\n\r\n"+e};t.handleChangePhoneNumber=function(){t.openPhoneVerificationModal()}
;t.handleEnableSMS=function(){var e=function(){(0,O.openModal)((function(e){return a.createElement(f.default,k({},e,{handleSubmit:l.default.enableSMS,title:N.default.Messages.MFA_SMS_ENABLE}))}))};null==t.props.currentUser.phone?t.openPhoneVerificationModal({onAddedPhone:e}):e()};t.handleDisableSMS=function(){(0,O.openModal)((function(e){return a.createElement(f.default,k({},e,{handleSubmit:l.default.disableSMS,title:N.default.Messages.MFA_SMS_REMOVE}),N.default.Messages.MFA_SMS_CONFIRM_REMOVE_BODY)}))};return t}var r=t.prototype;r.maskPhoneNumber=function(e){return null==e?"":""+"*".repeat(e.length-4)+e.slice(-4)};r.renderMFASMS=function(){var e,t,n=this.state.revealed,r=this.props,a=r.currentUser,o=r.togglingSMS,i=null!=a.phone,u=a.hasFlag(C.UserFlags.MFA_SMS);if(i||u){var l=n?a.phone:this.maskPhoneNumber(a.phone);t=F(S.FormText,{type:S.FormText.Types.DESCRIPTION,className:R.default.marginBottom8},void 0,N.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:l
}),F(m.default,{onClick:this.togglePhoneNumberVisibility,className:P.default.phoneRevealer},void 0,n?N.default.Messages.MFA_SMS_PHONE_NUMBER_HIDE:N.default.Messages.MFA_SMS_PHONE_NUMBER_REVEAL))}if(u)e=F(E.default,{className:i?"":R.default.marginTop8},void 0,F(_.default,{color:_.default.Colors.RED,look:_.default.Looks.OUTLINED,size:_.default.Sizes.SMALL,submitting:o,onClick:this.handleDisableSMS},void 0,N.default.Messages.MFA_SMS_REMOVE));else{var s=(0,T.getSMSBackupDisabledMessage)(a);e=F(E.default,{className:i?"":R.default.marginTop8},void 0,F(_.default,{onClick:this.handleEnableSMS,size:_.default.Sizes.SMALL,submitting:o,disabled:null!=s},void 0,null!=s?s:N.default.Messages.MFA_SMS_ENABLE),i?F(_.default,{onClick:this.handleChangePhoneNumber,color:_.default.Colors.PRIMARY,size:_.default.Sizes.SMALL,look:_.default.Looks.LINK},void 0,N.default.Messages.CHANGE_PHONE_NUMBER):null)}return F(S.FormSection,{className:R.default.marginTop40,title:N.default.Messages.MFA_SMS_AUTH
},void 0,F(S.FormText,{type:S.FormText.Types.DESCRIPTION},void 0,N.default.Messages.MFA_SMS_AUTH_SALES_PITCH),t,e)};r.renderEnabled=function(){var e,t=this.props.backupCodes,r=F(_.default,{onClick:this.sendMFABackupCodesVerificationKeyEmail,size:_.default.Sizes.SMALL},void 0,N.default.Messages.TWO_FA_VIEW_BACKUP_CODES);if(t.length>0){r=F(s.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt"},void 0,F(_.default,{size:_.default.Sizes.SMALL},void 0,N.default.Messages.TWO_FA_DOWNLOAD_CODES));var a=function(e){return e.map((function(e){return F(x,{code:e},e.code)}))};e=F(S.FormSection,{title:N.default.Messages.TWO_FA_BACKUP_CODES_LABEL},void 0,F(S.FormText,{type:S.FormText.Types.DESCRIPTION,className:R.default.marginBottom20},void 0,N.default.Messages.TWO_FA_BACKUP_CODES_BODY.format()),F(E.default,{},void 0,F(E.default.Child,{},void 0,F("ul",{className:P.default.checkboxGroup
},void 0,a(t.slice(0,t.length/2)))),F(E.default.Child,{},void 0,F("ul",{className:P.default.checkboxGroup},void 0,a(t.slice(t.length/2))))),F("div",{},void 0,F(_.default,{onClick:this.generateBackupCodes,look:_.ButtonLooks.LINK,size:_.ButtonSizes.MIN},void 0,N.default.Messages.TWO_FA_GENERATE_CODES)),F(S.FormDivider,{className:R.default.marginTop20}))}return F(S.FormSection,{},void 0,F(S.FormTitle,{className:(0,o.default)(P.default.isEnabled,R.default.marginTop4,R.default.marginBottom8)},void 0,F("img",{alt:"",className:(0,o.default)(P.default.lockIcon),src:n(392544)}),N.default.Messages.TWO_FA_ENABLED),F(S.FormText,{type:S.FormText.Types.DESCRIPTION,className:R.default.marginBottom20},void 0,N.default.Messages.TWO_FA_DESCRIPTION),F(E.default,{justify:E.default.Justify.START,className:R.default.marginBottom20},void 0,F(E.default.Child,{wrap:!0,grow:0},void 0,r),F(E.default.Child,{wrap:!0},void 0,F(_.default,{onClick:this.handleDisableMFA,size:_.default.Sizes.SMALL,
color:_.ButtonColors.RED,look:_.ButtonLooks.OUTLINED},void 0,N.default.Messages.TWO_FA_REMOVE))),e,this.renderMFASMS())};r.renderDisabled=function(){return F(S.FormSection,{title:N.default.Messages.TWO_FA},void 0,F(S.FormText,{type:S.FormText.Types.DESCRIPTION,className:R.default.marginBottom20},void 0,N.default.Messages.TWO_FA_SALES_PITCH),F(S.FormItem,{},void 0,F(_.default,{onClick:A.default.enableMFA,size:_.ButtonSizes.SMALL},void 0,N.default.Messages.TWO_FA_ENABLE)))};r.render=function(){var e=this.props.currentUser;return I.hasCrypto?e.verified?e.mfaEnabled?this.renderEnabled():this.renderDisabled():F(S.FormSection,{title:N.default.Messages.TWO_FA},void 0,F(S.FormText,{type:S.FormText.Types.DESCRIPTION},void 0,N.default.Messages.TWO_FA_NOT_VERIFIED)):F(S.FormSection,{title:N.default.Messages.TWO_FA},void 0,F(S.FormText,{type:S.FormText.Types.DESCRIPTION},void 0,N.default.Messages.TWO_FA_USE_DESKTOP_APP))};r.openPhoneVerificationModal=function(e){void 0===e&&(e={});(0,
O.openModal)((function(t){return a.createElement(c.default,k({reason:p.ChangePhoneReason.USER_SETTINGS_UPDATE},t,e))}),{modalKey:M.PHONE_VERIFICATION_MODAL_KEY})};return t}(a.PureComponent);B.displayName="TwoFactorAuth";var H=u.default.connectStores([y.default,v.default],(function(){var e=y.default.getCurrentUser();(0,i.default)(null!=e,"TwoFactorAuth: currentUser cannot be undefined");return{currentUser:e,togglingSMS:v.default.togglingSMS}}))(B);t.default=H},64721:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.generateSections=Ue;t.getUserSettingsSections=function(e){return Ue(e).filter((function(e){var t=e.section;return t!==v.SectionTypes.HEADER&&t!==v.SectionTypes.CUSTOM&&t!==v.SectionTypes.DIVIDER})).filter((function(e){return null==e.predicate||e.predicate()}))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Me(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(923387),u=Ce(n(636602)),l=Ce(n(939949)),s=Ce(n(241165)),d=n(264720),f=Ce(n(226800)),c=Ce(n(284382)),p=Ce(n(898361)),v=n(826859),y=Ce(n(145371)),m=Ce(n(235879)),_=Ce(n(954140)),h=Ce(n(844784)),g=Ce(n(37039)),E=n(203847),S=n(797132),O=Ce(n(142721)),b=n(799393),I=Ce(n(350957)),T=n(962119),A=Ce(n(101499)),C=n(653311),M=n(969082),N=Ce(n(137787)),P=Ce(n(225249)),R=Ce(n(931059)),w=Ce(n(859639)),D=Ce(n(260532)),L=Ce(n(776115)),k=Ce(n(635014)),j=Ce(n(816624)),U=Ce(n(516818)),G=Ce(n(871778)),F=Ce(n(314355)),x=Ce(n(81636)),B=n(645758),H=Ce(n(434663)),V=Ce(n(417184)),W=Ce(n(502197)),Y=n(194322),K=n(598671),z=n(864489),$=Ce(n(855211)),q=Ce(n(730146)),Q=Ce(n(243905)),X=Ce(n(388988)),Z=Ce(n(815780)),J=Ce(n(362979)),ee=Ce(n(371077)),te=Ce(n(8395)),ne=Ce(n(556825)),re=Ce(n(835672)),ae=Ce(n(24072)),oe=Ce(n(710033)),ie=Ce(n(367865)),ue=Ce(n(117944)),le=Ce(n(418415)),se=Ce(n(122253)),de=Ce(n(913458)),fe=Ce(n(783949)),ce=Ce(n(764422)),pe=Ce(n(720034)),ve=Ce(n(325539)),ye=Ce(n(313900)),me=Ce(n(385831)),_e=Ce(n(394163)),he=Ce(n(332798)),ge=Ce(n(811030)),Ee=Ce(n(541247)),Se=Ce(n(547342)),Oe=Ce(n(229024)),be=n(770348),Ie=n(265517),Te=Ce(n(247001)),Ae=Ce(n(648670))
;function Ce(e){return e&&e.__esModule?e:{default:e}}function Me(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Me=function(e){return e?n:t})(e)}function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Re(){Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Re.apply(this,arguments)}function we(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var De=Ee.default;function Le(){var e=(0,o.useStateFromStores)([U.default],(function(){
return U.default.getSection()}));return(0,S.useIsDismissibleContentTypeDismissed)(i.DismissibleContent.CENTRALIZED_PROFILE_EDITING_SETTINGS_PAGE)||e===be.UserSettingsSections.PROFILE_CUSTOMIZATION?null:we(K.TextBadge,{text:Te.default.Messages.NEW})}Le.displayName="EditProfileSettingsNewBadge";var ke=we(Le,{}),je=we(H.default,{width:16,height:16});function Ue(e){var t=e.premiumTrialCount,r=e.unseenGiftCount,o=e.showPrepaidPaymentPastDueWarning,u=e.centralizedProfileEditingEnabled;return[{section:v.SectionTypes.HEADER,label:Te.default.Messages.USER_SETTINGS},{section:be.UserSettingsSections.ACCOUNT,label:Te.default.Messages.USER_SETTINGS_MY_ACCOUNT,ariaLabel:Te.default.Messages.USER_SETTINGS_MY_ACCOUNT,element:ee.default},{section:be.UserSettingsSections.PROFILE_CUSTOMIZATION,label:u?Te.default.Messages.USER_SETTINGS_PROFILES:Te.default.Messages.USER_SETTINGS_USER_PROFILE,ariaLabel:u?Te.default.Messages.USER_SETTINGS_PROFILES:Te.default.Messages.USER_SETTINGS_USER_PROFILE,
element:u?D.default:Oe.default,notice:{stores:[j.default,I.default],element:w.default},icon:u?ke:null},{section:be.UserSettingsSections.PRIVACY_AND_SAFETY,label:Te.default.Messages.PRIVACY_AND_SAFETY,element:ye.default},{section:be.UserSettingsSections.AUTHORIZED_APPS,label:Te.default.Messages.AUTHORIZED_APPS,element:re.default},{section:be.UserSettingsSections.SESSIONS,label:Te.default.Messages.AUTH_SESSIONS,ariaLabel:Te.default.Messages.AUTH_SESSIONS,element:me.default,newIndicator:!(0,E.isDismissibleContentDismissed)(i.DismissibleContent.AUTH_SESSIONS_NEW),predicate:function(){return $.default.getCurrentConfig({}).showSettings}},{section:be.UserSettingsSections.CONNECTIONS,label:Te.default.Messages.CONNECTIONS,element:oe.default},{section:v.SectionTypes.DIVIDER},{section:v.SectionTypes.HEADER,label:Te.default.Messages.BILLING_SETTINGS},{section:be.UserSettingsSections.PREMIUM,ariaLabel:Te.default.Messages.PREMIUM,label:Te.default.Messages.PREMIUM,element:N.default,badgeCount:t},{
section:be.UserSettingsSections.GUILD_BOOSTING,label:Te.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE,element:ve.default},{section:be.UserSettingsSections.SUBSCRIPTIONS,ariaLabel:Te.default.Messages.SUBSCRIPTIONS_TITLE,label:Te.default.Messages.SUBSCRIPTIONS_TITLE,icon:o?we(V.default,{width:16,height:16,color:be.Colors.STATUS_YELLOW}):null,element:P.default},{section:be.UserSettingsSections.INVENTORY,label:Te.default.Messages.GIFT_INVENTORY,element:se.default,badgeCount:r,ariaLabel:Te.default.Messages.GIFT_INVENTORY},{section:be.UserSettingsSections.BILLING,label:Te.default.Messages.BILLING,element:ae.default},{section:v.SectionTypes.DIVIDER},{section:v.SectionTypes.HEADER,label:Te.default.Messages.APP_SETTINGS},{section:be.UserSettingsSections.APPEARANCE,label:Te.default.Messages.APPEARANCE,element:ne.default},{section:be.UserSettingsSections.ACCESSIBILITY,label:Te.default.Messages.ACCESSIBILITY,element:J.default},{section:be.UserSettingsSections.VOICE,
label:Te.default.Messages.VOICE_AND_VIDEO,element:ge.default,predicate:function(){return k.default.isSupported()}},{section:be.UserSettingsSections.POGGERMODE,label:Te.default.Messages.POGGERMODE,ariaLabel:Te.default.Messages.POGGERMODE,element:A.default,predicate:T.poggermodeEnabled,icon:we("img",{alt:"",src:n(20278),className:Ae.default.poggermodeIcon})},{section:be.UserSettingsSections.TEXT,label:Te.default.Messages.TEXT_AND_IMAGES,element:he.default},{section:be.UserSettingsSections.NOTIFICATIONS,label:Te.default.Messages.NOTIFICATIONS,element:ce.default},{section:be.UserSettingsSections.KEYBINDS,label:Te.default.Messages.KEYBINDS,element:de.default},{section:be.UserSettingsSections.LOCALE,label:Te.default.Messages.LANGUAGE,element:fe.default},{section:be.UserSettingsSections.WINDOWS,label:Te.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS,element:Ee.default,predicate:function(){return z.isPlatformEmbedded&&(0,z.isWindows)()}},{section:be.UserSettingsSections.LINUX,
label:Te.default.Messages.USER_SETTINGS_LINUX_SETTINGS,element:De,predicate:function(){return z.isPlatformEmbedded&&(0,z.isLinux)()}},{section:be.UserSettingsSections.STREAMER_MODE,label:Te.default.Messages.STREAMER_MODE,element:_e.default},{section:be.UserSettingsSections.ADVANCED,label:Te.default.Messages.SETTINGS_ADVANCED,element:te.default},{section:v.SectionTypes.DIVIDER},{section:v.SectionTypes.HEADER,label:Te.default.Messages.ACTIVITY_SETTINGS},{section:be.UserSettingsSections.ACTIVITY_STATUS,label:Te.default.Messages.ACTIVITY_STATUS,element:ue.default},{section:be.UserSettingsSections.OVERLAY,label:Te.default.Messages.OVERLAY,element:pe.default,predicate:function(){return x.default.isSupported()||!1}},{section:v.SectionTypes.DIVIDER},{section:"changelog",onClick:function(){return s.default.showChangeLog()},label:Te.default.Messages.WHATS_NEW},{section:be.UserSettingsSections.HYPESQUAD_ONLINE,label:Te.default.Messages.USER_SETTINGS_HYPESQUAD,element:le.default},{
section:be.UserSettingsSections.EXPERIMENTS,label:"Experiments",element:Se.default,predicate:function(){return L.default.isDeveloper}},{section:be.UserSettingsSections.DEVELOPER_OPTIONS,label:"Developer Options",element:ie.default,predicate:function(){return L.default.isDeveloper}},{section:be.UserSettingsSections.HOTSPOT_OPTIONS,label:"Hotspot Options",element:Q.default,predicate:function(){return L.default.isDeveloper}},{section:be.UserSettingsSections.DISMISSIBLE_CONTENT_OPTIONS,label:"Dismissible Contents",element:O.default,predicate:function(){return L.default.isDeveloper}},{section:be.UserSettingsSections.PAYMENT_FLOW_MODAL_TEST_PAGE,label:"Payment Flow Modals",element:X.default,predicate:function(){return L.default.isDeveloper}},{section:v.SectionTypes.DIVIDER},{section:"logout",onClick:function(){(0,Y.openModal)((function(e){return a.createElement(W.default,Re({header:Te.default.Messages.LOGOUT,confirmText:Te.default.Messages.LOGOUT,cancelText:Te.default.Messages.CANCEL,
onCancel:e.onClose,onConfirm:function(){return l.default.logout()}},e),we(B.Text,{variant:"text-md/normal"},void 0,Te.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))}))},label:Te.default.Messages.LOGOUT,ariaLabel:Te.default.Messages.LOGOUT,icon:je},{section:v.SectionTypes.DIVIDER},{section:v.SectionTypes.CUSTOM,element:Z.default},{section:v.SectionTypes.CUSTOM,element:q.default}]}var Ge=a.forwardRef((function(){var e=(0,o.useStateFromStores)([G.default],(function(){return G.default.theme})),t=(0,o.useStateFromStores)([m.default],(function(){return m.default.darkSidebar?be.ThemeTypes.DARK:void 0})),n=Ne((0,o.useStateFromStoresArray)([U.default],(function(){return[U.default.getSection(),U.default.getSubsection(),U.default.getProps().analyticsLocation]})),3),r=n[0],i=n[1],l=n[2],s=(0,y.default)(r),v=(0,y.default)(i),E=(0,M.useUnseenOutboundPromotions)().length,S=(0,C.useIsPrepaidPaymentPastDue)(),O=(0,o.useStateFromStores)([F.default],(function(){
return F.default.getUnacknowledgedOffers(Object.keys(Ie.SubscriptionTrials)).length})),I=(0,g.default)(_.default.USER_SETTINGS),T=I.AnalyticsLocationProvider,A=I.analyticsLocations,N=R.default.useExperiment({},{autoTrackExposure:!0,trackExposureOptions:{analyticsLocations:A}}).enabled;a.useEffect((function(){null==r||r===s&&i===v||function(e,t,n,r){void 0===t&&(t=null);void 0===n&&(n=null);void 0===r&&(r=null);h.default.trackWithMetadata(be.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"user",origin_pane:t,destination_pane:e,source:n,subsection:r})}(r,null!=s?s:null,l,i)}),[r,s,l,i,v]);a.useEffect((function(){return function(){u.default.wait(b.resetFullGuildIdentityForm);f.default.close()}}),[]);var P=a.useMemo((function(){return Ue({premiumTrialCount:O,unseenGiftCount:E,showPrepaidPaymentPastDueWarning:S,centralizedProfileEditingEnabled:N})}),[O,E,S,N]),w=a.useCallback((function(e){f.default.setSection(e)}),[]);return we(T,{},void 0,we(c.default,{root:!0,
page:be.AnalyticsPages.USER_SETTINGS},void 0,we(p.default,{theme:e,title:Te.default.Messages.USER_SETTINGS,sidebarTheme:t,section:r,onSetSection:w,onClose:d.popLayer,sections:P})))}));t.default=Ge},362979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ie;var r,a=q(n(667294)),o=z(n(294184)),i=z(n(496486)),u=n(536211),l=z(n(226800)),s=q(n(448549)),d=n(354575),f=z(n(235879)),c=z(n(79300)),p=n(178235),v=z(n(843314)),y=n(202929),m=z(n(551048)),_=n(907932),h=z(n(259890)),g=z(n(355152)),E=n(43247),S=z(n(91603)),O=q(n(956117)),b=z(n(558402)),I=z(n(789446)),T=z(n(530250)),A=z(n(960082)),C=z(n(26172)),M=z(n(118777)),N=z(n(567668)),P=n(645758),R=n(354479),w=n(688388),D=z(n(339759)),L=z(n(118138)),k=q(n(628551)),j=z(n(550270)),U=n(894826),G=z(n(175896)),F=n(770348),x=n(216287),B=n(289081),H=n(785992),V=z(n(247001)),W=z(n(218863)),Y=z(n(380203)),K=z(n(603008));function z(e){return e&&e.__esModule?e:{default:e}}function $(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return($=function(e){return e?n:t})(e)}function q(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=$(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Q(){Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Q.apply(this,arguments)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ee=(0,R.uid)(),te=(0,R.uid)(),ne=(0,R.uid)(),re=i.default.debounce((function(e){(0,d.setSaturation)(e)}),250),ae=i.default.debounce((function(e){(0,E.setSpeechRate)(e)}),250),oe=J(w.FormDivider,{});function ie(e){var t=c.default.useExperiment({},{autoTrackExposure:!0}).allowRoleStyles;return J(w.FormSection,{tag:w.FormTitleTags.H1,title:V.default.Messages.ACCESSIBILITY},void 0,le,de,oe,t?a.createElement(a.Fragment,null,ce,J(w.FormDivider,{className:Y.default.marginTop20})):null,(0,p.canEnableForcedColors)()?ve:null,me,he,Ee,Te,J(w.FormDivider,{className:Y.default.marginBottom20}),J(P.Text,{variant:"text-md/normal"},void 0,V.default.Messages.ACCESSIBILITY_SETTINGS_APPEARANCE_LINK.format({onAppearanceClick:function(){l.default.open(F.UserSettingsSections.APPEARANCE)}})))}
ie.displayName="UserSettingsAccessibility";function ue(){var e=U.MessageDisplayCompact.useSetting(),t=X(a.useState((function(){var e=(0,y.createMessageRecord)(Q({},(0,m.default)({channelId:"1337",content:V.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_PREVIEW_MESSAGE}),{state:F.MessageStates.SENT,id:"0"}));e.colorString="green";return e})),1)[0];return J(A.default,{},void 0,J(b.default,{className:W.default.preview,"aria-hidden":!0},void 0,J("div",{className:W.default.previewHeader},void 0,J(O.default,{size:O.default.Sizes.SMALL,color:O.default.Colors.BRAND},void 0,V.default.Messages.ACCESSIBILITY_EXAMPLE_BUTTON_LABEL),J("div",{className:W.default.previewAvatars},void 0,[F.StatusTypes.ONLINE,F.StatusTypes.DND,F.StatusTypes.IDLE].map((function(e){return J(k.AnimatedAvatar,{"aria-label":"avatar",src:K.default,size:k.default.Sizes.SIZE_32,status:e})})))),J("div",{className:W.default.previewMessage},void 0,J(h.default,{compact:e,author:Q({},(0,_.getMessageAuthor)(t),{
colorString:"#DD80F4"}),message:t}))))}ue.displayName="MessagePreview";var le=J(ue,{});function se(){var e=(0,u.useStateFromStoresObject)([f.default],(function(){return{saturation:f.default.saturation,desaturateUserColors:f.default.desaturateUserColors}})),t=e.saturation,n=e.desaturateUserColors;return J(w.FormSection,{className:Y.default.marginTop20},void 0,J(w.FormTitle,{id:ee,className:Y.default.marginBottom8},void 0,V.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_TITLE),J(w.FormText,{id:te,type:w.FormText.Types.DESCRIPTION,className:Y.default.marginBottom20},void 0,V.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_DESCRIPTION),J(M.default,{"aria-labelledby":ee,"aria-describedby":te,markers:F.Accessibility.SATURATION_INCREMENTS,equidistant:!0,stickToMarkers:!0,maxValue:1,minValue:0,initialValue:t,onValueChange:re,onMarkerRender:function(e){return 100*e%2==0?100*e+"%":void 0}}),J(N.default,{hideBorder:!0,className:(0,o.default)(Y.default.marginTop8,Y.default.marginBottom20),
value:n,onChange:d.toggleDesaturateUserColors,note:V.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_CUSTOM_COLORS_DESCRIPTION},void 0,V.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_CUSTOM_COLORS_LABEL))}se.displayName="UserSettingsAccessibilitySaturation";var de=J(se,{});function fe(){var e=(0,u.useStateFromStores)([f.default],(function(){return f.default.roleStyle}));return J(w.FormItem,{title:V.default.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_TITLE,className:Y.default.marginTop20},void 0,J(w.FormText,{type:w.FormText.Types.DESCRIPTION,className:Y.default.marginBottom8},void 0,V.default.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_DESCRIPTION),J(C.default,{options:[{name:V.default.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_USERNAME_LABEL,value:"username"},{name:V.default.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_DOT_LABEL,value:"dot"},{name:V.default.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_HIDDEN_LABEL,value:"hidden"}],onChange:function(e){(0,d.setRoleStyle)(e.value)},
value:e}))}fe.displayName="UserSettingsAccessibilityRoleStyle";var ce=J(fe,{});function pe(){var e=X((0,u.useStateFromStoresArray)([f.default],(function(){return[f.default.syncForcedColors,f.default.systemForcedColors]})),2),t=e[0],n=e[1],r=X(a.useState(t),2),o=r[0],i=r[1];a.useEffect((function(){i(t)}),[t]);var l=a.useRef(null);a.useEffect((function(){if(null!=l.current){clearTimeout(l.current);l.current=null}o!==t&&(l.current=setTimeout((function(){return(0,d.setSyncForcedColors)(o)}),150))}),[o,t]);var s="active"===n?V.default.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_DESCRIPTION_WITH_FEEDBACK.format({learnMoreLink:j.default.getArticleURL(F.HelpdeskArticles.FORCED_COLORS),shareFeedbackLink:x.FORCED_COLORS_FEEDBACK_LINK}):V.default.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_DESCRIPTION.format({learnMoreLink:j.default.getArticleURL(F.HelpdeskArticles.FORCED_COLORS)});return J(w.FormItem,{title:V.default.Messages.ACCESSIBILITY_SETTINGS_CONTRAST,
className:Y.default.marginTop20},void 0,J(N.default,{value:o,note:s,onChange:i},void 0,V.default.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_LABEL))}pe.displayName="UserSettingsAccessibilityContrast";var ve=J(pe,{});function ye(){var e=U.GifAutoPlay.useSetting(),t=U.AnimateEmoji.useSetting(),n=(0,u.useStateFromStoresObject)([f.default,G.default],(function(){return{systemPrefersReducedMotion:f.default.systemPrefersReducedMotion,rawPrefersReducedMotion:f.default.rawPrefersReducedMotion,useReducedMotion:f.default.useReducedMotion,gifAutoPlayOverrideReason:G.default.getAppliedOverrideReasonKey("gifAutoPlay"),animateEmojiOverrideReason:G.default.getAppliedOverrideReasonKey("animateEmoji")}})),r=n.useReducedMotion,i=n.rawPrefersReducedMotion,l=n.systemPrefersReducedMotion,s=n.gifAutoPlayOverrideReason,c=n.animateEmojiOverrideReason,p="auto"===i,v=a.useCallback((function(e,t){(0,d.setPrefersReducedMotion)(t?"auto":l)}),[l]),y=a.useCallback((function(e){(0,
d.setPrefersReducedMotion)(e?"reduce":"no-preference")}),[]);return J(w.FormItem,{title:V.default.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION,className:Y.default.marginTop20},void 0,J(w.FormText,{type:w.FormText.Types.DESCRIPTION,className:Y.default.marginBottom8},void 0,V.default.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_DESCRIPTION.format({helpdeskArticle:j.default.getArticleURL(F.HelpdeskArticles.REDUCED_MOTION)})),J(I.default,{className:Y.default.marginTop20,value:p,shape:I.default.Shapes.BOX,type:I.default.Types.INVERTED,onChange:v},void 0,J(P.Text,{variant:"text-sm/normal"},void 0,V.default.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_AUTO)),J(N.default,{className:Y.default.marginTop20,value:r,onChange:y},void 0,V.default.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_ENABLE),J(N.default,{className:Y.default.marginBottom40,value:e,note:null!=s?(0,g.default)(s):void 0,onChange:U.GifAutoPlay.updateSetting},void 0,V.default.Messages.GIF_AUTO_PLAY_LABEL),J(N.default,{
className:(0,o.default)(Y.default.marginTop8,Y.default.marginBottom20),value:t,note:null!=c?(0,g.default)(c):void 0,onChange:U.AnimateEmoji.updateSetting},void 0,V.default.Messages.ANIMATE_EMOJI))}ye.displayName="UserSettingsAccessibilityReducedMotion";var me=J(ye,{});function _e(){var e=U.AnimateStickers.useSetting(),t=(0,u.useStateFromStores)([G.default],(function(){return G.default.getAppliedOverrideReasonKey("animateStickers")})),n=a.useCallback((function(e){U.AnimateStickers.updateSetting(e.value)}),[]);return J(w.FormItem,{className:Y.default.marginBottom40,title:V.default.Messages.STICKERS_AUTO_PLAY_HEADING},void 0,J(w.FormText,{type:w.FormText.Types.DESCRIPTION,className:Y.default.marginBottom8},void 0,null!=t?(0,g.default)(t):V.default.Messages.STICKERS_AUTO_PLAY_HELP),J(C.default,{options:[{name:V.default.Messages.STICKERS_ALWAYS_ANIMATE,value:B.StickerAnimationSettings.ALWAYS_ANIMATE},{name:V.default.Messages.STICKERS_ANIMATE_ON_INTERACTION,
desc:V.default.Messages.STICKERS_ANIMATE_ON_INTERACTION_DESCRIPTION,value:B.StickerAnimationSettings.ANIMATE_ON_INTERACTION},{name:V.default.Messages.STICKERS_NEVER_ANIMATE,value:B.StickerAnimationSettings.NEVER_ANIMATE}],onChange:n,value:e}))}_e.displayName="UserSettingsAccessibilityStickers";var he=J(_e,{});function ge(){var e=(0,u.useStateFromStores)([f.default],(function(){return f.default.isSubmitButtonEnabled}));return J(w.FormItem,{},void 0,J(w.FormTitle,{className:Y.default.marginBottom8},void 0,V.default.Messages.FORM_LABEL_ACCESSIBILITY_CHAT_INPUT),J(N.default,{className:Y.default.marginTop20,value:e,onChange:d.toggleSubmitButton},void 0,V.default.Messages.DISPLAY_SUBMIT_BUTTON))}ge.displayName="UserSettingsAccessibilityMessages";var Ee=J(ge,{}),Se=J(D.default,{width:24,height:24}),Oe=J(L.default,{width:24,height:24}),be=J("span",{},void 0,"x1.0");function Ie(){var e=U.EnableTTSCommand.useSetting(),t=(0,u.useStateFromStores)([S.default],(function(){return S.default.speechRate
})),n=X(a.useState(!1),2),r=n[0],o=n[1];if(!s.supported)return null;return a.createElement(a.Fragment,null,J(w.FormItem,{},void 0,J(w.FormTitle,{className:Y.default.marginBottom8},void 0,V.default.Messages.FORM_LABEL_TTS),J(N.default,{className:Y.default.marginTop20,value:e,onChange:U.EnableTTSCommand.updateSetting},void 0,V.default.Messages.ALLOW_TTS_COMMAND)),J(w.FormItem,{className:Y.default.marginBottom20},void 0,J(w.FormTitle,{id:ne,className:Y.default.marginBottom20},void 0,V.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_LABEL),J("div",{className:W.default.ttsPreviewWrapper},void 0,J(O.default,{color:O.ButtonColors.BRAND_NEW,onClick:function(){if(r){(0,E.stopSpeaking)();o(!1)}else{(0,E.speakText)(V.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_TEST,!0,void 0,(function(){return o(!0)}),(function(){return o(!1)}));o(!0)}}},void 0,J(T.default,{align:T.default.Align.CENTER
},void 0,r?Se:Oe,J("span",{},void 0,V.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_PREVIEW),J(v.default,{},void 0,V.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_LABEL)))),J(M.default,{markers:H.SPEECH_RATE_INCREMENTS,initialValue:t,defaultValue:1,stickToMarkers:!0,onValueChange:ae,onValueRender:function(e){return"x"+e.toFixed(2)},onMarkerRender:function(e){return 0===e?J("span",{className:W.default.ttsSliderMarker},void 0,V.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_SLOWER):10===e?J("span",{className:W.default.ttsSliderMarker},void 0,V.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_FASTER):1===e?be:e%1==0?"":void 0},"aria-labelledby":ne})))}var Te=J(Ie,{})},371077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=j(n(667294)),o=L(n(294184)),i=L(n(441143)),u=n(536211),l=L(n(163521)),s=n(825185),d=L(n(524791)),f=L(n(149342)),c=L(n(915539)),p=L(n(711195)),v=L(n(30098)),y=L(n(753304)),m=L(n(663303)),_=L(n(871778)),h=L(n(728429)),g=j(n(956117)),E=L(n(530250)),S=n(645758),O=n(688388),b=n(502197),I=n(194322),T=L(n(950445)),A=L(n(874364)),C=L(n(174128)),M=L(n(319155)),N=L(n(66272)),P=n(770348),R=L(n(247001)),w=L(n(177056)),D=L(n(380203));function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(e,t){F=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return F(e,t)}var x=G(M.default,{}),B=G(d.default,{}),H=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;F(e,t)}(t,e);function t(t){var n
;(n=e.call(this,t)||this).state={disableAccountErrorMessage:null,shouldRenderOwnedGuildsModal:!1,shouldRenderDeleteAccountConfirmModal:!1,shouldRenderDisableAccountErrorModal:!1};return n}var r=t.prototype;r.componentDidMount=function(){var e=this.props.currentUser;(0,p.default)(e.id,e.getAvatarURL(void 0,80))};r.componentWillUnmount=function(){l.default.clearBackupCodes();(0,s.accountDetailsClose)()};r.renderAccountWarning=function(){var e=this.props.currentUser;if(!e.isClaimed()){var t=G("section",{},void 0,G("div",{className:w.default.accountWarningBodyText},void 0,R.default.Messages.UNCLAIMED_ACCOUNT_BODY_2),G(g.default,{look:g.ButtonLooks.INVERTED,size:g.ButtonSizes.SMALL,color:g.default.Colors.RED,onClick:function(){return c.default.openClaimAccountModal()}},void 0,R.default.Messages.CLAIM_ACCOUNT_LONG));return G(O.FormNotice,{type:O.FormNotice.Types.DANGER,className:D.default.marginBottom20,imageData:{src:n(350672),width:60,height:60},
title:R.default.Messages.UNCLAIMED_ACCOUNT_TITLE,body:t})}if(null==e.email)return null;if(!e.verified){var r=G("section",{},void 0,G("div",{className:w.default.accountWarningBodyText},void 0,R.default.Messages.USER_SETTINGS_UNVERIFIED_EMAIL_BODY),G(T.default,{size:g.ButtonSizes.SMALL,color:g.default.Colors.PRIMARY}));return G(O.FormNotice,{type:O.FormNotice.Types.PRIMARY,className:D.default.marginBottom20,imageData:{src:n(24264),width:60,height:60},title:R.default.Messages.UNVERIFIED_EMAIL_TITLE,body:r})}};r.renderAccountSettings=function(){return G(O.FormSection,{tag:O.FormTitleTags.H1,title:R.default.Messages.USER_SETTINGS_MY_ACCOUNT,className:w.default.userSettingsAccount},void 0,this.renderAccountWarning(),x)};r.renderSecuritySettings=function(){var e=this.props,t=e.backupCodes,r=e.currentUser,i=e.theme===P.ThemeTypes.DARK?n(273361):n(129428);return G(O.FormSection,{className:(0,o.default)(w.default.userSettingsSecurity,D.default.marginTop40),
title:R.default.Messages.USER_SETTINGS_ACCOUNT_PASSWORD_AND_AUTHENTICATION,tag:O.FormTitle.Tags.H1},void 0,G("div",{},void 0,G(g.default,{size:g.default.Sizes.SMALL,className:w.default.changePasswordButton,onClick:function(){return(0,I.openModal)((function(e){return a.createElement(N.default,U({},e,{onSuccess:e.onClose}))}))}},void 0,R.default.Messages.CHANGE_PASSWORD)),G(E.default,{align:E.default.Align.STRETCH},void 0,G(E.default.Child,{wrap:!0},void 0,G(A.default,{backupCodes:t})),r.mfaEnabled?null:G(E.default,{align:E.default.Align.CENTER,basis:"323px",grow:0},void 0,G("img",{src:i,className:w.default.userSettingsSecurityImage,alt:""}))))};r.renderConfirmModals=function(){var e=this,t=this.state,n=t.shouldRenderOwnedGuildsModal,r=t.shouldRenderDeleteAccountConfirmModal,a=t.shouldRenderDisableAccountErrorModal,o=t.disableAccountErrorMessage;if(n){var i=function(){return e.setState({shouldRenderOwnedGuildsModal:!1})};return G(b.DeclarativeConfirmModal,{dismissable:!0,
header:R.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP,confirmText:R.default.Messages.OKAY,confirmButtonColor:g.ButtonColors.BRAND,onCancel:i,onConfirm:i},void 0,G(S.Text,{variant:"text-md/normal"},void 0,R.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP_BODY))}if(r){var u=function(){return e.setState({shouldRenderDeleteAccountConfirmModal:!1})};return G(b.DeclarativeConfirmModal,{dismissable:!0,header:R.default.Messages.DELETE_ACCOUNT,confirmText:R.default.Messages.DELETE_ACCOUNT,cancelText:R.default.Messages.CANCEL,onCancel:u,onConfirm:function(){return(0,s.disableAccount)("",!0).then(u)}},void 0,G(S.Text,{variant:"text-md/normal"},void 0,R.default.Messages.DELETE_ACCOUNT_BODY))}if(a){var l=function(){return e.setState({shouldRenderDisableAccountErrorModal:!1,disableAccountErrorMessage:null})};return G(b.DeclarativeConfirmModal,{dismissable:!0,header:R.default.Messages.DELETE_ACCOUNT_ERROR,confirmText:R.default.Messages.OKAY,confirmButtonColor:g.ButtonColors.BRAND,onCancel:l,
onConfirm:l},void 0,G(S.Text,{variant:"text-md/normal"},void 0,o))}};r.render=function(){var e=this;if(this.props.hide)return B;var t=this.props.currentUser;return G("div",{},void 0,this.renderConfirmModals(),this.renderAccountSettings(),t.isClaimed()?a.createElement(a.Fragment,null,G(O.FormDivider,{className:D.default.marginTop40}),this.renderSecuritySettings(),G(O.FormDivider,{className:D.default.marginTop40})):null,G(C.default,{className:D.default.marginTop40,currentUser:t,handleDisableAccount:function(){return e.handleDisableAccount(!1)},handleDeleteAccount:function(){return e.handleDisableAccount(!0)}}))};r.handleDisableAccountError=function(e){if(e.body.code===P.AbortCodes.INVALID_PASSWORD)throw e;this.setState({shouldRenderDisableAccountErrorModal:!0,disableAccountErrorMessage:e.body.message})};r.handleSubmitDisableAccount=function(e,t){return(0,s.disableAccount)(e,t).then(P.NOOP,this.handleDisableAccountError)};r.handleDisableAccount=function(e){var t=this;void 0===e&&(e=!1)
;var n=this.props.currentUser,r=v.default.getGuilds();Object.keys(r).filter((function(e){return r[e].ownerId===n.id})).length>0?this.setState({shouldRenderOwnedGuildsModal:!0}):n.isClaimed()?(0,I.openModal)((function(n){return a.createElement(f.default,U({},n,{handleSubmit:function(n){return t.handleSubmitDisableAccount(n,e)},title:e?R.default.Messages.DELETE_ACCOUNT:R.default.Messages.DISABLE_ACCOUNT,actionText:e?R.default.Messages.DELETE_ACCOUNT:R.default.Messages.DISABLE_ACCOUNT}),e?R.default.Messages.DELETE_ACCOUNT_BODY:R.default.Messages.DISABLE_ACCOUNT_BODY)})):this.setState({shouldRenderDeleteAccountConfirmModal:!0})};return t}(a.PureComponent);H.displayName="UserSettingsAccount";var V=function(){var e=(0,u.useStateFromStores)([h.default],(function(){var e=h.default.getCurrentUser();(0,i.default)(null!=e,"ConnectedUserAccountSettings: currentUser cannot be undefined");return e})),t=(0,u.useStateFromStores)([y.default],(function(){return y.default.getBackupCodes()})),n=(0,
u.useStateFromStores)([m.default],(function(){return m.default.hidePersonalInformation})),r=(0,u.useStateFromStores)([_.default],(function(){return _.default.theme}));return G(H,{currentUser:e,backupCodes:t,hide:n,theme:r})};V.displayName="ConnectedUserAccountSettings";var W=V;t.default=W},8395:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=M;var r,a=b(n(667294)),o=n(536211),i=b(n(446637)),u=S(n(191839)),l=S(n(424099)),s=S(n(567668)),d=n(645758),f=n(688388),c=S(n(502197)),p=n(194322),v=n(856384),y=n(864489),m=S(n(922629)),_=n(894826),h=S(n(825541)),g=n(770348),E=S(n(247001));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(){var e=A(a.useState((function(){
return m.default.getEnableHardwareAcceleration()})),1)[0],t=_.DisableGamesTab.useSetting(),n=_.DeveloperMode.useSetting(),r=(0,o.useStateFromStoresObject)([l.default,u.default],(function(){return{hasLibraryApplication:u.default.hasLibraryApplication(),testModeApplicationId:l.default.testModeApplicationId}})),S=r.hasLibraryApplication,O=r.testModeApplicationId,b=a.useCallback((function(e){_.DisableGamesTab.updateSetting(!e)}),[]),C=a.useCallback((function(e){e?(0,p.openModal)((function(e){return a.createElement(h.default,e)})):i.reset()}),[]),M=a.useCallback((function(e){(0,p.openModal)((function(t){return a.createElement(c.default,I({header:E.default.Messages.SWITCH_HARDWARE_ACCELERATION,confirmText:E.default.Messages.OKAY,cancelText:E.default.Messages.CANCEL,onConfirm:function(){return m.default.setEnableHardwareAcceleration(e)}},t),T(d.Text,{variant:"text-sm/normal"},void 0,E.default.Messages.SWITCH_HARDWARE_ACCELERATION_BODY))}))}),[]);return T(f.FormSection,{tag:f.FormTitleTags.H1,
title:E.default.Messages.SETTINGS_ADVANCED},void 0,v.SUPPORTS_COPY&&T(s.default,{value:n,onChange:_.DeveloperMode.updateSetting,note:E.default.Messages.DEVELOPER_MODE_HELP_TEXT.format({apiDocsUrl:g.MarketingURLs.API_DOCS})},void 0,E.default.Messages.DEVELOPER_MODE),y.isPlatformEmbedded&&T(s.default,{value:e,onChange:M,note:E.default.Messages.HARDWARE_ACCELERATION_HELP_TEXT},void 0,E.default.Messages.HARDWARE_ACCELERATION),S&&T(s.default,{value:!t,onChange:b,note:E.default.Messages.USER_SETTINGS_SHOW_LIBRARY_NOTE},void 0,E.default.Messages.USER_SETTINGS_SHOW_LIBRARY),n&&T(s.default,{value:null!=O,note:E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_NOTE,onChange:C},void 0,E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE))}M.displayName="UserSettingsAdvanced"},556825:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=X;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=G(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=U(n(294184)),i=n(536211),u=U(n(929031)),l=U(n(226800)),s=U(n(351336)),d=U(n(14096)),f=n(354575),c=U(n(235879)),p=n(178235),v=n(202929),y=U(n(551048)),m=n(907932),_=U(n(259890)),h=U(n(871778)),g=U(n(558402)),E=U(n(530250)),S=U(n(960082)),O=U(n(26172)),b=U(n(118777)),I=U(n(567668)),T=n(645758),A=n(354479),C=n(688388),M=n(864489),N=U(n(174508)),P=n(894826),R=n(770348),w=n(100678),D=n(251984),L=U(n(247001)),k=U(n(926105)),j=U(n(380203));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}function F(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(e,t){x=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return x(e,t)}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return B.apply(this,arguments)}var H="cozy",V="compact",W=(0,A.uid)(),Y=(0,A.uid)(),K=(0,A.uid)(),z=(0,A.uid)(),$="1337",q=function(e){var t=0;return[(0,v.createMessageRecord)(B({},(0,y.default)({channelId:$,content:L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_1}),{state:R.MessageStates.SENT,id:""+t++
})),(0,v.createMessageRecord)(B({},(0,y.default)({channelId:$,content:e===R.ThemeTypes.DARK?L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT}),{state:R.MessageStates.SENT,id:""+t++})),(0,v.createMessageRecord)(B({},(0,y.default)({channelId:$,content:L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_3}),{state:R.MessageStates.SENT,id:""+t++})),(0,v.createMessageRecord)(B({},(0,y.default)({channelId:$,content:L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_4}),{state:R.MessageStates.SENT,id:""+t++})),(0,v.createMessageRecord)(B({},(0,y.default)({channelId:$,content:L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_5}),{state:R.MessageStates.SENT,id:"4"}))]},Q=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;x(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(r))||this).darkMessages=q(R.ThemeTypes.DARK);t.lightMessages=q(R.ThemeTypes.LIGHT);t.handleThemeChange=function(e){var t=e.value;"system"!==t&&u.default.updateRemoteSettings({theme:t});u.default.updatedUnsyncedSettings({useSystemTheme:"system"===t?D.SystemThemeState.ON:D.SystemThemeState.OFF})};t.handleDisplayCompactAvatarsChanged=function(e){u.default.updatedUnsyncedSettings({displayCompactAvatars:e})};t.handleMessageDisplayModeChange=function(e){var t=e.value;P.MessageDisplayCompact.updateSetting(t===V);(0,f.setMessageGroupSpacing)()};return t}var n=t.prototype;n.getPreviewMessage=function(e){return e===R.ThemeTypes.DARK?L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT};n.renderZoomSlider=function(){return M.isPlatformEmbedded?F(C.FormItem,{className:j.default.marginTop20},void 0,F(C.FormTitle,{id:Y,tag:C.FormTitleTags.H5,className:j.default.marginBottom8
},void 0,L.default.Messages.ACCESSIBILITY_ZOOM_LEVEL_LABEL),F(b.default,{className:(0,o.default)(j.default.marginTop20,j.default.marginBottom4),initialValue:this.props.zoom,defaultValue:R.Accessibility.ZOOM_DEFAULT,markers:R.Accessibility.ZOOM_SCALES,stickToMarkers:!0,onValueChange:this.handleZoomChange,onValueRender:this.handleSliderRender,"aria-labelledby":Y}),F(C.FormText,{type:C.FormText.Types.DESCRIPTION},void 0,L.default.Messages.USER_SETTINGS_APPEARANCE_ZOOM_TIP.format({modKey:d.default.modKey}))):null};n.renderFontScaleSlider=function(){return F(C.FormItem,{className:j.default.marginTop20},void 0,F(C.FormTitle,{id:K,tag:C.FormTitleTags.H5,className:j.default.marginBottom8},void 0,L.default.Messages.ACCESSIBILITY_FONT_SCALING_LABEL),F(E.default,{align:E.default.Align.CENTER},void 0,F(b.default,{className:(0,o.default)(j.default.marginTop20,j.default.marginBottom4),initialValue:this.props.fontSize,defaultValue:R.Accessibility.FONT_SIZE_DEFAULT,markers:R.Accessibility.FONT_SIZES,
stickToMarkers:!0,onValueChange:this.handleFontSizeChange,onValueRender:this.handleSliderRenderPX,onMarkerRender:this.handleSliderRenderPX,getAriaValueText:this.handleSliderValueText,"aria-labelledby":K})))};n.renderMessageGroupSpacingSlider=function(){var e=this.props,t=e.messageDisplayCompact,n=e.messageGroupSpacing;return F(C.FormItem,{className:j.default.marginTop20},void 0,F(C.FormTitle,{id:z,tag:C.FormTitleTags.H5,className:j.default.marginBottom8},void 0,L.default.Messages.ACCESSIBILITY_MESSAGE_GROUP_SPACING),F(b.default,{className:(0,o.default)(j.default.marginTop20,j.default.marginBottom4),initialValue:n,defaultValue:t?w.DEFAULT_COMPACT_SPACING:w.DEFAULT_COZY_SPACING,markers:w.MESSAGE_GROUP_SPACING,stickToMarkers:!0,onValueChange:this.handleMessageSpacingChange,onValueRender:this.handleSliderRenderPX,onMarkerRender:this.handleSliderRenderPX,getAriaValueText:this.handleSliderValueText,"aria-labelledby":z}))};n.renderPreview=function(){
var e=this.props,t=e.messageDisplayCompact,n=e.theme,r=e.messageGroupSpacing,a=e.renderMediaEmbeds,i=n===R.ThemeTypes.DARK?this.darkMessages:this.lightMessages;return F(S.default,{},void 0,F(g.default,{className:(0,o.default)(k.default.preview,j.default.marginBottom40,t?k.default.compactPreview:void 0,"group-spacing-"+(null!=r?r:t?w.DEFAULT_COMPACT_SPACING:w.DEFAULT_COZY_SPACING)),outline:!0,"aria-hidden":!0},void 0,i.map((function(e,n){return F(_.default,{author:(0,m.getMessageAuthor)(e),message:e,compact:t,isGroupStart:n%2==0,className:0===n?k.default.firstMessage:void 0,renderMediaEmbeds:a},e.id)}))))};n.renderTheme=function(){var e=this.props,t=e.theme,n=e.useForcedColors,r=e.useSystemTheme,a=e.darkSidebar,o=r===D.SystemThemeState.ON||n;return F(C.FormItem,{className:j.default.marginTop8,title:L.default.Messages.THEME},void 0,n&&F(C.FormText,{type:C.FormText.Types.DEFAULT,className:k.default.forcedColorsWarning},void 0,(0,
p.canEnableForcedColors)()?L.default.Messages.THEME_DISABLED_FOR_CONTRAST_SYNC.format({onClick:function(){l.default.open(R.UserSettingsSections.ACCESSIBILITY)}}):L.default.Messages.THEME_DISABLED_FOR_FORCED_COLORS),F(O.default,{options:[{name:L.default.Messages.THEME_DARK,value:R.ThemeTypes.DARK},{name:L.default.Messages.THEME_LIGHT,value:R.ThemeTypes.LIGHT},{name:L.default.Messages.THEME_SYSTEM,value:"system"}],onChange:this.handleThemeChange,value:o?"system":t,disabled:n,"aria-labelledBy":W}),F(I.default,{value:a&&t===R.ThemeTypes.LIGHT&&!n,disabled:t!==R.ThemeTypes.LIGHT||n,onChange:this.handleDarkSidebarChecked,className:j.default.marginTop20},void 0,L.default.Messages.ACCESSIBILITY_DARK_SIDEBAR))};n.renderDisplayMode=function(){return F(C.FormItem,{title:L.default.Messages.MESSAGE_DISPLAY_MODE_LABEL,className:j.default.marginTop8},void 0,F(O.default,{options:[{name:L.default.Messages.COZY_MODE,value:H},{name:L.default.Messages.COMPACT_MODE,value:V}],
onChange:this.handleMessageDisplayModeChange,value:this.props.messageDisplayCompact?V:H}),s.default.getCurrentConfig({}).enabled&&F(I.default,{value:this.props.messageDisplayCompact&&this.props.displayCompactAvatars,disabled:!this.props.messageDisplayCompact,onChange:this.handleDisplayCompactAvatarsChanged,className:j.default.marginTop20},void 0,L.default.Messages.DISPLAY_COMPACT_AVATARS))};n.handleDarkSidebarChecked=function(){(0,f.toggleDarkSidebar)()};n.renderScalingAndSpacing=function(){return a.createElement(a.Fragment,null,this.renderFontScaleSlider(),this.renderMessageGroupSpacingSlider(),this.renderZoomSlider(),F(C.FormDivider,{className:j.default.marginTop20}))};n.render=function(){return F(C.FormSection,{tag:C.FormTitleTags.H1,title:L.default.Messages.APPEARANCE},void 0,this.renderPreview(),this.renderTheme(),this.renderDisplayMode(),F(C.FormDivider,{className:j.default.marginTop20}),this.renderScalingAndSpacing(),F(T.Text,{variant:"text-md/normal",
className:j.default.marginTop20},void 0,L.default.Messages.APPEARANCE_SETTINGS_ACCESSIBILITY_LINK.format({onAccessibilityClick:function(){l.default.open(R.UserSettingsSections.ACCESSIBILITY)}})))};n.handleSliderRender=function(e){return e.toFixed(0)+"%"};n.handleSliderRenderPX=function(e){return e.toFixed(0)+"px"};n.handleSliderValueText=function(e){return L.default.Messages.PIXEL_VALUE_A11Y_TEXT.format({value:e})};n.handleFontSizeChange=function(e){(0,f.setFontSize)(e)};n.handleMessageSpacingChange=function(e){switch(e){case 0:case 4:case 8:case 16:case 24:(0,f.setMessageGroupSpacing)(e)}};n.handleZoomChange=function(e){(0,f.setZoom)(e)};return t}(a.Component);Q.displayName="UserSettingsAppearance";function X(){var e=P.MessageDisplayCompact.useSetting(),t=P.InlineEmbedMedia.useSetting(),n=P.RenderEmbeds.useSetting(),r=(0,i.useStateFromStoresObject)([h.default,N.default,c.default],(function(){return{theme:h.default.theme,useForcedColors:c.default.useForcedColors,
useSystemTheme:N.default.useSystemTheme,darkSidebar:c.default.darkSidebar,fontSize:c.default.fontSize,zoom:c.default.zoom,messageGroupSpacing:c.default.messageGroupSpacing,displayCompactAvatars:N.default.displayCompactAvatars}}));return a.createElement(Q,B({messageDisplayCompact:e,renderMediaEmbeds:t&&n},r))}X.displayName="ConnectedUserSettingsAppearance"},835672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=N(n(667294)),o=C(n(294184)),i=N(n(536211)),u=C(n(392654)),l=C(n(524791)),s=C(n(88509)),d=n(746920),f=C(n(303798)),c=C(n(395425)),p=C(n(663303)),v=C(n(871778)),y=N(n(956117)),m=N(n(558402)),_=N(n(737705)),h=C(n(530250)),g=C(n(80828)),E=n(688388),S=n(194322),O=C(n(692711)),b=n(278403),I=C(n(247001)),T=C(n(102172)),A=C(n(380203));function C(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}var w=i.default.connectStores([v.default],(function(){return{theme:v.default.theme}}))(_.default),D=function(e){var t,n,r=e.scopes,i=e.application,u=e.onDelete,l=function(){return(0,S.openModal)((function(e){return a.createElement(s.default,R({title:I.default.Messages.DEAUTHORIZE_APP,body:I.default.Messages.DELETE_APP_CONFIRM_MSG,confirmText:I.default.Messages.DEAUTHORIZE,cancelText:I.default.Messages.CANCEL,onConfirm:u},e))}))};return P(m.default,{className:(0,o.default)(T.default.authedApp,A.default.marginBottom8),outline:!0},void 0,(t=O.default.getApplicationIconURL({id:i.id,icon:i.icon}),n=null!=t?P(h.default.Child,{className:T.default.appAvatar,grow:0},void 0,P("img",{src:t,alt:""})):null,P(h.default,{className:(0,o.default)(T.default.header,A.default.marginBottom20)},void 0,P(h.default,{className:T.default.headerInfo},void 0,n,P(h.default.Child,{},void 0,P(E.FormText,{
type:E.FormTextTypes.LABEL_BOLD},void 0,P("span",{},void 0,i.name)))),P(h.default.Child,{wrap:!0,grow:0},void 0,P(y.default,{className:T.default.deleteApp,color:y.ButtonColors.RED,look:y.ButtonLooks.OUTLINED,size:y.ButtonSizes.SMALL,onClick:l},void 0,I.default.Messages.DEAUTHORIZE)))),function(){if(null!=i.description&&""!==i.description)return P(E.FormItem,{faded:!0,title:I.default.Messages.ABOUT_THIS_APP},void 0,P(E.FormText,{},void 0,i.description))}(),function(){var e=r.map((function(e){return P("li",{className:(0,o.default)(T.default.permission,A.default.marginTop8)},e,P("i",{className:T.default.permissionCheckmark}),P(E.FormText,{},void 0,(0,b.getHumanReadableScope)(e)))}));if(e.length>0)return P(E.FormItem,{faded:!0,title:I.default.Messages.PERMISSIONS,className:A.default.marginTop20},void 0,P("ul",{},void 0,e))}())};D.displayName="AuthorizedApp";var L=P(l.default,{}),k=function(){var e=(0,i.useStateFromStores)([p.default],(function(){return p.default.hidePersonalInformation
})),t=(0,i.useStateFromStores)([c.default],(function(){return c.default.getApps()})),r=(0,i.useStateFromStores)([f.default],(function(){return f.default.getSelfEmbeddedActivities()}));a.useEffect((function(){u.default.fetch()}),[]);return e?L:P(E.FormSection,{tag:E.FormTitleTags.H1,title:I.default.Messages.AUTHORIZED_APPS},void 0,P(E.FormNotice,{className:A.default.marginBottom40,type:m.Types.PRIMARY,title:I.default.Messages.APPLICATIONS_AND_CONNECTIONS,body:I.default.Messages.APPLICATIONS_AND_CONNECTIONS_BODY}),null==t?P(g.default,{className:A.default.marginTop20,type:g.default.Type.SPINNING_CIRCLE}):0===t.length?P(w,{className:T.default.marginTop20},void 0,P(_.EmptyStateImage,{darkSrc:n(3874),lightSrc:n(302255),width:380,height:282}),P(_.EmptyStateText,{note:I.default.Messages.NO_AUTHORIZED_APPS_NOTE},void 0,I.default.Messages.NO_AUTHORIZED_APPS)):t.map((function(e){return a.createElement(D,R({key:e.id,onDelete:function(){return function(e){var t=e.id,n=e.application
;u.default.delete(t);var a=r.get(n.id);null!=a&&(0,d.stopEmbeddedActivity)({channelId:a.channelId,applicationId:n.id})}(e)}},e))})))};k.displayName="UserSettingsAuthedApps";var j=k;t.default=j},24072:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=j;var r,a=N(n(667294)),o=C(n(441143)),i=n(536211),u=C(n(636602)),l=N(n(832635)),s=C(n(226800)),d=C(n(524791)),f=C(n(109043)),c=C(n(565093)),p=n(421748),v=C(n(663303)),y=C(n(871778)),m=C(n(728429)),_=C(n(697952)),h=C(n(748826)),g=C(n(146771)),E=C(n(558402)),S=C(n(530250)),O=C(n(80828)),b=C(n(662197)),I=n(770348),T=C(n(247001)),A=C(n(196806));function C(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var w=P(d.default,{}),D=P(O.default,{}),L=P(p.BlockedPaymentsWarning,{}),k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){u.default.wait((function(){l.fetchPaymentSources();l.fetchSubscriptions()}))};n.handleRedemptionRedirect=function(){s.default.setSection(I.UserSettingsSections.INVENTORY)};n.render=function(){var e=this.props,t=e.syncing,n=e.hide,r=e.paymentSources,a=e.defaultPaymentSourceId,o=e.locale,i=e.premiumSubscription,u=e.isRemovingPaymentSource,l=e.isUpdatingPaymentSource;return n?w:P("div",{className:A.default.userSettingsBilling},void 0,t&&0===Object.keys(r).length?P("div",{className:A.default.syncing},void 0,D):P(c.default,{paymentSources:r,defaultPaymentSourceId:a,premiumSubscriptionPaymentSourceId:null!=i&&i.status!==I.SubscriptionStatusTypes.CANCELED?i.paymentSourceId:null,locale:o,removing:u,submitting:l}),P("div",{className:A.default.paymentHistory},void 0,P(b.default,{tag:b.default.Tags.H1},void 0,P(S.default,{align:S.default.Align.CENTER
},void 0,T.default.Messages.BILLING_PAYMENT_HISTORY)),L,P(f.default,{locale:o})),P(E.default,{className:A.default.codeRedemptionRedirect,type:E.default.Types.CUSTOM},void 0,T.default.Messages.BILLING_CODE_REDEMPTION_REDIRECT.format({onClick:this.handleRedemptionRedirect})))};return t}(a.PureComponent);k.displayName="UserSettingsBilling";function j(){var e=(0,i.useStateFromStoresObject)([y.default,_.default,h.default,m.default,v.default,g.default],(function(){var e=g.default.getPremiumTypeSubscription(),t=m.default.getCurrentUser();(0,o.default)(null!=t,"UserSettingsBilling: currentUser cannot be undefined");return{locale:y.default.locale,hide:v.default.enabled,isClaimed:t.isClaimed(),isVerified:t.verified,premiumSubscription:e,defaultPaymentSourceId:h.default.defaultPaymentSourceId,paymentSources:h.default.paymentSources,syncing:_.default.isSyncing,isRemovingPaymentSource:_.default.isRemovingPaymentSource,isUpdatingPaymentSource:_.default.isUpdatingPaymentSource}}))
;return a.createElement(k,e)}j.displayName="UserSettingsBillingConnected"},710033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=j(n(667294)),o=L(n(294184)),i=n(536211),u=L(n(861315)),l=L(n(524791)),s=L(n(169404)),d=L(n(88509)),f=L(n(213847)),c=L(n(155502)),p=L(n(6887)),v=L(n(754416)),y=L(n(513266)),m=L(n(30098)),_=L(n(663303)),h=L(n(151097)),g=j(n(956117)),E=L(n(16941)),S=j(n(737705)),O=L(n(380439)),b=L(n(80828)),I=L(n(567668)),T=n(688388),A=L(n(259530)),C=n(194322),M=n(864489),N=n(894826),P=n(770348),R=L(n(247001)),w=L(n(125354)),D=L(n(380203));function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e,t){G=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return G(e,t)}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}var x=function(e){var t,n,r,a=e.integration,o=(0,i.useStateFromStores)([y.default],(function(){return y.default.isJoining(a.id)}),[a.id]);null!=(0,i.useStateFromStores)([m.default],(function(){return m.default.getGuild(a.guild.id)}),[a.guild.id])||(r=F(g.default,{size:g.ButtonSizes.SMALL,onClick:function(){u.default.joinServer(a.id,(function(){}))},disabled:o},void 0,F("span",{},void 0,o?R.default.Messages.JOINING_GUILD:R.default.Messages.JOIN_GUILD)));return F("div",{className:w.default.integration},void 0,F("div",{},void 0,F(O.default,{size:O.default.Sizes.SMALL,guild:a.guild,className:w.default.guildIcon}),F("div",{className:w.default.integrationInner},void 0,F(T.FormText,{className:w.default.integrationName},void 0,a.guild.toString()),F(h.default,{className:w.default.channelLink,href:null===(t=c.default.get(a.type))||void 0===t||null===(n=t.getPlatformUserUrl)||void 0===n?void 0:n.call(t,a.account)},void 0,a.account.name))),r)};x.displayName="Integration"
;var B=F(A.default,{width:16,height:16}),H=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;G(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleReconnect=function(){(0,v.default)(n.props.account.type,"User Settings")};n.handleDisconnect=function(){var e=c.default.get(n.props.account.type);(0,C.openModal)((function(t){return a.createElement(d.default,U({title:R.default.Messages.DISCONNECT_ACCOUNT_TITLE.format({name:e.name}),body:R.default.Messages.DISCONNECT_ACCOUNT_BODY,confirmText:R.default.Messages.DISCONNECT_ACCOUNT,cancelText:R.default.Messages.CANCEL,onConfirm:n.props.onDisconnect},t))}))};n.handleVisibilityChange=function(e){var t=n.props.account,r=e?1:0;if(t.verified){n.setState({visibility:r});u.default.setVisibility(t.type,t.id,r)}else{n._inProgressVisibility=r;(0,v.default)(t.type,"User Settings")}};n.handleInProgressVisibilityChange=function(){if(null!=n._inProgressVisibility){var e=n.props.account
;u.default.setVisibility(e.type,e.id,n._inProgressVisibility);n._inProgressVisibility=null}};n.handleFriendSyncChange=function(e){var t=n.props.account;n.setState({friendSync:e});u.default.setFriendSync(t.type,t.id,e)};n.handleShowActivityChange=function(e){var t=n.props.account;n.setState({showActivity:e});u.default.setShowActivity(t.type,t.id,e)};var r=t.account,o=r.friendSync,i=r.visibility,l=r.showActivity;n.state={friendSync:o,visibility:i,showActivity:l,accountProps:t.account};return n}t.getDerivedStateFromProps=function(e,t){var n=t.accountProps,r=n.friendSync,a=n.visibility,o=n.showActivity,i=e.account,u=i.friendSync,l=i.visibility,s=i.showActivity;return r!==u||a!==l||o!==s?{friendSync:u,visibility:l,showActivity:s,accountProps:e.account}:null};var n=t.prototype;n.componentDidUpdate=function(e){var t=e.account.verified,n=this.props.account.verified;!t&&n&&this.handleInProgressVisibilityChange()};n.renderHeader=function(e){var t=this.props,n=t.account,r=t.theme;return F("div",{
className:w.default.connectionHeader},void 0,F("img",{alt:e.name,className:w.default.connectionIcon,src:r===P.ThemeTypes.DARK?e.icon.darkSVG:e.icon.lightSVG}),F("div",{},void 0,F(T.FormText,{className:w.default.connectionAccountValue},void 0,n.name),F(T.FormText,{className:w.default.connectionAccountLabel,type:T.FormTextTypes.DESCRIPTION},void 0,c.default.get(n.type).name)),F(E.default,{className:w.default.connectionDelete,onClick:this.handleDisconnect,"aria-label":R.default.Messages.SERVICE_CONNECTIONS_DISCONNECT,focusProps:{offset:{top:-4,left:-4,right:-4}}},void 0,B))};n.renderConnectionOptions=function(e){var t,n,r=this.state,a=r.visibility,o=r.friendSync,i=r.showActivity,u=this.props.account;P.FRIEND_SYNC_PLATFORM_TYPES.has(u.type)&&(t=F(I.default,{className:w.default.connectionOptionSwitch,hideBorder:!0,value:o,onChange:this.handleFriendSyncChange},void 0,F("span",{className:w.default.subEnabledTitle},void 0,R.default.Messages.SYNC_FRIENDS)))
;P.ACTIVITY_PLATFORM_TYPES.has(u.type)&&(n=F(I.default,{className:w.default.connectionOptionSwitch,hideBorder:!0,value:i,onChange:this.handleShowActivityChange},void 0,F("span",{className:w.default.subEnabledTitle},void 0,R.default.Messages.DISPLAY_ACTIVITY.format({platform:e.name}))));return F("div",{className:w.default.connectionOptionsWrapper},void 0,F("div",{className:w.default.connectionOptions},void 0,F(I.default,{className:w.default.connectionOptionSwitch,hideBorder:!0,value:1===a,onChange:this.handleVisibilityChange},void 0,F("span",{className:w.default.subEnabledTitle},void 0,R.default.Messages.DISPLAY_ON_PROFILE)),n,t))};n.renderIntegrations=function(){var e=this.props.account;return e.revoked?F(T.FormItem,{className:w.default.integrationsWrapper},void 0,F(T.FormText,{className:w.default.integrationRevoked},void 0,R.default.Messages.CONNECTED_ACCOUNT_REVOKED.format({onReconnect:this.handleReconnect}))):e.integrations.length>0?F(T.FormItem,{
className:w.default.integrationsWrapper},void 0,F(T.FormTitle,{tag:T.FormTitleTags.H5},void 0,F("span",{className:w.default.subEnabledTitle},void 0,R.default.Messages.SUB_ENABLED_SERVERS)),F("div",{},void 0,e.integrations.map((function(e){return F(x,{integration:e},e.id)})))):void 0};n.renderDivider=function(){var e=this.props.account,t=e.revoked,n=e.integrations;if(t||n.length>0)return F(T.FormDivider,{className:w.default.connectedAccountSeparator})};n.render=function(){var e=this.props.account,t=c.default.get(e.type);return F("div",{className:w.default.connection},void 0,this.renderHeader(t),this.renderConnectionOptions(t),this.renderDivider(),this.renderIntegrations())};return t}(a.PureComponent);H.displayName="ConnectedAccount";var V=F(l.default,{}),W=function(){var e,t=(0,i.useStateFromStores)([_.default],(function(){return _.default.hidePersonalInformation})),r=(0,i.useStateFromStores)([y.default],(function(){return y.default.isFetching()})),l=(0,
i.useStateFromStores)([y.default],(function(){return y.default.getAccounts()})),d=N.DetectPlatformAccounts.useSetting(),v=(0,f.default)(),m=p.default.useExperiment({}).enabled;a.useEffect((function(){u.default.fetch()}),[]);return t?V:F(T.FormSection,{className:w.default.connections,tag:T.FormTitleTags.H1,title:R.default.Messages.CONNECTIONS},void 0,F("div",{className:(0,o.default)(w.default.accountList,(e={},e[D.default.marginBottom20]=!M.isPlatformEmbedded,e))},void 0,F(T.FormTitle,{className:D.default.marginBottom4},void 0,R.default.Messages.CONNECT_ACCOUNT_TITLE),F(T.FormText,{className:D.default.marginBottom8},void 0,R.default.Messages.CONNECT_ACCOUNT_DESCRIPTION),F("div",{className:w.default.connectedAccounts},void 0,c.default.filter((function(e){return e.enabled&&(e.type!==P.PlatformTypes.PLAYSTATION||m)})).map((function(e){return F(s.default,{type:e.type,className:w.default.accountBtn,innerClassName:w.default.accountBtnInner},e.type)})))),function(){
if(M.isPlatformEmbedded)return F(I.default,{value:d,onChange:N.DetectPlatformAccounts.updateSetting,className:(0,o.default)(D.default.marginTop20,D.default.marginBottom20)},void 0,R.default.Messages.DETECT_PLATFORM_ACCOUNTS)}(),function(){var e;e=r?F(b.default,{className:D.default.marginTop20,type:b.default.Type.SPINNING_CIRCLE}):0===l.length?F(S.default,{className:D.default.marginTop40,theme:v},void 0,F(S.EmptyStateImage,{darkSrc:n(117399),lightSrc:n(408056),width:230,height:220}),F(S.EmptyStateText,{note:R.default.Messages.CONNECTED_ACCOUNTS_NONE},void 0,R.default.Messages.CONNECTED_ACCOUNTS_NONE_TITLE)):l.filter((function(e){return c.default.isSupported(e.type)})).map((function(e,t){return F(H,{theme:v,account:e,onDisconnect:function(){return n=(t=e).type,r=t.id,void u.default.disconnect(n,r);var t,n,r}},t)}));return F(T.FormItem,{className:w.default.connectionList},void 0,e)}())};W.displayName="UserSettingsConnections";var Y=W;t.default=Y},367865:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=K(n(667294)),o=W(n(294184)),i=W(n(496486)),u=K(n(536211)),l=n(188622),s=K(n(622349)),d=K(n(483559)),f=W(n(379319)),c=W(n(680219)),p=W(n(14096)),v=n(713746),y=n(224179),m=n(329117),_=n(113307),h=W(n(954970)),g=W(n(909243)),E=W(n(859024)),S=W(n(871778)),O=W(n(728429)),b=n(81636),I=K(n(956117)),T=W(n(558402)),A=K(n(737705)),C=W(n(530250)),M=n(772575),N=W(n(80828)),P=W(n(567668)),R=n(645758),w=W(n(279950)),D=n(688388),L=W(n(114655)),k=n(3400),j=n(194322),U=n(967965),G=n(770348),F=n(871615),x=W(n(383654)),B=W(n(122688)),H=W(n(380203)),V=W(n(840348));function W(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function K(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){X(o,r,a,i,u,"next",e)}function u(e){X(o,r,a,i,u,"throw",e)}i(void 0)}))}}function J(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ee(e,t)}function ee(e,t){ee=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ee(e,t)}function te(){te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return te.apply(this,arguments)}function ne(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var re=["discord_web","discord_marketing","discord_ios","discord_android"],ae=[{value:"branch",label:"Branch Name"},{value:"id",label:"Build ID"}];function oe(e){
return"discord_ios"in e||"discord_android"in e}var ie=ne(k.ModalHeader,{separator:!1},void 0,ne(M.Heading,{variant:"heading-lg/medium",level:2},void 0,"Choose A Project to Override"));function ue(e){return new Promise((function(t){(0,j.openModal)((function(n){var r=function(e){n.onClose();t(e)};return a.createElement(k.ModalRoot,te({},n,{"aria-label":"Choose A Project to Override"}),ie,ne(k.ModalContent,{},void 0,ne("div",{className:x.default.buildOverrideList},void 0,e.map((function(e){return ne(I.default,{value:e,color:I.default.Colors.GREEN,onClick:function(){return r(e)}},e,e)})))),ne(k.ModalFooter,{},void 0,ne(I.default,{color:I.default.Colors.PRIMARY,look:I.default.Looks.LINK,onClick:function(){return r(null)}},void 0,"Nevermind")))}))}))}var le=function(e){J(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleRemoveBuildOverride=function(){t.props.onBuildOverrideRemoved(t.props.project)}
;t.handleOverrideIdChanged=function(e){t.props.onBuildOverrideUpdated(t.props.project,{id:e})};t.handleOverrideTypeChanged=function(e){t.props.onBuildOverrideUpdated(t.props.project,{type:e,id:""})};return t}t.prototype.render=function(){var e,t=this.props,n=t.project,r=t.overrideType,a=t.overrideId,i=t.disabled,u=t.error,l="branch"===r?"Branch Name":"Build ID";return ne(C.default,{direction:C.default.Direction.VERTICAL,className:(0,o.default)(x.default.buildOverrideGroup,H.default.marginBottom20,B.default.card,x.default.row)},void 0,ne(f.default,{className:(0,o.default)(x.default.removeBuildOverride,(e={},e[x.default.removeBuildOverrideDisabled]=i,e)),onClick:i?void 0:this.handleRemoveBuildOverride}),ne(C.default,{className:H.default.marginBottom8},void 0,ne(C.default.Child,{basis:"50%"},void 0,ne(D.FormItem,{title:"Override Type",className:x.default.item},void 0,ne(U.SingleSelect,{options:ae,onChange:this.handleOverrideTypeChanged,value:r,isDisabled:i}))),ne(C.default.Child,{
basis:"50%"},void 0,ne(D.FormItem,{title:l,className:x.default.item},void 0,ne(w.default,{value:a,onChange:this.handleOverrideIdChanged,disabled:i})))),ne(C.default.Child,{},void 0,null!=u&&""!==u&&ne(D.FormText,{className:x.default.item,style:{color:G.Colors.STATUS_RED},type:D.FormText.Types.DESCRIPTION},void 0,u),ne(D.FormText,{className:x.default.item,type:D.FormText.Types.DESCRIPTION},void 0,"This controls the build that will be served for the ",ne("code",{},void 0,n)," project.")))};return t}(a.Component);le.displayName="BuildOverride";var se=ne(A.EmptyStateText,{},void 0,"You have no build overrides configured."),de=ne(R.Text,{color:"text-danger",variant:"text-md/normal"},void 0,"Mobile build overrides must be generated using the desktop/web stable client for now!"),fe=ne(D.FormDivider,{}),ce=function(e){J(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={loading:!0,buildOverrides:{},
loadedBuildOverrides:{},errors:{},saving:!1,didSave:!1};t.handleAddBuildOverride=Z(regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return ue(t.getAvailableProjects());case 2:if(null!=(r=e.sent)){e.next=5;break}return e.abrupt("return");case 5:a=te({},t.state.buildOverrides,((n={})[r]={type:"branch",id:""},n));t.setState({buildOverrides:a});case 7:case"end":return e.stop()}}),e)})));t.handleBuildOverrideUpdated=function(e,n){var r,a=t.state.buildOverrides,o=te({},null!=a?a[e]:{},{},n),i=te({},t.state.buildOverrides,((r={})[e]=o,r));t.setState({buildOverrides:i})};t.handleBuildOverrideRemoved=function(e){var n=te({},t.state.buildOverrides);delete n[e];t.setState({buildOverrides:n})};t.handleDiscardChanges=function(){t.setState({buildOverrides:i.default.cloneDeep(t.state.loadedBuildOverrides),errors:{},didSave:!1})};t.handleSaveChanges=Z(regeneratorRuntime.mark((function e(){var n,r,a,o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=t.state.buildOverrides)){e.next=3;break}return e.abrupt("return");case 3:t.setState({saving:!0});e.next=6;return(0,v.applyStaffBuildOverride)(n);case 6:if(200===(r=e.sent).status){a=r.body;t.setState({buildOverrides:a,loadedBuildOverrides:i.default.cloneDeep(a),errors:{},didSave:!0,saving:!1})}else if(400===r.status){o=r.body;t.setState({errors:o,saving:!1,didSave:!1})}else t.setState({saving:!1,didSave:!1});case 8:case"end":return e.stop()}}),e)})));t.handleLinkGeneration=function(){var e=t.state.buildOverrides;(0,j.openModal)((function(t){return a.createElement(ve,te({},t,{buildOverrides:e}))}))};return t}var r=t.prototype;r.refreshBuildOverrides=function(){var e=Z(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0});e.next=3;return(0,y.getBuildOverride)();case 3:t=e.sent;this.setState({
loading:!1,buildOverrides:t,loadedBuildOverrides:i.default.cloneDeep(t),errors:{}});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}();r.isDirty=function(){var e=this.state,t=e.buildOverrides,n=e.loadedBuildOverrides;return!i.default.isEqual(t,n)};r.componentDidMount=function(){this.refreshBuildOverrides()};r.getAvailableProjects=function(){var e=this.state.buildOverrides;if(null==e)return[];var t=Object.keys(e);return i.default.without.apply(i.default,[re].concat($(t)))};r.renderEmpty=function(){return ne(A.default,{theme:S.default.theme,className:(0,o.default)(H.default.marginTop40,H.default.marginBottom20)},void 0,ne(A.EmptyStateImage,{darkSrc:n(921912),lightSrc:n(964766),width:294,height:192}),se)};r.renderItems=function(){var e=this,t=this.state,n=t.buildOverrides,r=t.saving,a=t.errors;return null==n?null:i.default.map(n,(function(t,n){return ne(le,{project:n,overrideType:t.type,overrideId:t.id,disabled:r,error:a[n],
onBuildOverrideUpdated:e.handleBuildOverrideUpdated,onBuildOverrideRemoved:e.handleBuildOverrideRemoved},n)}))};r.renderRefreshButton=function(){return!this.state.didSave||this.isDirty()?null:ne(C.default,{grow:0,direction:C.default.Direction.HORIZONTAL_REVERSE},void 0,ne(C.default.Child,{grow:0},void 0,ne(I.default,{onClick:function(){return location.reload()},color:I.default.Colors.PRIMARY},void 0,"Reload App")))};r.renderLinkButton=function(){var e=this.state.buildOverrides;return null==e||0===Object.keys(e).length?null:ne(C.default,{grow:0,direction:C.default.Direction.HORIZONTAL_REVERSE},void 0,ne(C.default.Child,{grow:0},void 0,ne(I.default,{onClick:this.handleLinkGeneration,color:I.default.Colors.BRAND},void 0,"Generate Public Link")))};r.renderSaveButton=function(){if(!this.isDirty())return null;var e=this.state,t=e.saving,n=e.buildOverrides;return ne(C.default,{grow:0,direction:C.default.Direction.HORIZONTAL_REVERSE},void 0,ne(C.default.Child,{grow:0},void 0,ne(I.default,{
disabled:oe(null!=n?n:{}),onClick:this.handleSaveChanges,submitting:t,color:I.default.Colors.GREEN},void 0,"Save Build Overrides")),ne(C.default.Child,{grow:0},void 0,ne(I.default,{onClick:this.handleDiscardChanges,disabled:t,color:I.default.Colors.RED},void 0,"Discard Changes")))};r.render=function(){var e,t=this.state,n=t.loading,r=t.saving,a=t.buildOverrides;e=n?ne(N.default,{className:H.default.marginTop20}):null!=a&&0===Object.keys(a).length?this.renderEmpty():this.renderItems();var o=!r&&!n&&this.getAvailableProjects().length>0,i=oe(null!=a?a:{})&&"stable"!==window.GLOBAL_ENV.RELEASE_CHANNEL?de:null;return ne(D.FormSection,{className:H.default.marginTop60},void 0,ne(C.default,{className:H.default.marginBottom20},void 0,ne(C.default.Child,{},void 0,ne(D.FormTitle,{tag:D.FormTitleTags.H1},void 0,"Build Overrides")),ne(C.default.Child,{grow:0},void 0,ne(I.default,{size:I.ButtonSizes.SMALL,onClick:this.handleAddBuildOverride,disabled:!o
},void 0,"Add Build Override"))),fe,ne(C.default,{direction:C.default.Direction.VERTICAL},void 0,i,e,ne(C.default,{grow:0,direction:C.default.Direction.HORIZONTAL_REVERSE},void 0,this.renderRefreshButton(),this.renderSaveButton(),this.renderLinkButton())))};return t}(a.Component);ce.displayName="BuildOverrides";var pe=ne(M.Heading,{variant:"heading-lg/medium",level:2},void 0,"Generate Public Build Override Link"),ve=function(e){J(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={ttlSeconds:3600,releaseChannel:"all",userIds:[],userIdEntry:"",userIdEntryError:null,allowedVersions:[],allowedVersionEntry:"",allowedVersionEntryError:null,publicLink:" ",statusText:null,statusTextColor:L.default.Colors.STATUS_RED,allowLoggedOut:!1};t.setUserEntryError=function(e){t.setState({userIdEntryError:e})};t.setStatusMessage=function(e,n){t.setState({statusText:e,
statusTextColor:null!=n?n:L.default.Colors.STATUS_RED})};t.handleUserIDEntry=function(e){e=e.trim();if(!/^\d+$/.test(e))return t.setUserEntryError("User IDs are numbers!");t.setState({userIdEntry:e})};t.handleUserEnter=function(e){e.charCode===G.KeyboardKeys.ENTER&&t.handleAddUser()};t.handleAddUser=function(){var e=t.state,n=e.userIds,r=e.userIdEntry;if(0===r.length)return t.setUserEntryError("Enter a valid user ID!");if(n.indexOf(r)>=0)return t.setUserEntryError("You already added that user!");t.setState({userIds:[].concat($(n),[r]),userIdEntry:""})};t.handleRemoveUser=function(e){var n=t.state.userIds;n=n.filter((function(t){return t!==e}));t.setState({userIds:n})};t.setAllowedVersionError=function(e){t.setState({allowedVersionEntryError:e})};t.handleAllowedVersionEntry=function(e){t.setState({allowedVersionEntry:e})};t.handleAllowedVersionEnter=function(e){e.charCode===G.KeyboardKeys.ENTER&&t.handleAddAllowedVersion()};t.handleAddAllowedVersion=function(){
var e=t.state,n=e.allowedVersions,r=e.allowedVersionEntry;if(0===(r=r.trim()).length)return t.setAllowedVersionError("Enter a valid version number!");if(n.indexOf(r)>=0)return t.setAllowedVersionError("You already added that version!");t.setState({allowedVersions:[].concat($(n),[r]),allowedVersionEntry:"",allowedVersionEntryError:""})};t.handleRemoveAllowedVersion=function(e){var n=t.state.allowedVersions;n=n.filter((function(t){return t!==e}));t.setState({allowedVersions:n})};t.handleAllowLoggedOut=function(e){t.setState({allowLoggedOut:e})};t.handleExpirationChange=function(e){t.setState({ttlSeconds:e})};t.handleReleaseChannelChange=function(e){t.setState({releaseChannel:e})};t.generatePayload=function(){return{overrides:t.props.buildOverrides,meta:{release_channel:"all"===t.state.releaseChannel?null:t.state.releaseChannel,ttl_seconds:t.state.ttlSeconds,user_ids:t.state.userIds,allowed_versions:t.isMobile()?t.state.allowedVersions:void 0,allow_logged_out:t.state.allowLoggedOut}}}
;t.handleGenerateLink=Z(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isMobile()||0!==t.state.allowedVersions.length){e.next=3;break}t.setAllowedVersionError("You must add at least one allowed version for iOS");return e.abrupt("return");case 3:t.setStatusMessage(null);n=t.generatePayload();e.next=7;return(0,v.getPublicBuildOverrideLink)(n);case 7:if(!1!==(r=e.sent).error)t.setStatusMessage(r.error.toString(),L.default.Colors.STATUS_RED);else{t.setState({publicLink:r.url.toString()});0===n.meta.user_ids.length&&t.setStatusMessage("Warning! No users added to the whitelist! This link could be used by anyone to override their build.",L.default.Colors.STATUS_YELLOW)}case 9:case"end":return e.stop()}}),e)})));return t}var r=t.prototype;r.isMobile=function(){var e;return oe(null!==(e=this.props.buildOverrides)&&void 0!==e?e:{})};r.renderSettingsForm=function(){
var e=this,t=this.state,n=t.ttlSeconds,r=t.releaseChannel,o=t.userIdEntry,i=t.userIdEntryError,u=t.userIds,l=t.allowedVersions,s=t.allowedVersionEntry,d=t.allowedVersionEntryError,f=t.allowLoggedOut,c=F.BUILD_OVERRIDE_EXPIRATION_OPTIONS.find((function(e){return e.value===n})),p=l.map((function(e){return{label:e,value:e}})),v=u.map((function(e){return{label:e,value:e}}));return ne(C.default.Child,{basis:"70%"},void 0,ne(D.FormItem,{title:"Expire After",className:H.default.marginBottom20},void 0,ne(U.SingleSelect,{value:null!=c?c.value:null,options:F.BUILD_OVERRIDE_EXPIRATION_OPTIONS,onChange:this.handleExpirationChange})),this.isMobile()?null:ne(D.FormItem,{title:"Release Channel",className:H.default.marginBottom20},void 0,ne(U.SingleSelect,{value:r,options:F.BUILD_OVERRIDE_RELEASE_CHANNEL_OPTIONS,onChange:this.handleReleaseChannelChange})),this.isMobile()?a.createElement(a.Fragment,null,ne(D.FormItem,{title:"Add allowed app version (required)",className:H.default.marginBottom20
},void 0,ne(C.default,{direction:C.default.Direction.HORIZONTAL},void 0,ne(C.default.Child,{wrap:!0,basis:"90%"},void 0,ne(w.default,{autoFocus:!0,value:s,onKeyPress:this.handleAllowedVersionEnter,error:d,onChange:this.handleAllowedVersionEntry,placeholder:"Example: 34.0"})),ne(I.default,{onClick:this.handleAddAllowedVersion},void 0,"Add"))),ne(D.FormItem,{title:"Remove allowed app version",className:H.default.marginBottom20},void 0,ne(U.SingleSelect,{value:null,options:p,onChange:this.handleRemoveAllowedVersion,isDisabled:0===l.length}))):null,this.isMobile()?null:a.createElement(a.Fragment,null,ne(D.FormItem,{title:"Add User ID (optional)",className:H.default.marginBottom20},void 0,ne(C.default,{direction:C.default.Direction.HORIZONTAL},void 0,ne(C.default.Child,{wrap:!0,basis:"90%"},void 0,ne(w.default,{autoFocus:!0,value:o,onKeyPress:this.handleUserEnter,error:i,onBlur:function(){return e.setUserEntryError("")},onChange:this.handleUserIDEntry})),ne(I.default,{
onClick:this.handleAddUser},void 0,"Add"))),ne(D.FormItem,{title:"Remove User ID",className:H.default.marginBottom20},void 0,ne(U.SingleSelect,{value:null,options:v,onChange:this.handleRemoveUser,isDisabled:0===u.length}))),ne(P.default,{onChange:this.handleAllowLoggedOut,value:f},void 0,"Allow logged out users"))};r.renderPayloadBlock=function(){var e=JSON.stringify(this.generatePayload(),null,2),t=function(){return e},r=ne(m.LazyLibrary,{createPromise:function(){return Promise.resolve().then(n.bind(n,891433))},webpackId:891433,renderFallback:t,render:function(n){var r=n.highlight("json",e,!0);return null==r?t():ne("code",{className:"hljs scroller "+r.language+" "+V.default.scrollbarGhost+" "+x.default.codebox,dangerouslySetInnerHTML:{__html:r.value}})}});return ne(C.default.Child,{},void 0,ne(T.default,{},void 0,ne("pre",{},void 0,r)))};r.renderLinkForm=function(){var e=this.state,t=e.statusTextColor,n=e.statusText,r=e.publicLink;return ne("div",{},void 0,ne(D.FormItem,{
title:"Signed Link"},void 0,ne(C.default,{},void 0,ne(C.default.Child,{wrap:!0,basis:"75%"},void 0,ne(c.default,{value:r})),ne(I.default,{onClick:this.handleGenerateLink},void 0,"Generate Link"))),ne(L.default,{color:t,className:H.default.marginBottom8+" "+H.default.marginTop8},void 0,n))};r.render=function(){var e=this.props,t=e.onClose,n=e.transitionState;return ne(k.ModalRoot,{size:k.ModalSize.LARGE,transitionState:n,"aria-label":"Generate Public Build Override Link"},void 0,ne(k.ModalHeader,{justify:C.default.Justify.BETWEEN,separator:!1},void 0,pe,ne(k.ModalCloseButton,{onClick:t})),ne(k.ModalContent,{},void 0,ne(C.default,{},void 0,this.renderSettingsForm(),this.renderPayloadBlock()),this.renderLinkForm()))};return t}(a.Component);ve.displayName="BuildOverrideLinkModal";var ye=function(e){var t=e.isTracingRequests,n=e.isForcedCanary,r=e.isLoggingGatewayEvents,o=e.isLoggingOverlayEvents,i=e.isLoggingAnalyticsEvents,s=(e.isAxeEnabled,
e.isSourceMapsEnabled),f=e.isAnalyticsDebuggerEnabled,c=e.isDevToolsEnabled,v=(0,u.useStateFromStores)([O.default],(function(){return O.default.getCurrentUser()}));return ne(D.FormSection,{title:"Developer Flags",tag:D.FormTitleTags.H1},void 0,(null==v?void 0:v.isStaff())&&ne(P.default,{value:c,note:a.createElement(a.Fragment,null,"Enable client DevTools (open via Help menu in top right or with"," ",ne("kbd",{className:x.default.key},void 0,p.default.modKey)," + ",ne("kbd",{className:x.default.key},void 0,p.default.altKey)," ","+ ",ne("kbd",{className:x.default.key},void 0,"O"),")."),onChange:function(e){return(0,_.updateDevToolsSettings)({devToolsEnabled:e})}},void 0,"Enable DevTools"),ne(P.default,{value:t,note:"Force trace all client requests with APM",onChange:function(e){return(0,l.setDeveloperOptionSettings)({trace:e})}},void 0,"Enable Tracing Requests"),ne(P.default,{value:n,note:"Force all API requests to canary instances",onChange:function(e){return(0,
l.setDeveloperOptionSettings)({canary:e})}},void 0,"Enable Forced Canary"),ne(P.default,{value:r,note:"Logs all incoming and outgoing gateway events to the developer console, enable verbose logging in the developer console to see!",onChange:function(e){return(0,l.setDeveloperOptionSettings)({logGatewayEvents:e})}},void 0,"Enable Logging of Gateway Events to Console"),ne(P.default,{value:o,note:"Logs all overlay related RPC events. Super noisy if an overlay is connected",onChange:function(e){return(0,l.setDeveloperOptionSettings)({logOverlayEvents:e})}},void 0,"Enable Logging of Overlay RPC Events & Commands"),ne(P.default,{value:i,note:"Logs all analytics events to the developer console",onChange:function(e){return(0,l.setDeveloperOptionSettings)({logAnalyticsEvents:e})}},void 0,"Enable Logging of Analytics Events"),ne(P.default,{value:s,note:"Only enable on devices you trust.",onChange:function(e){return(0,l.setDeveloperOptionSettings)({sourceMapsEnabled:e})}
},void 0,"Enable source maps to be loaded on this client"),ne(P.default,{value:f,note:"Displays a floating debugger with viewed impressions",onChange:function(e){return(0,l.setDeveloperOptionSettings)({analyticsDebuggerEnabled:e})}},void 0,"Enable standard analytics debugger view"),null,(null==v?void 0:v.isStaff())?ne(P.default,{value:null==v?void 0:v.hasDisabledPremium(),note:"Force non premium user experience locally",onChange:function(e){return d.setFlag(G.UserFlags.DISABLE_PREMIUM,e)}},void 0,"Enable force non nitro experience locally"):null)};ye.displayName="DeveloperFlagsInner";var me=ne(I.default,{onClick:function(){throw new Error("Send help")}},void 0,"Trigger onClick Throw");function _e(){var e=z(a.useState(!1),2),t=e[0],n=e[1],r=z(a.useState(""),2),o=r[0],i=r[1];a.useEffect((function(){Z(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,b.getOverlayURL)();case 2:t=e.sent;i(t);case 4:
case"end":return e.stop()}}),e)})))()}),[]);return t?{}:ne("div",{className:x.default.buttonsContainer},void 0,ne(I.default,{onClick:function(){return n(!0)}},void 0,"Trigger React Crash"),me,ne(I.default,{onClick:function(){return window.open(o,"_blank")},disabled:""===o},void 0,"Open Overlay"))}_e.displayName="UsefulButtons";var he=u.default.connectStores([g.default,h.default],(function(){return{isTracingRequests:g.default.isTracingRequests,isForcedCanary:g.default.isForcedCanary,isLoggingGatewayEvents:g.default.isLoggingGatewayEvents,isLoggingOverlayEvents:g.default.isLoggingOverlayEvents,isLoggingAnalyticsEvents:g.default.isLoggingAnalyticsEvents,isAxeEnabled:g.default.isAxeEnabled,isSourceMapsEnabled:g.default.sourceMapsEnabled,isAnalyticsDebuggerEnabled:g.default.isAnalyticsDebuggerEnabled,isDevToolsEnabled:h.default.devToolsEnabled}}))(ye),ge=ne(D.FormTitle,{},void 0,"Copy the ID of the Survey you want to test:"),Ee=ne(I.default,{type:"submit"},void 0,"Save Override")
;function Se(){var e=(0,u.useStateFromStores)([E.default],(function(){return E.default.getSurveyOverride()})),t=z(a.useState(null!=e?e:""),2),n=t[0],r=t[1];return ne(D.FormSection,{tag:D.FormTitleTags.H1,title:"Survey Override",className:H.default.marginTop60},void 0,ge,ne("form",{className:x.default.surveyOverride,onSubmit:function(e){e.preventDefault();n.length>0?s.overrideSurvey(n):s.overrideSurvey(null)}},void 0,ne(w.default,{className:x.default.surveyOverrideInput,value:n,onChange:r}),Ee))}Se.displayName="SurveyOverride";var Oe=ne(a.Fragment,{},void 0,ne(he,{}),ne(_e,{}),ne(Se,{}),ne(ce,{})),be=function(e){J(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return Oe};return t}(a.PureComponent);be.displayName="UserSettingsModalDeveloperOptions";var Ie=be;t.default=Ie},117944:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ee
;var r,a=U(n(667294)),o=k(n(294184)),i=U(n(536211)),u=k(n(234161)),l=k(n(379319)),s=k(n(834162)),d=k(n(871778)),f=U(n(956117)),c=k(n(16941)),p=k(n(265851)),v=U(n(737705)),y=k(n(410208)),m=k(n(618993)),_=k(n(160629)),h=k(n(567668)),g=k(n(730977)),E=n(688388),S=k(n(68259)),O=k(n(330998)),b=k(n(804080)),I=k(n(614617)),T=n(862728),A=n(864489),C=n(894826),M=n(770348),N=k(n(247001)),P=k(n(835244)),R=k(n(480798)),w=k(n(3066)),D=k(n(122688)),L=k(n(380203));function k(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function G(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||W(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(){F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return F.apply(this,arguments)}function x(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;B(e,t)}function B(e,t){B=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return B(e,t)}function H(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||W(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K=i.default.connectStores([d.default],(function(){return{theme:d.default.theme}}))(v.default),z=(0,A.isWindows)();function $(e){var t=e.onClose,n=(0,i.useStateFromStores)([s.default],(function(){return s.default.getCandidateGames()})),r=V(a.useState(null),2),l=r[0],d=r[1];var c=n.map((function(e){return{value:e.pid,label:null!=e.name?e.name:""}}));return H(p.default,{className:(0,o.default)(P.default.addGamePopout,R.default.elevationBorderHigh),"aria-label":N.default.Messages.SETTINGS_GAMES_ADD_NEW_GAME},void 0,H(I.default,{placeholder:N.default.Messages.SELECT,value:l,options:c,onChange:function(e){d(e)}}),H(E.FormDivider,{className:(0,o.default)(L.default.marginTop8,L.default.marginBottom8)}),H("div",{
className:(0,o.default)(P.default.actions,w.default.horizontal)},void 0,H(f.default,{className:P.default.cancelButton,look:f.ButtonLooks.LINK,color:f.ButtonColors.PRIMARY,onClick:t},void 0,N.default.Messages.CANCEL),H(f.default,{disabled:null==l,onClick:function(){if(null!=l){u.default.addGame(l);t()}}},void 0,N.default.Messages.SETTINGS_GAMES_ADD_NEW_GAME)))}$.displayName="AddGamePopout";var q=function(e){x(t,e);function t(){for(var t,n,r,a,o,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];(o=e.call.apply(e,[this].concat(l))||this).state={editingName:null!==(t=null===(n=o.props.game)||void 0===n?void 0:n.name)&&void 0!==t?t:"",gameName:null!==(r=null===(a=o.props.game)||void 0===a?void 0:a.name)&&void 0!==r?r:""};o.handleRemoveClick=function(){var e=o.props.game;null!=e&&u.default.deleteEntry(e)};o.handleNameEdit=function(){var e=o.props.game,t=o.state.editingName;null!=e&&e.name!==t&&u.default.editName(e,t)};o.handleNameChange=function(e){o.setState({
editingName:e.target.value})};o.handleOverlayToggle=function(){var e=o.props.game;null!=e&&u.default.toggleOverlay(e)};return o}t.getDerivedStateFromProps=function(e,t){var n,r=e.game,a=e.nowPlaying,o=t.editingName,i=t.gameName;return a&&null!=r&&r.name!==i&&r.name!==o?{editingName:r.name,gameName:r.name}:{gameName:null!==(n=null==r?void 0:r.name)&&void 0!==n?n:""}};var n=t.prototype;n.renderName=function(){var e=this.props,t=e.game,n=e.isOverride;return null==t?H("div",{className:P.default.gameName},void 0,N.default.Messages.SETTINGS_GAMES_NO_GAME_DETECTED):t.verified&&!n?H("div",{className:P.default.detectedApplication},void 0,H("div",{className:P.default.gameName},void 0,t.name),H(g.default,{text:N.default.Messages.SETTINGS_GAMES_VERIFIED_ICON},void 0,(function(e){return a.createElement(y.default,F({className:P.default.gameVerifiedIcon,size:18,color:M.Colors.BRAND_500},e),H(b.default,{width:18,height:18,color:M.Colors.WHITE}))}))):H("input",{className:(0,
o.default)(P.default.gameName,P.default.gameNameInput),type:"text",maxLength:128,value:this.state.editingName,onBlur:this.handleNameEdit,onKeyDown:this.handleEnterKey,onChange:this.handleNameChange})};n.renderLastPlayed=function(){var e=this.props,t=e.game,n=e.nowPlaying;if(null==t)return H("div",{className:P.default.lastPlayed},void 0,N.default.Messages.SETTINGS_GAMES_NOT_PLAYING);var r,a=t.played,o=t.exePath;n?r=N.default.Messages.SETTINGS_GAMES_NOW_PLAYING_STATE:null!=a&&""!==a&&(r=N.default.Messages.SETTINGS_GAMES_LAST_PLAYED.format({when:a}));return H("div",{className:P.default.lastPlayed},void 0,H(m.default,{hoverText:null!=o&&""!==o?o.toUpperCase():""},void 0,r))};n.renderOverlayToggle=function(){var e=this,t=this.props.game;if(!z||null==t)return null;var n=t.overlay,r=t.overlayWarn,i=n?N.default.Messages.SETTINGS_GAMES_OVERLAY_ON:N.default.Messages.SETTINGS_GAMES_OVERLAY_OFF,u=n?H(S.default,{className:P.default.overlayToggleIconOn,foreground:P.default.fill}):H(O.default,{
className:P.default.overlayToggleIconOff,foreground:P.default.fill}),l=r?H(g.default,{text:N.default.Messages.SETTINGS_GAMES_OVERLAY_WARNING},void 0,(function(e){return a.createElement("i",F({className:P.default.overlayWarningIcon},e))})):null;return H("div",{className:(0,o.default)(w.default.flexCenter,w.default.noWrap,w.default.justifyBetween)},void 0,l,H("div",{className:P.default.overlayStatusText},void 0,i),H(g.default,{text:N.default.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY},void 0,(function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return H(c.default,{"aria-label":N.default.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY,className:P.default.overlayToggleIcon,onClick:e.handleOverlayToggle,onMouseEnter:n,onMouseLeave:r},void 0,u)})))};n.renderRemove=function(){return H(l.default,{className:P.default.removeGame,onClick:this.handleRemoveClick})};n.render=function(){var e,t=this.props,n=t.nowPlaying,r=t.game,a=t.isOverride,i=null!=r;return H("div",{className:(0,
o.default)(w.default.flexCenter,((e={})[P.default.game]=!n,e[P.default.activeGame]=n,e[D.default.card]=!n,e[P.default.nowPlaying]=i&&n,e[P.default.notDetected]=!i&&n,e))},void 0,H("div",{className:(0,o.default)(P.default.gameNameLastPlayed,w.default.vertical)},void 0,this.renderName(),this.renderLastPlayed()),this.renderOverlayToggle(),null==r||n&&!a?null:this.renderRemove())};n.handleEnterKey=function(e){if(13===e.keyCode){e.currentTarget.blur();e.preventDefault()}};return t}(a.PureComponent);q.displayName="Game";q.defaultProps={nowPlaying:!1,isOverride:!1};function Q(e){var t=e.children;return H(K,{className:L.default.marginTop40},void 0,H(v.EmptyStateImage,{darkSrc:n(498913),lightSrc:n(598150),width:430,height:250}),t)}Q.displayName="GameEmptyStateImage";var X=H(Q,{}),Z=function(e){x(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){s.default.watchCandidateGames(!0)};n.componentWillUnmount=function(){
s.default.watchCandidateGames(!1)};n.renderPopout=function(e){return H($,{onClose:e.closePopout})};n.renderGameList=function(){var e=this.props,t=e.gameHistory,n=e.overrideExePaths;return 0===t.length?H(Q,{},void 0,H(v.EmptyStateText,{},void 0,N.default.Messages.SETTINGS_GAMES_NO_GAMES_HEADER)):H(E.FormSection,{className:L.default.marginTop40},void 0,H(E.FormTitle,{className:L.default.marginBottom4},void 0,N.default.Messages.SETTINGS_GAMES_ADDED_GAMES_LABEL),t.map((function(e){return H(q,{game:e,isOverride:n.has(e.exePath)},e.exePath)})))};n.renderGameDetails=function(){if(!A.isPlatformEmbedded)return X;var e=this.props,t=e.runningGame,n=e.overrideExePaths;return a.createElement(a.Fragment,null,H(q,{game:t,isOverride:null!=t&&n.has(t.exePath),nowPlaying:!0}),H("div",{className:(0,o.default)(P.default.nowPlayingAdd,L.default.marginReset,L.default.marginTop8,L.default.marginBottom20)},void 0,H("span",{},void 0,N.default.Messages.SETTINGS_GAMES_NOT_SEEING_GAME),H(_.default,{
renderPopout:this.renderPopout,align:_.default.Align.CENTER,position:_.default.Positions.BOTTOM},void 0,(function(e){return a.createElement(f.default,F({},e,{look:f.ButtonLooks.LINK,size:f.ButtonSizes.MIN,color:f.ButtonColors.LINK}),N.default.Messages.SETTINGS_GAMES_ADD_GAME)}))),this.renderGameList())};n.render=function(){var e=this.props.showCurrentGame,t=A.isPlatformEmbedded?N.default.Messages.SHOW_CURRENT_ACTIVITY_DESC_EMBEDDED:N.default.Messages.SHOW_CURRENT_ACTIVITY_DESC;return H(a.Fragment,{},void 0,H(E.FormSection,{tag:E.FormTitle.Tags.H1,title:N.default.Messages.ACTIVITY_STATUS},void 0,H(h.default,{value:e,onChange:C.ShowCurrentGame.updateSetting,note:t},void 0,N.default.Messages.SHOW_CURRENT_ACTIVITY),this.renderGameDetails()))};return t}(a.PureComponent);Z.displayName="UserSettingsGameActivity";var J=(0,T.cachedFunction)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Set(t.map((function(e){return e.exePath})))}));function ee(){
var e=(0,i.useStateFromStoresObject)([s.default],(function(){return{gameHistory:s.default.getGamesSeen(!0),runningGame:s.default.getSettingsGame(),overrideExePaths:J.apply(void 0,G(s.default.getOverrides()))}}));return a.createElement(Z,F({},e,{showCurrentGame:C.ShowCurrentGame.useSetting()}))}ee.displayName="ConnectedUserSettingsGameActivity"},418415:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=g(n(441143)),i=g(n(536211)),u=g(n(810139)),l=g(n(508875)),s=g(n(677837)),d=g(n(958698)),f=g(n(728429)),c=g(n(558402)),p=n(772575),v=n(645758),y=g(n(164697)),m=n(770348),_=g(n(247001)),h=g(n(676366));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var b=S(u.default,{}),I=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.renderIntroHeader=function(){return null==this.props.houseMembership?_.default.Messages.HYPESQUAD_HEADING:_.default.Messages.HYPESQUAD_HEADING_EXISTING_MEMBER};n.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,r=e.isVerified;return S(a.Fragment,{},void 0,S("div",{className:h.default.intro},void 0,S(p.Heading,{variant:"heading-xxl/medium",className:h.default.introHeader,level:3},void 0,this.renderIntroHeader()),S(v.Text,{variant:"text-lg/normal"},void 0,_.default.Messages.HYPESQUAD_SUBHEADING)),S(y.default,{className:h.default.verificationNotice,unclaimedNotice:_.default.Messages.HYPESQUAD_UNCLAIMED_ACCOUNT_NOTICE,unverifiedNotice:_.default.Messages.HYPESQUAD_UNVERIFIED_EMAIL_NOTICE}),S(l.default,{houseMembership:t,isClaimed:n,isVerified:r}),b,S(s.default,{isHypeSquadOnlineMember:null!=t}),S(c.default,{
className:h.default.attendeeCTA},void 0,_.default.Messages.HYPESQUAD_ATTENDEE_CTA.format({url:m.MarketingURLs.HYPESQUAD})))};return t}(a.PureComponent);I.displayName="UserSettingsHypeSquad";var T=i.default.connectStores([f.default,d.default],(function(){var e=f.default.getCurrentUser();(0,o.default)(null!=e,"UserSettingsHypeSquad: currentUser cannot be undefined");return{houseMembership:d.default.getHouseMembership(),isClaimed:e.isClaimed(),isVerified:e.verified}}))(I);t.default=T},122253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){if((0,i.useBlockedPaymentsConfig)())return m;return a.createElement(a.Fragment,null,y(o.default,{section:f.AnalyticsSections.LIBRARY_INVENTORY_CODE_REDEMPTION},void 0,_),y(l.FormDivider,{className:c.default.divider}),y(o.default,{section:f.AnalyticsSections.LIBRARY_INVENTORY_GIFTS_LIST},void 0,h))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(284382)),i=n(444272),u=n(421748),l=n(688388),s=p(n(321424)),d=p(n(379743)),f=n(770348),c=p(n(827079));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=y(u.BlockedPaymentsContentSettings,{}),_=y(s.default,{}),h=y(d.default,{})},913458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ie;var r,a=W(n(667294)),o=H(n(294184)),i=H(n(496486)),u=W(n(536211)),l=H(n(511066)),s=H(n(379319)),d=H(n(372936)),f=n(497677),c=n(726485),p=n(246049),v=H(n(14096)),y=H(n(379310)),m=H(n(749666)),_=n(915188),h=n(205809),g=H(n(122913)),E=H(n(635014)),S=H(n(871778)),O=H(n(527501)),b=H(n(81636)),I=W(n(956117)),T=W(n(737705)),A=H(n(530250)),C=n(772575),M=W(n(20902)),N=n(645758),P=n(688388),R=W(n(37241)),w=n(967965),D=H(n(550270)),L=n(864489),k=W(n(339943)),j=n(770348),U=n(697984),G=H(n(247001)),F=H(n(437338)),x=H(n(122688)),B=H(n(380203));function H(e){return e&&e.__esModule?e:{default:e}}function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(V=function(e){return e?n:t})(e)}function W(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=V(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function z(){z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return z.apply(this,arguments)}function $(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;q(e,t)}function q(e,t){q=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return q(e,t)}function Q(e){return(0,e.children)([c.KeybindGroup.MESSAGE,c.KeybindGroup.NAVIGATION,c.KeybindGroup.DND,c.KeybindGroup.CHAT,c.KeybindGroup.VOICE_AND_VIDEO,c.KeybindGroup.MISCELLANEOUS])}var X=(0,i.default)((0,c.getDefaultLayoutContent)()).filter((function(e){return e.description!==G.default.Messages.KEYBIND_DESCRIPTION_MODAL_EASTER_EGG})).groupBy((function(e){return e.group})).value(),Z=u.default.connectStores([S.default],(function(){return{theme:S.default.theme}}))(T.default),J=function(e){$(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleActionChanged=function(e){l.default.setKeybind(z({},t.props.keybind,{action:e}))};t.handleShortcutChange=function(e){l.default.setKeybind(z({},t.props.keybind,{shortcut:e}))};t.handleDeleteKeybind=function(){l.default.deleteKeybind(t.props.keybind.id)};return t}var n=t.prototype;n.renderMessage=function(){var e=this.props.keybind,t=k.toString(e.shortcut);return v.default.hasBind(t)?K(R.default,{className:F.default.keybindMessage,type:R.Types.DESCRIPTION,style:{color:j.Colors.STATUS_RED}},void 0,G.default.Messages.KEYBIND_CONFLICT):U.NavigationShortcuts.has(t)?K(R.default,{className:F.default.keybindMessage,type:R.Types.DESCRIPTION,style:{color:j.Colors.STATUS_RED}},void 0,G.default.Messages.KEYBIND_NAVIGATION_CONFLICT.format({keyboardNavArticle:D.default.getArticleURL(j.HelpdeskArticles.KEYBOARD_NAVIGATION)})):K(R.default,{className:F.default.keybindMessage,
type:R.Types.DESCRIPTION},void 0,this.props.keybindDescriptions[e.action])};n.render=function(){var e=this.props.keybind.managed;return K(A.default,{direction:A.default.Direction.VERTICAL,className:(0,o.default)(F.default.keybindGroup,x.default.card)},void 0,!e&&K(s.default,{"aria-label":G.default.Messages.REMOVE_KEYBIND,className:F.default.removeKeybind,onClick:this.handleDeleteKeybind,look:s.default.Looks.FILLED}),K(A.default,{className:B.default.marginBottom8},void 0,K(A.default.Child,{basis:"50%"},void 0,K(P.FormItem,{title:G.default.Messages.USER_SETTINGS_KEYBINDS_ACTION,className:F.default.item},void 0,K(w.SingleSelect,{value:this.props.keybind.action,options:this.props.keybindActionTypes,onChange:this.handleActionChanged,isDisabled:e}))),K(A.default.Child,{basis:"50%"},void 0,K(P.FormItem,{title:G.default.Messages.USER_SETTINGS_KEYBINDS_KEYBIND,className:F.default.item},void 0,K(d.default,{defaultValue:this.props.keybind.shortcut,onChange:this.handleShortcutChange
})))),K(A.default.Child,{},void 0,this.renderMessage()))};return t}(a.PureComponent);J.displayName="KeybindEntry";var ee=K(P.FormDivider,{}),te=K(P.FormDivider,{}),ne=K(P.FormDivider,{}),re=K(P.FormDivider,{}),ae=K(P.FormDivider,{}),oe=function(e){$(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleAddKeybind=function(){l.default.addKeybind()};return t}var r=t.prototype;r.componentDidMount=function(){v.default.disable()};r.componentWillUnmount=function(){v.default.enable();var e=[j.Layers.USER_SETTINGS,j.Layers.CHANNEL_SETTINGS,j.Layers.GUILD_SETTINGS];g.default.getLayers().some((function(t){return e.includes(t)}))&&v.default.enableTemp(p.SETTINGS_LAYERS_LAYOUT)};r.renderKeybinds=function(e){var t=this;return e.map((function(e){return K("div",{className:F.default.row},e.id,K(J,{keybind:e,keybindDescriptions:t.keybindDescriptions,keybindActionTypes:t.keybindActionTypes},e.id))}))}
;r.renderEmpty=function(e){if(0===e.length)return K(Z,{className:B.default.marginTop60},void 0,K(T.EmptyStateImage,{darkSrc:n(656470),lightSrc:n(789885),width:320,height:170}))};r.render=function(){var e=(0,i.default)(this.props.keybinds).reject((function(e){return e.managed&&e.action!==j.GlobalKeybindActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET})).sortBy((function(e){return e.id})).sortBy((function(e){return!0===e.managed?-1:0})).value();return a.createElement(a.Fragment,null,K(P.FormSection,{tag:P.FormTitleTags.H1,title:G.default.Messages.KEYBINDS},void 0,L.isPlatformEmbedded?a.createElement(a.Fragment,null,K(A.default,{justify:A.default.Justify.BETWEEN,className:B.default.marginBottom20},void 0,K(A.default.Child,{grow:0},void 0,K(M.default,{messageType:M.HelpMessageTypes.WARNING},void 0,G.default.Messages.ADD_KEYBIND_WARNING)),K(A.default.Child,{wrap:!0,grow:0},void 0,K(I.default,{size:I.ButtonSizes.LARGE,onClick:this.handleAddKeybind
},void 0,G.default.Messages.ADD_KEYBIND))),ee,K(P.FormSection,{},void 0,this.renderKeybinds(e),this.renderEmpty(e))):K(M.default,{messageType:M.HelpMessageTypes.INFO,fontSize:M.HelpMessageFontSizes.FONT_SIZE_16,className:F.default.browserNotice},void 0,G.default.Messages.KEYBIND_IN_BROSWER_NOTICE.format({downloadLink:j.MarketingURLs.DOWNLOAD}))),te,K(P.FormSection,{tag:P.FormTitleTags.H1,title:G.default.Messages.USER_SETTINGS_KEYBINDS_DEFAULT_KEYBINDS_TITLE,className:B.default.marginTop60},void 0,K("div",{className:F.default.defaultKeybind},void 0,K(N.Text,{variant:"text-md/normal"},void 0,G.default.Messages.USER_SETTINGS_KEYBINDS_SHOW_LIST_TITLE),K("div",{className:F.default.defaultKeybindShortcutGroup},void 0,K(m.default,{shortcut:f.TOGGLE_HOTKEYS.binds[0],className:F.default.defaultKeybindShortcut}))),ne,K(Q,{},void 0,(function(e){return a.createElement(a.Fragment,null,e.map((function(e){var t,n=(0,c.getNameForKeybindGroup)(e),r=(0,c.getDescriptionForKeybindGroup)(e),i=X[e]
;return K("div",{className:F.default.defaultKeybindGroup},void 0,K(C.Heading,{variant:"heading-sm/medium",className:(0,o.default)(F.default.defaultKeybindGroupHeader,(t={},t[F.default.defaultKeybindGroupWithDescription]=null!=r,t)),level:3},void 0,n),null!=r&&K(N.Text,{color:"header-secondary",className:F.default.defaultKeybindGroupDescription,variant:"text-sm/normal"},void 0,r),re,i.map((function(e){return K(a.Fragment,{},e.description,K("div",{className:F.default.defaultKeybind},void 0,K(N.Text,{variant:"text-md/normal"},void 0,e.description),K("div",{className:F.default.defaultKeybindShortcutGroup},void 0,e.binds.map((function(e){return K(m.default,{shortcut:e},e)})))),ae)})))})))}))))};!function(e,t,n){t&&Y(e.prototype,t);n&&Y(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"keybindActionTypes",get:function(){var e=this.props,t=e.overlaySupported,n=e.canGoLive,r=e.allowSoundboard,a=[{value:j.GlobalKeybindActions.UNASSIGNED,
label:G.default.Messages.KEYBIND_UNASSIGNED},{value:j.GlobalKeybindActions.PUSH_TO_TALK,label:G.default.Messages.KEYBIND_PUSH_TO_TALK},{value:j.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY,label:G.default.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY},{value:j.GlobalKeybindActions.PUSH_TO_MUTE,label:G.default.Messages.KEYBIND_PUSH_TO_MUTE},{value:j.GlobalKeybindActions.TOGGLE_MUTE,label:G.default.Messages.KEYBIND_TOGGLE_MUTE},{value:j.GlobalKeybindActions.TOGGLE_DEAFEN,label:G.default.Messages.KEYBIND_TOGGLE_DEAFEN},{value:j.GlobalKeybindActions.TOGGLE_VOICE_MODE,label:G.default.Messages.KEYBIND_TOGGLE_VOICE_MODE},{value:j.GlobalKeybindActions.TOGGLE_STREAMER_MODE,label:G.default.Messages.KEYBIND_TOGGLE_STREAM_MODE}];if(t){a.push({value:j.GlobalKeybindActions.TOGGLE_OVERLAY,label:G.default.Messages.KEYBIND_TOGGLE_OVERLAY});a.push({value:j.GlobalKeybindActions.TOGGLE_OVERLAY_INPUT_LOCK,label:G.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK});a.push({
value:j.GlobalKeybindActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,label:G.default.Messages.KEYBIND_ACTIVATE_OVERLAY_CHAT})}n&&(0,L.isWindows)()&&a.push({value:j.GlobalKeybindActions.TOGGLE_GO_LIVE_STREAMING,label:G.default.Messages.KEYBIND_TOGGLE_GO_LIVE_STREAMING});if((0,L.isDesktop)()){a.push({value:j.GlobalKeybindActions.NAVIGATE_BACK,label:G.default.Messages.KEYBIND_NAVIGATE_BACK},{value:j.GlobalKeybindActions.NAVIGATE_FORWARD,label:G.default.Messages.KEYBIND_NAVIGATE_FORWARD});r&&(0,h.isSoundboardSupported)()&&a.push({value:j.GlobalKeybindActions.SOUNDBOARD,label:G.default.Messages.KEYBIND_SOUNDBOARD},{value:j.GlobalKeybindActions.SOUNDBOARD_HOLD,label:G.default.Messages.KEYBIND_SOUNDBOARD_HOLD})}return a}},{key:"keybindDescriptions",get:function(){var e,t=this.props,n=t.overlaySupported,r=t.canGoLive,a=((e={})[j.GlobalKeybindActions.UNASSIGNED]=G.default.Messages.KEYBIND_DESCRIPTION_UNASSIGNED,
e[j.GlobalKeybindActions.PUSH_TO_MUTE]=G.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_MUTE,e[j.GlobalKeybindActions.PUSH_TO_TALK]=G.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK,e[j.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY]=G.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK_PRIORITY,e[j.GlobalKeybindActions.TOGGLE_MUTE]=G.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_MUTE,e[j.GlobalKeybindActions.TOGGLE_DEAFEN]=G.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_DEAFEN,e[j.GlobalKeybindActions.TOGGLE_VOICE_MODE]=G.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_VOICE_MODE,e[j.GlobalKeybindActions.TOGGLE_STREAMER_MODE]=G.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_STREAMER_MODE,e);if(n){a[j.GlobalKeybindActions.TOGGLE_OVERLAY]=G.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY;a[j.GlobalKeybindActions.TOGGLE_OVERLAY_INPUT_LOCK]=G.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY_INPUT_LOCK}r&&(0,
L.isWindows)()&&(a[j.GlobalKeybindActions.TOGGLE_GO_LIVE_STREAMING]=G.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_GO_LIVE_STREAMING);if((0,L.isDesktop)()){a[j.GlobalKeybindActions.NAVIGATE_BACK]=G.default.Messages.KEYBIND_DESCRIPTION_NAVIGATE_BACK;a[j.GlobalKeybindActions.NAVIGATE_FORWARD]=G.default.Messages.KEYBIND_DESCRIPTION_NAVIGATE_FORWARD;a[j.GlobalKeybindActions.SOUNDBOARD]=(0,L.isWindows)()?G.default.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_GLOBAL:G.default.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD;a[j.GlobalKeybindActions.SOUNDBOARD_HOLD]=(0,L.isWindows)()?G.default.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_HOLD_GLOBAL:G.default.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_HOLD}return a}}]);return t}(a.PureComponent);oe.displayName="UserSettingsKeybinds";function ie(){var e=(0,u.useStateFromStores)([O.default],(function(){return O.default.getState()})),t=(0,u.useStateFromStores)([E.default],(function(){return(0,y.default)(E.default)})),n=(0,u.useStateFromStores)([b.default],(function(){
return b.default.isSupported()})),r=(0,_.useGlobalSoundboardConfig)().allowSoundboard;return K(oe,{keybinds:e,canGoLive:t,overlaySupported:n,allowSoundboard:r})}ie.displayName="UserSettingsKeybindsConnected"},783949:(e,t,n)=>{"use strict";var r=n(734155);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=p(n(536211)),u=p(n(929031)),l=p(n(871778)),s=p(n(26172)),d=n(688388),f=p(n(247001)),c=p(n(391431));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value)
;if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=_(o.useState(e.currentLocale),2),a=t[0],i=t[1],l=_(o.useState((function(){return f.default.getAvailableLocales().map((function(e){var t;try{t=n(357605)("./"+e.value+".png")}catch(e){t=n(223693)}return m({},e,{name:y("div",{className:c.default.option},void 0,y("span",{
className:c.default.localeName},void 0,e.name),y("span",{className:c.default.localizedName},void 0,e.localizedName),y("div",{className:c.default.flag,"aria-hidden":!0},void 0,y("img",{alt:"",src:t,className:c.default.flagImage})))})}))})),1)[0],p=o.useCallback((function(e){var t=e.value;i(t);r.nextTick((function(){return u.default.updateRemoteSettings({locale:t})}))}),[]);return y(d.FormSection,{tag:d.FormTitleTags.H1,title:f.default.Messages.LANGUAGE},void 0,y(d.FormSection,{},void 0,y(d.FormItem,{title:f.default.Messages.LANGUAGE_SELECT},void 0,y(s.default,{onChange:p,options:l,value:a}))))}g.displayName="UserSettingsLocale";var E=i.default.connectStores([l.default],(function(){return{currentLocale:l.default.locale}}))(g);t.default=E},764422:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=G
;var r,a=P(n(667294)),o=M(n(294184)),i=M(n(496486)),u=n(536211),l=M(n(969226)),s=P(n(448549)),d=M(n(329441)),f=M(n(754966)),c=M(n(919935)),p=M(n(16941)),v=M(n(26172)),y=M(n(567668)),m=n(688388),_=M(n(149982)),h=n(967965),g=M(n(169617)),E=n(864489),S=P(n(179379)),O=n(894826),b=M(n(55181)),I=n(770348),T=M(n(247001)),A=M(n(66662)),C=M(n(380203));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function R(){
R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t){w=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return w(e,t)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e){var t=e.label,n=e.enabled,r=e.disabled,a=e.onPreview,o=e.onChange;return D(y.default,{className:A.default.soundRow,value:n,onChange:o,disabled:r},void 0,D("div",{className:A.default.notificationSound},void 0,D("div",{className:A.default.soundName
},void 0,t),D(p.default,{className:A.default.soundIcon,onClick:a,"aria-label":T.default.Messages.USER_SETTINGS_NOTIFICATIONS_PREVIEW_SOUND},void 0,D(_.default,{width:16,height:16,className:A.default.icon,"aria-hidden":!0}))))}L.displayName="NotificationSound";function k(e){var t=e.disabledSounds,n=e.disableAllSounds,r=d.default.useExperiment({}).allowSoundpacks;a.useEffect((function(){d.default.trackExposure({})}),[]);var o=a.useRef(),i=a.useCallback((function(e,t){t.stopPropagation();t.preventDefault();null!=o.current&&o.current.stop();o.current=S.playSound(e)}),[]),u=a.useCallback((function(e,n){var r=t.filter((function(t){return t!==e}));n||r.push(e);l.default.setDisabledSounds(r)}),[t]),s=[{label:T.default.Messages.SOUND_MESSAGE,sound:"message1"},{label:T.default.Messages.SOUND_DEAFEN,sound:"deafen"},{label:T.default.Messages.SOUND_UNDEAFEN,sound:"undeafen"},{label:T.default.Messages.MUTE,sound:"mute"},{label:T.default.Messages.UNMUTE,sound:"unmute"},{
label:T.default.Messages.SOUND_VOICE_DISCONNECTED,sound:"disconnect"},{label:T.default.Messages.SOUND_PTT_ACTIVATE,sound:"ptt_start"},{label:T.default.Messages.SOUND_PTT_DEACTIVATE,sound:"ptt_stop"},{label:T.default.Messages.SOUND_USER_JOIN,sound:"user_join"},{label:T.default.Messages.SOUND_USER_LEAVE,sound:"user_leave"},{label:T.default.Messages.SOUND_USER_MOVED,sound:"user_moved"},{label:T.default.Messages.SOUND_OUTGOING_RING,sound:"call_calling"},{label:T.default.Messages.SOUND_INCOMING_RING,sound:"call_ringing"},{label:T.default.Messages.SOUND_STREAM_STARTED,sound:"stream_started"},{label:T.default.Messages.SOUND_STREAM_STOPPED,sound:"stream_ended"},{label:T.default.Messages.SOUND_VIEWER_JOIN,sound:"stream_user_joined"},{label:T.default.Messages.SOUND_VIEWER_LEAVE,sound:"stream_user_left"},{label:T.default.Messages.SOUND_INVITED_TO_SPEAK,sound:"reconnect"}];return D(m.FormSection,{tag:m.FormTitleTags.H1,title:T.default.Messages.SOUNDS
},void 0,r?a.createElement(a.Fragment,null,D(m.FormTitle,{className:C.default.marginBottom20},void 0,T.default.Messages.SOUNDPACK_LABEL),D(f.default,{className:C.default.marginBottom40})):null,D(y.default,{note:T.default.Messages.SOUND_DISABLE_ALL_NOTE,value:n,onChange:l.default.toggleDisableAllSounds},void 0,T.default.Messages.SOUND_DISABLE_ALL),s.map((function(e){var r=e.label,a=e.sound;return D(L,{label:r,disabled:n,onChange:function(e){return u(a,e)},onPreview:function(e){return i(a,e)},enabled:!n&&!t.includes(a)},a)})))}k.displayName="NotificationSounds";var j=D(b.default,{}),U=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;w(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleToggleShowUnreadBadge=function(){l.default.setDisableUnreadBadge(!t.props.disableUnreadBadge)};t.handleToggleShowFlash=function(){
l.default.setTaskbarFlash(!t.props.taskbarFlash)};t.renderTTS=function(){if(!s.supported)return null;var e=[{name:T.default.Messages.TTS_ALLS,value:I.TTSNotificationTypes.ALL_CHANNELS},{name:T.default.Messages.TTS_CURRENT,value:I.TTSNotificationTypes.SELECTED_CHANNEL},{name:T.default.Messages.TTS_NEVER,value:I.TTSNotificationTypes.NEVER}];return D(m.FormItem,{title:T.default.Messages.FORM_LABEL_TTS_NOTIFICATIONS},void 0,D(m.FormText,{type:m.FormTextTypes.DESCRIPTION,className:C.default.marginBottom8},void 0,T.default.Messages.FORM_DESCRIPTION_TTS),D(v.default,{options:e,onChange:t.handleTTSChange,value:t.props.ttsType}))};return t}var n=t.prototype;n.handleDesktopChange=function(e){var t,n=e?I.DesktopNotificationTypes.ALL:I.DesktopNotificationTypes.NEVER;n!==I.DesktopNotificationTypes.NEVER?(t="UserSettingsModal",g.default.requestPermission((function(e){var n=e?I.NotificationPermissionTypes.ENABLED:I.NotificationPermissionTypes.BLOCKED;l.default.setPermissionsState(n,t)
}))):l.default.setDesktopType(n)};n.handleTTSChange=function(e){var t=e.value;l.default.setTTSType(t)};n.render=function(){var e=this.props,t=e.desktopType,n=e.afkTimeout,r=e.disableUnreadBadge,a=e.taskbarFlash,u=e.disabledSounds,l=e.disableAllSounds,s=E.isPlatformEmbedded&&(0,E.isWindows)(),d=i.default.range(1,11).map((function(e){return{value:60*e,label:T.default.Messages.DURATION_MINUTES.format({minutes:e})}}));return D(m.FormSection,{tag:m.FormTitleTags.H1,title:T.default.Messages.NOTIFICATIONS},void 0,D(y.default,{className:C.default.marginBottom20,value:t!==I.DesktopNotificationTypes.NEVER,onChange:this.handleDesktopChange,note:T.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE_BODY},void 0,T.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE),D(y.default,{className:s?C.default.marginBottom20:C.default.marginBottom40,value:!r,note:T.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_BODY,onChange:this.handleToggleShowUnreadBadge
},void 0,T.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_LABEL),s?D(y.default,{className:C.default.marginBottom40,value:a,note:T.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_BODY,onChange:this.handleToggleShowFlash},void 0,T.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_LABEL):null,D(m.FormItem,{title:T.default.Messages.FORM_LABEL_PUSH_AFK_TIMEOUT},void 0,D(h.SingleSelect,{value:n,onChange:O.AfkTimeout.updateSetting,options:d}),D(m.FormText,{type:m.FormTextTypes.DESCRIPTION,className:C.default.marginTop8},void 0,T.default.Messages.FORM_DESCRIPTION_PUSH_AFK_TIMEOUT),D(m.FormDivider,{className:(0,o.default)(C.default.marginTop40,C.default.marginBottom40)})),this.renderTTS(),D(m.FormDivider,{className:(0,o.default)(C.default.marginTop40,C.default.marginBottom40)}),D(m.FormItem,{},void 0,D(k,{disabledSounds:u,disableAllSounds:l})),j)};return t}(a.PureComponent);U.displayName="UserSettingsNotifications";function G(){var e=(0,
u.useStateFromStoresObject)([c.default],(function(){return{disableUnreadBadge:c.default.getDisableUnreadBadge(),taskbarFlash:c.default.taskbarFlash,disabledSounds:c.default.getDisabledSounds(),disableAllSounds:c.default.getDisableAllSounds(),desktopType:c.default.getDesktopType(),ttsType:c.default.getTTSType()}}));return a.createElement(U,R({},e,{afkTimeout:O.AfkTimeout.useSetting()}))}G.displayName="ConnectedUserSettingsNotifications"},720034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=T(n(536211)),i=T(n(511066)),u=T(n(390557)),l=T(n(372936)),s=n(555437),d=T(n(527501)),f=T(n(81636)),c=T(n(945771)),p=T(n(530250)),v=T(n(26172)),y=T(n(567668)),m=n(688388),_=T(n(510596)),h=T(n(738858)),g=T(n(308920)),E=(T(n(550270)),n(339943)),S=n(770348),O=T(n(247001)),b=T(n(780663)),I=T(n(380203));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return N(e,t)}function P(){var e=c.default.getNotificationPositionMode(),t=e!==S.OverlayNotificationPositions.DISABLED,n=d.default.getOverlayKeybind(),r=d.default.getOverlayChatKeybind();g.default.track(S.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{enabled:f.default.enabled,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:c.default.getTextChatNotificationMode(),hotkey:null!=n?(0,E.toString)(n.shortcut):null,text_activation_hotkey:null!=r?(0,E.toString)(r.shortcut):null,text_opacity_slider:c.default.getTextWidgetOpacity()})}var R=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;N(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(r))||this).handleChangeEnabled=function(e){u.default.setEnabled(e);P();g.default.track(S.AnalyticEvents.OVERLAY_TOGGLED,{enabled:e,setting_type:"overlay toggled - global"})};t.handleChangeDisplayNameMode=function(e){var t=e.value;u.default.setDisplayNameMode(t)};t.handleChangeAvatarSizeMode=function(e){var t=e.value;u.default.setAvatarSizeMode(t)};t.handleChangeDisplayUserMode=function(e){var t=e.value;u.default.setDisplayUserMode(t)};t.handleChangeTextNotificationMode=function(){var e=S.OverlayNotificationTextChatTypes.ENABLED,n=S.OverlayNotificationTextChatTypes.DISABLED,r=t.props.textChatNotificationMode===e?n:e;u.default.setTextChatNotificationMode(r);P()};t.handleChangeNotificationPositionMode=function(e,t){u.default.setNotificationPositionMode(t);P()};t.handleInputLockShortcutChange=function(e){i.default.setKeybind(M({},t.props.inputLockKeybind,{shortcut:e}));P()};return t}var n=t.prototype;n.renderExplanation=function(){return null}
;n.renderOverlayToggle=function(){var e=this.props,t=e.enabled,n=e.inputLockKeybind,r=(0,s.isHookModuleTooOld)();return C(p.default,{className:I.default.marginBottom20},void 0,C(p.default.Child,{basis:"50%"},void 0,C(_.default,{},void 0,C(m.FormTitle,{tag:m.FormTitleTags.H5},void 0,O.default.Messages.SETTINGS_GAMES_ENABLE_OVERLAY_LABEL),C(y.default,{className:I.default.marginBottom20,style:{marginTop:16},value:t,disabled:r,note:r?O.default.Messages.OVERLAY_DISABLED_OLD_CLIENT:null,hideBorder:!0,onChange:this.handleChangeEnabled},void 0,O.default.Messages.ENABLE_INGAME_OVERLAY))),C(p.default.Child,{basis:"50%"},void 0,C(_.default,{title:O.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK},void 0,C(l.default,{disabled:!t,defaultValue:null!=n?n.shortcut:[],onChange:this.handleInputLockShortcutChange}))))};n.renderAvatarSize=function(){return C(p.default,{className:I.default.marginBottom20},void 0,C(p.default.Child,{},void 0,C(_.default,{title:O.default.Messages.FORM_LABEL_AVATAR_SIZE
},void 0,C(v.default,{options:[{name:O.default.Messages.AVATAR_SIZE_OPTION_LARGE,value:S.OverlayAvatarSizes.LARGE},{name:O.default.Messages.AVATAR_SIZE_OPTION_SMALL,value:S.OverlayAvatarSizes.SMALL}],onChange:this.handleChangeAvatarSizeMode,value:this.props.avatarSizeMode}))))};n.renderDisplayNames=function(){return C(p.default,{className:I.default.marginBottom20},void 0,C(p.default.Child,{},void 0,C(_.default,{title:O.default.Messages.FORM_LABEL_DISPLAY_NAMES},void 0,C(v.default,{options:[{name:O.default.Messages.DISPLAY_OPTION_ALWAYS,value:S.OverlayDisplayNames.ALWAYS},{name:O.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:S.OverlayDisplayNames.ONLY_WHILE_SPEAKING},{name:O.default.Messages.DISPLAY_OPTION_NEVER,value:S.OverlayDisplayNames.NEVER}],onChange:this.handleChangeDisplayNameMode,value:this.props.displayNameMode}))))};n.renderDisplayUsers=function(){return C(p.default,{className:I.default.marginBottom20},void 0,C(p.default.Child,{},void 0,C(_.default,{
title:O.default.Messages.FORM_LABEL_DISPLAY_USERS},void 0,C(v.default,{options:[{name:O.default.Messages.DISPLAY_OPTION_ALWAYS,value:S.OverlayDisplayUsers.ALWAYS},{name:O.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:S.OverlayDisplayUsers.ONLY_WHILE_SPEAKING}],onChange:this.handleChangeDisplayUserMode,value:this.props.displayUserMode}))))};n.renderTextNotificationMode=function(){var e=this.props.notificationPositionMode!==S.OverlayNotificationPositions.DISABLED,t=e&&this.props.textChatNotificationMode===S.OverlayNotificationTextChatTypes.ENABLED;return C(p.default,{className:I.default.marginBottom20},void 0,C(p.default.Child,{},void 0,C(_.default,{},void 0,C(y.default,{value:t,disabled:!e,onChange:this.handleChangeTextNotificationMode,hideBorder:!0},void 0,O.default.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS))))};n.renderNotificationPosition=function(){return C(p.default,{className:I.default.marginBottom20},void 0,C(p.default.Child,{},void 0,C(_.default,{
title:O.default.Messages.FORM_LABEL_NOTIFICATION_POSITION},void 0,C("div",{className:b.default.notificationSettings},void 0,C(h.default,{position:this.props.notificationPositionMode,onChange:this.handleChangeNotificationPositionMode})))))};n.render=function(){return C(a.Fragment,{},void 0,C(m.FormSection,{tag:m.FormTitleTags.H1,title:O.default.Messages.OVERLAY},void 0,this.renderExplanation(),this.renderOverlayToggle(),this.renderAvatarSize(),this.renderDisplayNames(),this.renderDisplayUsers()),C(m.FormSection,{tag:m.FormTitleTags.H1,title:O.default.Messages.OVERLAY_NOTIFICATIONS_SETTINGS,className:I.default.marginTop40},void 0,this.renderNotificationPosition(),this.renderTextNotificationMode()))};return t}(a.PureComponent);R.displayName="UserSettingsOverlay";var w=o.default.connectStores([f.default,c.default,d.default],(function(){return{enabled:f.default.enabled,avatarSizeMode:c.default.getAvatarSizeMode(),displayNameMode:c.default.getDisplayNameMode(),
displayUserMode:c.default.getDisplayUserMode(),notificationPositionMode:c.default.getNotificationPositionMode(),textChatNotificationMode:c.default.getTextChatNotificationMode(),inputLockKeybind:d.default.getOverlayKeybind()}}))(R);t.default=w},325539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ne;var r,a=$(n(667294)),o=K(n(294184)),i=n(536211),u=K(n(636602)),l=$(n(832635)),s=n(233271),d=n(264720),f=n(856259),c=n(547855),p=n(421748),v=K(n(266603)),y=K(n(474258)),m=K(n(843675)),_=K(n(404203)),h=n(95034),g=K(n(887609)),E=K(n(890535)),S=K(n(748826)),O=K(n(146771)),b=K(n(16941)),I=K(n(380439)),T=n(772575),A=K(n(638707)),C=K(n(427370)),M=K(n(80828)),N=n(645758),P=n(688388),R=K(n(394617)),w=K(n(782732)),D=K(n(634567)),L=K(n(878338)),k=K(n(340858)),j=K(n(545449)),U=K(n(526432)),G=K(n(830759)),F=K(n(289799)),x=K(n(308920)),B=n(71246),H=K(n(550270)),V=n(770348),W=K(n(247001)),Y=K(n(156661));function K(e){return e&&e.__esModule?e:{default:e}}function z(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(z=function(e){return e?n:t})(e)}function $(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=z(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function q(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function Q(e){var t=e.guild;return q(b.default,{onClick:function(){(0,h.transitionToGuild)(t.id,{state:{shouldShowSubscribeTooltip:!0}});(0,d.popLayer)()},className:Y.default.cardWrapper},void 0,q(C.default,{className:Y.default.card},void 0,q(I.default,{guild:t,size:I.default.Sizes.LARGE,"aria-hidden":!0}),q("div",{className:Y.default.guildInfo},void 0,q(N.Text,{variant:"text-md/normal",className:Y.default.guildName},void 0,t.name),q("div",{className:Y.default.subscriptionInfo},void 0,q(w.default,{className:Y.default.guildBoostingIcon}),q(N.Text,{className:Y.default.subscriberCount,variant:"text-sm/normal"},void 0,W.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:t.premiumSubscriberCount})))),q(A.default,{guildId:t.id,subscriberCount:t.premiumSubscriberCount})))}Q.displayName="GuildSubscriptionInfoCard";function X(){var e=(0,i.useStateFromStores)([g.default],(function(){return g.default.getFlattenedGuilds()
})).slice(0,V.NUMBER_OF_GUILDS_TO_RECOMMEND_BOOSTING),t=(0,c.useSubscriptionPlansLoaded)();return a.createElement(a.Fragment,null,q("div",{className:Y.default.divider}),q("div",{className:Y.default.marketingLogo},void 0,q(D.default,{className:Y.default.marketingLogoIcon,"aria-label":W.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE,role:"heading"}),q("div",{className:Y.default.marketingLogoImage})),q(T.Heading,{className:Y.default.marketingHeader,variant:"heading-lg/medium",level:3},void 0,W.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_HEADER),q(N.Text,{variant:"text-md/normal"},void 0,W.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_BLURB),q(T.Heading,{className:Y.default.featureHeaderTop,variant:"heading-lg/medium",color:"header-secondary",level:3},void 0,W.default.Messages.PREMIUM_GUILD_USER_FEATURES_HEADER),q(_.default,{features:[{description:W.default.Messages.PREMIUM_GUILD_USER_FEATURE_MEMBER_BADGE,icon:w.default,iconClass:Y.default.memberBadgeIcon},{
description:W.default.Messages.PREMIUM_GUILD_USER_FEATURE_PROFILE_BADGE,overrideIcon:function(e){return q("div",{className:(0,o.default)(e,Y.default.profileBadgeIcon)})}},{description:W.default.Messages.PREMIUM_GUILD_USER_FEATURE_ROLE,icon:k.default,iconClass:Y.default.roleIcon}],columns:3}),q(T.Heading,{className:Y.default.featureHeader,variant:"heading-lg/medium",color:"header-secondary",level:3},void 0,W.default.Messages.PREMIUM_GUILD_GUILD_FEATURES_HEADER),q(_.default,{features:[{description:W.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_EMOJI,icon:R.default,iconClass:Y.default.emojiIcon},{description:W.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_STICKERS,icon:U.default,iconClass:Y.default.stickerIcon},{description:W.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_AUDIO_QUALITY,icon:L.default,iconClass:Y.default.audioQualityIcon},{description:W.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_UPLOAD_SIZE,icon:F.default,iconClass:Y.default.uploadSizeIcon},{
description:W.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_CUSTOMIZATION,icon:j.default,iconClass:Y.default.customizationIcon},{description:W.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_THREADS,icon:G.default,iconClass:Y.default.threadIcon}].filter(B.isNotNullish),columns:3}),q(N.Text,{className:Y.default.guildFullFeatures,variant:"text-md/normal"},void 0,W.default.Messages.PREMIUM_GUILD_FULL_FEATURE_LIST.format({helpdeskArticle:H.default.getArticleURL(V.HelpdeskArticles.GUILD_SUBSCRIPTIONS)})),q("section",{className:Y.default.guildsSection},void 0,t?q(y.default,{className:Y.default.guildSubscriptionHeading}):null,null==e||0===e.length?a.createElement(a.Fragment,null,q("div",{className:Y.default.emptyGuilds}),q(N.Text,{variant:"text-lg/normal",className:Y.default.emptyGuildsTitle},void 0,W.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_EMPTY_DESCRIPTION_TITLE),q(N.Text,{variant:"text-md/normal",className:Y.default.emptyGuildsText
},void 0,W.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_EMPTY_DESCRIPTION_TEXT)):a.createElement(a.Fragment,null,q(N.Text,{variant:"text-md/normal",className:Y.default.guildsBlurb},void 0,W.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_BLURB),q("div",{className:Y.default.guilds},void 0,e.map((function(e){return q(Q,{guild:e},e.id)}))))),q(v.default,{onOpenPremiumClick:function(){x.default.track(V.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:{page:V.AnalyticsPages.USER_SETTINGS,section:V.AnalyticsSections.NITRO_CROSS_PROMO_FROM_BOOSTING,object:V.AnalyticsObjects.BUTTON_CTA}})}}))}var Z=q(M.default,{}),J=q(p.BlockedPaymentsWarning,{}),ee=q(m.default,{}),te=q(X,{});function ne(){a.useEffect((function(){u.default.wait((function(){l.fetchSubscriptions();l.fetchPaymentSources();(0,s.fetchGuildBoostSlots)();(0,f.fetchPremiumSubscriptionPlans)()}))}),[]);var e=(0,i.useStateFromStores)([O.default],(function(){return O.default.hasFetchedSubscriptions()
})),t=(0,c.useSubscriptionPlansLoaded)(),n=(0,i.useStateFromStores)([S.default],(function(){return S.default.hasFetchedPaymentSources})),r=(0,i.useStateFromStores)([E.default],(function(){return E.default.boostSlots}));return e&&t&&n?q("div",{className:Y.default.container},void 0,q("div",{className:Y.default.background}),q("div",{className:Y.default.content},void 0,Object.keys(r).length>0?a.createElement(a.Fragment,null,q(P.FormTitle,{tag:P.FormTitle.Tags.H1},void 0,W.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE),J,ee):null,te)):q("div",{className:(0,o.default)(Y.default.container,Y.default.loading)},void 0,Z)}ne.displayName="UserSettingsPremiumGuildSubscriptions"},313900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ee
;var r,a=K(n(667294)),o=W(n(294184)),i=W(n(441143)),u=W(n(730381)),l=n(536211),s=W(n(190040)),d=n(642230),f=n(825185),c=W(n(929031)),p=W(n(226800)),v=W(n(8549)),y=W(n(30098)),m=W(n(871778)),_=W(n(728429)),h=W(n(956117)),g=W(n(558402)),E=W(n(530250)),S=W(n(26172)),O=W(n(567668)),b=n(645758),I=W(n(730977)),T=n(688388),A=W(n(588417)),C=W(n(874331)),M=W(n(956303)),N=K(n(37241)),P=K(n(662197)),R=W(n(502197)),w=n(194322),D=W(n(308920)),L=W(n(550270)),k=n(943112),j=n(374699),U=n(894826),G=n(770348),F=W(n(247001)),x=W(n(584397)),B=W(n(380203)),H=["body"],V=["friendSourceFlags"];function W(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function K(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function z(e,t){z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return z(e,t)}function $(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function q(){q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return q.apply(this,arguments)}function Q(e,t){if(null==e)return{}
;var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function X(e){var t=e.body,n=Q(e,H),r=$(b.Text,{variant:"text-md/normal"},void 0,t);(0,w.openModal)((function(e){return a.createElement(R.default,q({},e,n),r)}))}function Z(e){var t=e.message;X({header:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,confirmText:F.default.Messages.OKAY,body:t})}var J=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;z(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleChangeDefaultGuildsRestricted=function(e){n.setState({defaultGuildsRestricted:!e},(function(){return n.showGuildRestrictionModal(!e)}))};n.handleUsageStatisticsChange=function(){!n.props.usageStatistics?(0,d.setConsents)([G.Consents.USAGE_STATISTICS],[]).catch(Z):X({header:F.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_TITLE,body:F.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_BODY,
confirmText:F.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CONFIRM,cancelText:F.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,d.setConsents)([],[G.Consents.USAGE_STATISTICS]).catch(Z)}})};n.handlePersonalizationChange=function(){!n.props.personalization?(0,d.setConsents)([G.Consents.PERSONALIZATION],[]).catch(Z):X({header:F.default.Messages.PERSONALIZATION_DISABLE_MODAL_TITLE,confirmText:F.default.Messages.PERSONALIZATION_DISABLE_MODAL_CONFIRM,cancelText:F.default.Messages.PERSONALIZATION_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,d.setConsents)([],[G.Consents.PERSONALIZATION]).catch(Z)},body:F.default.Messages.PERSONALIZATION_DISABLE_MODAL_BODY})};n.handleAccessibilityDetectionChange=function(){U.AllowAccessibilityDetection.updateSetting(!n.props.allowAccessibilityDetection)};n.handleDataDownloadRequest=function(){X({header:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_TITLE,
body:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_NOTE,confirmText:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CONFIRM,cancelText:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CANCEL,onConfirm:function(){n.setState({requestingHarvest:!0},(function(){(0,f.requestHarvest)().then((function(e){if(null!=e&&null!=e.body){n.setState({currentHarvestRequest:e.body});s.default.show({body:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_SUCCESS})}else s.default.show({title:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})}),(function(){return s.default.show({title:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})})).finally((function(){return n.setState({requestingHarvest:!1})}))}))}})};var r=t.defaultGuildsRestricted;n.state={defaultGuildsRestricted:r,
currentHarvestRequest:null,requestingHarvest:!0};return n}var n=t.prototype;n.componentDidMount=function(){var e=this;(0,d.fetchConsents)();(0,f.getHarvestStatus)().then((function(t){var n={requestingHarvest:!1,currentHarvestRequest:t.body};e.setState(n)}),(function(){e.setState({requestingHarvest:!1})}))};n.componentDidUpdate=function(e){e.defaultGuildsRestricted!==this.props.defaultGuildsRestricted&&this.setState({defaultGuildsRestricted:this.props.defaultGuildsRestricted})};n.hasPermittedSourceFlag=function(e){var t=this.props.friendSourceFlags,n=function(e){return!0===t[e]};return!!n(G.FriendSourceFlagKeys.ALL)||n(e)};n.onFieldChange=function(e,t){var n,r=this.props.friendSourceFlags;if(e===G.FriendSourceFlagKeys.ALL)if(t){var a;n=((a={})[G.FriendSourceFlagKeys.ALL]=!0,a[G.FriendSourceFlagKeys.FRIENDS]=!0,a[G.FriendSourceFlagKeys.GUILDS]=!0,a)}else{var o;n=((o={})[G.FriendSourceFlagKeys.ALL]=!1,o[G.FriendSourceFlagKeys.FRIENDS]=!0,o[G.FriendSourceFlagKeys.GUILDS]=!0,o)}else if(t){
var i,u=!1;if(e===G.FriendSourceFlagKeys.FRIENDS)u=!0===r[G.FriendSourceFlagKeys.GUILDS];else u=!0===r[G.FriendSourceFlagKeys.FRIENDS];n=q({},r,((i={})[G.FriendSourceFlagKeys.ALL]=u,i[e]=!0,i))}else{var l;n=q({},r,((l={})[G.FriendSourceFlagKeys.ALL]=!1,l[e]=!1,l))}this.updatePermittedFriendSourceFlags(n)};n.updatePermittedFriendSourceFlags=function(e){c.default.updateRemoteSettings({friendSourceFlags:e})};n.showGuildRestrictionModal=function(e){var t=this;X({header:F.default.Messages.USER_DM_SETTINGS_TITLE,body:F.default.Messages.USER_DM_SETTINGS_DESCRIPTION,confirmText:F.default.Messages.NO_TEXT,cancelText:F.default.Messages.YES_TEXT,confirmButtonColor:h.default.Colors.BRAND,onConfirm:function(){c.default.updateRemoteSettings({defaultGuildsRestricted:e});t.trackDefaulDmsUpdated(e,!1)},onCancel:function(){c.default.updateRemoteSettings({defaultGuildsRestricted:e,restrictedGuilds:e?Object.keys(y.default.getGuilds()):[]});t.trackDefaulDmsUpdated(e,!0)}})}
;n.trackDefaulDmsUpdated=function(e,t){D.default.track(G.AnalyticEvents.GUILD_DEFAULT_DMS_UPDATED,{default_guilds_restricted:e,applied_to_existing_guilds:t})};n.renderFriendSettings=function(){var e=this;return $(M.default,{title:F.default.Messages.FRIEND_PERMITTED_SOURCE,className:B.default.marginBottom40},void 0,$(O.default,{className:(0,o.default)(B.default.marginTop8,B.default.marginBottom20),value:this.hasPermittedSourceFlag(G.FriendSourceFlagKeys.ALL),onChange:function(t){return e.onFieldChange(G.FriendSourceFlagKeys.ALL,t)}},void 0,F.default.Messages.FRIEND_PERMITTED_SOURCE_ALL),$(O.default,{value:this.hasPermittedSourceFlag(G.FriendSourceFlagKeys.FRIENDS),onChange:function(t){return e.onFieldChange(G.FriendSourceFlagKeys.FRIENDS,t)}},void 0,F.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_FRIENDS),$(O.default,{className:B.default.marginReset,value:this.hasPermittedSourceFlag(G.FriendSourceFlagKeys.GUILDS),onChange:function(t){
return e.onFieldChange(G.FriendSourceFlagKeys.GUILDS,t)}},void 0,F.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_GUILDS))};n.renderDMSafety=function(){return $(M.default,{className:B.default.marginBottom40},void 0,$(T.FormItem,{tag:P.Tags.H5,className:B.default.marginBottom4,title:F.default.Messages.USER_EXPLICIT_CONTENT_FILTER},void 0,$(N.default,{type:N.Types.DESCRIPTION,className:B.default.marginBottom8},void 0,F.default.Messages.USER_EXPLICIT_CONTENT_FILTER_HELP),$(S.default,{value:this.props.explicitContentFilter,options:(0,k.generateDMSafetyOptions)(),onChange:function(e){var t=e.value;return U.ExplicitContentFilter.updateSetting(t)}})))};n.renderServerPrivacy=function(){var e=this.props,t=e.viewNsfwGuilds,n=!0===e.currentUser.nsfwAllowed;return $(M.default,{className:B.default.marginBottom40},void 0,$(P.default,{tag:P.Tags.H5,className:B.default.marginBottom8},void 0,F.default.Messages.USER_DM_SETTINGS),$(O.default,{className:B.default.marginReset,
value:!this.state.defaultGuildsRestricted,note:F.default.Messages.USER_DM_SETTINGS_HELP,onChange:this.handleChangeDefaultGuildsRestricted},void 0,F.default.Messages.NEW_GUILDS_DM_ALLOWED),$(O.default,{className:B.default.marginReset,value:!!n&&t,note:F.default.Messages.NSFW_GUILDS_TOGGLE_CAPTION,disabled:!n,onChange:U.ViewNsfwGuilds.updateSetting},void 0,F.default.Messages.NSFW_GUILDS_TOGGLE_HEADER))};n.renderActivityPartyPrivacy=function(){var e=this.props,t=e.allowActivityPartyPrivacyFriends,n=e.allowActivityPartyPrivacyVoiceChannel;return $(M.default,{className:B.default.marginBottom40},void 0,$(P.default,{tag:P.Tags.H5,className:B.default.marginBottom8},void 0,F.default.Messages.ACTIVITY_PARTY_PRIVACY),$(O.default,{value:t,note:F.default.Messages.ACTIVITY_PARTY_PRIVACY_FRIENDS_HELP,onChange:function(e){return U.AllowActivityPartyPrivacyFriends.updateSetting(e)}},void 0,F.default.Messages.ACTIVITY_PARTY_PRIVACY_FRIENDS),$(O.default,{value:n,
note:F.default.Messages.ACTIVITY_PARTY_PRIVACY_VOICE_CHANNEL_HELP,onChange:function(e){return U.AllowActivityPartyPrivacyVoiceChannel.updateSetting(e)}},void 0,F.default.Messages.ACTIVITY_PARTY_PRIVACY_VOICE_CHANNEL))};n.renderDataPrivacy=function(){var e=this.props,t=e.usageStatistics,n=e.personalization,r=e.allowAccessibilityDetection;return $(M.default,{className:B.default.marginBottom40},void 0,$(P.default,{tag:P.Tags.H5,className:B.default.marginBottom8},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS),$(O.default,{value:t,note:F.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_NOTE.format({helpdeskArticle:L.default.getArticleURL(G.HelpdeskArticles.DATA_PRIVACY_CONTROLS)}),onChange:this.handleUsageStatisticsChange},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_TITLE),$(O.default,{value:n,note:F.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_NOTE_LEARN_MORE.format({helpdeskArticle:L.default.getArticleURL(G.HelpdeskArticles.DATA_PRIVACY_CONTROLS)}),
onChange:this.handlePersonalizationChange},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_TITLE),$(O.default,{value:r,note:F.default.Messages.DATA_PRIVACY_CONTROLS_ALLOW_ACCESSIBILITY_DETECTION_NOTE.format({helpdeskArticle:L.default.getArticleURL(G.HelpdeskArticles.ACCESSIBILITY_TRACKING)}),onChange:this.handleAccessibilityDetectionChange},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_ALLOW_ACCESSIBILITY_DETECTION_TITLE),$(P.default,{tag:P.Tags.H3,className:(0,o.default)(B.default.marginTop20,B.default.marginBottom8)},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_TITLE),$(N.default,{type:N.Types.DESCRIPTION,className:B.default.marginBottom20},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_NOTE.format({onClick:function(){p.default.setSection(G.UserSettingsSections.ACCOUNT)}})),this.renderHarvestRequest())};n.renderHarvestRequest=function(){
var e,t=this,n=this.props.currentUser,r=this.state,o=r.requestingHarvest,i=r.currentHarvestRequest,l=(0,j.harvestDisabled)(i,n),s=$(I.default,{text:n.verified?null:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_TOOLTIP},void 0,(function(e){var n=e.onMouseEnter,r=e.onMouseLeave;return $(h.default,{disabled:l,onClick:t.handleDataDownloadRequest,onMouseEnter:n,onMouseLeave:r,look:h.default.Looks.OUTLINED,color:h.default.Colors.BRAND,submitting:o},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_DOWNLOAD)}));if(l&&null!=i){e=$(g.default,{className:x.default.card},void 0,$(b.Text,{variant:"text-md/normal"},void 0,F.default.Messages.DATA_DOWNLOAD_REQUESTED_STATUS_NOTE.format({date:(0,u.default)(i.created_at).add(G.REQUEST_DATA_LIMIT_DAYS,"days").format("MMMM Do YYYY")})));s=null}null!=s&&(s=$(E.default,{},void 0,s));return $(a.Fragment,{},void 0,$(A.default,{className:B.default.marginBottom20}),$(P.default,{tag:P.Tags.H3
},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_PERSONAL_DATA_TITLE),$(N.default,{type:N.Types.DESCRIPTION,className:B.default.marginBottom20},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_NOTE.format({helpdeskArticle:L.default.getArticleURL(G.HelpdeskArticles.GDPR_REQUEST_DATA)})),e,s)};n.renderPrivacyAndTermsNote=function(){return $(M.default,{className:B.default.marginBottom40},void 0,$(C.default,{type:C.default.Types.PRIMARY,body:F.default.Messages.USER_SETTINGS_PRIVACY_TERMS.format({termsLink:G.MarketingURLs.TERMS,privacyLink:G.MarketingURLs.PRIVACY})}))};n.render=function(){var e=this.props.fetchedConsents;return $(M.default,{tag:P.Tags.H1,title:F.default.Messages.PRIVACY_AND_SAFETY},void 0,this.renderDMSafety(),this.renderServerPrivacy(),this.renderFriendSettings(),this.renderActivityPartyPrivacy(),e?this.renderDataPrivacy():null,this.renderPrivacyAndTermsNote())};return t}(a.PureComponent);J.displayName="UserSettingsPrivacySafety";function ee(){var e=(0,
l.useStateFromStores)([_.default],(function(){var e=_.default.getCurrentUser();(0,i.default)(null!=e,"ConnectedUserSettingsPrivacySafety: currentUser cannot be undefined");return e})),t=(0,l.useStateFromStoresObject)([m.default],(function(){return{defaultGuildsRestricted:m.default.defaultGuildsRestricted,friendSourceFlags:m.default.friendSourceFlags}})),n=t.friendSourceFlags,r=Q(t,V),o=a.useMemo((function(){return(0,j.computeFlags)(n)}),[n]),u=(0,l.useStateFromStoresObject)([v.default],(function(){return{fetchedConsents:v.default.fetchedConsents,usageStatistics:v.default.hasConsented(G.Consents.USAGE_STATISTICS),personalization:v.default.hasConsented(G.Consents.PERSONALIZATION)}}));return a.createElement(J,q({currentUser:e,allowActivityPartyPrivacyFriends:U.AllowActivityPartyPrivacyFriends.useSetting(),allowActivityPartyPrivacyVoiceChannel:U.AllowActivityPartyPrivacyVoiceChannel.useSetting(),friendSourceFlags:o,viewNsfwGuilds:U.ViewNsfwGuilds.useSetting(),
allowAccessibilityDetection:U.AllowAccessibilityDetection.useSetting(),explicitContentFilter:U.ExplicitContentFilter.useSetting()},r,u))}ee.displayName="ConnectedUserSettingsPrivacySafety"},385831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=L;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=b(n(730381)),i=n(536211),u=n(923387),l=n(378158),s=n(203847),d=b(n(956117)),f=b(n(16941)),c=b(n(80828)),p=n(645758),v=n(688388),y=b(n(499693)),m=b(n(68259)),_=b(n(775803)),h=n(403074),g=b(n(397302)),E=n(583551),S=b(n(247001)),O=b(n(811179))
;function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,u,"next",e)}function u(e){A(o,r,a,i,u,"throw",e)}i(void 0)}))}}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=M(c.default,{});function L(){var e,t=(0,i.useStateFromStoresObject)([g.default],(function(){var e=P(g.default.getSessions()),t=null,n=e.findIndex((function(e){return e.current}));n>=0&&(t=e.splice(n,1)[0]);e.sort((function(e,t){return t.approx_last_used_time.valueOf()-e.approx_last_used_time.valueOf()}));return{currentSession:t,otherSessions:e}})),n=t.currentSession,r=t.otherSessions,o=N(a.useState(!1),2),l=o[0],f=o[1]
;a.useEffect((function(){(0,s.markDismissibleContentAsDismissed)(u.DismissibleContent.AUTH_SESSIONS_NEW,{dismissAction:E.ContentDismissActionType.AUTO});(0,h.fetchAuthSessions)();var e=setTimeout((function(){return f(!0)}),500);return function(){clearTimeout(e);(0,h.clearAuthSessions)()}}),[]);e=null==n?l?M("div",{className:O.default.loading},void 0,D):null:a.createElement(a.Fragment,null,M("div",{className:O.default.sessions},void 0,M(v.FormSection,{tag:v.FormTitleTags.H5,title:S.default.Messages.AUTH_SESSIONS_CURRENT,titleClassName:O.default.groupTitle},void 0,null!=n?M(U,{session:n,current:!0}):null),r.length>0?M(v.FormSection,{tag:v.FormTitleTags.H5,title:S.default.Messages.AUTH_SESSIONS_OTHERS,titleClassName:O.default.groupTitle,className:O.default.otherSessions},void 0,r.map((function(e){return M(U,{session:e},e.id_hash)}))):null),r.length>0?M(v.FormSection,{tag:v.FormTitleTags.H5,title:S.default.Messages.AUTH_SESSIONS_OTHERS_LOG_OUT_TITLE},void 0,M(v.FormText,{
type:v.FormTextTypes.DESCRIPTION},void 0,S.default.Messages.AUTH_SESSIONS_OTHERS_LOG_OUT_DESCRIPTION),M(d.default,{look:d.default.Looks.OUTLINED,color:d.default.Colors.RED,size:d.default.Sizes.SMALL,className:O.default.logOutAllButton,onClick:C(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return(0,h.logOutSessions)(r.map((function(e){return e.id_hash})));case 3:e.prev=3;e.next=6;return(0,h.fetchAuthSessions)();case 6:return e.finish(3);case 7:case"end":return e.stop()}}),e,null,[[0,,3,7]])})))},void 0,S.default.Messages.AUTH_SESSIONS_OTHERS_LOG_OUT_ACTION)):null);return M(v.FormSection,{tag:v.FormTitleTags.H1,title:S.default.Messages.AUTH_SESSIONS},void 0,M(v.FormText,{type:v.FormTextTypes.DESCRIPTION,className:O.default.description},void 0,S.default.Messages.AUTH_SESSIONS_DESCRIPTION.format()),e)}L.displayName="UserSettingsSessions";var k=M("span",{},void 0,"·"),j=M("span",{},void 0,"·")
;function U(e){var t=e.session,r=e.current,i=t.client_info.ip,u=t.client_info.platform,s=function(e){switch(null==e?void 0:e.toLowerCase().trim()){case null:case void 0:case"":return{text:S.default.Messages.AUTH_SESSIONS_OS_UNKNOWN,icon:m.default};case"ios":case"android":return{text:e,icon:y.default};default:return{text:e,icon:m.default}}}(t.client_info.os),d=s.text,c=s.icon,v=function(e){if((Date.now()-e.valueOf())/1e3/60/60<1)return S.default.Messages.AUTH_SESSIONS_ACTIVE_RECENTLY;return(0,o.default)(e).fromNow()}(t.approx_last_used_time),h=a.useCallback((function(e){(0,l.openContextMenuLazy)(e,C(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(5258).then(n.bind(n,505258));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,T({},e,{session:t}))}));case 5:case"end":return e.stop()}}),e)}))))}),[t]);return M("div",{className:O.default.session
},t.id_hash,M(c,{width:"44",height:"44",className:O.default.sessionIcon}),M("div",{className:O.default.sessionInfo},void 0,M(p.Text,{variant:"eyebrow",className:O.default.sessionInfoRow},void 0,M("span",{},void 0,d),null!=u?a.createElement(a.Fragment,null,k,M("span",{},void 0,u)):null),M(p.Text,{variant:"text-sm/medium",className:O.default.sessionInfoRow},void 0,M("span",{},void 0,i),r?null:a.createElement(a.Fragment,null,j,M("span",{},void 0,v)))),r?null:M(f.default,{className:O.default.sessionMoreButton,onClick:h},void 0,M(_.default,{"aria-label":S.default.Messages.MORE})))}U.displayName="SessionInfo"},394163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(294184)),i=h(n(536211)),u=h(n(105988)),l=h(n(226800)),s=h(n(663303)),d=h(n(871778)),f=h(n(567668)),c=n(688388),p=n(864489),v=n(770348),y=h(n(247001)),m=h(n(328451)),_=h(n(380203));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.renderNotice=function(){return S(c.FormNotice,{className:_.default.marginBottom40,iconClassName:m.default.noticeIcon,type:c.FormNoticeTypes.PRIMARY,imageData:{src:n(566300),width:184,height:110,position:c.FormNoticeImagePositions.RIGHT},title:y.default.Messages.USER_SETTINGS_STREAMER_NOTICE_TITLE,body:y.default.Messages.USER_SETTINGS_STREAMER_NOTICE_BODY.format({streamkitURL:v.MarketingURLs.STREAMKIT})})};r.renderAutoToggle=function(){
if(p.isPlatformEmbedded)return S(f.default,{value:this.props.autoToggle,onChange:this.handleChange.bind(this,"autoToggle"),note:y.default.Messages.AUTO_TOGGLE_STREAMER_MODE_DESCRIPTION},void 0,y.default.Messages.AUTO_TOGGLE_STREAMER_MODE_LABEL)};r.render=function(){return S(c.FormSection,{className:m.default.container,tag:c.FormTitleTags.H1,title:y.default.Messages.STREAMER_MODE},void 0,this.renderNotice(),S(f.default,{value:this.props.enabled,onChange:this.handleChange.bind(this,"enabled"),note:y.default.Messages.ENABLE_STREAMER_MODE_DESCRIPTION.format({onClick:this.handleGotoKeybinds})},void 0,y.default.Messages.ENABLE_STREAMER_MODE_LABEL),this.renderAutoToggle(),S(c.FormTitle,{className:(0,o.default)(_.default.marginTop40,_.default.marginBottom8)},void 0,y.default.Messages.OPTIONS),S(f.default,{value:this.props.hidePersonalInformation,onChange:this.handleChange.bind(this,"hidePersonalInformation"),note:y.default.Messages.HIDE_PERSONAL_INFORMATION_DESCRIPTION
},void 0,y.default.Messages.HIDE_PERSONAL_INFORMATION_LABEL),S(f.default,{value:this.props.hideInstantInvites,onChange:this.handleChange.bind(this,"hideInstantInvites"),note:y.default.Messages.HIDE_INSTANT_INVITES_DESCRIPTION},void 0,y.default.Messages.HIDE_INSTANT_INVITES_LABEL),S(f.default,{value:this.props.disableSounds,onChange:this.handleChange.bind(this,"disableSounds"),note:y.default.Messages.DISABLE_SOUNDS_DESCRIPTION},void 0,y.default.Messages.DISABLE_SOUNDS_LABEL),S(f.default,{value:this.props.disableNotifications,onChange:this.handleChange.bind(this,"disableNotifications"),note:y.default.Messages.DISABLE_NOTIFICATIONS_DESCRIPTION},void 0,y.default.Messages.DISABLE_NOTIFICATIONS_LABEL))};r.handleChange=function(e,t){var n;u.default.update(((n={})[e]=t,n))};r.handleGotoKeybinds=function(){l.default.setSection(v.UserSettingsSections.KEYBINDS)};return t}(a.PureComponent);b.displayName="UserSettingsModalStreamerMode"
;var I=i.default.connectStores([d.default,s.default],(function(){return E({},s.default.getSettings(),{theme:d.default.theme})}))(b);t.default=I},332798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;S(n(667294));var r,a=g(n(294184)),o=g(n(954140)),i=g(n(37039)),u=g(n(268389)),l=g(n(26172)),s=g(n(567668)),d=g(n(510596)),f=g(n(956303)),c=g(n(37241)),p=S(n(662197)),v=g(n(308920)),y=n(894826),m=n(770348),_=g(n(247001)),h=g(n(380203));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(){var e=y.ExpressionSuggestionsEnabled.useSetting(),t=y.UseRichChatTextBox.useSetting(),n=y.RenderSpoilers.useSetting(),r=y.UseThreadSidebar.useSetting(),g=y.ViewImageDescriptions.useSetting(),E=y.ConvertEmoticons.useSetting(),S=y.InlineAttachmentMedia.useSetting(),b=y.InlineEmbedMedia.useSetting(),I=y.RenderEmbeds.useSetting(),T=y.RenderReactions.useSetting(),A=(0,
i.default)(o.default.TEXT_AND_IMAGES).analyticsLocations;return O(f.default,{tag:p.Tags.H1,title:_.default.Messages.TEXT_AND_IMAGES},void 0,O(p.default,{className:h.default.marginBottom8},void 0,_.default.Messages.INLINE_MEDIA_LABEL),O(s.default,{className:(0,a.default)(h.default.marginTop8,h.default.marginBottom20),value:b,onChange:y.InlineEmbedMedia.updateSetting},void 0,_.default.Messages.INLINE_EMBED_MEDIA),O(s.default,{className:(0,a.default)(h.default.marginTop8,h.default.marginBottom20),value:S,note:_.default.Messages.INLINE_ATTACHMENT_MEDIA_HELP.format({maxSize:10}),onChange:y.InlineAttachmentMedia.updateSetting},void 0,_.default.Messages.INLINE_ATTACHMENT_MEDIA),O(s.default,{className:(0,a.default)(h.default.marginTop8,h.default.marginBottom20),value:g,note:_.default.Messages.IMAGE_DESCRIPTION_HELP,onChange:y.ViewImageDescriptions.updateSetting},void 0,_.default.Messages.USER_SETTINGS_IMAGE_DESCRIPTIONS),O(p.default,{className:h.default.marginBottom8
},void 0,_.default.Messages.RENDER_EMBEDS_LABEL),O(s.default,{className:(0,a.default)(h.default.marginTop8,h.default.marginBottom40),value:I,onChange:y.RenderEmbeds.updateSetting},void 0,_.default.Messages.RENDER_EMBEDS),O(p.default,{className:h.default.marginBottom8},void 0,_.default.Messages.EMOJI),O(s.default,{className:(0,a.default)(h.default.marginTop8,h.default.marginBottom20),value:T,onChange:y.RenderReactions.updateSetting},void 0,_.default.Messages.RENDER_REACTIONS),O(s.default,{className:h.default.marginBottom40,value:E,note:u.default.parse(_.default.Messages.CONVERT_EMOTICONS_HELP),onChange:y.ConvertEmoticons.updateSetting},void 0,_.default.Messages.CONVERT_EMOTICONS),O(d.default,{className:h.default.marginBottom20,title:_.default.Messages.STICKERS_AUTO_PLAY_HEADING},void 0,O(s.default,{className:(0,a.default)(h.default.marginTop20,h.default.marginBottom20),value:e,note:_.default.Messages.AUTO_SUGGEST_STICKERS_DESCRIPTION,onChange:function(t){
v.default.track(m.AnalyticEvents.STICKER_SUGGESTIONS_ENABLED_TOGGLED,{enabled:!e,location:{section:m.AnalyticsSections.SETTINGS_TEXT_AND_IMAGES},location_stack:A});y.ExpressionSuggestionsEnabled.updateSetting(!e)}},void 0,_.default.Messages.AUTO_SUGGEST_STICKERS)),O(f.default,{className:h.default.marginBottom8},void 0,O(p.default,{className:h.default.marginBottom8},void 0,_.default.Messages.FORM_LABEL_USE_RICH_CHAT_BOX),O(s.default,{className:h.default.marginTop8,value:t,onChange:function(e){v.default.track(m.AnalyticEvents.RICH_CHAT_TEXT_BOX_TOGGLED,{is_enabled:e});y.UseRichChatTextBox.updateSetting(e)}},void 0,_.default.Messages.USE_RICH_CHAT_BOX_DESCRIPTION)),O(f.default,{className:h.default.marginBottom40},void 0,O(p.default,{className:h.default.marginBottom8},void 0,_.default.Messages.THREADS),O(s.default,{className:h.default.marginTop8,value:r,onChange:y.UseThreadSidebar.updateSetting},void 0,_.default.Messages.USE_THREADS_SIDEBAR_DESCRIPTION)),O(d.default,{
title:_.default.Messages.SHOW_SPOILER_CONTENT},void 0,O(c.default,{type:c.default.Types.DESCRIPTION,className:h.default.marginBottom8},void 0,_.default.Messages.SHOW_SPOILER_CONTENT_HELP),O(l.default,{options:[{name:_.default.Messages.SHOW_SPOILER_ON_CLICK,value:m.SpoilerRenderSetting.ON_CLICK},{name:_.default.Messages.SHOW_SPOILER_ON_SERVERS_I_MOD,value:m.SpoilerRenderSetting.IF_MODERATOR},{name:_.default.Messages.SHOW_SPOILER_ALWAYS,value:m.SpoilerRenderSetting.ALWAYS}],onChange:function(e){return y.RenderSpoilers.updateSetting(e.value)},value:n})))}b.displayName="UserSettingsTextImages"},811030:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=be
;var r,a=ie(n(667294)),o=ae(n(294184)),i=ae(n(496486)),u=ie(n(536211)),l=n(91817),s=ae(n(740207)),d=ie(n(361983)),f=ae(n(226800)),c=ie(n(712283)),p=ae(n(372936)),v=ae(n(88509)),y=n(646002),m=ae(n(387316)),_=ae(n(529600)),h=ae(n(9056)),g=ae(n(635014)),E=ae(n(99462)),S=ae(n(397228)),O=ae(n(871778)),b=ae(n(728429)),I=ae(n(151097)),T=ae(n(956117)),A=n(558402),C=ae(n(530250)),M=ae(n(26172)),N=ae(n(118777)),P=ae(n(565281)),R=ae(n(567668)),w=n(645758),D=n(354479),L=ae(n(588417)),k=ae(n(510596)),j=ie(n(874331)),U=ae(n(956303)),G=ae(n(37241)),F=ie(n(662197)),x=ae(n(502197)),B=n(194322),H=n(967965),V=ae(n(308920)),W=ae(n(165551)),Y=ae(n(550270)),K=n(758956),z=n(864489),$=ae(n(922629)),q=n(894826),Q=ae(n(629598)),X=n(770348),Z=n(376293),J=ae(n(247001)),ee=ae(n(819887)),te=ae(n(3066)),ne=ae(n(380203)),re=ae(n(73432));function ae(e){return e&&e.__esModule?e:{default:e}}function oe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(oe=function(e){return e?n:t})(e)}
function ie(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=oe(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function ue(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function le(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ue(o,r,a,i,u,"next",e)}function u(e){ue(o,r,a,i,u,"throw",e)}i(void 0)}))}}function se(){se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return se.apply(this,arguments)}function de(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ce(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;pe(e,t)}function pe(e,t){pe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return pe(e,t)}var ve=(0,D.uid)(),ye=(0,D.uid)(),me=(0,D.uid)(),_e=(0,D.uid)(),he=(0,D.uid)(),ge=fe("div",{className:"grow"}),Ee=function(e){ce(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(r))||this)._timeout=new l.Timeout;t.state={volume:-100,speaking:!1};t.setupVoiceActivity=function(){g.default.getMediaEngine().on("voiceactivity",t.handleVoiceActivity);t._timeout.stop()};t.handleVoiceActivity=function(e,n){t.setState({volume:e,speaking:(n&Z.SpeakingFlags.VOICE)===Z.SpeakingFlags.VOICE})};t.handleAutoThresholdChange=function(e){var n=t.props,r=n.onThresholdChange,a=n.threshold;null==r||r(a,e)};t.handleSensitivityChange=function(e){var n=t.props,r=n.onThresholdChange,a=n.auto;null==r||r(-1*(100-e),a)};return t}var n=t.prototype;n.componentDidMount=function(){this._timeout.start(1e3,this.setupVoiceActivity)};n.componentWillUnmount=function(){g.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity);this._timeout.stop()};n.handleValueRender=function(e){return(-1*(100-e)).toFixed(0)+"dB"};n.renderAutomaticVADToggle=function(){var e=this,t=this.props.auto
;if(g.default.supports(Z.Features.AUTOMATIC_VAD))return fe(D.UID,{},void 0,(function(n){return fe("div",{className:(0,o.default)(te.default.horizontal,ne.default.marginBottom4)},void 0,fe(F.default,{tag:F.Tags.H3,className:ne.default.marginReset},void 0,fe("label",{htmlFor:n},void 0,J.default.Messages.FORM_LABEL_AUTOMATIC_VAD)),fe(P.default,{id:n,checked:t,onChange:e.handleAutoThresholdChange}))}))};n.renderSlider=function(){var e=this.props,t=e.auto,n=e.threshold,r=this.state.speaking;if(t){var a;return fe("section",{className:ee.default.inputSensitivityToggle},void 0,fe("div",{className:re.default.slider},void 0,fe("div",{className:(0,o.default)(re.default.bar,ee.default.sliderBar,(a={},a[ee.default.speaking]=r||this.state.speaking,a))})),fe(G.default,{type:G.default.Types.DESCRIPTION,className:ne.default.marginBottom8},void 0,J.default.Messages.FORM_HELP_AUTOMATIC_VAD))}return fe("section",{className:(0,o.default)(ee.default.inputSensitivityToggle,ee.default.manual)
},void 0,fe(N.default,{initialValue:n+100,onValueRender:this.handleValueRender,onValueChange:this.handleSensitivityChange,barStyles:{background:X.Colors.STATUS_GREEN_600},fillStyles:{background:X.Colors.STATUS_YELLOW_500},"aria-labelledby":ve},void 0,fe("div",{className:(0,o.default)(ee.default.sliderBar,ee.default.microphone,re.default.bar)},void 0,fe("div",{className:(0,o.default)(ee.default.fill,re.default.barFill),style:{width:this.state.volume+100+"%"}}),ge)))};n.renderInputDisabledWarning=function(){if(!g.default.isEnabled())return fe(G.default,{type:G.default.Types.DESCRIPTION,className:(0,o.default)(ee.default.inputDisabledWarning,ne.default.marginBottom8)},void 0,J.default.Messages.FORM_WARNING_INPUT_SENSITIVTY.format({onEnableClick:s.default.enable}))};n.render=function(){return fe(k.default,{className:ee.default.sensitivity},void 0,fe(F.default,{id:ve,tag:F.Tags.H5,className:ne.default.marginBottom8
},void 0,J.default.Messages.FORM_LABEL_INPUT_SENSITIVTY),fe("div",{},void 0,this.renderAutomaticVADToggle(),this.renderSlider()),this.renderInputDisabledWarning())};return t}(a.PureComponent);Ee.displayName="VoiceSensitivity";var Se=u.default.connectStores([S.default],(function(){return{speaking:S.default.isCurrentUserSpeaking()}}))(Ee),Oe=function(e){ce(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).state={showCamera:!1,disableDebugUpload:!1};t.handleInputModeChange=function(e){var n=e.value;n===X.InputModes.PUSH_TO_TALK&&t.props.usePTTLimited&&(0,B.openModal)((function(e){return a.createElement(v.default,se({title:J.default.Messages.PTT_LIMITED_TITLE,confirmText:J.default.Messages.DOWNLOAD,cancelText:J.default.Messages.OKAY,onConfirm:t.handleDownload.bind(de(t),"PTT Limited Modal"),body:J.default.Messages.PTT_LIMITED_BODY},e))}));s.default.setMode(n)};t.handleDelayChange=function(e){
s.default.setMode(t.props.inputMode,{delay:e})};t.handleThresholdChange=function(e,n){s.default.setMode(t.props.inputMode,{threshold:e,autoThreshold:n})};t.handleAdvancedVoiceActivityChange=function(e){s.default.setMode(t.props.inputMode,{vadUseKrisp:e})};t.handleHardwareH264Change=function(e){s.default.setHardwareH264(e)};t.handleDebugLoggingChange=function(e){(0,B.openModal)((function(t){return a.createElement(x.default,se({header:J.default.Messages.SET_DEBUG_LOGGING,confirmText:J.default.Messages.OKAY,cancelText:J.default.Messages.CANCEL,onCancel:t.onClose,onConfirm:function(){return s.default.setDebugLogging(e)}},t),fe(w.Text,{variant:"text-md/normal"},void 0,J.default.Messages.SET_DEBUG_LOGGING_BODY))}))};t.handleAecDumpChange=function(e){s.default.setAecDump(e)};t.handleAttenuationChange=function(e){s.default.setAttenuation(e,t.props.attenuateWhileSpeakingSelf,t.props.attenuateWhileSpeakingOthers)};t.handleAttenuateSelfChanged=function(e){
s.default.setAttenuation(t.props.attenuation,e,t.props.attenuateWhileSpeakingOthers)};t.handleAttenuateOthersChanged=function(e){var n=t.props,r=n.attenuation,a=n.attenuateWhileSpeakingSelf;s.default.setAttenuation(r,a,e)};t.handleShortcutChange=function(e){s.default.setMode(t.props.inputMode,{shortcut:e})};t.handleShowCamera=function(){t.setState({showCamera:!0})};t.handleShowVoiceModuleFolder=le(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return m.default.fileManager.getModulePath();case 2:t=e.sent;n=m.default.fileManager.join(t,"discord_voice");m.default.fileManager.showItemInFolder(n);case 5:case"end":return e.stop()}}),e)})));t.handleUploadDebugFiles=function(){t.setState({disableDebugUpload:!0});g.default.getMediaEngine().writeAudioDebugState().finally((function(){return W.default.submitLiveCrashReport({message:{message:"User Live Dump"}})})).finally((function(){return(0,
y.uploadDebugFiles)().then((function(){return(0,B.openModal)((function(e){return a.createElement(x.default,se({header:J.default.Messages.UPLOAD_DEBUG_LOG_SUCCESS_HEADER,confirmButtonColor:T.default.Colors.BRAND,confirmText:J.default.Messages.OKAY},e),fe(w.Text,{variant:"text-md/normal"},void 0,J.default.Messages.UPLOAD_DEBUG_LOG_SUCCESS))}))})).catch((function(e){return(0,B.openModal)((function(t){return a.createElement(x.default,se({header:J.default.Messages.UPLOAD_DEBUG_LOG_FAILURE_HEADER,confirmButtonColor:T.default.Colors.BRAND,confirmText:J.default.Messages.OKAY},t),fe(w.Text,{variant:"text-md/normal"},void 0,e.displayMessage))}))})).finally((function(){t.setState({disableDebugUpload:!1})}))}))};t.handleConnectionLogChange=function(e){d.setShouldRecordNextConnection(e)};t.handleOpenConnectionReplay=function(){d.openReplay()};t.handleOpenH264Change=function(e){s.default.setOpenH264(e);s.default.setHardwareH264(e)};t.handleEnableSoundshare=function(){s.default.enableSoundshare()}
;t.renderDeviceValue=function(e){return t.renderDevice(e[0])};t.renderDevice=function(e){var r,a=e.label,o=e.value;if(h.default.isCertified(o)){r=fe("img",{src:t.props.theme===X.ThemeTypes.LIGHT?n(956863):n(874638),alt:"Certified",className:ee.default.deviceOptionCertified})}return fe("span",{className:ee.default.deviceOption},o,fe("span",{className:ee.default.deviceOptionLabel},void 0,h.default.getCertifiedDeviceName(o,a)),r)};t.handleKrispLinkClick=function(e){var t=e.currentTarget;V.default.track(X.AnalyticEvents.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,location:{page:X.AnalyticsPages.USER_SETTINGS,section:X.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO}})};return t}var r=t.prototype;r.handleInputDeviceChange=function(e){s.default.setInputDevice(e,"Settings")};r.handleOutputDeviceChange=function(e){s.default.setOutputDevice(e,"Settings")};r.handleDownload=function(e){(0,B.openModal)((function(t){return a.createElement(_.default,se({source:e},t))}))}
;r.handleInputVolumeChange=function(e){s.default.setInputVolume((0,K.perceptualToAmplitude)(e))};r.handleOutputVolumeChange=function(e){s.default.setOutputVolume((0,K.perceptualToAmplitude)(e))};r.handleDelayValueRender=function(e){return e>=1e3?(e/=1e3).toFixed(2)+"s":e.toFixed(0)+" ms"};r.handleVideoDeviceChange=function(e){s.default.setVideoDevice(e,X.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO)};r.handleNoiseSuppressionChange=function(e){s.default.setNoiseSuppression(e,{page:X.AnalyticsPages.USER_SETTINGS,section:X.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO})};r.handleNoiseCancellationChange=function(e){s.default.setNoiseCancellation(e,{page:X.AnalyticsPages.USER_SETTINGS,section:X.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO})};r.handleEchoCancellationChange=function(e){s.default.setEchoCancellation(e,{page:X.AnalyticsPages.USER_SETTINGS,section:X.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO})};r.handleAutomaticGainControlChange=function(e){s.default.setAutomaticGainControl(e,{
page:X.AnalyticsPages.USER_SETTINGS,section:X.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO})};r.handleExperimentalEncodersChange=function(e){s.default.setExperimentalEncoders(e)};r.handleSilenceWarningChange=function(e){s.default.setSilenceWarning(e)};r.handleVideoHookChange=function(e){s.default.setVideoHook(e)};r.handleGraphicsCaptureChange=function(e){s.default.setGraphicsCapture(e);e&&s.default.setVideoHook(!1)};r.handleExperimentalSoundshareChange=function(e){s.default.setExperimentalSoundshare(e)};r.handleQoSChanged=function(e){s.default.setQoS(e)};r.handleVoiceReset=function(){(0,B.openModal)((function(e){return a.createElement(x.default,se({header:J.default.Messages.RESET_VOICE_SETTINGS,confirmText:J.default.Messages.OKAY,cancelText:J.default.Messages.CANCEL,onConfirm:s.default.reset},e),fe(w.Text,{variant:"text-md/normal"},void 0,J.default.Messages.RESET_VOICE_SETTINGS_BODY))}))};r.handleAudioSubsystemChanged=function(e){(0,B.openModal)((function(t){
return a.createElement(x.default,se({header:J.default.Messages.SWITCH_SUBSYSTEM,confirmText:J.default.Messages.OKAY,cancelText:J.default.Messages.CANCEL,onConfirm:function(){return s.default.setAudioSubsystem(e)}},t),fe(w.Text,{variant:"text-md/normal"},void 0,J.default.Messages.SWITCH_SUBSYSTEM_BODY))}))};r.renderDevices=function(){var e,t,n=this.props,r=n.inputDevices,a=n.inputDeviceId,o=n.outputDeviceId,u=n.outputDevices,l=n.canSetInputDevice,s=n.canSetOutputDevice;l||(e=fe(G.default,{type:G.default.Types.DESCRIPTION,className:ne.default.marginTop8},void 0,J.default.Messages.BROWSER_INPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Input Devices")})));s||(t=fe(G.default,{type:G.default.Types.DESCRIPTION,className:ne.default.marginTop8},void 0,J.default.Messages.BROWSER_OUTPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Output Devices")})));var d=(0,
i.default)(r).values().first(),f=null!=d?d.disabled:null!=e,c=(0,i.default)(u).values().first(),p=null!=c?c.disabled:null!=t;return fe(C.default,{className:ne.default.marginBottom20},void 0,fe(C.default.Child,{basis:"50%"},void 0,fe(F.default,{tag:F.Tags.H5,className:ne.default.marginBottom8},void 0,J.default.Messages.FORM_LABEL_INPUT_DEVICE),fe(H.SingleSelect,{value:a,onChange:this.handleInputDeviceChange,options:i.default.map(r,(function(e){return{value:e.id,label:e.name}})),isDisabled:f,renderOptionValue:this.renderDeviceValue,renderOptionLabel:this.renderDevice}),e),fe(C.default.Child,{basis:"50%"},void 0,fe(F.default,{tag:F.Tags.H5,className:ne.default.marginBottom8},void 0,J.default.Messages.FORM_LABEL_OUTPUT_DEVICE),fe(H.SingleSelect,{value:o,onChange:this.handleOutputDeviceChange,options:i.default.map(u,(function(e){return{value:e.id,label:e.name}})),isDisabled:p,renderOptionValue:this.renderDeviceValue,renderOptionLabel:this.renderDevice}),t))}
;r.renderVolumeControls=function(){var e=this.props,t=e.inputVolume,n=e.outputVolume;return fe(C.default,{className:"volume"},void 0,fe(C.default.Child,{basis:"50%"},void 0,fe(F.default,{id:ye,tag:F.Tags.H5,className:ne.default.marginBottom4},void 0,J.default.Messages.FORM_LABEL_INPUT_VOLUME),fe(N.default,{initialValue:(0,K.amplitudeToPerceptual)(t),asValueChanges:this.handleInputVolumeChange,"aria-labelledby":ye})),fe(C.default.Child,{basis:"50%"},void 0,fe(F.default,{id:me,tag:F.Tags.H5,className:ne.default.marginBottom4},void 0,J.default.Messages.FORM_LABEL_OUTPUT_VOLUME),fe(N.default,{initialValue:(0,K.amplitudeToPerceptual)(n),maxValue:200,onValueRender:function(e){return e.toFixed(0)+"%"},asValueChanges:this.handleOutputVolumeChange,"aria-labelledby":me})))};r.renderMicTest=function(){return g.default.supports(Z.Features.LOOPBACK)?fe("div",{className:ee.default.micTest},void 0,fe(c.default,{title:J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_TITLE,
description:J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_DESCRIPTION,notchBackground:c.NotchBackground.GRAY,captionVoice:J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_CAPTION,captionNoVoice:a.createElement(a.Fragment,null,J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_NO_INPUT_NOTICE,fe(I.default,{className:ee.default.micTestHelpLink,href:Y.default.getArticleURL(X.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,J.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT)),buttonTest:J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_INACTIVE,buttonStop:J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_ACTIVE,buttonClassName:ee.default.micTestButton,buttonColor:T.default.Colors.BRAND,location:{page:X.AnalyticsPages.USER_SETTINGS,section:X.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO}})):null};r.renderInputMode=function(){var e=this.props,t=e.usePTTLimited,n=e.inputMode,r=[{value:X.InputModes.VOICE_ACTIVITY,name:J.default.Messages.INPUT_MODE_VAD},{
value:X.InputModes.PUSH_TO_TALK,name:t?J.default.Messages.INPUT_MODE_PTT_LIMITED:J.default.Messages.INPUT_MODE_PTT}];return fe(k.default,{title:J.default.Messages.FORM_LABEL_INPUT_MODE,className:ne.default.marginBottom20},void 0,fe(M.default,{onChange:this.handleInputModeChange,options:r,value:n}))};r.renderPTTTools=function(){var e,t=this.props,n=t.inputMode,r=t.delay,a=t.shortcut;if(n!==X.InputModes.PUSH_TO_TALK)return null;e=z.isPlatformEmbedded||n!==X.InputModes.PUSH_TO_TALK?fe(G.default,{type:G.default.Types.DESCRIPTION,className:(0,o.default)(ee.default.pttToolsMessage,ne.default.marginBottom8)},void 0,J.default.Messages.USER_SETTINGS_VOICE_ADD_MULTIPLE.format({onClick:function(){return f.default.setSection(X.UserSettingsSections.KEYBINDS)}})):fe(G.default,{type:G.default.Types.DESCRIPTION,className:(0,o.default)(ee.default.pttToolsMessage,ee.default.pttToolsWarning,ne.default.marginBottom8)},void 0,J.default.Messages.PTT_LIMITED_WARNING.format({
onDownloadClick:this.handleDownload.bind(this,"Help Text PTT")}));return fe("div",{className:ee.default.pttTools},void 0,fe(C.default,{},void 0,fe(C.default.Child,{basis:"50%"},void 0,fe(k.default,{title:J.default.Messages.FORM_LABEL_SHORTCUT},void 0,fe(p.default,{defaultValue:a,onChange:this.handleShortcutChange}))),fe(C.default.Child,{basis:"50%"},void 0,fe(k.default,{},void 0,fe(F.default,{id:_e,tag:F.Tags.H5,className:ne.default.marginBottom8},void 0,J.default.Messages.INPUT_MODE_PTT_RELEASE_DELAY),fe(N.default,{initialValue:r,onValueChange:this.handleDelayChange,onValueRender:this.handleDelayValueRender,maxValue:X.MAX_PTT_RELEASE_DELAY,"aria-labelledby":_e})))),e)};r.renderVoiceSensitivityTools=function(){var e=this.props,t=e.inputMode,n=e.vadThreshold,r=e.vadAutoThreshold;return t!==X.InputModes.VOICE_ACTIVITY?null:fe(Se,{inputMode:t,threshold:n,auto:r,onThresholdChange:this.handleThresholdChange})};r.renderVideoWarnings=function(){return fe(j.default,{type:A.Types.PRIMARY,
title:J.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:J.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,button:fe(T.default,{size:T.default.Sizes.SMALL,className:ne.default.marginTop20,onClick:this.handleDownload.bind(this,"Video unsupported browser")},void 0,J.default.Messages.DOWNLOAD_APP)})};r.renderNoiseCancellation=function(){var e=this.props,t=e.theme,r=e.noiseCancellation;if(e.noiseCancellationSupported){var a;a=t===X.ThemeTypes.LIGHT?n(235920):n(200824);return fe(U.default,{className:ne.default.marginBottom20},void 0,fe(R.default,{className:(0,o.default)(ne.default.marginTop8,ne.default.marginBottom20),value:r,hideBorder:!0,onChange:this.handleNoiseCancellationChange,note:J.default.Messages.USER_SETTINGS_NOISE_CANCELLATION_DESCRIPTION},void 0,J.default.Messages.USER_SETTINGS_NOISE_CANCELLATION),fe(j.default,{className:ne.default.marginBottom20,type:j.Types.PRIMARY,imageData:{src:a,width:70,height:40},align:C.default.Align.CENTER,body:fe(I.default,{
href:Y.default.getArticleURL(X.HelpdeskArticles.NOISE_SUPPRESSION),onClick:this.handleKrispLinkClick},void 0,J.default.Messages.LEARN_MORE)}))}};r.renderCodec=function(){var e;e=this.props.theme===X.ThemeTypes.LIGHT?n(396448):n(680664);return fe(U.default,{className:ne.default.marginBottom20,title:J.default.Messages.USER_SETTINGS_VOICE_CODEC_TITLE},void 0,fe(j.default,{className:ne.default.marginBottom20,type:j.Types.PRIMARY,imageData:{src:e,width:70,height:40},align:C.default.Align.CENTER,body:J.default.Messages.USER_SETTINGS_VOICE_CODEC_DESCRIPTION}))};r.renderVideoCodec=function(){if(!g.default.supports(Z.Features.OPEN_H264))return null;var e,t=this.props,n=t.openH264,r=t.experimentalEncoders,a=t.hardwareH264;"stable"!==$.default.releaseChannel&&g.default.isExperimentalEncodersSupported()&&(e=fe(R.default,{className:(0,o.default)(ne.default.marginTop8,ne.default.marginBottom20),value:r,onChange:this.handleExperimentalEncodersChange,disabled:!1
},void 0,J.default.Messages.EXPERIMENTAL_ENCODERS));return fe(U.default,{className:ne.default.marginBottom20,title:J.default.Messages.USER_SETTINGS_VOICE_VIDEO_CODEC_TITLE},void 0,fe(R.default,{className:(0,o.default)(ne.default.marginTop8,ne.default.marginBottom20),value:n,onChange:this.handleOpenH264Change,disabled:!1,note:J.default.Messages.FORM_HELP_OPEN_H264},void 0,J.default.Messages.USER_SETTINGS_VOICE_OPEN_H264),fe(R.default,{className:(0,o.default)(ne.default.marginTop8,ne.default.marginBottom20),value:a,onChange:this.handleHardwareH264Change,disabled:!n,note:J.default.Messages.FORM_HELP_HARDWARE_H264},void 0,J.default.Messages.USER_SETTINGS_VOICE_HARDWARE_H264),e)};r.renderVoiceProcessing=function(){if(!g.default.supports(Z.Features.VOICE_PROCESSING))return null
;var e,t,n=this.props,r=n.noiseSuppression,a=n.echoCancellation,i=n.automaticGainControl,u=n.inputDeviceId,l=n.noiseCancellation,s=n.vadUseKrisp,d=n.inputMode,f=n.vadAutoThreshold,c=n.advancedVoiceActivitySupported,p=h.default.hasEchoCancellation(u),v=h.default.hasNoiseSuppression(u),y=h.default.hasAutomaticGainControl(u);(p||p||y)&&(e=fe(G.default,{className:ne.default.marginBottom20,type:G.default.Types.DESCRIPTION},void 0,J.default.Messages.FORM_HELP_CERTIFIED_VOICE_PROCESSING));if(c){var m=d===X.InputModes.VOICE_ACTIVITY&&f;t=fe(R.default,{value:s,onChange:this.handleAdvancedVoiceActivityChange,note:J.default.Messages.USER_SETTINGS_DISABLE_ADVANCED_VOICE_ACTIVITY,disabled:!m},void 0,J.default.Messages.ADVANCED_VOICE_ACTIVITY)}return fe(U.default,{className:ne.default.marginBottom20,title:J.default.Messages.FORM_LABEL_VOICE_PROCESSING},void 0,e,fe(R.default,{className:(0,o.default)(ne.default.marginTop8,ne.default.marginBottom20),value:a,onChange:this.handleEchoCancellationChange,
disabled:p},void 0,J.default.Messages.ECHO_CANCELLATION),fe(R.default,{value:r,onChange:this.handleNoiseSuppressionChange,note:l&&J.default.Messages.USER_SETTINGS_DISABLE_NOISE_SUPPRESSION,disabled:v||l},void 0,J.default.Messages.NOISE_SUPPRESSION),t,fe(R.default,{className:"",value:i,onChange:this.handleAutomaticGainControlChange,disabled:y},void 0,J.default.Messages.AUTOMATIC_GAIN_CONTROL))};r.renderQoS=function(){if(!g.default.supports(Z.Features.QOS))return null;var e=this.props.qosEnabled;return fe(U.default,{className:ne.default.marginBottom20,title:J.default.Messages.FORM_LABEL_QOS},void 0,fe(R.default,{className:"",value:e,onChange:this.handleQoSChanged,note:J.default.Messages.FORM_HELP_QOS},void 0,J.default.Messages.FORM_CHECKBOX_QOS))};r.renderAttenutation=function(){if(!g.default.supports(Z.Features.ATTENUATION))return null;var e=this.props,t=e.attenuation,n=e.attenuateWhileSpeakingSelf,r=e.attenuateWhileSpeakingOthers;return fe(U.default,{className:ne.default.marginBottom20
},void 0,fe(F.default,{id:he,tag:F.Tags.H5,className:ne.default.marginBottom8},void 0,J.default.Messages.FORM_LABEL_ATTENUATION),fe(N.default,{initialValue:t,onValueChange:this.handleAttenuationChange,"aria-labelledby":he}),fe(G.default,{className:ne.default.marginBottom20,type:G.default.Types.DESCRIPTION},void 0,J.default.Messages.FORM_HELP_ATTENUATION),fe(L.default,{className:ne.default.marginBottom20}),fe(R.default,{value:n,onChange:this.handleAttenuateSelfChanged},void 0,J.default.Messages.ATTENUATE_WHILE_SPEAKING_SELF),fe(R.default,{className:"",value:r,onChange:this.handleAttenuateOthersChanged},void 0,J.default.Messages.ATTENUATE_WHILE_SPEAKING_OTHERS))};r.renderAudioSubsystem=function(){if(!g.default.supports(Z.Features.LEGACY_AUDIO_SUBSYSTEM)&&!g.default.supports(Z.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM))return null;var e=[{value:Z.AudioSubsystems.STANDARD,label:"Standard"}];g.default.supports(Z.Features.LEGACY_AUDIO_SUBSYSTEM)&&e.push({value:Z.AudioSubsystems.LEGACY,
label:"Legacy"});g.default.supports(Z.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM)&&e.push({value:Z.AudioSubsystems.EXPERIMENTAL,label:"Experimental"});var t=this.props.audioSubsystem;return fe(U.default,{className:ne.default.marginBottom20,title:J.default.Messages.FORM_LABEL_SUBSYSTEM},void 0,fe(H.SingleSelect,{className:ne.default.marginBottom20,value:t,options:e,onChange:this.handleAudioSubsystemChanged}),fe(L.default,{className:ne.default.marginBottom20}))};r.renderScreenshare=function(){if(!z.isPlatformEmbedded)return null;var e,t,n,r,a=this.props,o=a.videoHook,i=a.graphicsCapture,u=a.experimentalSoundshare,l=a.soundshareEnabled;g.default.supports(Z.Features.VIDEO_HOOK)&&(e=fe(R.default,{value:o,onChange:this.handleVideoHookChange,disabled:i},void 0,J.default.Messages.USER_SETTINGS_VOICE_VIDEO_HOOK_LABEL));g.default.supportsGraphicsCapture()&&(t=fe(R.default,{value:i,onChange:this.handleGraphicsCaptureChange},void 0,J.default.Messages.USER_SETTINGS_VOICE_GRAPHICS_CAPTURE_LABEL))
;g.default.supportsExperimentalSoundshare()&&(n=fe(R.default,{value:u,onChange:this.handleExperimentalSoundshareChange},void 0,J.default.Messages.USER_SETTINGS_VOICE_EXPERIMENTAL_SOUNDSHARE_LABEL));if(g.default.supportsEnableSoundshare()){var s=J.default.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_NOT_ENABLED_LABEL;l===X.SoundshareEnableState.ENABLING?s=J.default.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_ENABLING_LABEL:l===X.SoundshareEnableState.ENABLED?s=J.default.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_ENABLED_LABEL:l===X.SoundshareEnableState.FAILED_TO_ENABLE&&(s=J.default.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_FAILED_TO_ENABLE_LABEL);r=fe(k.default,{},void 0,fe(G.default,{className:ne.default.marginBottom20},void 0,s.format({helpdeskArticle:Y.default.getArticleURL(X.HelpdeskArticles.OSX_SOUNDSHARE)})),fe(C.default,{},void 0,fe(C.default.Child,{grow:0,shrink:0},void 0,fe(T.default,{className:ne.default.marginBottom20,size:T.default.Sizes.SMALL,onClick:this.handleEnableSoundshare,
disabled:l!==X.SoundshareEnableState.NOT_ENABLED},void 0,J.default.Messages.USER_SETTINGS_VOICE_INSTALL_LABEL))),fe(L.default,{className:ne.default.marginBottom20}))}return null==e&&null==t&&null==n&&null==r?null:fe(U.default,{className:ne.default.marginBottom20,title:J.default.Messages.FORM_LABEL_SCREENSHARE},void 0,e,t,n,r)};r.renderDiagnostics=function(){if(!z.isPlatformEmbedded)return null;var e=this.props.silenceWarning;return fe(U.default,{className:ne.default.marginBottom20,title:J.default.Messages.FORM_LABEL_VOICE_DIAGNOSTICS},void 0,fe(R.default,{className:"",value:e,onChange:this.handleSilenceWarningChange},void 0,J.default.Messages.DISPLAY_SILENCE_WARNING))};r.renderDebugLogs=function(){if(z.isPlatformEmbedded&&g.default.supports(Z.Features.DEBUG_LOGGING)&&null!=m.default.fileManager.readLogFiles){
var e=this.props,t=e.debugLogging,n=e.aecDumpSupported,r=e.aecDumpEnabled,o=e.shouldRecordNextConnection,i=e.isStaff,u=this.state.disableDebugUpload,l=a.createElement(a.Fragment,null,fe(R.default,{hideBorder:!0,value:t,onChange:this.handleDebugLoggingChange,note:J.default.Messages.FORM_HELP_DEBUG_LOGGING},void 0,J.default.Messages.FORM_CHECKBOX_DEBUG_LOGGING)),s=n?a.createElement(a.Fragment,null,fe(R.default,{value:r,onChange:this.handleAecDumpChange,note:J.default.Messages.FORM_HELP_AEC_DUMP},void 0,J.default.Messages.FORM_CHECKBOX_AEC_DUMP)):null,d=("canary"===$.default.releaseChannel||"development"===$.default.releaseChannel)&&i&&g.default.supports(Z.Features.CONNECTION_REPLAY)?a.createElement(a.Fragment,null,fe(R.default,{hideBorder:!0,value:o,onChange:this.handleConnectionLogChange,note:J.default.Messages.FORM_HELP_CONNECTION_LOG},void 0,J.default.Messages.FORM_CHECKBOX_CONNECTION_LOG),fe(k.default,{},void 0,fe(C.default,{className:ne.default.marginBottom20
},void 0,fe(C.default.Child,{grow:0,shrink:0},void 0,fe(T.default,{size:T.default.Sizes.SMALL,onClick:this.handleOpenConnectionReplay},void 0,J.default.Messages.OPEN_CONNECTION_REPLAY))))):null;return fe(U.default,{className:ne.default.marginBottom40,title:J.default.Messages.FORM_LABEL_DEBUG},void 0,s,d,l,fe(k.default,{},void 0,fe(C.default,{},void 0,fe(C.default.Child,{grow:0,shrink:0},void 0,fe(T.default,{disabled:u,size:T.default.Sizes.SMALL,onClick:this.handleUploadDebugFiles},void 0,J.default.Messages.UPLOAD)),fe(C.default.Child,{grow:0,shrink:0},void 0,fe(T.default,{size:T.default.Sizes.SMALL,onClick:this.handleShowVoiceModuleFolder},void 0,J.default.Messages.SHOW_FOLDER)))))}};r.renderResetVoiceSettings=function(){return fe(k.default,{},void 0,fe(T.default,{look:T.default.Looks.OUTLINED,color:T.default.Colors.RED,onClick:this.handleVoiceReset,size:T.default.Sizes.SMALL},void 0,J.default.Messages.RESET_VOICE_SETTINGS))};r.renderVideoSettings=function(){
return fe("div",{},void 0,fe(F.default,{tag:F.Tags.H1,className:ne.default.marginBottom20},void 0,J.default.Messages.VIDEO_SETTINGS),g.default.supports(Z.Features.VIDEO)?fe(Q.default,{previewEnabled:this.state.showCamera,onEnablePreview:this.handleShowCamera}):this.renderVideoWarnings(),fe(L.default,{className:(0,o.default)(ne.default.marginBottom40,ne.default.marginTop40)}))};r.render=function(){var e=Y.default.getArticleURL(X.HelpdeskArticles.VOICE_VIDEO_TROUBLESHOOTING)+"?utm_source=discord&utm_medium=blog&utm_campaign=2020-06_help-voice-video&utm_content=--t%3Apm";return fe(U.default,{className:ee.default.userSettingsVoice,tag:F.Tags.H1,title:J.default.Messages.VOICE_SETTINGS},void 0,this.renderDevices(),this.renderVolumeControls(),this.renderMicTest(),fe(G.default,{className:ne.default.marginBottom20,type:G.default.Types.DESCRIPTION},void 0,J.default.Messages.FORM_HELP_VOICE_VIDEO_TROUBLESHOOTING_GUIDE.format({guideURL:e})),fe(L.default,{className:(0,
o.default)(ne.default.marginBottom40)}),this.renderInputMode(),this.renderPTTTools(),this.renderVoiceSensitivityTools(),fe(L.default,{className:ne.default.marginBottom40}),this.renderVideoSettings(),fe(F.default,{tag:F.Tags.H1,className:ne.default.marginBottom20},void 0,J.default.Messages.SETTINGS_ADVANCED),this.renderNoiseCancellation(),this.renderCodec(),this.renderVideoCodec(),this.renderVoiceProcessing(),this.renderQoS(),this.renderAttenutation(),this.renderAudioSubsystem(),this.renderScreenshare(),this.renderDiagnostics(),this.renderDebugLogs(),this.renderResetVoiceSettings())};return t}(a.PureComponent);Oe.displayName="UserSettingsVoice";function be(){var e=(0,u.useStateFromStores)([O.default],(function(){return O.default.theme})),t=(0,u.useStateFromStores)([g.default],(function(){return g.default.supports(Z.Features.AUDIO_INPUT_DEVICE)})),n=(0,u.useStateFromStores)([g.default],(function(){return g.default.supports(Z.Features.AUDIO_OUTPUT_DEVICE)})),r=(0,
u.useStateFromStores)([g.default],(function(){return g.default.getInputVolume()})),a=(0,u.useStateFromStores)([g.default],(function(){return g.default.getOutputVolume()})),o=(0,u.useStateFromStores)([g.default],(function(){return g.default.getInputDeviceId()})),i=(0,u.useStateFromStores)([g.default],(function(){return g.default.getInputDevices()})),l=(0,u.useStateFromStores)([g.default],(function(){return g.default.getOutputDevices()})),s=(0,u.useStateFromStores)([g.default],(function(){return g.default.getOutputDeviceId()})),d=(0,u.useStateFromStores)([g.default],(function(){return g.default.getVideoDevices()})),f=(0,u.useStateFromStores)([g.default],(function(){return g.default.getVideoDeviceId()})),c=(0,u.useStateFromStores)([g.default],(function(){return g.default.getEchoCancellation()})),p=(0,u.useStateFromStores)([g.default],(function(){return g.default.getLoopback()})),v=(0,u.useStateFromStores)([g.default],(function(){return g.default.getNoiseSuppression()})),y=(0,
u.useStateFromStores)([g.default],(function(){return g.default.getAutomaticGainControl()})),m=(0,u.useStateFromStores)([g.default],(function(){return g.default.getNoiseCancellation()})),_=(0,u.useStateFromStores)([g.default],(function(){return g.default.isNoiseCancellationSupported()})),S=(0,u.useStateFromStores)([g.default],(function(){return g.default.isAdvancedVoiceActivitySupported()})),I=(0,u.useStateFromStores)([g.default],(function(){return g.default.getMode()})),T=(0,u.useStateFromStores)([g.default],(function(){return g.default.getModeOptions().shortcut})),A=(0,u.useStateFromStores)([g.default],(function(){return g.default.getModeOptions().threshold})),C=(0,u.useStateFromStores)([g.default],(function(){return g.default.getModeOptions().autoThreshold})),M=(0,u.useStateFromStores)([g.default],(function(){return g.default.getModeOptions().vadUseKrisp})),N=(0,u.useStateFromStores)([g.default],(function(){return g.default.getModeOptions().delay})),P=(0,
u.useStateFromStores)([g.default],(function(){return g.default.getAttenuation()})),R=(0,u.useStateFromStores)([g.default],(function(){return g.default.getAttenuateWhileSpeakingSelf()})),w=(0,u.useStateFromStores)([g.default],(function(){return g.default.getAttenuateWhileSpeakingOthers()})),D=(0,u.useStateFromStores)([g.default],(function(){return g.default.getEnableSilenceWarning()})),L=(0,u.useStateFromStores)([g.default],(function(){return g.default.getDebugLogging()})),k=(0,u.useStateFromStores)([g.default],(function(){return g.default.getQoS()})),j=(0,u.useStateFromStores)([g.default],(function(){return g.default.getAudioSubsystem()})),U=(0,u.useStateFromStores)([h.default],(function(){return h.default.getRevision()})),G=(0,u.useStateFromStores)([g.default],(function(){return g.default.getVideoHook()})),F=(0,u.useStateFromStores)([g.default],(function(){return g.default.getGraphicsCapture()})),x=(0,u.useStateFromStores)([g.default],(function(){
return g.default.getExperimentalSoundshare()})),B=(0,u.useStateFromStores)([g.default],(function(){return g.default.getOpenH264()})),H=(0,u.useStateFromStores)([g.default],(function(){return g.default.getExperimentalEncoders()})),V=(0,u.useStateFromStores)([g.default],(function(){return g.default.getHardwareH264()})),W=(0,u.useStateFromStores)([g.default],(function(){return g.default.isAecDumpSupported()})),Y=(0,u.useStateFromStores)([g.default],(function(){return g.default.getAecDump()})),K=(0,u.useStateFromStores)([E.default],(function(){return E.default.shouldRecordNextConnection()})),$=(0,u.useStateFromStores)([b.default],(function(){var e;return!!(null===(e=b.default.getCurrentUser())||void 0===e?void 0:e.isStaff())})),Q=(0,u.useStateFromStores)([g.default],(function(){return g.default.getSoundshareEnabled()})),X=q.AlwaysPreviewVideo.useSetting();return fe(Oe,{theme:e,canSetInputDevice:t,canSetOutputDevice:n,inputVolume:r,outputVolume:a,inputDeviceId:o,inputDevices:i,
outputDevices:l,outputDeviceId:s,videoDevices:d,videoDeviceId:f,echoCancellation:c,loopback:p,noiseSuppression:v,automaticGainControl:y,noiseCancellation:m,noiseCancellationSupported:_,advancedVoiceActivitySupported:S,inputMode:I,shortcut:T,vadThreshold:A,vadAutoThreshold:C,vadUseKrisp:M,delay:N,usePTTLimited:!z.isPlatformEmbedded,attenuation:P,attenuateWhileSpeakingSelf:R,attenuateWhileSpeakingOthers:w,silenceWarning:D,debugLogging:L,qosEnabled:k,audioSubsystem:j,certifiedDeviceRevision:U,videoHook:G,graphicsCapture:F,experimentalSoundshare:x,openH264:B,experimentalEncoders:H,hardwareH264:V,aecDumpSupported:W,aecDumpEnabled:Y,shouldRecordNextConnection:K,isStaff:$,soundshareEnabled:Q,alwaysPreviewVideo:X})}be.displayName="UserSettingsVoiceWrapper"},541247:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(667294)),o=p(n(294184)),i=p(n(567668)),u=p(n(956303)),l=y(n(662197)),s=n(864489),d=p(n(922629)),f=p(n(247001)),c=p(n(380203))
;function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleToggleOpenOnStartup=function(){var e=!n.state.openOnStartup;n.setState({openOnStartup:e});d.default.send("TOGGLE_OPEN_ON_STARTUP",e)};n.handleToggleStartMinimized=function(){var e=!n.state.startMinimized;n.setState({startMinimized:e});d.default.send("TOGGLE_START_MINIMIZED",e)};n.handleToggleMinimizeToTray=function(){var e=!n.state.minimizeToTray;n.setState({minimizeToTray:e});d.default.send("TOGGLE_MINIMIZE_TO_TRAY",e)};n.state={openOnStartup:!0,startMinimized:!1,minimizeToTray:!0};return n}var n=t.prototype;n.componentDidMount=function(){
var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this;e.next=3;return d.default.getSetting("OPEN_ON_STARTUP",!0);case 3:e.t1=e.sent;e.next=6;return d.default.getSetting("START_MINIMIZED",!1);case 6:e.t2=e.sent;e.next=9;return d.default.getSetting("MINIMIZE_TO_TRAY",!0);case 9:e.t3=e.sent;e.t4={openOnStartup:e.t1,startMinimized:e.t2,minimizeToTray:e.t3};e.t0.setState.call(e.t0,e.t4);case 12:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();n.render=function(){var e=this.state,t=e.openOnStartup,n=e.startMinimized,r=e.minimizeToTray,a=(0,s.isLinux)()?f.default.Messages.USER_SETTINGS_LINUX_SETTINGS:f.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS;return m(u.default,{tag:l.Tags.H1,title:a
},void 0,m(l.default,{},void 0,f.default.Messages.USER_SETTINGS_STARTUP_BEHAVIOR),m(i.default,{className:c.default.marginBottom20,value:t,note:f.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_BODY,onChange:this.handleToggleOpenOnStartup},void 0,f.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_LABEL),(0,s.isWindows)()?m(i.default,{disabled:!t,className:(0,o.default)(c.default.marginTop8,c.default.marginBottom20),value:!!t&&n,note:f.default.Messages.USER_SETTINGS_START_MINIMIZED_BODY,onChange:this.handleToggleStartMinimized},void 0,f.default.Messages.USER_SETTINGS_START_MINIMIZED_LABEL):null,m(l.default,{className:(0,o.default)(c.default.marginTop20,c.default.marginBottom8)},void 0,f.default.Messages.USER_SETTINGS_CLOSE_BUTTON),m(i.default,{className:c.default.marginBottom20,value:r,note:f.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_BODY,onChange:this.handleToggleMinimizeToTray},void 0,f.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_LABEL))};return t}(a.PureComponent)
;g.displayName="UserSettingsWindows";var E=g;t.default=E},629598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N;var r,a=S(n(667294)),o=n(536211),i=g(n(636602)),u=n(556470),l=n(659022),s=n(144594),d=n(700192),f=S(n(393198)),c=g(n(635014)),p=g(n(728429)),v=g(n(956117)),y=g(n(730977)),m=n(770348),_=g(n(247001)),h=g(n(471749));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(){
O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=387,C=218,M=b(f.FilterLoadingIndicator,{});function N(e){var t=e.previewEnabled,n=e.onEnablePreview,r=c.default.getCameraComponent(),g=I(a.useState((0,l.getLastUsedVideoBackgroundOption)(p.default.getCurrentUser())),2),E=g[0],S=g[1],T=a.useRef(!1),N=a.useRef(E),P=(0,u.useAnalyticsContext)(),R=(0,o.useStateFromStores)([c.default],(function(){
return Object.values(c.default.getVideoDevices()).length>0}));a.useEffect((function(){return function(){T.current&&i.default.wait((function(){return(0,s.saveLastUsedBackgroundOption)(N.current)}))}}),[]);return b(f.default,{selectedBackgroundOption:E,onSelectBackgroundOption:function(e){T.current=!0;N.current=e;S(e);(0,d.applyBackgroundOptionLive)(e,{location:P.location}).catch(m.NOOP)},renderCamera:function(e){return t?b("div",{className:h.default.cameraWrapper},void 0,b("div",{className:h.default.camera},void 0,b(r,{deviceId:e,width:A,height:C,disabled:!t}),M)):b("div",{className:h.default.cameraWrapper},void 0,b("div",{className:h.default.previewImage}),b(y.default,{text:R?null:_.default.Messages.CAMERA_UNAVAILABLE},void 0,(function(e){return a.createElement(v.default,O({},e,{onClick:n,disabled:!R}),_.default.Messages.TEST_VIDEO)})))}})}N.displayName="VideoSettingsCamera"},547342:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=I
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(413577),u=_(n(956704)),l=_(n(16941)),s=n(772575),d=_(n(665759)),f=n(645758),c=n(688388),p=n(967965),v=_(n(571028)),y=n(109061),m=_(n(957372));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t,n,r=E(a.useState(null!=e.descriptor),2),o=r[0],u=r[1],s=a.useCallback((function(){u((function(e){return!e}))}),[]),d=(t=e.experiment.description,Array.isArray(t)?t:[t]),_=(0,y.getExperimentDateFromId)(e.experimentId);return g("div",{className:m.default.group},void 0,g(c.FormSection,{},void 0,g(l.default,{onClick:s},void 0,g(c.FormTitle,{tag:c.FormTitleTags.H3,className:m.default.title},void 0,g("div",{},void 0,g("span",{},void 0,e.experiment.title),g(f.Text,{color:"text-muted",variant:"text-sm/normal"},void 0,e.experimentId)),g("span",{className:m.default.experimentDate},void 0,_))),o?g("div",{},void 0,g(c.FormItem,{title:"Bucket Override"},void 0,g(p.SingleSelect,{
value:null!=e.descriptor?e.descriptor.bucket:null,clearable:null!=e.descriptor,options:(n=e.experiment.buckets,n.map((function(e){return{label:v.default.getExperimentBucketName(e),value:e}}))),onChange:function(t){(0,i.overrideBucket)(e.experimentId,t)}})),g("div",{className:m.default.description},void 0,d.map((function(e,t){return g(c.FormText,{type:c.FormTextTypes.DESCRIPTION},t,e," ")})))):null),g(c.FormDivider,{className:m.default.divider}))}O.displayName="ExperimentGroup";var b=g(s.Heading,{variant:"heading-md/medium",level:3},void 0,"No Experiments Found");function I(){var e=(0,o.useStateFromStoresObject)([u.default],(function(){return{experiments:u.default.getRegisteredExperiments(),overrides:u.default.getExperimentOverrides()}})),t=e.experiments,n=e.overrides,r=E(a.useState(""),2),i=r[0],l=r[1],s=(0,y.getBestMatches)((0,y.sortEntries)((0,y.getEntries)(t)),i);return g(c.FormSection,{tag:c.FormTitleTags.H1,title:"Experiments"},void 0,g(d.default,{size:d.default.Sizes.LARGE,
query:i,onChange:l,onClear:function(){return l("")}}),s.length>0?s.map((function(e){return g(O,{experiment:e.experiment,experimentId:e.id,descriptor:n[e.id]},e.id)})):g("div",{className:m.default.emptyState},void 0,b))}I.displayName="UserSettingsExperiments"},174128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;d(n(667294));var r,a=d(n(956117)),o=n(688388),i=l(n(247001)),u=l(n(983200));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.className,n=e.currentUser,r=e.handleDisableAccount,l=e.handleDeleteAccount,s=n.isClaimed();return f(o.FormSection,{className:t,title:i.default.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_SECTION},void 0,f(o.FormText,{className:u.default.description,type:o.FormText.Types.DESCRIPTION},void 0,s?i.default.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_DESCRIPTION:i.default.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_DESCRIPTION_UNCLAIMED),f("div",{
className:u.default.buttonContainer},void 0,s?f(a.default,{className:u.default.disableButton,look:a.ButtonLooks.FILLED,color:a.ButtonColors.RED,size:a.ButtonSizes.SMALL,onClick:r},void 0,i.default.Messages.DISABLE_ACCOUNT):null,f(a.default,{look:a.ButtonLooks.OUTLINED,color:a.ButtonColors.RED,size:a.ButtonSizes.SMALL,onClick:l},void 0,i.default.Messages.DELETE_ACCOUNT)))}c.displayName="UserSettingsAccountDisableAccountSection"},954663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(825185),u=f(n(669879)),l=f(n(816624)),s=f(n(871778)),d=n(914905);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}
i(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function h(){var e=(0,o.useStateFromStores)([s.default],(function(){return s.default.theme})),t=(0,o.useStateFromStores)([l.default],(function(){return l.default.getIsDisableSubmit()})),n=m(a.useState(!1),2),r=n[0],f=n[1],c=a.useCallback(y(regeneratorRuntime.mark((function e(){var t,n,r,a,o,u,s,c,p,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0);t={};n=l.default.getAllPending(),r=n.pendingAvatar,a=n.pendingBanner,o=n.pendingBio,u=n.pendingPronouns,s=n.pendingAccentColor,c=n.pendingAvatarDecoration;void 0!==r&&(t.avatar=r);void 0!==a&&(t.banner=a);null!=o&&(t.bio=o);null!=u&&(t.pronouns=u);void 0!==s&&(t.accentColor=s);void 0!==c&&(t.avatarDecoration=c);e.next=11;return(0,i.saveAccountChanges)(t);case 11:(null==(p=e.sent)?void 0:p.ok)?(0,i.resetAllPending)():null!=(null==p||null===(v=p.body)||void 0===v?void 0:v.username)&&(0,d.showInvalidUsernameToast)();f(!1);case 14:case"end":return e.stop()}}),e)}))),[]),v=a.useCallback((function(){(0,
i.resetAllPending)()}),[]);return p(u.default,{theme:e,submitting:r,onSave:c,onReset:v,disabled:t})}h.displayName="UserSettingsAccountNotice"},319155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=te;var r,a=x(n(667294)),o=G(n(294184)),i=G(n(441143)),u=n(536211),l=G(n(226800)),s=G(n(252149)),d=G(n(149342)),f=G(n(915539)),c=G(n(730487)),p=G(n(145122)),v=x(n(947472)),y=G(n(715419)),m=x(n(286004)),_=x(n(674356)),h=G(n(816624)),g=G(n(871778)),E=G(n(728429)),S=G(n(956117)),O=G(n(16941)),b=G(n(160629)),I=n(645758),T=n(688388),A=G(n(775803)),C=n(194322),M=x(n(628551)),N=G(n(308920)),P=n(856384),R=G(n(922629)),w=n(894826),D=n(860238),L=n(770348),k=n(52656),j=G(n(247001)),U=G(n(517401));function G(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return B.apply(this,arguments)}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){W(o,r,a,i,u,"next",e)}function u(e){W(o,r,a,i,u,"throw",e)}i(void 0)}))}}function K(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var z=R.default.getEnableHardwareAcceleration()?M.AnimatedAvatar:M.default;function $(e){var t=e.className,r=e.user,i=a.useRef(null),u=null!=i.current&&i.current.scrollWidth>i.current.clientWidth;return K("div",{className:(0,o.default)(U.default.field,t)},void 0,K("div",{className:U.default.constrainedRow},void 0,K("div",{className:U.default.usernameRow},void 0,K(T.FormTitle,{className:U.default.fieldTitle},void 0,j.default.Messages.USER_SETTINGS_LABEL_USERNAME),a.createElement("div",{className:U.default.usernameInnerRow,ref:i},K(I.Text,{tag:"span",color:"header-primary",
variant:"text-md/normal"},void 0,r.username),K(I.Text,{tag:"span",color:"header-secondary",variant:"text-md/normal"},void 0,"#",r.discriminator)))),K(S.default,{className:U.default.fieldButton,size:S.default.Sizes.SMALL,color:S.default.Colors.PRIMARY,onClick:function(){return(0,C.openModalLazy)(Y(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(97011)]).then(n.bind(n,197011));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,u?j.default.Messages.DISAPPROVAL:j.default.Messages.EDIT))}$.displayName="EditUsernameRow";function q(e){var t=e.text,n=e.censor,r=H(a.useState(!1),2),o=r[0],i=r[1],u=o?t:n(t);return a.createElement(a.Fragment,null,u,K(S.default,{look:S.default.Looks.LINK,size:S.default.Sizes.MIN,color:S.default.Colors.LINK,onClick:function(){return i(!o)}
},void 0,o?j.default.Messages.HIDE:j.default.Messages.REVEAL))}function Q(e){var t,r=e.className,i=e.user;if(i.isClaimed())if(null==i.email)t={buttonText:j.default.Messages.ADD,buttonColor:S.default.Colors.PRIMARY,valueMessage:j.default.Messages.USER_SETTINGS_NO_EMAIL_PLACEHOLDER,handleClick:function(){return(0,C.openModalLazy)(Y(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(92253)]).then(n.bind(n,592253));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}};else{var u=i.email;t={buttonText:j.default.Messages.EDIT,buttonColor:S.default.Colors.PRIMARY,valueMessage:K(q,{text:u,censor:D.censorEmail}),handleClick:function(){return(0,C.openModalLazy)(Y(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
e.next=2;return Promise.all([n.e(40532),n.e(92253)]).then(n.bind(n,592253));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}}}else t={buttonText:j.default.Messages.CLAIM_ACCOUNT_SHORT,buttonColor:S.default.Colors.BRAND,valueMessage:j.default.Messages.USER_SETTINGS_ADD_EMAIL_CLAIM,handleClick:function(){return f.default.openClaimAccountModal()}};return K("div",{className:(0,o.default)(U.default.field,r)},void 0,K("div",{className:U.default.constrainedRow},void 0,K("div",{},void 0,K(T.FormTitle,{className:U.default.fieldTitle},void 0,j.default.Messages.USER_SETTINGS_LABEL_EMAIL),K("div",{},void 0,K(I.Text,{tag:"span",color:"header-primary",variant:"text-md/normal"},void 0,t.valueMessage)))),K(S.default,{className:U.default.fieldButton,size:S.default.Sizes.SMALL,color:S.default.Colors.PRIMARY,onClick:t.handleClick},void 0,t.buttonText))}Q.displayName="EditEmailRow";function X(e){
var t=e.className,r=e.user;if(!r.isClaimed())return null;var i,u=r.phone,l=r.email;i=null==u?j.default.Messages.USER_SETTINGS_NO_PHONE_PLACEHOLDER:K(q,{text:u,censor:D.censorPhone});return K("div",{className:(0,o.default)(U.default.field,t)},void 0,K("div",{className:U.default.constrainedRow},void 0,K("div",{},void 0,K(T.FormTitle,{className:U.default.fieldTitle},void 0,j.default.Messages.USER_SETTINGS_LABEL_PHONE_NUMBER),K("div",{},void 0,K(I.Text,{tag:"span",color:"header-primary",variant:"text-md/normal"},void 0,i)))),K("div",{className:U.default.fieldButtonList},void 0,null!=u&&null!=l?K(S.default,{className:(0,o.default)(U.default.fieldButton,U.default.removeButton),size:S.default.Sizes.SMALL,look:S.default.Looks.LINK,color:S.default.Colors.PRIMARY,onClick:function(){(0,C.openModal)((function(e){return a.createElement(d.default,B({},e,{title:j.default.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_NUMBER_TITLE,
children:r.hasFlag(L.UserFlags.MFA_SMS)?j.default.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_SMS_BACKUP_WARNING:void 0,actionText:j.default.Messages.REMOVE,handleSubmit:function(e){return v.default.removePhone(e,v.ChangePhoneReason.USER_SETTINGS_UPDATE)}}))}))}},void 0,j.default.Messages.REMOVE):null,K(S.default,{className:U.default.fieldButton,size:S.default.Sizes.SMALL,color:S.default.Colors.PRIMARY,onClick:function(){(0,C.openModalLazy)(Y(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,54725));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,B({reason:v.ChangePhoneReason.USER_SETTINGS_UPDATE},e))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:k.PHONE_VERIFICATION_MODAL_KEY})}},void 0,null==u?j.default.Messages.ADD:j.default.Messages.EDIT)))}X.displayName="EditPhoneRow";function Z(e){var t=e.user,n=(0,
c.default)(t.id);return w.DeveloperMode.useSetting()&&P.SUPPORTS_COPY?K(b.default,{renderPopout:function(e){var t=e.closePopout;return K(p.default,{onClose:t,onSelect:void 0,navId:"copy-id","aria-label":j.default.Messages.USER_MORE_ACTIONS_MENU_LABEL},void 0,n)}},void 0,(function(e){return a.createElement(O.default,B({},e,{className:U.default.overflowMenuButton,"aria-label":j.default.Messages.ACTIONS}),K(A.default,{className:U.default.overflowMenuIcon,height:24,width:24}))})):null}Z.displayName="CopyUserIdMenu";function J(){l.default.setSection(L.UserSettingsSections.PROFILE_CUSTOMIZATION)}function ee(){N.default.track(L.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:L.AnalyticsPages.USER_SETTINGS,location_section:L.AnalyticsSections.SETTINGS_ACCOUNT,location_object:L.AnalyticsObjects.TOOLTIP});l.default.setSection(L.UserSettingsSections.PREMIUM)}function te(){var e,t=(0,u.useStateFromStores)([E.default],(function(){var e=E.default.getCurrentUser();(0,
i.default)(null!=e,"UserSettingsAccountProfileCard: currentUser cannot be undefined");return e})),n=(0,u.useStateFromStores)([y.default],(function(){return y.default.getUserProfile(t.id)})),r=(0,u.useStateFromStores)([g.default],(function(){return g.default.status})),a=(0,u.useStateFromStores)([h.default],(function(){return h.default.getErrors()})),o=null==a||null===(e=a.avatar)||void 0===e?void 0:e[0];return K("div",{className:U.default.accountProfileCard},void 0,K(m.default,{user:t,allowEdit:!1,guildId:void 0,bannerType:m.UserBannerTypes.SETTINGS}),K("div",{className:U.default.userInfo},void 0,K(z,{className:U.default.avatar,src:t.getAvatarURL(void 0,80,!0),status:r,size:M.default.Sizes.SIZE_80,"aria-label":t.username}),K("div",{},void 0,K("div",{className:U.default.profileCardUsernameRow},void 0,K(s.default,{user:t,className:U.default.userTag,discriminatorClass:U.default.discriminator}),K(Z,{user:t})),K(_.default,{user:t,premiumSince:null==n?void 0:n.premiumSince,
premiumGuildSince:null==n?void 0:n.premiumGuildSince,size:_.BadgeSizes.SIZE_22,openPremiumSettings:ee})),K(S.default,{onClick:J,size:S.default.Sizes.SMALL},void 0,j.default.Messages.USER_SETTINGS_EDIT_PROFILE)),K("div",{className:U.default.background},void 0,null!=o?K(I.Text,{className:U.default.avatarError,variant:"text-xs/normal",color:"text-danger"},void 0,o):null,K("div",{className:U.default.fieldList},void 0,K($,{user:t}),K(Q,{className:U.default.fieldSpacer,user:t}),K(X,{className:U.default.fieldSpacer,user:t}))))}te.displayName="UserSettingsAccountProfileCard"},66272:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(825185),u=E(n(816624)),l=E(n(956117)),s=n(645758),d=E(n(279950)),f=n(354479),c=n(688388),p=E(n(114655)),v=n(3400),y=n(914905),m=n(770348),_=n(371621),h=E(n(247001)),g=E(n(843204));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t,n,r,a,o,i){try{
var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t,n,r,E,S=e.transitionState,b=e.onSuccess,A=e.onClose,C=e.requirementsUpdated,M=e.noSkip,N=void 0!==M&&M,P=(0,f.useUID)(),R=T(a.useState(""),2),w=R[0],D=R[1],L=T(a.useState(""),2),k=L[0],j=L[1],U=T(a.useState(""),2),G=U[0],F=U[1],x=T(a.useState(null),2),B=x[0],H=x[1],V=T(a.useState(null),2),W=V[0],Y=V[1],K=(0,o.useStateFromStores)([u.default],(function(){return u.default.getErrors()})),z=(0,o.useStateFromStores)([u.default],(function(){return u.default.getFormState()})),$=a.useRef(null);a.useEffect((function(){if(S===_.ModalTransitionState.ENTERED){var e;null===(e=$.current)||void 0===e||e.focus()}}),[S]);function q(){return(q=I(regeneratorRuntime.mark((function e(t){var n,r,a
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();u.default.clearErrors();n=!1;if(""===k){H(h.default.Messages.PASSWORD_REQUIREMENTS_EMPTY);n=!0}else H(null);if(k!==G){Y(h.default.Messages.FORM_LABEL_NEW_PASSWORD_MISMATCH);n=!0}else Y(null);if(!n){e.next=7;break}return e.abrupt("return");case 7:e.next=9;return(0,i.saveAccountChanges)({password:w,newPassword:k});case 9:(null==(r=e.sent)?void 0:r.ok)?b():null!=(null==r||null===(a=r.body)||void 0===a?void 0:a.username)&&(0,y.showInvalidUsernameToast)();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return O(v.ModalRoot,{transitionState:S,"aria-labelledby":P},void 0,O(v.ModalHeader,{id:P,separator:!1,className:g.default.header},void 0,O(p.default,{color:p.default.Colors.HEADER_PRIMARY,size:p.default.Sizes.SIZE_24,className:g.default.title},void 0,h.default.Messages.UPDATE_PASSWORD),O(s.Text,{color:"header-secondary",variant:"text-md/normal",className:g.default.subtitle
},void 0,C?h.default.Messages.FORCE_PASSWORD_UPDATE_DESCRIPTION:h.default.Messages.USER_SETTINGS_ACCOUNT_CHANGE_PASSWORD_PROMPT_DESKTOP),!0!==N&&O(v.ModalCloseButton,{onClick:A,className:g.default.modalCloseButton})),O("form",{onSubmit:function(e){return q.apply(this,arguments)}},void 0,O(v.ModalContent,{className:g.default.content},void 0,O(c.FormItem,{title:h.default.Messages.FORM_LABEL_CURRENT_PASSWORD,error:null==K||null===(t=K.password)||void 0===t?void 0:t[0]},void 0,O(d.default,{type:"password",value:w,onChange:D,inputRef:$})),O(c.FormItem,{className:g.default.newPassword,title:h.default.Messages.FORM_LABEL_NEW_PASSWORD,error:null!==(n=null!==(r=null==K||null===(E=K.new_password)||void 0===E?void 0:E[0])&&void 0!==r?r:B)&&void 0!==n?n:void 0},void 0,O(d.default,{type:"password",value:k,onChange:j})),O(c.FormItem,{className:g.default.newPassword,title:h.default.Messages.FORM_LABEL_CONFIRM_NEW_PASSWORD,error:null!=W?W:void 0},void 0,O(d.default,{type:"password",value:G,onChange:F
}))),O(v.ModalFooter,{},void 0,O(l.default,{type:"submit",color:l.default.Colors.BRAND,size:l.default.Sizes.MEDIUM,submitting:z===m.FormStates.SUBMITTING},void 0,h.default.Messages.DONE),!0!==N&&O(l.default,{className:g.default.cancel,look:l.default.Looks.LINK,color:l.default.Colors.PRIMARY,onClick:A},void 0,h.default.Messages.CANCEL))))}C.displayName="ChangePasswordModal"},55181:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,i.useStateFromStores)([u.default],(function(){return u.default.getSubsection()})),t=a.createRef(),n=(0,i.useStateFromStoresObject)([c.default],(function(){return c.default.getEmailSettings()})),r=n.categories,s=n.initialized;a.useEffect((function(){if(null==s)(0,f.fetchEmailSettings)();else if(e===p.EMAILS_SUBSECTION.toUpperCase()){var n;null==t||null===(n=t.current)||void 0===n||n.scrollIntoView(!0)}}),[s,t,e]);var _=p.MarketingEmailCategories.reduce((function(e,t){return e||!!r[t]}),!1)
;return s?a.createElement(a.Fragment,null,a.createElement("div",{ref:t}),E(d.FormSection,{className:(0,o.default)(m.default.marginTop40),tag:d.FormTitleTags.H1,title:v.default.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS},void 0,p.EmailCategoriesList.map((function(e){var t=e.category,n=e.label,a=e.subLabel;return E(S,{label:n(),subLabel:a(),enabled:r[t],onChange:function(e){return function(e,t){(0,f.updateEmailSetting)(e,t)}(t,e)}},n())})),E(l.default,{className:y.default.marketingUnsubscribeButton,disabled:!_,look:l.ButtonLooks.LINK,color:l.ButtonColors.LINK,onClick:f.updateMarketingEmailSettings},void 0,v.default.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS_UNSUB_MARKETING),E(d.FormText,{type:d.FormTextTypes.DESCRIPTION},void 0,v.default.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS_UNSUB_MARKETING_DESCRIPTION),E(d.FormDivider,{className:(0,o.default)(m.default.marginTop40,m.default.marginBottom40)}))):null}
;var r,a=g(n(667294)),o=_(n(294184)),i=n(536211),u=_(n(516818)),l=g(n(956117)),s=_(n(567668)),d=n(688388),f=n(781900),c=_(n(421010)),p=n(969299),v=_(n(247001)),y=_(n(55386)),m=_(n(380203));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){var t=e.label,n=e.onChange,r=e.enabled,a=e.subLabel;return E(s.default,{value:!!r,onChange:n,note:a},void 0,t)}S.displayName="CategorySwitch"},366712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N;A(n(667294));var r,a=I(n(441143)),o=n(235234),i=n(536211),u=n(825185),l=I(n(135631)),s=A(n(125478)),d=n(832215),f=n(100618),c=I(n(482117)),p=I(n(96194)),v=I(n(498163)),y=I(n(561511)),m=I(n(431676)),_=I(n(777018)),h=I(n(816624)),g=I(n(728429)),E=I(n(838583)),S=I(n(267309)),O=n(770348),b=I(n(247001));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(){var e,t=(0,i.useStateFromStores)([g.default],(function(){var e=g.default.getCurrentUser();(0,a.default)(null!=e,"DefaultCustomizationSections: user cannot be undefined");return e})),n=(0,i.useStateFromStoresObject)([h.default],(function(){return M({},h.default.getAllPending(),{errors:h.default.getErrors()})})),r=n.pendingAvatar,I=n.pendingBanner,T=n.pendingBio,A=n.pendingPronouns,N=n.pendingAccentColor,P=n.errors,R=E.default.canUsePremiumProfileCustomization(t),w=void 0===r?t.getAvatarURL(void 0,80):r,D=null!==(e=(0,o.hex2int)((0,s.default)(w,O.Colors.PRIMARY_DARK_530,s.ColorFormats.HEX)))&&void 0!==e?e:0,L=void 0===r?null!=t.avatar:null!=r,k=void 0===I?null!=t.banner:null!=I,j=(0,d.useGlobalHasAvatarDecorations)().canUseAvatarDecorations,U=l.default.useExperiment({}).showPronouns;return C("div",{},void 0,C(v.default,{onAvatarChange:u.setPendingAvatar,
showRemoveAvatarButton:L,errors:P.avatar,sectionTitle:b.default.Messages.USER_SETTINGS_AVATAR},"avatar"),j?C(p.default,{user:t},"decoration"):null,C(m.default,{defaultAvatarColor:D,savedUserColor:t.accentColor,pendingColor:N,setPendingAccentColor:u.setPendingAccentColor},"color"),C(y.default,{sectionTitle:b.default.Messages.USER_SETTINGS_PROFILE_BANNER,canUsePremiumCustomization:R,showRemoveBannerButton:k,errors:P.banner,upsellButton:C(S.default,{user:t}),onBannerChange:u.setPendingBanner},"banner"),U&&C(_.default,{sectionTitle:b.default.Messages.USER_SETTINGS_PRONOUNS,errors:P.pronouns,onPronounsChange:u.setPendingPronouns,pendingPronouns:A,currentPronouns:t.pronouns},"pronouns"),C(c.default,{sectionTitle:b.default.Messages.USER_SETTINGS_ABOUT_ME,errors:P.bio,onBioChange:function(e){(0,f.setNewPendingUserBio)(e,t.bio);(0,u.setDisableSubmit)(null!=e&&e.length>O.BIO_MAX_LENGTH)},pendingBio:T,currentBio:t.bio},"bio"))}N.displayName="DefaultCustomizationSections"},229024:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=j;var r,a=P(n(667294)),o=M(n(441143)),i=n(235234),u=n(536211),l=M(n(636602)),s=n(825185),d=M(n(226800)),f=M(n(524791)),c=M(n(954140)),p=M(n(37039)),v=P(n(125478)),y=M(n(931059)),m=M(n(468532)),_=M(n(845176)),h=M(n(663303)),g=M(n(816624)),E=M(n(728429)),S=M(n(308920)),O=M(n(838583)),b=M(n(427588)),I=M(n(366712)),T=n(770348),A=M(n(247001)),C=M(n(944641));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(){S.default.track(T.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:T.AnalyticsPages.USER_SETTINGS,location_section:T.AnalyticsSections.SETTINGS_ACCOUNT,location_object:T.AnalyticsObjects.BADGE});d.default.setSection(T.UserSettingsSections.PREMIUM)}
var L=R(f.default,{}),k=R(I.default,{});function j(){var e,t=y.default.useExperiment({}).enabled,n=(0,u.useStateFromStores)([E.default],(function(){var e=E.default.getCurrentUser();(0,o.default)(null!=e,"UserSettingsProfileCustomization: user cannot be undefined");return e})),r=(0,u.useStateFromStores)([h.default],(function(){return h.default.hidePersonalInformation})),d=(0,u.useStateFromStoresObject)([g.default],(function(){return w({},g.default.getAllPending(),{errors:g.default.getErrors()})})),f=d.pendingAvatar,S=d.pendingBanner,I=d.pendingBio,M=d.pendingPronouns,N=d.pendingAccentColor,P=d.pendingAvatarDecoration,j=O.default.canUsePremiumProfileCustomization(n),U=void 0===f?n.getAvatarURL(void 0,80):f,G=null!==(e=(0,i.hex2int)((0,v.default)(U,T.Colors.PRIMARY_DARK_530,v.ColorFormats.HEX)))&&void 0!==e?e:0,F=void 0===N?n.accentColor:N,x=(0,p.default)(c.default.PROFILE).AnalyticsLocationProvider;a.useEffect((function(){return function(){return l.default.wait(s.resetAllPending)}}),[])
;return r?L:R(x,{},void 0,R(m.default,{title:t?null:A.default.Messages.USER_SETTINGS_USER_PROFILE,description:t?null:R("div",{className:C.default.divider}),profilePreview:R(_.default,{user:n,canUsePremiumCustomization:j,bannerColor:null!=F?F:G,onUpsellClick:b.default,onAvatarChange:s.setPendingAvatar,onBannerChange:s.setPendingBanner,pendingBanner:S,pendingBio:I,pendingPronouns:M,pendingAvatar:f,pendingAvatarDecoration:P,openPremiumSettings:D})},void 0,k))}j.displayName="UserSettingsProfileCustomization"},267309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(37039)),i=m(n(956117)),u=m(n(60097)),l=m(n(41024)),s=m(n(308920)),d=m(n(838583)),f=m(n(427588)),c=n(770348),p=n(265517),v=m(n(247001)),y=m(n(430099));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.user,n=(0,
o.default)().analyticsLocations,r=d.default.isPremium(t)?v.default.Messages.USER_SETTINGS_CUSTOMIZATION_UPGRADE_UPSELL:v.default.Messages.USER_SETTINGS_CUSTOMIZATION_UPSELL;a.useEffect((function(){s.default.track(c.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:p.PremiumUpsellTypes.CUSTOM_PROFILE_SETTINGS_BANNER_BUTTON,location:{page:c.AnalyticsPages.USER_SETTINGS,section:c.AnalyticsSections.SETTINGS_CUSTOMIZE_PROFILE,object:c.AnalyticsObjects.BUTTON_CTA},location_stack:n})}),[n]);return h(u.default,{color:i.default.Colors.GREEN,onClick:f.default,innerClassName:y.default.nitroUpsellButtonInner},void 0,h(l.default,{className:y.default.nitroUpsellButtonWheel}),r)}g.displayName="UserSettingsProfileUpsellButton"},197105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=c(n(740207)),u=n(145122),l=c(n(999607)),s=c(n(635014)),d=n(758956),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(){var e=(0,o.useStateFromStores)([s.default],(function(){return(0,d.amplitudeToPerceptual)(s.default.getInputVolume())}));return v(u.MenuControlItem,{id:"input",label:f.default.Messages.FORM_LABEL_INPUT_VOLUME,control:function(t,n){return a.createElement(l.default,y({},t,{ref:n,value:e,onChange:function(e){return i.default.setInputVolume((0,d.perceptualToAmplitude)(e))},"aria-label":f.default.Messages.FORM_LABEL_INPUT_VOLUME}))}})}m.displayName="useInputDeviceVolumeItem"},989546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=!l.isPlatformEmbedded,t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getMode()})),n=function(e,n){return p(i.MenuRadioItem,{id:e,group:"input-modes",label:n,checked:t===e,
action:function(){return o.default.setMode(e)}},e)};return[n(s.InputModes.VOICE_ACTIVITY,d.default.Messages.INPUT_MODE_VAD),n(s.InputModes.PUSH_TO_TALK,e?d.default.Messages.INPUT_MODE_PTT_LIMITED:d.default.Messages.INPUT_MODE_PTT)]};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=f(n(740207)),i=n(145122),u=f(n(635014)),l=n(864489),s=n(770348),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},793963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=p(n(740207)),u=n(145122),l=p(n(999607)),s=p(n(635014)),d=n(758956),f=n(864489),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(){var e=(0,
o.useStateFromStores)([s.default],(function(){return(0,d.amplitudeToPerceptual)(s.default.getOutputVolume())}));return y(u.MenuControlItem,{id:"output",label:c.default.Messages.FORM_LABEL_OUTPUT_VOLUME,control:function(t,n){return a.createElement(l.default,m({},t,{ref:n,value:e,maxValue:f.isPlatformEmbedded?200:100,onChange:function(e){return i.default.setOutputVolume((0,d.perceptualToAmplitude)(e))},"aria-label":c.default.Messages.FORM_LABEL_OUTPUT_VOLUME}))}})}_.displayName="useOutputDeviceVolumeItem"},914905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showInvalidUsernameToast=function(){(0,o.showToast)((0,a.createToast)(i.default.Messages.USER_SETTINGS_UPDATE_FAILURE,a.ToastType.FAILURE))};var r,a=n(767019),o=n(143586),i=(r=n(247001))&&r.__esModule?r:{default:r}},712594:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return(0,r.useStateFromStores)([a.default],(function(){return(0,o.default)(a.default)}))}
;var r=n(536211),a=i(n(635014)),o=i(n(895355));function i(e){return e&&e.__esModule?e:{default:e}}},203737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){if(t.type===o.ParticipantTypes.ACTIVITY){var r;return null!==(r=null==n?void 0:n.name)&&void 0!==r?r:null}return a.default.getName(e.getGuildId(),e.id,t.user)};var r,a=(r=n(29652))&&r.__esModule?r:{default:r},o=n(859089)},183612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n;return e.type!==r.ParticipantTypes.ACTIVITY&&((0,r.isStreamParticipant)(e)?null!=e.streamId:null!==(t=null===(n=e.voiceState)||void 0===n?void 0:n.selfVideo)&&void 0!==t&&t)};var r=n(859089)},373115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStoresObject)([o.default],(function(){var e,t,n=null===(e=null===(t=(0,
r.default)(o.default.getVideoDevices()).values().first())||void 0===t?void 0:t.disabled)||void 0===e||e;return{enabled:o.default.isVideoEnabled(),cameraUnavailable:n||!o.default.supports(i.Features.VIDEO)}})),t=e.enabled,n=e.cameraUnavailable;return{enabled:t,cameraUnavailable:n}};var r=u(n(496486)),a=n(536211),o=u(n(635014)),i=n(376293);function u(e){return e&&e.__esModule?e:{default:e}}},105847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getDeafStates=l;var r=n(536211),a=u(n(423046)),o=u(n(635014)),i=u(n(387692));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r){var u;void 0===t&&(t=i.default);void 0===n&&(n=o.default);void 0===r&&(r=a.default);var l=null!=e?t.getVoiceState(e.getGuildId(),r.getId()):null;return{selfDeaf:n.isSelfDeaf(),deaf:null!==(u=null==l?void 0:l.deaf)&&void 0!==u&&u}}var s=function(e){return(0,r.useStateFromStoresObject)([i.default,o.default,a.default],(function(){
return l(e,i.default,o.default,a.default)}))};t.default=s},423405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getMuteStates=f;var r=n(536211),a=d(n(686305)),o=d(n(423046)),i=d(n(635014)),u=d(n(689389)),l=d(n(387692)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){var t,n=e.channel,r=e.authenticationStore,d=void 0===r?o.default:r,f=e.voiceStateStore,c=void 0===f?l.default:f,p=e.mediaEngineStore,v=void 0===p?i.default:p,y=e.permissionStore,m=void 0===y?u.default:y,_=e.viewAsRoleStore,h=void 0===_?a.default:_,g=null!=n?c.getVoiceState(n.getGuildId(),d.getId()):null,E=v.isSelfMute()||v.isSelfMutedTemporarily(),S=null==n?void 0:n.getGuildId(),O=h.isViewingRoles(S)&&!m.can(s.Permissions.SPEAK,n);return{selfMute:E,suppress:(null==g?void 0:g.suppress)||O,mute:null!==(t=null==g?void 0:g.mute)&&void 0!==t&&t}}var c=function(e){return(0,
r.useStateFromStoresObject)([o.default,l.default,i.default,u.default,a.default],(function(){return f({channel:e,authenticationStore:o.default,voiceStateStore:l.default,mediaEngineStore:i.default,permissionStore:u.default,viewAsRoleStore:a.default})}))};t.default=c},830543:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Avatars=F;t.TileSize=void 0;t.default=B;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),i=D(n(294184)),u=n(536211),l=n(556470),s=D(n(303798)),d=D(n(516325)),f=D(n(474177)),c=D(n(93879)),p=D(n(933577)),v=D(n(769195)),y=D(n(697749)),m=D(n(322946)),_=D(n(37039)),h=D(n(469487)),g=D(n(423046)),E=D(n(689389)),S=D(n(728429)),O=D(n(956117)),b=n(645758),I=n(730977),T=D(n(628551)),A=D(n(152731)),C=n(71246),M=D(n(29652)),N=n(770348),P=n(942675),R=D(n(247001)),w=D(n(854911));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.TileSize=a
;!function(e){e[e.SMALL=0]="SMALL";e[e.MEDIUM=1]="MEDIUM";e[e.LARGE=2]="LARGE"}(a||(t.TileSize=a={}));var G=["embedded_background"];function F(e){var t=e.avatarSize,n=e.guildId,r=e.channelId,a=e.users,o=null!=t?t:P.Sizes.SIZE_32,i=(0,P.getAvatarSize)(o);return U(A.default,{size:i,guildId:n,users:a,max:4,renderUser:function(e){if(null==e)return null;var t=M.default.getName(n,r,e);return U(I.TooltipContainer,{text:t,color:I.TooltipColors.GREY},e.id,U("img",{src:e.getAvatarURL(n,i),alt:t,className:w.default.avatar},e.id))}})}F.displayName="Avatars";function x(e){var t,n,r,o,f,c=e.participants,p=e.application,v=e.currentEmbeddedApplication,m=e.channel,h=e.width,I=function(e){return e>400?a.LARGE:e>300?a.MEDIUM:a.SMALL}(h),A=function(e){return e>400?[T.default.Sizes.SIZE_56,56]:e>300?[T.default.Sizes.SIZE_32,32]:[T.default.Sizes.SIZE_24,24]}(h),P=k(A,1)[0],D=(0,u.useStateFromStoresArray)([S.default,g.default],(function(){return Array.from(c).map((function(e){
return g.default.getId()===e?null:S.default.getUser(e)})).filter(C.isNotNullish)})),L=(0,u.useStateFromStores)([s.default],(function(){return s.default.getEmbeddedActivitiesForChannel(m.id).find((function(e){return e.application_id===p.id}))})),j=(0,_.default)().analyticsLocations,G=(0,l.useAnalyticsContext)(),x=null!==(t=M.default.getName(m.getGuildId(),m.id,null==D?void 0:D[0]))&&void 0!==t?t:null==D||null===(n=D[0])||void 0===n?void 0:n.username,B=(0,u.useStateFromStores)([E.default],(function(){return E.default.can(N.Permissions.USE_EMBEDDED_ACTIVITIES,m)}),[m]),H=null!==(r=m.getGuildId())&&void 0!==r?r:void 0;return U("div",{className:w.default.splash},void 0,U(F,{avatarSize:P,guildId:H,channelId:m.id,users:D}),U(b.Text,{className:(0,i.default)(w.default.subheader,(o={},o[w.default.small]=I===a.SMALL,o[w.default.medium]=I===a.MEDIUM,o)),variant:"text-sm/normal"},void 0,D.length>1?R.default.Messages.EMBEDDED_ACTIVITIES_USERNAME_AND_OTHERS.format({username:x,count:D.length-1
}):R.default.Messages.EMBEDDED_ACTIVITIES_IS_PLAYING.format({username:x})),U(b.Text,{className:(0,i.default)(w.default.header,(f={},f[w.default.small]=I===a.SMALL,f[w.default.medium]=I===a.MEDIUM,f)),variant:"text-sm/normal"},void 0,p.name),U("div",{className:w.default.buttons},void 0,B?U(O.default,{size:function(e){switch(e){case a.LARGE:return O.default.Sizes.LARGE;case a.MEDIUM:return O.default.Sizes.MEDIUM;case a.SMALL:return O.default.Sizes.SMALL}}(I),className:w.default.button,color:O.default.Colors.PRIMARY,onClick:function(e){e.stopPropagation();null!=L&&(0,d.default)({activity:L,currentEmbeddedApplication:v,activityChannelId:m.id,locationObject:G.location,embeddedActivitiesManager:y.default,analyticsLocations:j})}},void 0,R.default.Messages.EMBEDDED_ACTIVITIES_JOIN_ACTIVITY):null))}x.displayName="Splash";function B(e){var t=e.participant,n=e.width,r=e.selected,a=e.interactible,i=e.channel,u=t.id,l=(0,f.default)(),s=(null==l?void 0:l.channelId)===i.id&&l.application_id===u,d=(0,
c.default)(),y=k((0,h.default)([u]),1)[0],_=(0,p.default)({applicationId:u,names:G,size:1024}).url,g=!r&&s,E=!s,S=!s&&!r;return U("div",{className:w.default.container},void 0,o.createElement(o.Fragment,null,g&&U(v.default,{className:w.default.iframe,embedId:(0,m.default)(i.id,u)}),E&&null!=y&&null!=_&&""!==_?U("img",{className:w.default.splashImage,alt:y.name,src:_}):null,S&&null!=y&&U(x,{width:n,channel:i,participants:t.participants,application:y,currentEmbeddedApplication:d}),a||E?null:U("div",{className:w.default.clickShield})))}B.displayName="ActivityTile"},611456:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=i(n(294184)),o=i(n(917507));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var l=r.forwardRef((function(e,t){var n,i=e.children,u=e.className,l=e.style,s=e.noBorder,d=void 0!==s&&s,f=e.participantUserId;return r.createElement("div",{className:(0,a.default)(u,o.default.tile,(n={},n[o.default.noBorder]=d,n)),style:l,ref:t,"data-selenium-video-tile":f},i)}));t.default=l},440556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(294184)),i=u(n(969600));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={aStreamId:null,aReady:!1,bStreamId:t.props.streamId,bReady:!0};t.handleReady=function(){t.state.aReady?t.setState({bReady:!0,aStreamId:null,aReady:!1}):t.setState({aReady:!0,bStreamId:null,bReady:!1})};t.handleDoubleClick=function(e){var n=t.props,r=n.onDoubleClick,a=n.id;null==r||r(e,a)};t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.id;null==r||r(e,a)};return t}t.getDerivedStateFromProps=function(e,t){var n=e.streamId;if(t.aReady){if(n!==t.aStreamId)return null==n?{bStreamId:n,bReady:!0,aStreamId:null,aReady:!1}:{
bStreamId:n,bReady:!1}}else if(n!==t.bStreamId)return null==n?{aStreamId:n,aReady:!0,bStreamId:null,bReady:!1}:{aStreamId:n,aReady:!1};return null};var n=t.prototype;n.renderVideo=function(e,t){var n=this.props,r=n.children,o=n.mirror,u=n.paused,l=n.component;if(null==e){if(null==r)return null;var f=a.Children.only(r);return a.cloneElement(f,d({style:{display:t&&!o?void 0:"none"}},f.props))}return s(l,{paused:u,className:i.default.media,streamId:e,onReady:t?null:this.handleReady})};n.render=function(){var e,t=this.props,n=t.mirror,r=t.className;return s("div",{className:(0,o.default)(i.default.video,r,(e={},e[i.default.mirror]=n,e)),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderVideo(this.state.aStreamId,this.state.aReady),this.renderVideo(this.state.bStreamId,this.state.bReady))};return t}(a.PureComponent);c.displayName="BufferedVideo";c.defaultProps={paused:!0};var p=c;t.default=p},709578:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=t.CallTileOverlay=t.CallTileFit=void 0;var r,a=K(n(667294)),o=W(n(294184)),i=n(536211),u=W(n(740207)),l=W(n(284382)),s=W(n(66384)),d=W(n(143493)),f=W(n(100205)),c=n(625905),p=W(n(423046)),v=W(n(635014)),y=W(n(16941)),m=n(645758),_=W(n(730977)),h=K(n(971146)),g=W(n(337322)),E=W(n(79027)),S=W(n(428990)),O=W(n(324582)),b=W(n(287317)),I=W(n(68259)),T=W(n(775803)),A=W(n(149982)),C=W(n(335709)),M=W(n(203737)),N=W(n(830543)),P=W(n(611456)),R=K(n(55055)),w=W(n(522503)),D=n(227482),L=W(n(700598)),k=n(770348),j=n(859089),U=n(378542),G=n(376293),F=W(n(247001)),x=W(n(32599)),B=["onClick"],H=["onClick"],V=["onClick"];function W(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function K(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function z(){z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return z.apply(this,arguments)}function $(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function q(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=a.memo((function(e){var t,n,r,m,_=e.participant,g=e.onDoubleClick,S=e.onContextMenu,O=e.onClick,b=e.onMouseDown,I=e.onKeyDown,T=e.className,A=e.style,C=e.channel,D=e.width,F=e.inPopout,B=e.onVideoResize,H=e.inCall,V=void 0!==H&&H,W=e.selected,Y=void 0!==W&&W,K=e.noBorder,z=void 0!==K&&K,$=e.noVideoRender,X=void 0!==$&&$,Z=e.focused,J=void 0!==Z&&Z,ee=e.blocked,te=void 0!==ee&&ee,ne=e.fit,ae=void 0===ne?h.default.Fit.CONTAIN:ne,oe=e.paused,ie=void 0!==oe&&oe,ue=e.pulseSpeakingIndicator,le=void 0!==ue&&ue,se=a.useContext(c.IdleStateContext),de=Q(a.useState(!1),2),fe=de[0],ce=de[1],pe=(0,i.useStateFromStores)([p.default],(function(){return p.default.getId()
})),ve=_.type===j.ParticipantTypes.ACTIVITY?null:null===(t=_.user)||void 0===t?void 0:t.id,ye=(0,i.useStateFromStores)([v.default],(function(){return null!=ve&&v.default.isLocalVideoDisabled(ve,(0,s.default)(_.type))}),[ve,_.type]),me=(0,L.default)(_,pe),_e=me.speaking,he=me.muted,ge=me.deafen,Ee=me.ringing,Se=me.hasVideo,Oe=(0,i.useStateFromStores)([v.default],(function(){return null!=ve&&v.default.isLocalMute(ve,(0,s.default)(_.type))}),[ve,_.type]),be=_.type===j.ParticipantTypes.STREAM&&ve===pe;a.useEffect((function(){ce(J)}),[J]);var Ie=a.useCallback((function(){null!=ve&&u.default.toggleLocalMute(ve,G.MediaEngineContextTypes.STREAM)}),[ve]),Te=a.useCallback((function(e){null==O||O(_,e)}),[O,_]),Ae=a.useCallback((function(e){null==g||g(_,e)}),[g,_]),Ce=a.useCallback((function(e){null==S||S(_,e)}),[S,_]),Me=null,Ne=null,Pe=!0;switch(_.type){case j.ParticipantTypes.STREAM:Me=q(R.default,{participant:_,selected:Y,width:D,fit:ae,onVideoResize:B,paused:ie,inPopout:F})
;Ne=q(R.StreamTileIndicators,{participant:_,selected:Y,width:D,focused:J,idle:se});Pe=!1;break;case j.ParticipantTypes.USER:Me=q(w.default,{channel:C,inCall:V,participant:_,fit:ae,onVideoResize:B,paused:ie,selected:Y,width:D,blocked:te,noVideoRender:X,pulseSpeakingIndicator:le});break;case j.ParticipantTypes.ACTIVITY:Me=q(N.default,{interactible:J,participant:_,selected:Y,channel:C,width:D});break;case j.ParticipantTypes.HIDDEN_STREAM:Me=q(R.default,{participant:_,selected:Y,width:D,fit:ae,onVideoResize:B,paused:ie,inPopout:F})}var Re=a.useRef(null);return q(l.default,{section:k.AnalyticsSections.VOICE_CHANNEL_TILE},void 0,q("div",{className:(0,o.default)(x.default.wrapper,(n={},n[x.default.ringing]=Ee,n),T)},void 0,q(f.default,{shakeLocation:U.ShakeLocation.VOICE_USER,isShaking:_e,className:x.default.tile},void 0,a.createElement(P.default,{ref:Re,className:(0,o.default)(x.default.tile,(r={},r[x.default.noBorder]=z,r[x.default.noInteraction]=null==O,r[x.default.idle]=se,
r[x.default.videoLayer]=Pe,r)),noBorder:z,style:A,participantUserId:ve},q(y.default,{focusProps:{ringTarget:Re,offset:1},onDoubleClick:Ae,onContextMenu:Ce,onClick:Te,onMouseDown:b,onKeyDown:I,className:x.default.tileChild},void 0,Me,z?null:q("div",{className:x.default.indicators},void 0,Ne),Y?q("div",{className:x.default.selectedScreen},void 0,q(E.default,{className:x.default.selectedIcon})):null,_.type!==j.ParticipantTypes.ACTIVITY?q(re,{focused:J,width:D,inCall:V,participantType:_.type,hasVideo:null!=Se&&Se,muted:he,deafen:ge,idle:se,title:(0,M.default)(C,_),blocked:te,localMute:Oe,localVideoDisabled:ye,hideAudioIcon:be,onContextMenu:Ce,onToggleMute:Ie}):null,V&&!z?q("div",{className:(0,o.default)(x.default.border,(m={},m[x.default.speaking]=_e&&!J,m))}):null)),q(d.default,{isFiring:fe,callTileRef:Re.current}))))}));Z.displayName="CallTile";var J=q(C.default,{}),ee=q(A.default,{}),te=q(T.default,{}),ne=q("div",{}),re=a.memo((function(e){
var t,n,r=e.muted,i=e.deafen,u=e.idle,l=e.title,s=e.width,d=e.hasVideo,f=e.inCall,c=e.localMute,p=e.localVideoDisabled,h=e.focused,T=e.blocked,A=e.hideAudioIcon,C=e.participantType,M=e.onContextMenu,N=e.onToggleMute,P=null,R=null,w=null,L=(0,D.isVideoCompact)(s),U=(0,D.isNamesCompact)(s);if(!A)if(i||r||c){var W;P=q(i?O.default:b.default,{foreground:(0,o.default)((W={},W[x.default.localMuteStrikethrough]=c&&!i,W)),className:x.default.status});c&&C===j.ParticipantTypes.STREAM&&d&&!h&&(P=q(_.default,{text:F.default.Messages.UNMUTE},void 0,(function(e){var t=e.onClick,n=$(e,B);return a.createElement(y.default,z({},n,{onClick:function(e){e.stopPropagation();null==t||t();N()},className:(0,o.default)(x.default.status,x.default.interactive)}),J)})))}else c||C!==j.ParticipantTypes.STREAM||!d||L||h||(P=q(_.default,{text:F.default.Messages.MUTE},void 0,(function(e){var t=e.onClick,n=$(e,H);return a.createElement(y.default,z({},n,{onClick:function(e){e.stopPropagation();null==t||t();N()},
className:(0,o.default)(x.default.status,x.default.interactive,x.default.toggleMute)}),ee)})));f&&v.default.supports(G.Features.VIDEO)||!d||(R=q(E.default,{className:x.default.status}));f&&d&&p&&(R=q(S.default,{className:x.default.status,foreground:x.default.localMuteStrikethrough}));C===j.ParticipantTypes.STREAM&&!h&&d&&(w=q(_.default,{text:F.default.Messages.OPTIONS},void 0,(function(e){var t=e.onClick,n=$(e,V);return a.createElement(y.default,z({},n,{onClick:function(e){e.stopPropagation();null==t||t();M(e)},className:(0,o.default)(x.default.status,x.default.interactive)}),te)})));return q("div",{className:(0,o.default)(x.default.overlay,(t={},t[x.default.small]=s<195,t))},void 0,U||h?ne:q(m.Text,{className:(0,o.default)(x.default.overlayTitle,(n={},n[x.default.idle]=u,n)),color:"none",variant:"text-md/normal"},void 0,T?q("div",{className:x.default.blocked},void 0,q(g.default,{className:x.default.blockedIcon,color:k.Colors.STATUS_RED
})):null,C===j.ParticipantTypes.STREAM&&q(I.default,{className:x.default.titleIcon}),null!=l&&""!==l?q("span",{className:x.default.overlayTitleText},void 0,l):null),q("div",{className:x.default.statusContainer},void 0,R,P,w))}));t.CallTileOverlay=re;re.displayName="CallTileOverlay";var ae=h.VideoStreamFit;t.CallTileFit=ae;var oe=Z;t.default=oe},288146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CallTileCTA=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=d(n(956117)),u=d(n(730977)),l=d(n(760443)),s=["onClick"];function d(e){
return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e){var t=e.children,n=e.onClick,r=e.className,d=e.tooltip;return c(u.default,{text:d},void 0,(function(e){var u=e.onClick,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e)
;for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return a.createElement(i.default,p({},d,{onClick:function(e){null==n||n(e);null==u||u()},innerClassName:l.default.buttonReset,color:(0,o.default)(l.default.cta,r),size:i.default.Sizes.MIN}),t)}))}v.displayName="CallTileCTA"},921532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=c(n(667294)),o=d(n(972247)),i=n(365561),u=c(n(709578)),l=n(770348),s=d(n(974777));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m="CameraPreviewPosition";function _(e){var t=e.width,n=e.onContextMenuParticipant,r=e.height,d=e.channel,f=e.participants,c=function(){var e=v(a.useState((function(){return o.default.get(m,l.PictureInPicturePositions.BOTTOM_RIGHT)})),2),t=e[0],n=e[1];return[t,a.useCallback((function(e){o.default.set(m,e);n(e)}),[])]}(),y=v(c,2),_=y[0],h=y[1],g=a.useRef(null),E=null==d.getGuildId()?70:50;a.useLayoutEffect((function(){var e
;null===(e=g.current)||void 0===e||e.ensureIsInPosition()}),[f.length]);return p("div",{className:s.default.container},void 0,a.createElement(i.PictureInPictureWindow,{position:_,id:0,ref:g,onMove:function(e,t){return h(t)},maxX:t,maxY:r,edgeOffsetTop:E,edgeOffsetBottom:70,edgeOffsetLeft:16,edgeOffsetRight:16},p("div",{className:s.default.tileContainer},void 0,f.map((function(e){return p(u.default,{participant:e,channel:d,onContextMenu:n,className:s.default.tile,fit:u.CallTileFit.COVER,inCall:!0,inPopout:!1,width:160})})))))}_.displayName="CameraPreview"},839166:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BaseControlTrayColors=t.ActiveControlTrayColors=void 0;t.GoLiveButton=Ce;t.default=Re;t.handleToggleVideo=Ae;var r,a,o,i,u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Ee(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),l=ge(n(294184)),s=ge(n(441143)),d=n(248088),f=n(536211),c=ge(n(740207)),p=ge(n(136873)),v=n(123516),y=ge(n(284382)),m=n(556470),_=ge(n(213847)),h=n(433383),g=n(836233),E=n(746920),S=ge(n(303798)),O=n(186096),b=ge(n(198016)),I=ge(n(282827)),T=n(695475),A=n(245546),C=ge(n(151120)),M=ge(n(37039)),N=ge(n(825724)),P=ge(n(190320)),R=ge(n(932018)),w=ge(n(590087)),D=n(747868),L=ge(n(379310)),k=ge(n(908921)),j=n(902399),U=ge(n(604686)),G=ge(n(620859)),F=ge(n(134893)),x=ge(n(222935)),B=ge(n(605520)),H=ge(n(643779)),V=ge(n(67286)),W=ge(n(401311)),Y=ge(n(607576)),K=ge(n(305914)),z=ge(n(735319)),$=ge(n(645675)),q=ge(n(928034)),Q=ge(n(607209)),X=ge(n(635014)),Z=ge(n(689389)),J=ge(n(211136)),ee=ge(n(728429)),te=ge(n(160629)),ne=ge(n(656016)),re=ge(n(838583)),ae=ge(n(373115)),oe=ge(n(431388)),ie=ge(n(770404)),ue=ge(n(423405)),le=ge(n(989704)),se=ge(n(336940)),de=ge(n(493051)),fe=ge(n(152803)),ce=ge(n(310261)),pe=ge(n(30269)),ve=n(770348),ye=n(859089),me=ge(n(247001)),_e=ge(n(716698)),he=["onClick"]
;function ge(e){return e&&e.__esModule?e:{default:e}}function Ee(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Ee=function(e){return e?n:t})(e)}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||Oe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){if(e){if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ie(){Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Ie.apply(this,arguments)}function Te(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.BaseControlTrayColors=a;!function(e){e.PRIMARY_DARK="primaryDark";e.PRIMARY_LIGHT="primaryLight"
}(a||(t.BaseControlTrayColors=a={}));t.ActiveControlTrayColors=o;!function(e){e.WHITE="white";e.ACTIVE_LIGHT="activeLight"}(o||(t.ActiveControlTrayColors=o={}));function Ae(e,t){if(X.default.isVideoEnabled()!==e){var n=function(){return c.default.setVideoEnabled(e)};e?(0,pe.default)(n,t):n()}}function Ce(e){var t=e.channel,n=e.currentUser,r=e.exitFullScreen,a=e.canGoLive,o=e.coloring,i=e.hasPermission,l=(0,h.useAppContext)(),s=(0,f.useStateFromStoresArray)([Q.default],(function(){return Q.default.getAllActiveStreams()})).find((function(e){return e.ownerId===n.id})),d=t.getGuildId(),c=u.useCallback((function(){null==r||r();if(!a)return(0,fe.default)();(0,ce.default)(d,t.id,ve.AnalyticsPages.GUILD_CHANNEL)}),[d,t.id,a,r]),p=null!=s;return Te(F.default,{},void 0,Te(te.default,{renderPopout:function(e){var r=e.closePopout;return Te(x.default,{},void 0,Te(se.default,{channel:t,currentUser:n,activeStreams:null!=s?[s]:[],handleGoLive:c,onClose:r,appContext:l}))},
position:te.default.Positions.TOP,align:te.default.Align.CENTER,animation:te.default.Animation.FADE},void 0,(function(e,t){var n=t.isShown,r=e.onClick,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,he);return Te("div",{},void 0,null!=s?u.createElement(K.default,Ie({},l,{color:o[1],centerButton:!0,className:_e.default.controlButton,onClick:function(){return(0,k.default)(s)},isSelfStream:!0,onPopoutClick:p?r:null,popoutOpen:n,shouldShowTooltip:!n})):u.createElement(z.default,Ie({},l,{centerButton:!0,color:o[0],className:_e.default.controlButton,hasPermission:i,onClick:a?c:fe.default,onPopoutClick:p?r:null,popoutOpen:n,shouldShowTooltip:!n})))})))}Ce.displayName="GoLiveButton";function Me(e){var t=e.channel,n=(0,h.useAppContext)()===ve.AppContext.POPOUT,r=(0,M.default)().analyticsLocations,a=(0,f.useStateFromStores)([Z.default],(function(){
return Z.default.can(ve.Permissions.USE_EMBEDDED_ACTIVITIES,t)&&null!=t.guild_id}),[t]),o=t.getGuildId(),i=(0,b.default)(o)&&null!=o,l=(0,f.useStateFromStores)([S.default],(function(){return S.default.isLaunchingActivity()})),s=(0,m.useAnalyticsContext)();u.useEffect((function(){null!=o&&(0,E.fetchShelf)(o)}),[o]);var d=(0,O.useFreeActivityIndicator)({guildId:o}).shouldShowFreeIndicator,c=(0,I.default)({channelId:t.id});if(!i)return null;var p=!a||l;return Te("div",{className:_e.default.buttonContainer},void 0,Te(B.default,{className:_e.default.controlButton,disabled:p,label:a?me.default.Messages.EMBEDDED_ACTIVITIES_START_AN_ACTIVITY:me.default.Messages.EMBEDDED_ACTIVITIES_INVALID_PERMISSIONS,isActivityActive:c,onClick:function(){(0,C.default)({channel:t,guildId:t.guild_id,locationObject:s.location,openInPopout:n,analyticsLocations:r})}}),d?Te(A.FreeActivityIndicatorDot,{top:4,right:10,size:12,maskColor:A.MaskColor.BLACK}):null)}Me.displayName="ConnectedActivityButton";!function(e){
e.ACTIVITY="ACTIVITY";e.STREAM="STREAM";e.CALL="CALL";e.EVENT="EVENT"}(i||(i={}));var Ne=u.memo((function(e){var t,n=e.connectedActivityApplicationId,r=e.currentUser,a=e.onDisconnectCall,o=e.channel,l=(0,f.useStateFromStores)([N.default],(function(){return N.default.getSelectedParticipant(o.id)})),s=u.useContext(g.AccessibilityPreferencesContext).reducedMotion,c=Se(u.useState(!1),2),y=c[0],m=c[1],_=null==l?void 0:l.id,h=(0,f.useStateFromStores)([Q.default],(function(){return null!=_?Q.default.getActiveStreamForStreamKey(_):null}),[_]),S=(null==l?void 0:l.type)===ye.ParticipantTypes.STREAM&&null!=h&&h.ownerId!==(null==r?void 0:r.id),O=(0,f.useStateFromStoresArray)([Q.default],(function(){return Q.default.getAllActiveStreamsForChannel(o.id).filter((function(e){return e.ownerId!==(null==r?void 0:r.id)}))})),b=(0,j.useActiveEvent)(o.id),I=u.useCallback((function(){return(null==l?void 0:l.type)===ye.ParticipantTypes.ACTIVITY&&l.id===n?i.ACTIVITY:S?i.STREAM:null!=b?i.EVENT:i.CALL
}),[l,n,S,b]),A=Se(u.useState(I()),2),C=A[0],M=A[1],P=(0,d.useSpring)({opacity:y?.2:1,transform:y&&!s.enabled?"scale(0.7)":"scale(1)",config:{mass:2,tension:y?600:1e3,friction:45,precision:.01,clamp:y},onRest:function(){M(I());m(!1)}});u.useEffect((function(){I()!==C&&m(!0)}),[C,I]);var R=(0,T.useWarnLastEligibleHost)({channelId:null!==(t=null==o?void 0:o.id)&&void 0!==t?t:""}),w=function(){if(null!=l&&null!=r){R()||(0,E.stopEmbeddedActivity)({channelId:o.id,applicationId:l.id})}},L=function(e,t){var n={centerButton:!0,className:_e.default.controlButton,popoutOpen:e};switch(C){case i.ACTIVITY:return u.createElement(V.default,Ie({},n,{color:"red",onClick:w,onPopoutClick:O.length>0?t:null}));case i.STREAM:return u.createElement(K.default,Ie({},n,{color:"red",onClick:function(){if(null!=h)(0,v.stopStream)((0,D.encodeStreamKey)(h));else for(var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=Oe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(O);!(e=t()).done;){var n=e.value;(0,v.stopStream)((0,D.encodeStreamKey)(n))}},onPopoutClick:O.length>1?t:null,isSelfStream:!1}));case i.CALL:return u.createElement(W.default,Ie({},n,{color:"red",onClick:function(){p.default.disconnect();null==a||a()},onPopoutClick:O.length>0?t:null}));case i.EVENT:return Te(U.default,{guildId:o.guild_id,channelId:o.id,onClick:function(){p.default.disconnect();null==a||a()}})}};return Te(te.default,{renderPopout:function(e){var t=e.closePopout;return Te(se.default,{channel:o,currentUser:r,activeStreams:O,handleGoLive:ve.NOOP_NULL,hideSelfOptions:!0,onClose:t})},position:te.default.Positions.TOP,align:te.default.Align.CENTER,
animation:te.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return Te(d.animated.div,{style:P},void 0,L(r,n))}))}));function Pe(e){var t=e.channel,n=e.cameraUnavailable,r=e.hasCameraPermission,a=(0,h.useAppContext)(),o=(0,oe.default)(t),i=o.reachedLimit,s=o.limit,d=u.useCallback((function(){(0,pe.default)((function(){return p.default.selectVoiceChannel(t.id,!0)}),a)}),[t.id,a]),f=u.useCallback((function(){p.default.selectVoiceChannel(t.id,!1)}),[t.id]),c=u.useCallback((function(){n?(0,de.default)():d()}),[n,d]);return u.createElement(u.Fragment,null,Te($.default,{enabled:!0,centerButton:!0,join:!0,color:"green",channelLimitReached:i,channelLimit:s,channel:t,cameraUnavailable:n,hasPermission:r,onCameraUnavailable:c,className:_e.default.controlButton,iconClassName:_e.default.joinIcon,onChange:d}),Te(H.default,{centerButton:!0,color:"green",channel:t,className:(0,l.default)(_e.default.controlButton,_e.default.lastButton),onClick:f}))}function Re(e){
var t=e.channel,n=e.mode,r=e.className,i=e.onDisconnectCall,u=e.exitFullScreen,d=(0,f.useStateFromStores)([ee.default],(function(){var e=ee.default.getCurrentUser();(0,s.default)(null!=e,"CenterControlTray: currentUser cannot be undefined");return e})),c=(0,ae.default)(),p=c.cameraUnavailable,v=c.enabled,m=(0,ie.default)(t),h=(0,ue.default)(t),g=h.suppress,E=h.selfMute,O=h.mute,b=g||E||O,I=(0,f.useStateFromStoresObject)([X.default],(function(){return{canGoLive:(0,L.default)(X.default)}})).canGoLive,T=(0,f.useStateFromStores)([J.default],(function(){return J.default.getVoiceChannelId()===t.id}),[t]),A=(0,f.useStateFromStores)([S.default],(function(){var e=S.default.getSelfEmbeddedActivityForChannel(t.id);return null!=e?e.application_id:null})),C=(0,oe.default)(t),M=C.reachedLimit,N=C.limit,D=q.default.useExperiment({guildId:t.guild_id},{autoTrackExposure:!0}).enabled,k=(0,_.default)();if(!T)return Te(Pe,{channel:t,cameraUnavailable:p,hasCameraPermission:m});var j=D&&ne.default.can({
permission:ve.Permissions.ADD_REACTIONS,user:d,context:t})&&re.default.isPremium(d)&&!t.isPrivate(),U=a.PRIMARY_DARK;n===ve.ChannelModes.VOICE&&(U=k===ve.ThemeTypes.LIGHT?a.PRIMARY_LIGHT:U);var F=o.WHITE;n===ve.ChannelModes.VOICE&&(F=k===ve.ThemeTypes.LIGHT?o.ACTIVE_LIGHT:F);return Te(y.default,{section:ve.AnalyticsSections.VOICE_CONTROL_TRAY},void 0,Te("div",{className:_e.default.eventPromptsContainer},void 0,Te(G.default,{guildId:t.guild_id,channelId:t.id})),Te("div",{className:(0,l.default)(_e.default.wrapper,r)},void 0,Te(te.default,{renderPopout:function(e){var t=e.closePopout;return Te(x.default,{},void 0,Te(R.default,{onClose:t}))},position:te.default.Positions.TOP,align:te.default.Align.CENTER,animation:te.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return Te($.default,{centerButton:!0,color:v?F:U,hasPermission:m,className:_e.default.controlButton,enabled:v,cameraUnavailable:p,onChange:Ae,onCameraUnavailable:de.default,channelLimitReached:M,
channelLimit:N,popoutOpen:r,onPopoutClick:n})})),Te(Me,{channel:t}),Te(Ce,{coloring:[U,F],channel:t,currentUser:d,exitFullScreen:u,canGoLive:I,hasPermission:m}),Te(te.default,{renderPopout:function(e){var t=e.closePopout;return Te(x.default,{},void 0,Te(P.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0,renderInputModes:!0}))},align:te.default.Align.CENTER,position:te.default.Positions.TOP,animation:te.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return Te(Y.default,{color:b?F:U,centerButton:!0,onPopoutClick:n,className:_e.default.controlButton,selfMute:E,serverMute:O,suppress:g,popoutOpen:r,onClick:function(){return(0,w.default)(O,g)}})})),j?Te(le.default,{channel:t,baseColor:U,activeColor:F}):null,Te(Ne,{connectedActivityApplicationId:A,currentUser:d,channel:t,onDisconnectCall:i})))}Re.displayName="CenterControlTray"},989704:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(683767)),i=f(n(32458)),u=f(n(893783)),l=f(n(160629)),s=f(n(386854)),d=f(n(716698));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t=e.channel,n=e.baseColor,r=e.activeColor,f=v(a.useState(!1),2),c=f[0],y=f[1],m=v(a.useState(!1),2),_=m[0],h=m[1],g=v(a.useState(null),2),E=g[0],S=g[1],O=i.default.effectCooldownEndTime,b=(0,o.default)(O).seconds,I=b>0,T=a.useCallback((function(e,t){null!==E&&clearTimeout(E);if(!_&&!I){c||y(!0);t(e)}}),[E,_,I,c]),A=a.useCallback((function(){null!==E&&clearTimeout(E);_||S(setTimeout((function(){y(!1);S(null)}),300))}),[E,_]),C=a.useCallback((function(){if(null!=E){clearTimeout(E);S(null)}}),[E,S]),M=a.useCallback((function(e,t){if(null!==E){clearTimeout(E);S(null)}h(!_);c&&!_||t(e)}),[E,_,c]);a.useEffect((function(){return function(){null!=E&&clearTimeout(E)}}),[E]);return p(l.default,{
animationPosition:l.default.Positions.BOTTOM,position:l.default.Positions.BOTTOM,align:l.default.Align.CENTER,onRequestClose:function(){y(!1);h(!1)},renderPopout:function(e){var n=e.closePopout;return p(s.default,{isHovered:c||_,channel:t,closePopout:n,onMouseEnter:C,onMouseLeave:A})}},void 0,(function(e){var t=e.onClick;return p(u.default,{remainingCooldownSeconds:b,color:_?r:n,className:d.default.controlButton,onClick:function(e){return M(e,t)},onMouseEnter:function(e){return T(e,t)},onMouseLeave:A})}))};m.displayName="CenterControlTrayEffectButton";var _=m;t.default=_},386854:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(222935)),i=l(n(305241)),u=l(n(16941));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t=e.isHovered,n=e.closePopout,r=e.onMouseEnter,l=e.onMouseLeave,s=e.channel;a.useEffect((function(){t||n()}),[n,t]);return d(o.default,{},void 0,d(u.default,{onMouseEnter:r,
onMouseLeave:l},void 0,d(i.default,{channel:s,closePopout:n})))};f.displayName="EffectButtonPopout";var c=f;t.default=c},828839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(294184)),i=h(n(864345)),u=h(n(936353)),l=h(n(423046)),s=h(n(530250)),d=n(956506),f=h(n(170555)),c=h(n(508957)),p=h(n(151503)),v=h(n(232269)),y=n(770348),m=n(859089),_=h(n(367374));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=(0,i.default)((function(e){var t=e.participants,n=e.filteredParticipants,r=e.selectedParticipant,i=e.participantsVersion,h=e.layout,g=e.onSelectParticipant,S=e.onContextMenuParticipant,O=e.onFullscreenParticipant,b=e.channel,I=e.hasConnectPermission,T=e.className,A=e.inCall,C=e.showParticipants,M=void 0===C||C,N=e.paused,P=void 0!==N&&N,R=e.width,w=e.height,D=e.idle,L=e.mode,k=e.popoutWindow;a.useEffect((function(){d.ComponentDispatch.dispatch(y.ComponentActions.REMEASURE_TARGET)}),[R,w])
;var j=a.useMemo((function(){return n.filter((function(e){return e.type!==m.ParticipantTypes.ACTIVITY||!e.participants.has(l.default.getId())}))}),[n,i]);if((null==b?void 0:b.isVocal())&&!A)return E(f.default,{channel:b,participants:t,hasConnectPermission:I});if(L===y.ChannelModes.VOICE)return E(u.default,{guildId:b.guild_id,width:R,className:_.default.voiceCallWrapper,participants:t,onContextMenu:S});n=A?n:t;return null==r?0===n.length?E(v.default,{className:(0,o.default)(_.default.videoGrid,_.default.hiddenParticipants),channelId:b.id,width:R}):E(s.default,{className:_.default.videoGridWrapper,justify:s.default.Justify.CENTER,align:s.default.Align.CENTER},void 0,E(c.default,{channel:b,className:_.default.videoGrid,participants:j,totalNumberOfParticipants:t.length,onClick:g,onDoubleClick:O,onContextMenu:S,paused:P,inCall:A})):E(p.default,{onFullscreenParticipant:O,onContextMenuParticipant:S,onSelectParticipant:g,selectedParticipant:r,filteredParticipants:j,participants:t,
popoutWindow:k,className:T,idle:D,height:w,width:R,layout:h,inCall:A,channel:b,showParticipants:M})}));t.default=S},421622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PARTICIPANTS_WIDTH=t.FORCE_HIDE_PARTICIPANTS_WIDTH=void 0;t.getPipParticipants=function(e,t,n){if(null==t||t.type===i.ParticipantTypes.ACTIVITY)return[];return[t.type===i.ParticipantTypes.STREAM?e.find((function(e){return e.type===i.ParticipantTypes.USER&&e.id===(null==t?void 0:t.user.id)&&e.id!==n&&(0,o.default)(e)})):null,t.type===i.ParticipantTypes.USER?e.find((function(e){return e.type===i.ParticipantTypes.STREAM&&e.user.id===(null==t?void 0:t.user.id)&&null!=e.streamId})):null,t.id!==n?e.find((function(e){return e.type===i.ParticipantTypes.USER&&e.id===n&&(0,o.default)(e)})):null].filter(a.isNotNullish)};var r,a=n(71246),o=(r=n(183612))&&r.__esModule?r:{default:r},i=n(859089);t.PARTICIPANTS_WIDTH=228;t.FORCE_HIDE_PARTICIPANTS_WIDTH=684},170555:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getParticipantNamesText=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(136873)),i=v(n(956117)),u=n(772575),l=n(645758),s=v(n(203737)),d=v(n(709578)),f=n(859089),c=v(n(247001)),p=v(n(657091));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){return 0===t.length?c.default.Messages.CURRENTLY_IN_VOICE_EMPTY:1===t.length?c.default.Messages.CURRENTLY_IN_VOICE_1.format({a:(0,s.default)(e,t[0])}):2===t.length?c.default.Messages.CURRENTLY_IN_VOICE_2.format({a:(0,s.default)(e,t[0]),b:(0,s.default)(e,t[1])}):t.length>2?c.default.Messages.CURRENTLY_IN_VOICE_2_N.format({a:(0,s.default)(e,t[0]),b:(0,s.default)(e,t[1]),n:t.length-2}):void 0}function h(e){var t=e.participants,n=e.channel,r=e.hasConnectPermission,s=t.filter(f.isUserParticipant),v=a.useCallback((function(){o.default.selectVoiceChannel(n.id)}),[n.id]),y=4===s.length?2:3;return m("div",{className:p.default.container},void 0,m("div",{
className:p.default.tiles,style:{maxWidth:168*y}},void 0,s.slice(0,5).map((function(e){return m(d.default,{participant:e,channel:n,className:p.default.tile,paused:!0,inCall:!0,noVideoRender:!0,inPopout:!1,width:48},e.id)}))),m(u.Heading,{className:p.default.channelName,variant:"heading-xxl/medium",level:3},void 0,n.name),m("div",{className:p.default.participantsRow},void 0,m(l.Text,{color:"header-secondary",variant:"text-sm/normal"},void 0,_(n,s))),m(i.default,{disabled:!r,className:p.default.joinButton,color:r?i.default.Colors.GREEN:i.default.Colors.PRIMARY,onClick:v,size:i.default.Sizes.MEDIUM},void 0,r?c.default.Messages.JOIN_VOICE:c.default.Messages.CHANNEL_LOCKED_SHORT))}h.displayName="ChannelCallEmpty";var g=h;t.default=g},508957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(47354),i=n(536211),u=n(433383),l=_(n(185948)),s=n(689575),d=_(n(30098)),f=_(n(689389)),c=_(n(838696)),p=_(n(709578)),v=_(n(421417)),y=n(770348),m=_(n(946234));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.participants,n=e.onClick,r=e.onDoubleClick,_=e.onContextMenu,h=e.channel,E=e.className,S=e.inCall,O=e.totalNumberOfParticipants,b=e.paused,I=void 0!==b&&b,T=(0,u.useAppContext)()===y.AppContext.POPOUT,A=(0,i.useStateFromStores)([d.default],(function(){return d.default.getGuild(h.guild_id)}),[h.guild_id]),C=(0,i.useStateFromStores)([f.default],(function(){return h.isPrivate()||(0,s.canViewInviteModal)(f.default,A,h)}),[A,h]),M=(null==A?void 0:A.afkChannelId)===h.id,N=h.userLimit<=0||h.userLimit>1,P=t.map((function(e){return function(t){return g(p.default,{participant:e,channel:h,className:m.default.tile,paused:I,onClick:n,onDoubleClick:r,onContextMenu:_,inCall:S,width:t,inPopout:T},e.id)}}));(0,l.default)({type:o.ImpressionTypes.VIEW,name:o.ImpressionNames.CHANNEL_CALL_VIDEO_GRID_VIEW,properties:{total_participants:O,can_invite:C,is_afk_channel:M,channel_user_limit:h.userLimit}},{
trackOnInitialLoad:!0},[]);null!=A&&!M&&N&&1===O&&C&&P.push((function(e){return g(v.default,{width:e,channel:h,guild:A,inPopout:T})}));var R=a.useCallback((function(e){var n,r;return null!==(n=null===(r=t[e])||void 0===r?void 0:r.id)&&void 0!==n?n:"empty-tile"}),[t]);return g(c.default,{className:E,keyExtractor:R,paddingTop:64,paddingBottom:64},void 0,P)}E.displayName="ChannelCallGrid"},421417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=y(n(667294)),o=n(194322),i=p(n(611456)),u=y(n(518931)),l=n(770348),s=n(371621),d=p(n(247001)),f=p(n(200146)),c=p(n(222917));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e){var t=e.channel,r=e.guild,p=e.width,v=e.inPopout;return m(i.default,{className:f.default.root},void 0,m(u.default,{artURL:c.default,size:(0,u.getSizeForWidth)(p),header:d.default.Messages.STREAM_SINGLE_PERSON_BODY,onCTAClick:function(){return(0,o.openModalLazy)(g(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,_({},e,{guild:r,channel:t,source:l.InstantInviteSources.CHANNEL_CALL}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:v?s.POPOUT_MODAL_CONTEXT:s.DEFAULT_MODAL_CONTEXT})},
callToAction:d.default.Messages.INSTANT_INVITE}))}E.displayName="EmptyTile"},518931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;t.getSizeForWidth=function(e){return e<400?"small":e<1e3?"medium":"large"};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(294184)),o=s(n(956117)),i=s(n(530250)),u=n(645758),l=s(n(260382));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.onCTAClick,n=e.callToAction,r=e.header,s=e.description,d=e.size,c=e.className,p=e.artURL,v=e.noArt,y=void 0!==v&&v,m=e.selected,_=void 0!==m&&m;return f(i.default,{className:c,justify:i.default.Justify.CENTER,align:i.default.Align.CENTER,direction:i.default.Direction.VERTICAL},void 0,!y&&null!=p&&f("div",{className:(0,a.default)(l.default.art,l.default[d]),style:{backgroundImage:"url("+p+")"}}),null!=r?f(u.Text,{color:"none",variant:"text-md/normal",className:l.default.header},void 0,r):null,null!=s?f(u.Text,{color:"none",className:l.default.description,
variant:"text-sm/normal"},void 0,s):null,_||null==n?null:f(o.default,{className:l.default.outerButton,size:o.default.Sizes.NONE,color:o.default.Colors.WHITE,look:o.default.Looks.BLANK,innerClassName:l.default.button,onClick:function(e){e.stopPropagation();null==t||t(e)}},void 0,n))}c.displayName="EmptyState"},151503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N;var r,a=b(n(667294)),o=S(n(294184)),i=n(248088),u=S(n(145371)),l=S(n(715801)),s=S(n(423046)),d=S(n(635014)),f=S(n(974661)),c=n(956506),p=S(n(709578)),v=S(n(921532)),y=n(421622),m=b(n(449183)),_=n(770348),h=n(859089),g=S(n(367374)),E=S(n(398720));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=8+m.PARTICIPANTS_HEIGHT;function N(e){
var t,n=e.onSelectParticipant,r=e.onContextMenuParticipant,S=e.onFullscreenParticipant,O=e.participants,b=e.filteredParticipants,C=e.popoutWindow,N=e.inCall,P=e.channel,R=e.selectedParticipant,w=e.showParticipants,D=void 0===w||w,L=e.className,k=e.paused,j=e.width,U=e.height,G=e.layout,F=e.idle,x=null!=C,B=d.default.getVideoComponent(),H=s.default.getId(),V=A(a.useState(null),2),W=V[0],Y=V[1],K=A(a.useState(!0),2),z=K[0],$=K[1],q=A(a.useState(!1),2),Q=q[0],X=q[1],Z=R.type===h.ParticipantTypes.ACTIVITY,J=!Z&&null!=R.streamId,ee=J&&null!=W&&W.width>0&&W.height>0?W.width/W.height:1.7777777777777777,te=U<=2*M+144,ne=D&&!te,re=(0,u.default)(ne),ae=0;(Z||ne)&&(ae+=72);Z&&!ne&&(ae+=48);ne&&(ae+=.5*M+8);var oe,ie=U-2*ae,ue=ie*ee,le=Math.floor(Math.min(j,ue)/ee),se=U>j/ee+72+M+8;oe=!ne&&!Z?40+Math.max(0,72-(U-le)/2):ne?-16:-8;a.useEffect((function(){var e=setTimeout((function(){$(!1)}),250);return function(){clearTimeout(e)}}),[]);var de=(0,i.useSpring)({value:ne?1:0,delay:se||!ne?0:100,
config:T({},i.config.stiff,{clamp:!0}),onStart:function(){return X(!0)},onChange:function(){return c.ComponentDispatch.dispatch(_.ComponentActions.REMEASURE_TARGET)},onRest:function(){X(!1);c.ComponentDispatch.dispatch(_.ComponentActions.REMEASURE_TARGET)}}),fe=(0,i.useSpring)({value:ne?1:0,config:T({},i.config.stiff,{clamp:!0})}),ce=(0,i.useSpring)({value:ue,config:T({},i.config.stiff,{clamp:!0}),immediate:re===ne&&fe.value.idle}),pe=(0,i.useSpring)({value:oe,config:T({},i.config.stiff,{clamp:!0})}),ve=(0,i.useTransition)(R,{keys:function(e){return null==e?void 0:e.id},config:T({},i.config.stiff,{clamp:!0}),initial:null,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}}),ye=a.useCallback((function(e){Y(e);$(!1)}),[]),me=ne||k?[]:(0,y.getPipParticipants)(O,R,H),_e=(0,m.useVisibleParticipants)(j,b),he=_e.visibleParticipants,ge=_e.participantTileWidth;return I("div",{className:(0,o.default)(E.default.root,g.default.flexCenter,L)},void 0,I("div",{className:E.default.tileWrapper,style:{
opacity:J&&z?0:1}},void 0,I(i.animated.div,{className:E.default.videoFrame,style:{top:fe.value.to((function(e){return-e*M/2}))}},void 0,I(i.animated.div,{style:{width:ce.value},className:E.default.videoWrapper},void 0,I(f.default,{className:g.default.videoSizer,aspectRatio:ee},void 0,ve((function(e,t,a){var o=a.key;return null!=t?I(i.animated.div,{className:g.default.videoWrapperAnimated,style:e},o,I(p.default,{focused:!0,noBorder:ue>=j||ie>=U,channel:P,className:g.default.focusedVideo,videoComponent:B,paused:k,width:j,participant:t,onClick:n,onDoubleClick:S,onContextMenu:r,onVideoResize:ye,inCall:N,inPopout:x})):null})))),te||G===_.ChannelLayouts.MINIMUM||G===_.ChannelLayouts.NORMAL?null:I(i.animated.div,{className:(0,o.default)(E.default.actionRow,(t={},t[E.default.idle]=F,t)),style:{bottom:pe.value}},void 0,I(l.default,{channelId:P.id,isParticipantsOpen:D,isVertical:!0}))),I(i.animated.div,{className:E.default.participantsWrapperAnimated,style:{translateY:de.value.to((function(e){
return e*M/2})),opacity:de.value,visibility:de.value.to((function(e){return 0===e?"hidden":"visible"}))}},void 0,I(m.default,{channel:P,onClick:n,onContextMenu:r,onDoubleClick:S,participants:he,participantTileWidth:ge,selectedParticipantId:R.id,inCall:N,paused:k||Q||!D,popoutWindow:C}))),me.length>0?I(v.default,{onContextMenuParticipant:r,width:j,height:U,channel:P,participants:me}):null)}N.displayName="HorizontalFocusedView"},449183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PARTICIPANTS_HEIGHT=void 0;t.default=I;t.useVisibleParticipants=function(e,t){var n=_(a.useState(Date.now()),2),r=n[0],u=n[1];a.useEffect((function(){var e=setTimeout((function(){u(Date.now())}),1e4);return function(){clearTimeout(e)}}),[t]);var s=a.useRef({}),f=a.useMemo((function(){var n=Date.now(),r=(0,o.sortBy)(t,(function(e){return function(e,t){var n;void 0===t&&(t=Date.now());switch(e.type){case d.ParticipantTypes.ACTIVITY:return"\0"+e.sortKey
;case d.ParticipantTypes.HIDDEN_STREAM:case d.ParticipantTypes.STREAM:return""+(0,i.userKey)(e.userNick,e.user);case d.ParticipantTypes.USER:var r="";e.speaking?r="":t-e.lastSpoke<O?r="":(null===(n=e.voiceState)||void 0===n?void 0:n.selfVideo)&&(r="");return""+r+(a=e.lastSpoke,o=String(E).length,String(E-a).padStart(o,"0"))+(0,i.userKey)(e.userNick,e.user)}var a,o}(e,n)})),a=_((0,o.partition)(r,d.isStreamParticipant),2),u=a[0],f=a[1],c=f.findIndex(b),p=null;if(-1!==c){p=f[c];f.splice(c,1)}var v=null!=p?e-S-8:e,y=Math.floor((v-8)/132),g=Math.max(0,Math.min(y,12,t.length)),I=Math.min((v-8)/g-8,S),T=Math.max(0,g-u.length),A=u.slice(0,g),C=f.slice(0,T),M=new Array(T);if(T>0){for(var N,P=[],R=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(C);!(N=R()).done;){var w=N.value,D=s.current[w.id];null!=D&&D<T?M[D]=w:P.push(w)}for(var L=0;L<M.length;L++)if(null==M[L]){var k=P.shift();if(null==k)break;M[L]=k}}var j=M.filter(l.isNotNullish),U=(0,o.keyBy)((0,o.range)(j.length),(function(e){return j[e].id}));s.current=U;var G=[].concat(m(A),m(j));null!=p&&G.push(p);return{visibleParticipants:G,participantTileWidth:I}}),[e,t,r]),c=f.visibleParticipants,p=f.participantTileWidth;return{visibleParticipants:c,participantTileWidth:p}};var r,a=v(n(667294)),o=n(496486),i=n(269503),u=c(n(423046)),l=n(71246),s=v(n(709578)),d=n(859089),f=c(n(388832));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=864e13;t.PARTICIPANTS_HEIGHT=112;var S=16/9*112+8,O=1e4;function b(e){var t,n=u.default.getId();return e.type===d.ParticipantTypes.USER&&e.user.id===n&&(null===(t=e.voiceState)||void 0===t?void 0:t.selfVideo)}function I(e){var t=e.participants,n=e.participantTileWidth,r=e.selectedParticipantId,a=e.onDoubleClick,o=e.onContextMenu,i=e.onClick,u=e.channel,l=e.inCall,d=e.popoutWindow,c=e.paused,p=void 0!==c&&c,v=null!=d;return y("div",{className:f.default.root},void 0,t.map((function(e){if(null==e)return null;var t=b(e);return y("div",{className:f.default.tileSizer,style:t?{flexShrink:0}:void 0},e.id,y(s.default,{participant:e,selected:r===e.id,channel:u,className:f.default.tile,fit:s.CallTileFit.COVER,
onClick:i,onDoubleClick:a,onContextMenu:o,width:t?S:n,inCall:l,paused:p,inPopout:v}))})))}I.displayName="HorizontalVideoParticipants"},531334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.stream,r=e.applicationId,h=e.channel,g=e.exitFullScreen,O=e.appContext,I=e.analyticsLocation,T=e.className,A=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,_),C=null==h?void 0:h.getGuildId(),M=(0,u.useStateFromStores)([s.default],(function(){return null!=C?s.default.getGuild(C):null}),[C]);if(!function(e,t){return null!=e&&null!=t&&d.default.can(p.Permissions.CREATE_INSTANT_INVITE,t)}(M,h))return null;var N=y.default.Messages.INSTANT_INVITE;null!=t?N=y.default.Messages.INVITE_STREAM_HEADER:null!=r&&(N=y.default.Messages.EMBEDDED_ACTIVITIES_INVITE_TO_ACTIVITY);return a.createElement(a.Fragment,null,a.createElement(f.default,S({size:f.default.Sizes.SMALL,
color:m.default.buttonColor,onClick:function(){(0,i.default)(null!=M,"guild cannot be null");(0,i.default)(null!=h,"channel cannot be null");!function(e){var t=e.guild,r=e.channel,o=e.streamUserId,i=e.applicationId,u=e.appContext,l=e.exitFullScreen,s=e.analyticsLocation;null==l||l();(0,c.openModalLazy)(b(regeneratorRuntime.mark((function e(){var u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:u=e.sent;l=u.default;return e.abrupt("return",(function(e){return a.createElement(l,S({},e,{guild:t,channel:r,streamUserId:o,applicationId:i,analyticsLocation:s,source:p.InstantInviteSources.STREAM_INVITE}))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:"stream-invite-modal",contextKey:u===p.AppContext.POPOUT?v.POPOUT_MODAL_CONTEXT:v.DEFAULT_MODAL_CONTEXT})}({guild:M,channel:h,streamUserId:null==t?void 0:t.ownerId,applicationId:r,appContext:O,exitFullScreen:g,
analyticsLocation:I})},className:(0,o.default)(T,m.default.textButton)},A),N),E(l.default,{channel:h,stream:t,appContext:O,className:(0,o.default)(T,m.default.iconButton),exitFullScreen:g,analyticsLocation:I}))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(294184)),i=h(n(441143)),u=n(536211),l=h(n(336156)),s=h(n(30098)),d=h(n(689389)),f=h(n(956117)),c=n(194322),p=n(770348),v=n(371621),y=h(n(247001)),m=h(n(684592)),_=["stream","applicationId","channel","exitFullScreen","appContext","analyticsLocation","className"];function h(e){return e&&e.__esModule?e:{default:e}}
function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}},232269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;s(n(667294));var r,a=u(n(229132)),o=s(n(518931)),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=n(153996);function c(e){var t=e.width,n=e.className,r=e.channelId,u=e.noArt,l=void 0!==u&&u;return d(o.default,{artURL:f,noArt:l,size:(0,o.getSizeForWidth)(t),className:n,callToAction:i.default.Messages.STREAM_SHOW_ALL_PARTICIPANTS,header:i.default.Messages.STREAM_PARTICIPANTS_HIDDEN.format(),onCTAClick:function(){return a.default.toggleVoiceParticipantsHidden(r,!1)}})}c.displayName="ParticipantsHidden"},603218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=ee(n(667294)),o=Z(n(441143)),i=Z(n(496486)),u=Z(n(536211)),l=Z(n(740207)),s=Z(n(505437)),d=n(264720),f=Z(n(136873)),c=n(844784),p=Z(n(825724)),v=Z(n(66384)),y=Z(n(310268)),m=n(678928),_=n(747868),h=Z(n(379310)),g=Z(n(925013)),E=Z(n(908921)),S=ee(n(8475)),O=n(139982),b=Z(n(625905)),I=Z(n(134893)),T=Z(n(244612)),A=Z(n(401311)),C=Z(n(866219)),M=Z(n(305914)),N=Z(n(199138)),P=Z(n(607209)),R=Z(n(423046)),w=Z(n(635014)),D=Z(n(290629)),L=Z(n(728429)),k=Z(n(529688)),j=Z(n(189434)),U=Z(n(949898)),G=Z(n(275189)),F=Z(n(114655)),x=Z(n(308920)),B=Z(n(29652)),H=Z(n(440556)),V=Z(n(381390)),W=Z(n(7969)),Y=Z(n(111014)),K=Z(n(493051)),z=Z(n(152803)),$=Z(n(310261)),q=n(770348),Q=n(859089),X=Z(n(10263));function Z(e){return e&&e.__esModule?e:{default:e}}function J(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(J=function(e){return e?n:t})(e)}function ee(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=J(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function te(){te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return te.apply(this,arguments)}function ne(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function re(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function ae(e,t){ae=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ae(e,t)}var oe=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ae(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).state={screensharePopoutOpen:!1};t._ref=a.createRef();t.handleVideo=function(e){l.default.setVideoEnabled(e)};t.handleEnableVideoWhenUnavailable=function(){t.props.isVideoAvailable?t.handleVideo(!0):(0,K.default)()};t.handleJumpToChannel=function(){var e,n=t.props.channel;(0,d.popAllLayers)();var r=null!==(e=n.getGuildId())&&void 0!==e?e:q.ME;s.default.channelListScrollTo(r,n.id);(0,O.transitionToGuild)(r,n.id)};t.handleStartStream=function(){var e=t.props,n=e.canGoLive,r=e.channel,a=r.getGuildId();(0,
o.default)(null!=a,"Cannot go live in non guild channel");if(!n)return(0,z.default)();(0,$.default)(a,r.id,q.AnalyticsPages.GUILD_CHANNEL)};t.handleStopStream=function(){var e=t.props.participantOnScreen;(0,o.default)((0,Q.isStreamParticipant)(e),"cannot stop stream for non streamer");(0,E.default)(e.stream)};t.handleOpenPopout=function(){var e=t.props.channel;S.openChannelCallPopout(e)};t.handleDisconnect=function(){f.default.selectVoiceChannel(null)};t.renderBottomLeftControls=function(){var e=t.viewProperties.canSeeParticipantName;return a.createElement(a.Fragment,null,e?t.renderParticipantName():null)};t.renderBottomRightControls=function(){var e=t.viewProperties,n=e.canSettings,r=e.canPopout,o=e.canDisconnect,i=e.canStopStream,u=e.canSeeViewers;return a.createElement(a.Fragment,null,u?t.renderViewersIcon():null,n?t.renderSettingsIcon():null,r?t.renderPopoutIcon():null,i?t.renderStopStreamButton():null,o?t.renderDisconnectButton():null)};t.renderDisconnectButton=function(){
return ne(A.default,{className:X.default.rightTrayIcon,onClick:t.handleDisconnect})};t.renderStopStreamButton=function(){var e=t.viewProperties.isSelf;return ne(M.default,{isSelfStream:e,className:X.default.rightTrayIcon,onClick:t.handleStopStream})};t.renderViewersIcon=function(){var e=t.props,n=e.participantOnScreen,r=e.channel;(0,o.default)((0,Q.isStreamParticipant)(n)||(null==n?void 0:n.type)===Q.ParticipantTypes.ACTIVITY,"Cannot render participants for participant type "+(null==n?void 0:n.type));return ne(I.default,{},void 0,ne(y.default,{channelId:r.id,guildId:r.getGuildId(),className:X.default.rightTrayIcon,participant:n,compact:!0}))};t.renderPopoutIcon=function(){return ne(C.default,{className:X.default.rightTrayIcon,popoutOpen:!1,onOpenPopout:t.handleOpenPopout,onClosePopout:q.NOOP_NULL})};t.renderSettingsIcon=function(){var e=t.props,n=e.participantOnScreen,r=e.activeStreams;(0,o.default)((0,Q.isStreamParticipant)(n),"Cannot render settings for non stream participant")
;var a=r.find((function(e){return(0,_.encodeStreamKey)(e)===n.id}));return null==a||a.state===q.ApplicationStreamStates.ENDED?null:ne(N.default,{stream:a,className:X.default.rightTrayIcon,appContext:q.AppContext.APP})};return t}var n=t.prototype;n.getScreenMessage=function(){var e=this.props,t=e.participantOnScreen,n=e.currentUserId;if(!(0,Q.isStreamParticipant)(t))return null;var r=this.activeStreamForSelectedParticipant;return null==r?null:(0,g.default)(r,t.user,t.user.id===n,this.streamerPaused)};n.componentDidMount=function(){var e=this.props.channel;x.default.track(q.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,te({video_layout:"pip"},(0,c.collectVoiceAnalyticsMetadata)(e.id)))};n.componentWillUnmount=function(){var e=this.props.channel;x.default.track(q.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,te({video_layout:p.default.getLayout(e.id)},(0,c.collectVoiceAnalyticsMetadata)(e.id)))};n.renderStreamState=function(){var e=this.activeStreamForSelectedParticipant,t=this.props.participantOnScreen
;return(null==e?void 0:e.state)===q.ApplicationStreamStates.ENDED?ne(V.default,{stream:e,width:Q.PIP_WIDTH}):(null==e?void 0:e.state)===q.ApplicationStreamStates.FAILED?ne(W.default,{stream:e,width:Q.PIP_WIDTH}):(null==t?void 0:t.type)===Q.ParticipantTypes.HIDDEN_STREAM?ne(Y.default,{participant:t,width:Q.PIP_WIDTH}):null};n.renderParticipantName=function(){var e=this.props,t=e.channel,n=e.participantOnScreen;if((null==n?void 0:n.type)===Q.ParticipantTypes.STREAM||(null==n?void 0:n.type)===Q.ParticipantTypes.USER){var r,a=null!==(r=B.default.getNickname(t.getGuildId(),t.id,n.user))&&void 0!==r?r:n.user.username;return ne(F.default,{size:F.default.Sizes.SIZE_16,color:q.Colors.WHITE,className:X.default.participantName},void 0,a)}return null};n.render=function(){var e=this,t=this.props,n=t.channel,r=t.streamId,o=t.participantOnScreen,i=t.isVideoEnabled,u=(0,m.computeChannelName)(n,L.default,D.default),l=(null==o?void 0:o.id)===R.default.getId()&&i,s=this.renderStreamState(),d=null
;(null==o?void 0:o.type)!==Q.ParticipantTypes.ACTIVITY&&(null!=s?d=s:(null==o?void 0:o.type)!==Q.ParticipantTypes.USER&&(null==o?void 0:o.type)!==Q.ParticipantTypes.STREAM||(d=ne(H.default,{paused:this.streamerPaused,streamId:r,component:w.default.getVideoComponent(),mirror:l},void 0,ne(G.default,{size:G.default.AvatarSizes.SIZE_80,src:null==o?void 0:o.user.getAvatarURL(n.guild_id,80),"aria-label":null==o?void 0:o.user.username}))));return ne(b.default,{timeout:1800},void 0,(function(t){var n;return a.createElement(T.default,te({title:u,backgroundKey:null!==(n=null==o?void 0:o.id)&&void 0!==n?n:"",screenMessage:e.getScreenMessage(),onJumpToChannel:e.handleJumpToChannel,renderBottomLeftControls:e.renderBottomLeftControls,renderBottomRightControls:e.renderBottomRightControls,preventIdleComponent:I.default,width:Q.PIP_WIDTH},t),d)}))};!function(e,t,n){t&&re(e.prototype,t);n&&re(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"viewProperties",get:function(){
var e=this.props,t=e.participantOnScreen,n=e.currentUserId,r=e.channel,a=(0,Q.isStreamParticipant)(t),o=null!=t&&t.type!==Q.ParticipantTypes.ACTIVITY&&t.user.id===n;return{canPopout:a&&!o,canSettings:a&&o,canStopStream:a,canSeeViewers:a,canSeeParticipantName:((null==t?void 0:t.type)===Q.ParticipantTypes.STREAM||(null==t?void 0:t.type)===Q.ParticipantTypes.USER)&&r.type!==q.ChannelTypes.DM,canDisconnect:!a,isSelf:o}}},{key:"streamerPaused",get:function(){var e=this.props,t=e.isMainWindowFocused,n=e.activeSelfStream,r=e.participantOnScreen;return null!=n&&(null==r?void 0:r.id)===(0,_.encodeStreamKey)(n)&&!t}},{key:"activeStreamForSelectedParticipant",get:function(){var e=this.props,t=e.participantOnScreen,n=e.activeStreams;return(0,Q.isStreamParticipant)(t)?n.find((function(e){return(0,_.encodeStreamKey)(e)===t.id})):null}}]);return t}(a.PureComponent);oe.displayName="PictureInPictureVideoContainer"
;var ie=u.default.connectStores([w.default,p.default,R.default,k.default,j.default,P.default,U.default],(function(e){var t=e.channel,n=k.default.getSpeaker(t.id),r=p.default.getParticipant(t.id,n),a=(0,i.default)(w.default.getVideoDevices()).values().first(),o=null==a||a.disabled,u=null!=r&&r.type!==Q.ParticipantTypes.ACTIVITY&&r.type!==Q.ParticipantTypes.HIDDEN_STREAM?j.default.getStreamId(r.user.id,(0,v.default)(r.type)):null,l=!1===o,s=!o&&w.default.isVideoEnabled(),d=(0,h.default)(w.default),f=R.default.getId();return{channel:t,streamId:u,participantOnScreen:r,isVideoAvailable:l,isVideoEnabled:s,canGoLive:d,currentUserId:f,activeStreams:P.default.getAllActiveStreams(),activeSelfStream:P.default.getActiveStreamForUser(f),isMainWindowFocused:U.default.isFocused()}}))(oe);t.default=ie},474628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=S(n(636602)),o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(720409)),i=S(n(177230)),u=S(n(303798)),l=S(n(902305)),s=S(n(607209)),d=S(n(644263)),f=S(n(122913)),c=S(n(635014)),p=S(n(218843)),v=S(n(893160)),y=S(n(211136)),m=S(n(790597)),_=S(n(387692)),h=n(770348),g=n(376293);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e){return e&&e.__esModule?e:{default:e}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}function b(){var e,t=r;if(null==t||!p.default.isOpen(t))return!1;a.default.wait((function(){return o.close(t)}))
;null===(e=v.default.getRTCConnection())||void 0===e||e.setPipOpen(!1);r=null}function I(){var e=v.default.getChannelId(),t=r===e;if(function(){var e=v.default.getChannelId(),t=y.default.getChannelId();if(!c.default.supports(g.Features.VIDEO))return!0;if(l.default.getWindowOpen(h.PopoutWindowKeys.CHANNEL_CALL_POPOUT))return!0;var n=s.default.getAllActiveStreams().length>0;if(!(null!=e&&Object.values(_.default.getVideoVoiceStatesForChannel(e)).some((function(e){var t=e.userId;return!c.default.isLocalVideoDisabled(t)}))||n))return!0;var r=f.default.hasLayers();return!(r&&f.default.getLayers().includes(h.Layers.RTC_DEBUG)||!r&&e!==t)}())return b();t||b();return null!=e&&function(e){var t,n=d.default.getChannel(e);if(null==n||p.default.isOpen(e))return!1;a.default.wait((function(){return o.open(n.id,h.PictureInPictureComponents.VIDEO,{channel:n})}));null===(t=v.default.getRTCConnection())||void 0===t||t.setPipOpen(!0);r=e}(e)}var T=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){y.default.addChangeListener(I);m.default.addChangeListener(I);v.default.addChangeListener(I);_.default.addChangeListener(I);f.default.addChangeListener(I);s.default.addChangeListener(I);l.default.addChangeListener(I);c.default.addChangeListener(I);u.default.addChangeListener(I)};n._terminate=function(){y.default.removeChangeListener(I);m.default.removeChangeListener(I);v.default.removeChangeListener(I);_.default.removeChangeListener(I);f.default.removeChangeListener(I);s.default.removeChangeListener(I);l.default.removeChangeListener(I);c.default.removeChangeListener(I);u.default.removeChangeListener(I)};n.__getLocalVars=function(){return{openChannelId:r}};return t}(i.default));t.default=T},381390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;d(n(667294))
;var r,a,o=n(123516),i=n(747868),u=d(n(518931)),l=(r=n(247001))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=n(802566);function p(e){var t=e.stream,n=e.width,r=e.noArt,a=void 0!==r&&r,s=e.selected,d=void 0!==s&&s;return f(u.default,{artURL:c,noArt:a,selected:d,size:(0,u.getSizeForWidth)(n),header:l.default.Messages.STREAM_ENDED,onCTAClick:function(){return(0,o.closeStream)((0,i.encodeStreamKey)(t))},callToAction:l.default.Messages.CLOSE_STREAM})}p.displayName="StreamEnded"},7969:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;c(n(667294));var r,a=n(123516),o=n(747868),i=d(n(550270)),u=c(n(518931)),l=n(770348),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=n(192941);function y(e){var t=e.stream,n=e.width,r=e.selected,d=void 0!==r&&r,f=e.noArt,c=void 0!==f&&f;return p(u.default,{artURL:v,header:s.default.Messages.STREAM_FAILED_TITLE,size:(0,u.getSizeForWidth)(n),noArt:c,selected:d,
description:s.default.Messages.STREAM_FAILED_DESCRIPTION.format({helpUrl:i.default.getArticleURL(l.HelpdeskArticles.STREAM_FAILED)}),onCTAClick:function(){return(0,a.closeStream)((0,o.encodeStreamKey)(t))},callToAction:s.default.Messages.CLOSE_STREAM})}y.displayName="StreamFailed"},111014:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;_(n(667294));var r,a=y(n(294184)),o=n(536211),i=n(123516),u=y(n(607209)),l=y(n(423046)),s=y(n(227134)),d=y(n(114655)),f=n(288146),c=_(n(518931)),p=y(n(247001)),v=y(n(207336));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=n(987601);function E(e){var t,n,r=e.participant,y=e.width,m=e.noArt,_=void 0!==m&&m,E=e.selected,S=void 0!==E&&E,O=y<195,b=(0,o.useStateFromStores)([u.default,l.default],(function(){return u.default.getAllActiveStreams().some((function(e){return e.ownerId!==l.default.getId()}))}));return h("div",{className:(0,
a.default)(v.default.content,v.default.streamHidden,(t={},t[v.default.small]=O,t))},void 0,h(c.default,{className:v.default.streamHiddenEmptyState,artURL:g,noArt:_,selected:S,size:(0,c.getSizeForWidth)(y),header:O?null:p.default.Messages.STREAM_HIDDEN,description:S?null:h("div",{className:(0,a.default)(v.default.streamHiddenCTA,(n={},n[v.default.largePaddingTop]=!O,n))},void 0,h(f.CallTileCTA,{isSmall:O},void 0,h(d.default,{size:O?d.default.Sizes.SIZE_14:d.default.Sizes.SIZE_16,color:d.default.Colors.CUSTOM},void 0,y<175?p.default.Messages.WATCH:p.default.Messages.WATCH_STREAM)),b?h(f.CallTileCTA,{className:v.default.addCTA,tooltip:p.default.Messages.STREAM_WATCH_MULTIPLE_TOOLTIP,onClick:function(e){e.stopPropagation();(0,i.watchStream)(r.stream,{forceMultiple:!0})},isSmall:O},void 0,h(s.default,{className:v.default.addStreamIcon})):null)}))}E.displayName="StreamHidden"},55055:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.StreamTileIndicators=function(e){
var t=e.participant,n=e.selected,r=e.focused,o=e.idle,u=e.width,l=(0,i.useStateFromStores)([c.default],(function(){return c.default.getActiveStreamForUser(t.user.id)})),s=(0,A.isVideoCompact)(u);return a.createElement(a.Fragment,null,n?null:k(T.default,{participant:t}),r||null==l||l.state===C.ApplicationStreamStates.ENDED||l.state===C.ApplicationStreamStates.FAILED?null:k(d.default,{size:g.default.Sizes.LARGE,className:R.default.liveIndicator,participant:t,showQuality:!s&&!o,isUpsellEnabled:!1}))};t.default=function(e){var t=e.participant,n=e.selected,r=e.onVideoResize,d=e.paused,g=e.fit,T=e.inPopout,A=e.width,w=v.default.getVideoComponent(),D=(0,i.useStateFromStores)([p.default],(function(){return p.default.getId()})),j=t.stream,U=t.user,G=t.streamId,F=(0,i.useStateFromStores)([c.default],(function(){return c.default.getActiveStreamForUser(U.id)}),[U.id]),x=(0,i.useStateFromStores)([c.default],(function(){return c.default.getAllActiveStreams().length>0})),B=(0,
i.useStateFromStores)([y.default],(function(){return y.default.isFocused()})),H=(null==F?void 0:F.ownerId)===D&&!B&&!T,V=null!=F?(0,l.default)(F,U,U.id===D,H):null,W=A<195;return(null==F?void 0:F.state)===C.ApplicationStreamStates.ENDED?k(O.default,{selected:n,stream:F,width:A}):(null==F?void 0:F.state)===C.ApplicationStreamStates.FAILED?k(b.default,{selected:n,stream:F,width:A}):t.type===M.ParticipantTypes.HIDDEN_STREAM?k(I.default,{selected:n,participant:t,width:A}):null!=F&&!n&&null!=w&&v.default.supports(N.Features.VIDEO)?a.createElement(a.Fragment,null,k(m.default,{onResize:r,wrapperClassName:R.default.videoWrapper,className:R.default.content,streamId:G,videoComponent:w,fit:g,paused:d||H}),null!=V?a.createElement(f.default,L({size:(0,S.getSizeForWidth)(A)},V)):null):k("div",{className:(0,o.default)(R.default.content,R.default.streamPreview,(Y={},Y[R.default.small]=W,Y))},void 0,k(s.default,{noText:!0,className:(0,o.default)(R.default.absoluteFill,(K={},
K[R.default.streamPreviewOpacity]=null==F,K)),stream:t.stream}),n?null:a.createElement(a.Fragment,null,k(E.CallTileCTA,{isSmall:W},void 0,k(h.default,{size:W?h.default.Sizes.SIZE_14:h.default.Sizes.SIZE_16,color:h.default.Colors.CUSTOM},void 0,A<175?P.default.Messages.WATCH:P.default.Messages.WATCH_STREAM)),x?k(E.CallTileCTA,{className:R.default.addCTA,tooltip:P.default.Messages.STREAM_WATCH_MULTIPLE_TOOLTIP,onClick:function(e){e.stopPropagation();(0,u.watchStream)(j,{forceMultiple:!0})},isSmall:W},void 0,k(_.default,{className:R.default.addStreamIcon})):null));var Y,K};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),o=w(n(294184)),i=n(536211),u=n(123516),l=w(n(925013)),s=w(n(645923)),d=w(n(57697)),f=w(n(896566)),c=w(n(607209)),p=w(n(423046)),v=w(n(635014)),y=w(n(949898)),m=w(n(971146)),_=w(n(227134)),h=w(n(114655)),g=w(n(528175)),E=n(288146),S=n(518931),O=w(n(381390)),b=w(n(7969)),I=w(n(111014)),T=w(n(697252)),A=n(227482),C=n(770348),M=n(859089),N=n(376293),P=w(n(247001)),R=w(n(32599));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},697252:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.participant,n=e.className,r=function(e){if(null==e)return null;return i.default.isDeveloper?e.message+" ("+e.errorType+")":e.message}((0,a.default)(t));return null!=r?s(o.default,{className:n,errorMessage:r}):null};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r)}(n(667294));var r,a=u(n(910333)),o=u(n(778339)),i=u(n(776115));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},522503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.participant,n=e.channel,r=e.inCall,b=e.width,I=e.paused,M=e.selected,N=e.fit,P=e.onVideoResize,R=e.blocked,w=e.noVideoRender,D=void 0!==w&&w,L=e.pulseSpeakingIndicator,k=void 0!==L&&L,j=c.default.getVideoComponent(),U=(0,o.useStateFromStores)([f.default],(function(){return f.default.getId()})),G=(0,o.useStateFromStores)([i.default],(function(){return i.default.useReducedMotion})),F=t.user,x=t.streamId,B=t.speaking,H=F.id===U,V=(0,h.default)(t),W=(0,o.useStateFromStores)([p.default],(function(){return p.default.isFocused()})),Y=(0,o.useStateFromStores)([d.default],(function(){return d.default.getWindowFocused(g.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),K=(0,o.useStateFromStores)([c.default],(function(){return null!=F.id&&c.default.isLocalVideoDisabled(F.id,(0,s.default)(t.type))}),[F.id,t.type]),z=_.default.getName(n.getGuildId(),n.id,F),$=b<124,q=(0,u.useGlobalHasAvatarDecorations)().canUseAvatarDecorations
;if(r&&!K&&!D&&V&&!M&&null!=j&&c.default.supports(S.Features.VIDEO))return T(y.default,{onResize:P,wrapperClassName:O.default.videoWrapper,className:O.default.content,mirror:H,streamId:x,videoComponent:j,fit:N,paused:I});var Q,X=!G&&B&&(Y||W),Z=$?C:A,J=q?(0,m.getAvatarDecorationURL)({userId:F.id,avatarDecoration:F.avatarDecoration,size:(0,l.getDecorationSizeForAvatarSize)(Z)}):null;return T("div",{className:(0,a.default)(O.default.content,(Q={},Q[O.default.blockedAvatar]=R,Q))},void 0,T(v.default,{"aria-label":z,src:F.getAvatarURL(n.guild_id,$?E.SizeSpecs[C].size:E.SizeSpecs[A].size,X),avatarDecoration:J,backgroundSrc:F.getAvatarURL(n.guild_id,80),size:Z,pulseSpeakingIndicator:k,speaking:B}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=b(n(294184)),o=n(536211),i=b(n(235879)),u=n(832215),l=n(392591),s=b(n(66384)),d=b(n(902305)),f=b(n(423046)),c=b(n(635014)),p=b(n(949898)),v=b(n(275189)),y=b(n(971146)),m=n(692711),_=b(n(29652)),h=b(n(183612)),g=n(770348),E=n(942675),S=n(376293),O=b(n(32599));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=v.default.AvatarSizes.SIZE_80,C=v.default.AvatarSizes.SIZE_40},493051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){a.default.supports(i.Features.VIDEO)?(0,o.openModalLazy)(c(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,d({},t,{header:u.default.Messages.CAMERA_UNAVAILABLE,body:u.default.Messages.CAMERA_NO_DEVICE,confirmText:u.default.Messages.OKAY,onConfirm:e}))}));case 5:case"end":return t.stop()}}),t)})))):(0,o.openModalLazy)(c(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){
for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:a=t.sent;i=a.default;return t.abrupt("return",(function(t){return r.createElement(i,d({},t,{header:u.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:u.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,confirmText:u.default.Messages.DOWNLOAD_APP,onConfirm:function(){null==e||e();(0,o.openModalLazy)(c(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,d({source:"Video unsupported browser"},e))}));case 5:case"end":return e.stop()}}),e)}))))}}))}));case 5:case"end":return t.stop()}}),t)}))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(635014)),o=n(194322),i=n(376293),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}},152803:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){function e(){(0,o.openModalLazy)(d(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,l({source:"Screenshare Unavailable"},e))}));case 5:case"end":return e.stop()}}),e)}))))}(0,o.openModalLazy)(d(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,l({},t,{header:i.default.Messages.SCREENSHARE_UNAVAILABLE,
body:i.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:i.default.Messages.DOWNLOAD_APP,onConfirm:e}))}));case 5:case"end":return t.stop()}}),t)}))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(194322),i=(r=n(247001))&&r.__esModule?r:{default:r};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},227482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isNamesCompact=function(e){return e<=124};t.isVideoCompact=function(e){return e<=220}},30269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){a.AlwaysPreviewVideo.getSetting()?(0,o.openModalLazy)(f(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(35390)]).then(n.bind(n,635390));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,s({},t,{onEnable:e,videoEnabled:!1}))
}));case 5:case"end":return t.stop()}}),t)}))),{modalKey:"camera-preview",contextKey:t===i.AppContext.POPOUT?u.POPOUT_MODAL_CONTEXT:u.DEFAULT_MODAL_CONTEXT}):null==e||e()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(894826),o=n(194322),i=n(770348),u=n(371621);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return s.apply(this,arguments)}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}},700598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,r,i,u,l=null,s=null,d=null,f=!1,c=!1;switch(e.type){case o.ParticipantTypes.ACTIVITY:break;case o.ParticipantTypes.USER:l=e.streamId;d=e.voiceState;f=e.speaking;c=e.ringing;break;case o.ParticipantTypes.STREAM:l=e.streamId;s=e.stream}return{streamId:l,stream:s,speaking:f,ringing:c,muted:null!==(n=null===(r=d)||void 0===r?void 0:r.isVoiceMuted())&&void 0!==n&&n,deafen:null!==(i=null===(u=d)||void 0===u?void 0:u.isVoiceDeafened())&&void 0!==i&&i,mirror:e.type===o.ParticipantTypes.USER&&e.user.id===t,hasVideo:(0,a.default)(e)}}
;var r,a=(r=n(183612))&&r.__esModule?r:{default:r},o=n(859089)},116780:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var l=(0,r.useStateFromStores)([o.default],(function(){return null!=n?(0,a.getStreamerApplication)(n,o.default):null}),[n]),s=i.default.getName(e.getGuildId(),e.id,t);if(null==n)return s;return null!=(null==l?void 0:l.name)?u.default.Messages.GO_LIVE_USER_PLAYING.format({applicationName:null==l?void 0:l.name,username:s}):u.default.Messages.GO_LIVE_TILE_SCREEN.format({username:s})};var r=n(536211),a=n(10614),o=l(n(788739)),i=l(n(29652)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}},222935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.children,n=(0,a.usePreventIdle)("popup"),o=n.preventIdle,i=n.allowIdle;r.useEffect((function(){o();return function(){return i()}}),[i,o]);return r.createElement(r.Fragment,null,t)};var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(134893);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},48102:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TOAST_LINGER_MS=void 0;t.default=G;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=N(n(294184)),i=n(496486),u=n(248088),l=n(536211),s=N(n(636602)),d=N(n(229132)),f=N(n(786345)),c=N(n(252566)),p=N(n(116518)),v=n(907932),y=n(851757),m=N(n(427498)),_=n(14219),h=N(n(644263)),g=N(n(201292)),E=N(n(290629)),S=N(n(16941)),O=n(961365),b=n(692711),I=n(956506),T=n(71246),A=n(518802),C=n(770348),M=N(n(123984));function N(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=k(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.TOAST_LINGER_MS=1e4;function U(e){
var t,n,r,i,u=e.message,s=e.inPopout,g=(0,l.useStateFromStores)([E.default],(function(){return E.default.isBlocked(u.author.id)})),T=(0,v.useNullableMessageAuthor)(u),A=a.useContext(c.default),N=L(a.useState(!1),2),P=N[0],w=N[1],D=(0,l.useStateFromStores)([h.default],(function(){return h.default.getChannel(u.channel_id)}),[u.channel_id]),k=_.TextInVoiceInPopoutExperiment.useExperiment({guildId:null!==(t=null==D?void 0:D.guild_id)&&void 0!==t?t:""}).isEnabled,j=a.useCallback((function(e){if("A"!==e.target.nodeName)if(!s||k){d.default.updateChatOpen(u.channel_id,!0);f.default.jumpToMessage({channelId:u.channel_id,messageId:u.id,flash:!0})}else I.ComponentDispatch.dispatch(C.ComponentActions.SHOW_TEXT_IN_VOICE_POPOUT_COMING_SOON_TIP)}),[u.channel_id,u.id,s,k]),U=null!=u.content&&""!==u.content?(0,p.default)(u,{isInteracting:P}).content:null,G=(0,O.renderSingleLineMessage)(u,U,g,M.default.messageContent,M.default.messageContentIcon),F=G.contentPlaceholder,x=G.renderedContent,B=G.icon,H=(0,
y.getMessageStickers)(u),V=H.length>0?H.map((function(e){return R(m.default,{className:M.default.sticker,size:128,sticker:e,isInteracting:P})})):null;return R(S.default,{className:(0,o.default)(M.default.toast,(n={},n[M.default.disabled]=s&&!k,n)),onMouseEnter:function(){w(!0)},onMouseLeave:function(){w(!1)},onClick:j},void 0,R("div",{className:(0,o.default)(M.default.messageContentWrapper,(r={},r[M.default.mentioned]=u.mentioned,r))},void 0,null!==(i=null!=x?x:V)&&void 0!==i?i:R("span",{},void 0,F),null!=V?null:B),R("img",{alt:"",src:null!=(null==T?void 0:T.guildMemberAvatar)&&null!=A?(0,b.getGuildMemberAvatarURLSimple)({guildId:A,userId:u.author.id,avatar:T.guildMemberAvatar}):u.author.getAvatarURL(A,32),className:M.default.avatar}))}U.displayName="ChatToast";function G(e){var t=e.channelId,n=e.className,r=e.inPopout,d=L(a.useState(!1),2),f=d[0],c=d[1],p=function(e){var t,n=e.channelId,r=e.isFrozen,o=e.count,i=e.lingerMs,u=L(a.useState([]),2),d=u[0],f=u[1],c=a.useRef(null)
;a.useEffect((function(){function e(e){var t=e.channelId,r=e.message;if(t===n){var a={messageId:r.id,timeout:setTimeout((function(){f((function(e){return e.slice(1)}))}),i)};f((function(e){return[].concat(D(e),[a])}))}}s.default.subscribe(C.ActionTypes.MESSAGE_CREATE,e);return function(){s.default.unsubscribe(C.ActionTypes.MESSAGE_CREATE,e)}}),[n,o,i]);a.useEffect((function(){return function(){for(var e,t=w(d);!(e=t()).done;){var n=e.value;clearTimeout(n.timeout)}}}),[]);a.useEffect((function(){d.length>3&&f((function(e){for(var t=e.length-3,n=0;n<t;n++)clearTimeout(e[n].timeout);return D(e.slice(t))}))}),[d]);r&&null==c.current?c.current=d:r||null==c.current||(c.current=null);var p=null!==(t=c.current)&&void 0!==t?t:d;return(0,l.useStateFromStoresArray)([g.default],(function(){return p.map((function(e){return g.default.getMessage(n,e.messageId)}))}),[p]).filter(T.isNotNullish)}({channelId:t,isFrozen:f,count:3,lingerMs:1e4
}),v=a.useRef({}),y=L(a.useState({}),2),m=y[0],_=y[1],h=a.useCallback((function(e,t){null==t?delete v.current[e]:v.current[e]=t}),[]);a.useLayoutEffect((function(){for(var e,t={},n=0,r=w(p);!(e=r()).done;){var a,o=e.value,u=null!==(a=v.current[o.id])&&void 0!==a?a:0;t[o.id]=n;n+=u+8}(0,i.isEqual)(t,m)||_(t)}),[p]);var E=p.map((function(e){return{message:e,height:v.current[e.id],y:m[e.id]}})),S=(0,u.useTransition)(E,{keys:function(e){return e.message.id},from:function(){return{opacity:0}},enter:function(e){return{opacity:1,y:e.y}},update:function(e){return{y:e.y}},leave:function(e){var t=e.height;return{opacity:0,y:-(null!=t?t:0)-8}}});return R("div",{className:(0,o.default)(n,(0,A.getThemeClass)(C.ThemeTypes.DARK)),onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)}},void 0,S((function(e,t){var n=e.opacity,o=e.y;return a.createElement(u.animated.div,{ref:function(e){return h(t.message.id,null!=e?e.offsetHeight:null)},className:M.default.toastWrapper,style:{opacity:n,
translateY:o}},R(U,{message:t.message,inPopout:r}))})))}G.displayName="ChatToasts"},430251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DisableGradient=void 0;t.default=m;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=f(n(294184)),u=f(n(530250)),l=f(n(896566)),s=f(n(744794)),d=["screenMessage","onDoubleClick","onActive","onForceIdle","idle","children","renderChatButton","renderChatToasts","renderVoiceChannelEffects"];function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.DisableGradient=a;!function(e){e[e.TOP=0]="TOP";e[e.BOTTOM=1]="BOTTOM"}(a||(t.DisableGradient=a={}));function y(e){
var t=e.disableGradients,n=void 0!==t&&t,r=e.renderHeader,o=e.renderBottomLeft,i=e.renderBottomCenter,l=e.renderBottomRight,d=e.renderCenter,f=n===a.TOP||!0===n,c=n===a.BOTTOM||!0===n;return v("div",{className:s.default.videoControls},void 0,!f&&v("div",{className:s.default.gradientTop}),!c&&v("div",{className:s.default.gradientBottom}),v("div",{className:s.default.topControls},void 0,null==r?void 0:r()),null==d?void 0:d(),v("div",{className:s.default.bottomControls},void 0,v(u.default,{grow:0,shrink:1,basis:"50%",align:u.default.Align.CENTER},void 0,null==o?void 0:o()),v(u.default,{grow:1,justify:u.default.Justify.CENTER,align:u.default.Align.CENTER},void 0,null==i?void 0:i()),v(u.default,{grow:0,shrink:1,justify:u.default.Justify.END,basis:"50%",align:u.default.Align.CENTER},void 0,null==l?void 0:l())))}y.displayName="Controls";function m(e){
var t,n=e.screenMessage,r=e.onDoubleClick,a=e.onActive,u=e.onForceIdle,f=e.idle,c=e.children,m=e.renderChatButton,_=e.renderChatToasts,h=e.renderVoiceChannelEffects,g=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d);return v("div",{className:(0,i.default)(s.default.root,(t={},t[s.default.idle]=f,t)),onMouseMove:a,onMouseDown:a,onMouseLeave:u,onDoubleClick:r},void 0,c,null!=n?o.createElement(l.default,p({size:"large"},n)):null,o.createElement(y,g),null==m?void 0:m({className:s.default.chatButton,showingClassName:s.default.chatButtonShowing}),null==_?void 0:_(),null==h?void 0:h())}m.displayName="FullsizePlayer"},244612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PictureInPictureHeader=I;t.default=T;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=E(n(294184)),i=n(536211),u=E(n(550024)),l=E(n(893160)),s=E(n(16941)),d=E(n(530250)),f=n(974286),c=E(n(889167)),p=E(n(436081)),v=E(n(77871)),y=E(n(896566)),m=n(770348),_=E(n(247001)),h=E(n(201768)),g=["children","idle","onJumpToChannel","backgroundKey","onActive","onForceIdle","renderBottomLeftControls","renderBottomRightControls","screenMessage"];function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t=e.title,n=e.onJumpToChannel,r=e.idle,a=e.preventIdleComponent,o=(0,i.useStateFromStores)([l.default],(function(){return l.default.getChannelId()})),u=null!=o?b(v.default,{voiceChannelId:o,idle:r}):null;return b(a,{className:h.default.headerIdleContainer},void 0,b(s.default,{className:h.default.headerTitle,onClick:n},void 0,b(c.default,{"aria-label":_.default.Messages.OPEN_IN_THEATER,className:h.default.backButton,width:20,height:20}),b(p.default,{className:h.default.headerText,
size:p.default.Sizes.SIZE_16,color:m.Colors.WHITE},void 0,t)),u)}I.displayName="PictureInPictureHeader";function T(e){var t,n=e.children,r=e.idle,i=e.onJumpToChannel,l=e.backgroundKey,s=e.onActive,c=e.onForceIdle,p=e.renderBottomLeftControls,v=e.renderBottomRightControls,m=e.screenMessage,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,g);return b("div",{onMouseMove:s,onMouseDown:s,onMouseLeave:c,className:(0,o.default)(h.default.pictureInPictureVideo,(t={},t[h.default.idle]=r,t)),onDoubleClick:i},void 0,b(u.default,{},void 0,b(f.BackgroundTransition,{},l,n)),null!=m?a.createElement(y.default,O({size:"small"},m)):null,b("div",{className:h.default.videoControls},void 0,b("div",{className:h.default.topControls},void 0,a.createElement(I,O({idle:r,onJumpToChannel:i},_))),b("div",{className:h.default.bottomControls},void 0,b(d.default,{grow:0,shrink:1,basis:"50%",align:d.default.Align.CENTER,
className:h.default.bottomLeftControls},void 0,null==p?void 0:p()),b(d.default,{grow:0,shrink:1,justify:d.default.Justify.END,basis:"50%",align:d.default.Align.CENTER},void 0,null==v?void 0:v()))))}T.displayName="PictureInPictureVideo"},77871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=I(n(667294)),o=n(536211),i=O(n(229132)),u=n(720409),l=O(n(303798)),s=O(n(825724)),d=I(n(145122)),f=O(n(607209)),c=O(n(288356)),p=O(n(218843)),v=O(n(728429)),y=O(n(16941)),m=O(n(160629)),_=O(n(301927)),h=n(770348),g=n(859089),E=O(n(247001)),S=O(n(201768));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e){var t=e.closePopout,n=e.idle,r=e.pipWindows,a=e.voiceChannelId,v=e.onSelect;n&&t();var y=(0,
o.useStateFromStores)([l.default],(function(){return l.default.getSelfEmbeddedActivityForChannel(a)})),m=(0,o.useStateFromStores)([p.default],(function(){return p.default.pipWindow})),_=(0,o.useStateFromStores)([s.default],(function(){return s.default.getSelectedParticipant(a)})),S=(0,o.useStateFromStores)([s.default],(function(){return s.default.getStreamParticipants(a)}));return A(d.default,{navId:"pip-menu","aria-label":"switch PIP",onClose:t,onSelect:v},void 0,function(){var e=r.find((function(e){return e.component===h.PictureInPictureComponents.EMBED_IFRAME})),t=r.find((function(e){return e.component===h.PictureInPictureComponents.VIDEO})),n=[];null!=e&&(null==m?void 0:m.id)!==e.id&&n.push({pipWindow:e});null!=t&&S.forEach((function(e){var r=f.default.getActiveStreamForApplicationStream(e.stream),a=e.id===(null==_?void 0:_.id)&&(null==m?void 0:m.id)===t.id;null==r||a||n.push({pipWindow:t,participant:e,stream:r})}));return n}().map((function(e){
var t,n=e.pipWindow.id,r=null===(t=e.participant)||void 0===t?void 0:t.id,o=function(e){if(e.pipWindow.component===h.PictureInPictureComponents.EMBED_IFRAME&&null!=y){var t,n=null===(t=c.default.getGame(y.application_id))||void 0===t?void 0:t.name;return null==n?E.default.Messages.SWITCH_PIP_TO_ACTIVITY:E.default.Messages.SWITCH_PIP_TO_ACTIVITY_NAME.format({activityName:n})}return null==e.participant||e.participant.type!==g.ParticipantTypes.STREAM?E.default.Messages.SWITCH_PIP_TO_GO_LIVE:E.default.Messages.SWITCH_PIP_TO_USER_STREAM.format({username:e.participant.userNick})}(e),l=""+n+(null!=r?r:"");return A(d.MenuItem,{id:l,label:o,action:function(){return function(e){(null==m?void 0:m.id)!==e.pipWindow.id&&(0,u.switchPIPFocus)(e.pipWindow.id);var t=e.participant;null!=t&&t.type!==g.ParticipantTypes.ACTIVITY&&i.default.selectParticipant(a,t.id)}(e)}},l)})))}C.displayName="PictureInPictureSwitchWindowMenu";function M(e){var t=e.voiceChannelId,n=e.idle,r=(0,
o.useStateFromStores)([p.default],(function(){return p.default.pipWindows})),i=Array.from(r.values()),u=(0,o.useStateFromStoresArray)([f.default],(function(){return f.default.getAllActiveStreamsForChannel(t)})).filter((function(e){var n;return e.ownerId!==(null===(n=v.default.getCurrentUser())||void 0===n?void 0:n.id)&&e.channelId===t})),l=1===i.length&&i[0].component===h.PictureInPictureComponents.EMBED_IFRAME||0===u.length,s=1===i.length&&u.length<=1;return l||s?null:A(m.default,{position:m.default.Positions.BOTTOM,renderPopout:function(e){return a.createElement(C,T({voiceChannelId:t,pipWindows:i,idle:n},e))}},void 0,(function(e){return a.createElement(y.default,T({className:S.default.menuIcon},e),A(_.default,{color:h.Colors.WHITE}))}))}M.displayName="PictureInPictureSwitchWindowPopout";var N=M;t.default=N},896566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(518931)),o=u(n(530250)),i=u(n(515506));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.mainText,n=e.supportingText,r=e.children,u=e.size;return s(o.default,{className:i.default.root,justify:o.default.Justify.CENTER,align:o.default.Align.CENTER,direction:o.default.Direction.VERTICAL},void 0,s(a.default,{header:t,description:n,size:u}),r)}d.displayName="ScreenMessage"},778339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;f(n(667294));var r,a=s(n(294184)),o=f(n(730977)),i=s(n(417184)),u=s(n(134893)),l=s(n(400534));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.errorMessage,n=e.className;return c(o.TooltipContainer,{className:(0,a.default)(n,l.default.root),text:t,position:o.default.Positions.BOTTOM,color:o.TooltipColors.GREY},void 0,c(u.default,{},void 0,c(i.default,{"aria-label":null!=t?t:"",className:l.default.warningIcon})))}p.displayName="QualityWarning"},605520:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(250003))&&r.__esModule?r:{default:r},i=n(143414),u=["isActivityActive"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e){
var t=e.isActivityActive,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return a.createElement(i.CenterControlButton,s({color:t?"white":"primaryDark",iconComponent:o.default},n))}d.displayName="ActivityButton"},116790:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=d(n(160490)),u=d(n(143414)),l=d(n(810881)),s=["direction","className"];function d(e){return e&&e.__esModule?e:{
default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}!function(e){e[e.UP=0]="UP";e[e.DOWN=1]="DOWN"}(r||(r={}));function p(e){var t,n=e.direction,d=e.className,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return a.createElement(u.default,c({className:(0,o.default)(d,l.default.arrow,(t={},t[l.default.up]=n===r.UP,t)),iconComponent:i.default},f))}p.displayName="ArrowButton";p.Directions=r;var v=p;t.default=v},146529:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ChatButton=V;t.ChatButtonWithNUX=W;t.useChatButtonState=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=R(n(294184)),i=n(496486),u=R(n(468811)),l=n(536211),s=n(923387),d=R(n(229132)),f=R(n(825724)),c=R(n(305081)),p=R(n(142024)),v=R(n(191391)),y=R(n(211136)),m=R(n(946447)),_=R(n(160629)),h=n(645758),g=n(730977),E=n(810919),S=n(993442),O=n(48102),b=R(n(143414)),I=n(770348),T=n(583551),A=R(n(247001)),C=R(n(34021)),M=R(n(135849)),N=R(n(742918)),P=["channelId","className","showingClassName","onClick","inPopout"];function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}
function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()
}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e){var t=(0,l.useStateFromStores)([m.default],(function(){return!(0,i.isEmpty)(m.default.getTypingUsers(e))}),[e]),n=(0,l.useStateFromStores)([y.default],(function(){return y.default.getVoiceChannelId()===e}),[e]),r=(0,l.useStateFromStoresObject)([v.default],(function(){return{unreadCount:v.default.getUnreadCount(e),mentionCount:v.default.getMentionCount(e)}
}),[e]);return{unreadCount:r.unreadCount,mentionCount:r.mentionCount,voiceChannelIsSelected:n,isTyping:t}}var G=L("rect",{fill:"white",width:"100%",height:"100%"}),F=L("g",{fill:"black",transform:"translate(5.5, 8.5) scale("+11/24+")"},void 0,L(E.AnimatedDots,{dotRadius:3.5,spacing:3,fill:"black"})),x=L("circle",{cx:"20",cy:"19",r:"10",fill:"black"});function B(e){var t=e.width,n=void 0===t?24:t,r=e.height,o=void 0===r?24:r,i=e.isBadged,l=void 0!==i&&i,s=e.isTyping,d=void 0!==s&&s,f=k(a.useState((function(){return u.default.v4()})),1)[0];return L("svg",{width:n,height:o,viewBox:"0 0 24 24"},void 0,L("defs",{},void 0,L("mask",{id:f},void 0,G,d&&F,l&&x)),L("path",{fill:"currentColor",d:"M4.79805 3C3.80445 3 2.99805 3.8055 2.99805 4.8V15.6C2.99805 16.5936 3.80445 17.4 4.79805 17.4H7.49805V21L11.098 17.4H19.198C20.1925 17.4 20.998 16.5936 20.998 15.6V4.8C20.998 3.8055 20.1925 3 19.198 3H4.79805Z",mask:"url(#"+f+")"}))}B.displayName="ChatBubbleIcon";function H(e){
var t,n,r=e.className,a=U(e.channelId),i=a.unreadCount,u=a.mentionCount,l=a.isTyping,s=null!=u&&u>0,d=null!==(t=s?u:i)&&void 0!==t?t:0,f=d>99?"99+":d,c=a.voiceChannelIsSelected&&null!=i&&i>0;return L("div",{className:(0,o.default)(C.default.chatIcon,r)},void 0,L(B,{isBadged:c,isTyping:l}),c&&L(h.Text,{className:(0,o.default)(C.default.unreadCount,(n={},n[C.default.mention]=s,n)),variant:"text-xs/normal"},void 0,f))}H.displayName="ChatButtonContent";function V(e){var t,n=e.channelId,r=e.className,i=e.showingClassName,u=e.onClick,s=e.inPopout,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,P),p=c.disabled,v=a.useRef(null),y=(0,l.useStateFromStores)([f.default],(function(){return f.default.getChatOpen(n)}),[n]),m=function(e){var t=U(e),n=t.unreadCount,r=t.mentionCount,o=t.isTyping,i=k(a.useState(!1),2),u=i[0],l=i[1];a.useEffect((function(){l(n>0);var e=setTimeout((function(){l(!1)
}),O.TOAST_LINGER_MS);return function(){clearTimeout(e);l(!1)}}),[n]);return{isShowing:u||r>0||o,unreadCount:n,mentionCount:r}}(n),_=m.isShowing,h=m.unreadCount,E=m.mentionCount,T=a.useCallback((function(){null==u||u();d.default.updateChatOpen(n,!y)}),[n,y,u]),C=a.useCallback((function(e){return L(H,{className:e.className,channelId:n})}),[n]),M=a.useCallback((function(){var e;null===(e=v.current)||void 0===e||e.focus()}),[]);(0,S.useComponentAction)({event:I.ComponentActions.FOCUS_CHAT_BUTTON,handler:p?null:M});var N,R=k(a.useState(!1),2),w=R[0],j=R[1],G=a.useCallback((function(){s&&j(!0)}),[s]);(0,S.useComponentAction)({event:I.ComponentActions.SHOW_TEXT_IN_VOICE_POPOUT_COMING_SOON_TIP,handler:G});a.useEffect((function(){var e;w&&(e=setTimeout((function(){j(!1)}),3e3));return function(){clearTimeout(e)}}),[w]);var F=[N=s&&p?A.default.Messages.TEXT_IN_VOICE_POPOUT_DISABLED:y?A.default.Messages.VIDEO_CALL_HIDE_CHAT:A.default.Messages.VIDEO_CALL_SHOW_CHAT]
;E>0&&F.push(A.default.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_MENTIONS.format({mentionCount:E}));h>0&&F.push(A.default.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_UNREAD);return a.createElement(b.default,D({buttonRef:v,onClick:T,label:N,"aria-label":F.join(", "),iconComponent:C,tooltipPosition:g.TooltipPositions.BOTTOM,wrapperClassName:(0,o.default)(r,null!=i&&(t={},t[i]=_,t)),forceTooltipOpen:w},c))}V.displayName="ChatButton";function W(e){var t=e.channelId,n=a.useCallback((function(){d.default.updateChatOpen(t,!0)}),[t]);return L(c.default,{contentTypes:[s.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK],groupName:T.DismissibleContentGroupName.CALL_CHAT_BUTTON},void 0,(function(t){var r=t.visibleContent,o=t.markAsDismissed;return r===s.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK?L(_.default,{renderPopout:function(){return L(p.default,{className:C.default.upsellTooltipOffset,header:A.default.Messages.TEXT_IN_VOICE_ONBOARDING_TITLE,asset:L("img",{alt:"",
src:N.default,className:M.default.fullWidthImage}),content:A.default.Messages.TEXT_IN_VOICE_ONBOARDING_SUBTITLE,buttonCTA:A.default.Messages.TEXT_IN_VOICE_ONBOARDING_CTA,onClick:n,secondaryButtonCTA:A.default.Messages.DISMISS,markAsDismissed:o,caretPosition:p.default.CaretPosition.RIGHT})},position:_.default.Positions.BOTTOM,align:_.default.Align.RIGHT,animation:_.default.Animation.TRANSLATE,spacing:16,shouldShow:!0},void 0,(function(){return a.createElement(V,D({},e,{onClick:o}))})):a.createElement(V,e)}))}W.displayName="ChatButtonWithNUX"},928221:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(730977),o=l(n(775803)),i=l(n(143414)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e){var t=d({},e);return r.createElement(i.default,d({label:u.default.Messages.MORE,iconComponent:o.default,tooltipPosition:a.TooltipPositions.BOTTOM},t))}f.displayName="ContextButton"},893783:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(248088),i=n(32458),u=c(n(926462)),l=n(143414),s=c(n(247001)),d=c(n(362362)),f=["remainingCooldownSeconds","onClick","onMouseEnter","onMouseLeave"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=i.VOICE_CHANNEL_EFFECT_COOLDOWN_DURATION_MS/1e3,_=function(e){var t=52;return y("svg",{className:e.className,width:t,height:t,viewBox:"0 0 52 52"},void 0,y("circle",{style:{strokeDashoffset:100*e.percentComplete},className:d.default.progress,cx:26,cy:26,r:20,fill:"none",stroke:"#4F545C",pathLength:"100"}))};_.displayName="CircularCountdown";var h=(0,o.animated)(_);function g(e){var t=e.remainingCooldownSeconds,n=e.onClick,r=e.onMouseEnter,i=e.onMouseLeave,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f),p=t>0,_=(0,o.useSpring)({percentComplete:0!==t?(m-t)/m:0,
config:v({},o.config.molasses,{duration:1e3})});return y("div",{className:d.default.container},void 0,a.createElement(l.CenterControlButton,v({},c,{disabled:p,label:p?s.default.Messages.VOICE_CHANNEL_EFFECTS_COOLDOWN.format({seconds:t}):void 0,iconComponent:u.default,onClick:n,onMouseEnter:r,onMouseLeave:i})),p?y(h,{className:d.default.countdown,percentComplete:_.percentComplete}):null)}g.displayName="EffectsButton"},278851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=p(n(536211)),o=p(n(902305)),i=p(n(949898)),u=p(n(775776)),l=p(n(814379)),s=n(245838),d=p(n(143414)),f=p(n(247001)),c=["enabled"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e){var t=e.enabled,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c),a=t?f.default.Messages.EXIT_FULL_SCREEN:f.default.Messages.FULL_SCREEN,o=t?l.default:u.default;return r.createElement(d.default,y({label:a,iconComponent:o},n))}m.displayName="FullscreenButton";var _=a.default.connectStores([i.default,o.default],(function(e){var t=e.node,n=e.guestWindow;return{
enabled:(0,s.isFullScreen)(t,null==n?void 0:n.document)}}))(m);t.default=_},56396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=d(n(229132)),o=n(730977),i=d(n(852546)),u=d(n(143414)),l=d(n(247001)),s=["channelId"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e){var t=e.channelId,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return r.createElement(u.default,c({onClick:function(){a.default.selectParticipant(t,null)},label:l.default.Messages.VIDEO_CALL_RETURN_TO_GRID,iconComponent:i.default,tooltipPosition:o.TooltipPositions.BOTTOM},n))}p.displayName="GridButton"},643779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=d(n(667294)),a=l(n(119431)),o=d(n(143414)),i=l(n(247001)),u=["channel","centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){var t=e.channel,n=e.centerButton,l=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),d=l?o.CenterControlButton:o.default,c=t.isManaged()||!t.isPrivate()?i.default.Messages.CONNECT:i.default.Messages.JOIN_CALL;return r.createElement(d,f({},s,{iconComponent:a.default,label:c}))}c.displayName="JoinCallButton"},67286:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=d(n(667294)),a=l(n(434663)),o=d(n(143414)),i=l(n(247001)),u=["centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}
function c(e){var t=e.centerButton,n=void 0!==t&&t,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),s=n?o.CenterControlButton:o.default;return r.createElement(s,f({},l,{iconComponent:a.default,label:i.default.Messages.EMBEDDED_ACTIVITIES_LEAVE_ACTIVITY}))}c.displayName="LeaveCallButton"},401311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=d(n(667294)),a=l(n(331546)),o=d(n(143414)),i=l(n(247001)),u=["centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){var t=e.centerButton,n=void 0!==t&&t,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),s=n?o.CenterControlButton:o.default;return r.createElement(s,f({},l,{iconComponent:a.default,label:i.default.Messages.DISCONNECT_SELF}))}c.displayName="LeaveCallButton"},607576:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_
;var r,a=p(n(667294)),o=f(n(945926)),i=f(n(855480)),u=f(n(287317)),l=p(n(143414)),s=f(n(592695)),d=["selfMute","serverMute","suppress","centerButton"];function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}
function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.className;return y(u.default,{foreground:s.default.slash,className:t})}m.displayName="MuteWithForeground";function _(e){var t=e.selfMute,n=e.serverMute,r=e.suppress,u=e.centerButton,s=void 0!==u&&u,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d),c=t||n||r,p=s?l.CenterControlButton:l.default,y=(0,o.default)(t,n,r),_=c?m:i.default;return a.createElement(p,v({iconComponent:_,label:y},f))}_.displayName="MuteButton"},975577:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.ParticipantsCount=_;t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=n(645758),u=n(730977),l=p(n(547282)),s=p(n(143414)),d=p(n(247001)),f=p(n(898641)),c=["count"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.className,n=e.count;return m("div",{className:(0,o.default)(f.default.root,f.default.comboIcon,t)},void 0,m(l.default,{className:f.default.icon}),m(i.Text,{color:"none",className:f.default.count,variant:"text-md/normal"},void 0,n))}_.displayName="ParticipantsCount";function h(e){var t=e.count,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c)
;return a.createElement(s.default,y({label:d.default.Messages.CHANNEL_CALL_PARTICIPANTS,iconComponent:function(e){return m(_,{className:e.className,count:t})},tooltipPosition:u.TooltipPositions.BOTTOM},n))}h.displayName="ParticipantsButton"},866219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=d(n(294184)),o=d(n(435012)),i=d(n(143414)),u=d(n(247001)),l=d(n(946078)),s=["popoutOpen","onClosePopout","onOpenPopout"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e){var t,n=e.popoutOpen,d=e.onClosePopout,f=e.onOpenPopout,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s),v=n?u.default.Messages.POPOUT_RETURN:u.default.Messages.POPOUT_PLAYER;return r.createElement(i.default,c({label:v,onClick:n?d:f,iconComponent:o.default,iconClassName:(0,a.default)((t={},t[l.default.popIn]=n,t))},p))}p.displayName="PopoutButton"},861891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(227479)),o=s(n(41183)),i=s(n(143414)),u=s(n(247001)),l=["popoutWindowAlwaysOnTop","onToggleStayOnTop"];function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){var t=e.popoutWindowAlwaysOnTop,n=e.onToggleStayOnTop,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r]
;t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),d=t?u.default.Messages.POPOUT_REMOVE_FROM_TOP:u.default.Messages.POPOUT_STAY_ON_TOP,c=t?o.default:a.default;return r.createElement(i.default,f({onClick:function(){return n(!t)},label:d,iconComponent:c},s))}c.displayName="StayOnTopButton"},305914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r=f(n(667294)),a=s(n(422621)),o=s(n(487255)),i=f(n(143414)),u=s(n(247001)),l=["isSelfStream","centerButton"];function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e){return e?u.default.Messages.STOP_STREAMING:u.default.Messages.STOP_WATCHING}function v(e){var t=e.isSelfStream,n=e.centerButton,u=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),d=u?i.CenterControlButton:i.default;return r.createElement(d,c({label:p(t),iconComponent:t?a.default:o.default},s))}v.displayName="StopStreamButton"},735319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=d(n(667294)),a=l(n(952117)),o=d(n(143414)),i=l(n(247001)),u=["hasPermission","centerButton"]
;function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){var t=e.hasPermission,n=e.centerButton,l=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r]
;t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),d=l?o.CenterControlButton:o.default,c=t?i.default.Messages.SHARE_YOUR_SCREEN:i.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE;return r.createElement(d,f({label:c,disabled:!t,iconComponent:a.default},s))}c.displayName="StreamButton"},715801:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(229132)),u=c(n(160490)),l=c(n(547282)),s=c(n(143414)),d=c(n(247001)),f=c(n(685109));function c(e){
return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.className,n=e.isVertical;return v("div",{className:f.default.iconContainer},void 0,v(u.default,{className:(0,o.default)(n?f.default.upCaret:f.default.leftCaret,t)}),v(l.default,{className:(0,o.default)(f.default.members,t)}))}y.displayName="OpenIcon";function m(e){var t=e.className,n=e.isVertical;return v("div",{className:f.default.iconContainer},void 0,v(u.default,{className:(0,
o.default)(n?f.default.downCaret:f.default.rightCaret,t)}),n&&v(l.default,{className:(0,o.default)(f.default.members,t)}))}m.displayName="CloseIcon";function _(e){var t=e.channelId,n=e.className,r=e.isParticipantsOpen,u=e.isVertical,l=void 0!==u&&u,c=e.hideTooltip,p=void 0!==c&&c;var _=a.useCallback((function(e){var t=e.className;return v(r?m:y,{className:t,isVertical:l})}),[r,l]);return v(s.default,{label:r?d.default.Messages.VIDEO_CALL_HIDE_MEMBERS:d.default.Messages.VIDEO_CALL_SHOW_MEMBERS,className:(0,o.default)(f.default.participantsButton,n),onClick:function(){i.default.toggleParticipants(t,!r)},iconComponent:_,shouldShowTooltip:!p})}_.displayName="ToggleParticipantsButton"},645675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VideoButtonWrapper=g;t.default=E
;var r,a=y(n(667294)),o=p(n(294184)),i=n(433383),u=n(839370),l=p(n(79027)),s=y(n(143414)),d=p(n(283253)),f=["enabled","join","channel","onChange","onCameraUnavailable","cameraUnavailable","hasPermission","className","channelLimitReached","channelLimit","centerButton","onPopoutClick"],c=["unavailable"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function g(e){var t=(0,u.getVideoButtonLabel)(e),n=e.enabled,r=e.cameraUnavailable,o=e.onChange,s=e.onCameraUnavailable,d=e.hasPermission,f=e.children,c=e.channelLimitReached,p=void 0!==c&&c,v=(0,i.useAppContext)(),y=r?function(){return s()
}:function(){return o(!e.enabled,v)};return a.createElement(a.Fragment,null,f({onClick:y,active:n,disabled:!d||p&&!n,iconComponent:l.default,label:t,unavailable:r}))}function E(e){var t=e.enabled,n=e.join,r=e.channel,i=e.onChange,u=e.onCameraUnavailable,l=e.cameraUnavailable,p=e.hasPermission,v=e.className,y=e.channelLimitReached,E=e.channelLimit,S=e.centerButton,O=void 0!==S&&S,b=e.onPopoutClick,I=h(e,f),T=O?s.CenterControlButton:s.default;return m(g,{enabled:t,join:n,channel:r,onChange:i,onCameraUnavailable:u,cameraUnavailable:l,hasPermission:p,channelLimitReached:y,channelLimit:E},void 0,(function(e){var t,n=e.unavailable,r=h(e,c);return a.createElement(T,_({},r,I,{className:(0,o.default)(v,(t={},t[d.default.fauxDisabled]=n,t)),onPopoutClick:b}))}))}E.displayName="VideoButton"},727012:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=c(n(229132)),o=n(730977),i=c(n(670427)),u=c(n(950291)),l=c(n(143414)),s=n(859089),d=c(n(247001)),f=["channelId","isHorizontal"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e){var t=e.channelId,n=e.isHorizontal,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e)
;for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f);return r.createElement(l.default,v({onClick:function(){a.default.selectParticipant(t,s.ParticipantSelectionTypes.AUTO)},label:d.default.Messages.VIDEO_CALL_AUTO_SELECT,iconComponent:n?i.default:u.default,tooltipPosition:o.TooltipPositions.BOTTOM},c))}y.displayName="VideoLayoutButton"},561603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=p(n(294184)),o=p(n(536211)),i=p(n(740207)),u=p(n(635014)),l=p(n(879567)),s=n(758956),d=n(864489),f=p(n(134893)),c=p(n(964063));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.iconClassName,n=e.currentVolume,r=e.sliderClassName,o=e.userId,u=e.currentWindow,p=void 0===u?window:u,v=e.muted,m=e.context;return y(f.default,{},void 0,y(l.default,{currentWindow:p,iconClassName:(0,
a.default)(t,c.default.controlIcon),sliderClassName:r,value:(0,s.amplitudeToPerceptual)(n),muted:v,maxValue:d.isPlatformEmbedded?200:100,onValueChange:function(e){return function(e,t,n,r){e>0&&n&&i.default.toggleLocalMute(t,r);i.default.setLocalVolume(t,(0,s.perceptualToAmplitude)(e),r)}(e,o,v,m)},onToggleMute:function(){return function(e,t){i.default.toggleLocalMute(e,t)}(o,m)}}))}m.displayName="VolumeButton";var _=o.default.connectStores([u.default],(function(e){var t=e.userId,n=e.context;return{currentVolume:u.default.getLocalVolume(t,n),muted:u.default.isLocalMute(t,n)}}))(m);t.default=_},555325:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.shouldImmediatelyRequestVoicePermissions=E;var r=m(n(636602)),a=m(n(177230)),o=m(n(406136)),i=m(n(258079)),u=n(104144),l=m(n(950673)),s=m(n(423046)),d=m(n(644263)),f=m(n(635014)),c=m(n(893160)),p=m(n(919158)),v=n(770348),y=n(664608);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t){
_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var h=null;function g(){o.default.requestPermission(y.NativePermissionTypes.AUDIO).then((function(e){e&&(0,p.default)(!0)}));f.default.getMode()===v.InputModes.PUSH_TO_TALK&&o.default.requestPermission(y.NativePermissionTypes.INPUT_MONITORING)}function E(e,t){var n;return!(null===(n=d.default.getChannel(t))||void 0===n?void 0:n.isListenModeCapable())||i.default.isSpeaker(e,t)}var S=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(v.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates);r.default.subscribe(v.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect)};n._terminate=function(){r.default.unsubscribe(v.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)
;r.default.unsubscribe(v.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect)};n.handleVoiceChannelSelect=function(e){null==e.channelId&&(h=null)};n.handleVoiceStateUpdates=function(e){e.voiceStates.forEach((function(e){var t=e.userId,n=e.channelId;if(null!=n){if(s.default.getId()===t&&null!=c.default.getRTCConnectionId()&&h!==n){if(E(t,n)){h=n;g()}else{var r;if(r=new l.default(e),(0,u.getAudienceRequestToSpeakState)(r)===u.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK){h=n;g()}}}}}))};n.__getLocalVars=function(){return{previousRequestedId:h}};return t}(a.default));t.default=S},919158:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){}},350539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=v(n(636602)),o=v(n(136873)),i=v(n(177230)),u=v(n(607209)),l=v(n(644263)),s=v(n(30098)),d=v(n(929230)),f=v(n(893160)),c=n(864489),p=n(770348);function v(e){
return e&&e.__esModule?e:{default:e}}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}
var h=18e6,g=new r.Timeout,E=new r.Timeout,S=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.subscribe(p.ActionTypes.IDLE,this.handleIdleUpdate)};n._terminate=function(){g.stop();E.stop();a.default.unsubscribe(p.ActionTypes.IDLE,this.handleIdleUpdate)};n.handleIdleUpdate=function(){var e=d.default.getIdleSince();if(c.isPlatformEmbedded){g.stop();E.stop();for(var t,n=y(u.default.getAllActiveStreams());!(t=n()).done;){if(t.value.state!==p.ApplicationStreamStates.ENDED)return}if(null!=e){var r=f.default.getChannelId();if(null!=r){E.start(h,(function(){o.default.selectVoiceChannel(null)}));var a=s.default.getGuild(f.default.getGuildId());if(null!=a&&null!=a.afkChannelId&&a.afkChannelId!==r&&null!=a.afkTimeout){var i=l.default.getChannel(r);null!=i&&(i.isGuildStageVoice()||g.start(e+1e3*a.afkTimeout-Date.now(),(function(){
null!=(a=s.default.getGuild(f.default.getGuildId()))&&null!=a.afkChannelId&&o.default.selectVoiceChannel(a.afkChannelId)})))}}}}};n.__getLocalVars=function(){return{AUTO_DISCONNECT_TIME:h,afkTimeout:g,autoDisconnectTimeout:E}};return t}(i.default));t.default=S},941690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sendVoiceChannelEffect=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var l=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n){e.next=2;break}return e.abrupt("return");case 2:e.prev=2;i=null!=n.id?{emoji_id:n.id,emoji_name:n.name}:{emoji_id:null,emoji_name:n.optionallyDiverseSequence};e.next=6;return r.default.post({url:o.Endpoints.VOICE_CHANNEL_EFFECTS(t.id),body:i})
;case 6:a.default.dispatch({type:o.ActionTypes.VOICE_CHANNEL_EFFECT_UPDATE_TIME_STAMP});e.next=12;break;case 9:e.prev=9;e.t0=e.catch(2);console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();t.sendVoiceChannelEffect=l},928034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"guild",id:"2022-06_voice_channel_effects",label:"Voice Channel Effects",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Voice Channel Effects Enabled",config:{enabled:!0}}]});t.default=r},439702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(496486),o=u(n(211248)),i=u(n(767779));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var s=function(e){var t=(0,a.cloneDeep)(i.default);t.assets[0].p=e;return t};function d(e){var t=e.className,n=e.onComplete,a=e.id,i=e.source,u=r.useRef(null);r.useEffect((function(){var e;null!=u.current&&(e=o.default.loadAnimation({container:u.current,renderer:"svg",loop:!1,autoplay:!0,animationData:s(i)})).addEventListener("complete",(function(){return n(a)}))
;return function(){var t;null===(t=e)||void 0===t||t.destroy()}}),[n,a,i]);return r.createElement("div",{className:t,ref:u})}d.displayName="VoiceChannelEffect"},305241:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=S(n(667294)),o=n(248088),i=g(n(498773)),u=n(418889),l=g(n(416355)),s=g(n(222935)),d=g(n(956117)),f=g(n(16941)),c=S(n(96124)),p=g(n(160629)),v=S(n(730977)),y=n(941690),m=n(770348),_=g(n(247001)),h=g(n(332342));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=function(e){var t=e.emoji,n=b(a.useState(!1),2),r=n[0],u=n[1],l=a.useCallback((function(){r||u(!0)}),[r,u]),s=a.useCallback((function(){u(!1)}),[u]);return O(d.default,{look:d.default.Looks.BLANK,size:d.default.Sizes.NONE,onMouseEnter:l,onMouseLeave:s},void 0,O(o.Spring,{config:c.EMOJI_BUTTON_SPRING_CONFIG,from:{value:0},to:{value:r?1:0}},void 0,(function(e){var n,r=e.value;return O(o.animated.div,{style:{transform:r.to([0,1],[1,1.14]).to((function(e){
return"scale("+e+")"}))}},void 0,O(i.default,{className:h.default.emoji,emojiId:t.id,emojiName:null===(n=t)||void 0===n?void 0:n.surrogates,animated:t.animated}))})))};T.displayName="EffectEmoji";function A(e){var t=e.channel,n=e.closePopout,r=(0,u.useFrequentlyUsedEmojis)(null).slice(0,6),a=function(e){(0,y.sendVoiceChannelEffect)(t,e);n()};return O(p.default,{position:p.default.Positions.TOP,align:p.default.Align.RIGHT,renderPopout:function(e){var t=e.closePopout;return O(s.default,{},void 0,O(l.default,{className:h.default.emojiPicker,showCategoryList:!1,onSelectEmoji:a,pickerIntention:m.EmojiIntention.CHAT,closePopout:t}))}},void 0,(function(e,a){var o=e.onClick,i=a.isShown;return O("div",{className:h.default.container},void 0,O("div",{className:h.default.slots},void 0,r.map((function(e){return O(f.default,{className:h.default.slot,onClick:function(){(0,y.sendVoiceChannelEffect)(t,e);n()}},void 0,O(v.TooltipContainer,{text:e.name,position:v.default.Positions.TOP,
"aria-label":e.name,tooltipClassName:h.default.tooltipContainer},void 0,O(T,{emoji:e})))}))),O("div",{className:h.default.divider}),O(v.TooltipContainer,{text:_.default.Messages.VOICE_CHANNEL_EFFECTS_MORE_EFFECTS,position:v.default.Positions.TOP,"aria-label":_.default.Messages.VOICE_CHANNEL_EFFECTS_MORE_EFFECTS,tooltipClassName:h.default.tooltipContainer},void 0,O(c.default,{className:h.default.emoji,onClick:o,tabIndex:0,active:i})))}))}A.displayName="VoiceChannelEffectsBar"},131629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.NO_WELCOME_SCREEN=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={};t.NO_WELCOME_SCREEN=s;var d={},f={},c=!1,p=!1,v=!1;function y(e){var t=e.invite.guild;if(null!=(null==t?void 0:t.welcome_screen)){d[t.id]=t.welcome_screen;return!0}return!1}function m(e){
var t=e.welcomeScreen,n=e.guildId;d[n]=null!=t?t:s}var _=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.get=function(e){if(null!=e)return d[e]};n.isFetching=function(){return p};n.hasError=function(){return v};n.hasSeen=function(e,t){void 0===t&&(t=!1);return null!=e&&(t?c:f[e]||!1)};n.__getLocalVars=function(){return{welcomeScreens:d,seenGuilds:f,lurkingGuildSeen:c,fetching:p,hasError:v}};return t}(a.default.Store);_.displayName="WelcomeScreenStore";var h=new _(o.default,((r={})[i.ActionTypes.INVITE_RESOLVE_SUCCESS]=y,r[i.ActionTypes.INVITE_ACCEPT_SUCCESS]=y,r[i.ActionTypes.WELCOME_SCREEN_SUBMIT_SUCCESS]=m,r[i.ActionTypes.WELCOME_SCREEN_UPDATE]=m,r[i.ActionTypes.WELCOME_SCREEN_VIEW]=function(e){var t=e.guildId,n=e.isLurking;f[t]=!0;n&&(c=!0)},r[i.ActionTypes.GUILD_STOP_LURKING]=function(){c=!1},r[i.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild.id
;f[t]=!1},r[i.ActionTypes.WELCOME_SCREEN_FETCH_START]=function(){p=!0;v=!1},r[i.ActionTypes.WELCOME_SCREEN_FETCH_SUCCESS]=function(e){p=!1;v=!1;var t=e.welcomeScreen,n=e.guildId;d[n]=null!=t?t:s},r[i.ActionTypes.WELCOME_SCREEN_FETCH_FAIL]=function(){p=!1;v=!0},r));t.default=h},451646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(821896)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(685677)),o=d(n(713293)),i=d(n(590418)),u=d(n(510966)),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(s=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);t.createFromServer=function(e){var n=null!=e.payment_source?o.default.createFromServer(e.payment_source):null,r=null!=e.sku?i.default.createFromServer(e.sku):null,a=null!=e.subscription?u.default.createFromServer(e.subscription):null;return new t({id:e.id,createdAt:new Date(e.created_at),currency:e.currency,tax:e.tax,taxInclusive:e.tax_inclusive,amount:e.amount,amountRefunded:e.amount_refunded,status:e.status,metadata:e.metadata,description:e.description,paymentSource:n,paymentGateway:e.payment_gateway,
paymentGatewayPaymentId:e.payment_gateway_payment_id,flags:e.flags,subscription:a,skuId:e.sku_id,skuPrice:e.sku_price,sku:r,downloadableInvoice:e.downloadable_invoice,downloadableRefundInvoices:e.downloadable_refund_invoices,premiumRefundDisqualificationReasons:e.premium_refund_disqualification_reasons})};function t(t){var n;(n=e.call(this)||this).id=t.id;n.amount=t.amount;n.amountRefunded=t.amountRefunded;n.createdAt=t.createdAt;n.currency=t.currency;n.description=t.description;n.paymentSource=t.paymentSource;n.status=t.status;n.tax=t.tax;n.taxInclusive=t.taxInclusive;n.subscription=t.subscription;n.skuId=t.skuId;n.skuPrice=t.skuPrice;n.sku=t.sku;n.flags=t.flags;n.downloadableInvoice=t.downloadableInvoice;n.downloadableRefundInvoices=t.downloadableRefundInvoices;n.premiumRefundDisqualificationReasons=t.premiumRefundDisqualificationReasons;return n}!function(e,t,n){t&&f(e.prototype,t);n&&f(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isPurchasedViaApple",
get:function(){return this.paymentGateway===l.PaymentGateways.APPLE}},{key:"isPurchasedViaGoogle",get:function(){return this.paymentGateway===l.PaymentGateways.GOOGLE}},{key:"isPurchasedExternally",get:function(){return this.isPurchasedViaApple||this.isPurchasedViaGoogle}},{key:"isSubscription",get:function(){return null!=this.subscription}},{key:"isPremiumSubscription",get:function(){return null!=this.subscription&&l.PREMIUM_PLANS.has(this.subscription.planId)}},{key:"isPremiumGuildSubscription",get:function(){return null!=this.subscription&&null!=this.subscription.additionalPlans.find((function(e){var t=e.planId;return l.PREMIUM_GUILD_SUBSCRIPTION_PLANS.has(t)}))}},{key:"isGift",get:function(){return a.hasFlag(this.flags,l.PaymentFlags.GIFT)}},{key:"isPremiumGift",get:function(){return this.isGift&&Object.values(l.PremiumSubscriptionSKUs).includes(this.skuId)}},{key:"isPreorder",get:function(){return a.hasFlag(this.flags,l.PaymentFlags.PREORDER)}}]);return t}(r.default);t.default=p},
737931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=m(n(536211)),i=m(n(972247)),u=n(91817),l=m(n(636602)),s=m(n(312260)),d=n(811076),f=m(n(288356)),c=m(n(191839)),p=m(n(834162)),v=m(n(871778)),y=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E="ActivityTrackingStore",S=18e5,O=3e5,b=null!==(r=i.default.get(E))&&void 0!==r?r:{},I={},T=!1;function A(e,t){void 0===t&&(t=!0);t&&C(e,!0);var n=I[e.applicationId];if(null!=n){n.stop();delete I[e.applicationId]}delete b[e.applicationId];i.default.set(E,b)}function C(e,t){void 0===t&&(t=!1);var n=Date.now(),r=null!=e.updatedAt?n-e.updatedAt:0;r>21e5&&(r=0);s.default.updateActivity({applicationId:e.applicationId,distributor:e.isDiscordApplication?y.Distributors.DISCORD:e.distributor,shareActivity:(0,d.shouldShareApplicationActivity)(e.applicationId,v.default,c.default),token:e.token,duration:Math.floor(r/1e3),closed:t});e.updatedAt=n;var a=I[e.applicationId]
;null==a&&(a=I[e.applicationId]=new u.Interval).start(S,(function(){return C(e)}));if(!t){b[e.applicationId]=e;i.default.set(E,b)}}function M(e){void 0===e&&(e=!0);for(var t,n=p.default.getRunningGames(),r=new Set,a=h(n);!(t=a()).done;){var o=t.value,i=o.name,u=o.distributor,l=f.default.getGameByName(i);if(null!=l){r.add(l.id);l.id in b||C({applicationId:l.id,updatedAt:Date.now(),distributor:u})}}for(var s=0,d=Object.keys(b);s<d.length;s++){var c=d[s];r.has(c)||A(b[c],e)}}function N(){for(var e=0,t=Object.keys(b);e<t.length;e++){var n=t[e];A(b[n])}T=!1}var P=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(p.default,v.default,c.default);this.syncWith([v.default],M)};n.getActivities=function(){return b};n.__getLocalVars=function(){return{STORAGE_KEY:E,ACTIVITY_WINDOW:S,ACTIVITY_WINDOW_GRACE_PERIOD:O,
CLOSE_AUTHENTICATION_FAILED:4004,applicationActivities:b,applicationIntervals:I,hasUpdatedOnConnectionOpen:T}};return t}(o.default.Store);P.displayName="ActivityTrackingStore";var R=new P(l.default,((a={})[y.ActionTypes.RUNNING_GAMES_CHANGE]=function(){return M()},a[y.ActionTypes.CONNECTION_OPEN]=function(){if(T)return!1;for(var e=0,t=Object.keys(b);e<t.length;e++){var n=t[e];C(b[n])}M(!1);T=!0},a[y.ActionTypes.CONNECTION_CLOSED]=function(e){4004===e.code&&N()},a[y.ActionTypes.LOGOUT]=N,a[y.ActionTypes.ACTIVITY_UPDATE_SUCCESS]=function(e){var t=e.applicationId,n=e.token,r=b[t];if(null==r)return!1;r.token=n;i.default.set(E,b)},a[y.ActionTypes.ACTIVITY_UPDATE_FAIL]=function(e){var t=e.applicationId,n=b[t];if(null==n)return!1;n.token=null;n.updatedAt=null;i.default.set(E,b)},a));t.default=R},743237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=l(n(23535)),u=n(770348);function l(e){return e&&e.__esModule?e:{
default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){i.default.getSocket().processDispatchQueue()};n.hasCache=function(){return!0};n.__getLocalVars=function(){return{}};return t}(a.default.Store);d.displayName="CacheStore";var f=new d(o.default,((r={})[u.ActionTypes.CONNECTION_OPEN]=function(){return!1},r));t.default=f},938199:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={toastsEnabledForChannel:{}},d=s;var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e
;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){d=null!=e?e:s};n.getToastsEnabled=function(e){var t;return null===(t=d.toastsEnabledForChannel[e])||void 0===t||t};n.getState=function(){return d};n.__getLocalVars=function(){return{initialState:s,state:d}};return t}(a.default.PersistedStore);f.displayName="CallChatToastsStore";f.persistKey="CallChatToasts";var c=new f(o.default,((r={})[i.ActionTypes.CALL_CHAT_TOASTS_SET_ENABLED]=function(e){var t=e.channelId,n=e.toastsEnabled;d.toastsEnabledForChannel[t]=n},r[i.ActionTypes.LOGOUT]=function(){d.toastsEnabledForChannel={}},r));t.default=c},101820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=v(n(536211)),i=n(91817),u=v(n(636602)),l=v(n(786345)),s=v(n(136873)),d=v(n(387692)),f=v(n(487372)),c=n(770348),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return y(e,t)}var m=new i.Timeout,_=3e5;function h(){if(null!=a){l.default.sendBotMessage(a,p.default.Messages.BOT_CALL_IDLE_DISCONNECT);s.default.selectVoiceChannel(null)}}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(d.default)};n.__getLocalVars=function(){return{currentChannelId:a,_timeout:m,IDLE_TIMEOUT:_}};return t}(o.default.Store);g.displayName="CallIdleStore";var E=new g(u.default,((r={})[c.ActionTypes.CONNECTION_CLOSED]=function(){a=null;m.stop()},r[c.ActionTypes.VOICE_STATE_UPDATES]=function(e){return e.voiceStates.reduce((function(e,t){if(null!=t.guildId)return e;var n=d.default.getCurrentClientVoiceChannelId(null);if(null==n){m.stop();return e}if(1===f.default.countVoiceStatesForChannel(n)){a=n;m.start(_,h,!1)}else m.stop();return e}),!1)},r));t.default=E},484024:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={};var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getSkuIdForChannel=function(e){return s[e]};n.__getLocalVars=function(){return{channelIdToSkuId:s}};return t}(a.default.Store);d.displayName="ChannelSKUStore";var f=new d(o.default,((r={})[i.ActionTypes.CONNECTION_OPEN]=function(){s={}},r[i.ActionTypes.STORE_LISTING_FETCH_SUCCESS]=function(e){var t=e.channelId,n=e.storeListing;null!=t&&(s[t]=n.sku.id)},r));t.default=f},42398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=p(n(496486)),o=p(n(536211)),i=p(n(636602)),u=p(n(32079)),l=p(n(491462)),s=p(n(30098)),d=p(n(689389)),f=p(n(89981)),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}function m(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}var E,S,O,b=[],I=null,T=!1,A=c.FormStates.CLOSED,C={},M=!1,N=null;function P(){S=l.default.getChannel();E=null!=S?s.default.getGuild(S.guild_id):null;b=null!=S&&null!=E&&d.default.can(c.Permissions.MANAGE_WEBHOOKS,S)?f.default.getWebhooksForChannel(E.id,S.id):[];if(null!=I){var e=w(I.id);null!=e&&(I=e)}A=c.FormStates.OPEN;C={};M=!1}var R=a.default.debounce((function(){if(M){(null==I||a.default.isEqual(I,w(I.id)))&&(M=!1);M||L.emitChange()}}),500);function w(e){return b.find((function(t){return t.id===e}))}var D=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default,s.default,f.default,d.default)};n.hasChanges=function(){return M};n.getWebhook=function(e){return w(e)};n.showNotice=function(){return this.hasChanges()};n.getProps=function(){return{submitting:A===c.FormStates.SUBMITTING,webhooks:b,editedWebhook:I,section:O,sectionId:N,hasChanges:this.hasChanges(),isFetching:T,errors:C}};n.__getLocalVars=function(){return{webhooks:b,editedWebhook:I,isFetchingWebhooks:T,guild:E,channel:S,formState:A,errors:C,hasChanges:M,section:O,sectionId:N,validateUpdate:R,storeInstance:L}};!function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"webhooks",get:function(){return b}},{key:"editedWebhook",get:function(){return I}},{key:"formState",get:function(){return A}}]);return t}(o.default.Store)
;D.displayName="ChannelSettingsIntegrationsStore";var L=new D(i.default,__OVERLAY__?{}:((r={})[c.ActionTypes.INTEGRATION_SETTINGS_INIT]=P,r[c.ActionTypes.INTEGRATION_SETTINGS_SAVE_SUCCESS]=P,r[c.ActionTypes.CHANNEL_SETTINGS_SET_SECTION]=function(e){if(e.section!==c.ChannelSettingsSections.INTEGRATIONS)return!1;O=c.IntegrationSettingsSections.OVERVIEW;if(null==E){var t=l.default.getChannel(),n=null==t?void 0:t.getGuildId();if(null!=t&&null!=n){u.default.fetchForChannel(n,t.id);T=!0}P()}},r[c.ActionTypes.INTEGRATION_SETTINGS_SET_SECTION]=function(e){var t=e.section,n=e.sectionId;O=t;N=n},r[c.ActionTypes.INTEGRATION_SETTINGS_START_EDITING_WEBHOOK]=function(e){var t=w(e.webhookId);if(null==t)return!1;I=t;C={};M=!1},r[c.ActionTypes.INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK]=function(){I=null;C={};M=!1},r[c.ActionTypes.INTEGRATION_SETTINGS_UPDATE_WEBHOOK]=function(e){var t=e.settings;if(null==I)return!1;I=g({},I);if(null!=t.name&&I.name!==t.name){I.name=t.name;M=!0}
if(void 0!==t.avatar&&I.avatar!==t.avatar){I.avatar=t.avatar;M=!0}if(null!=t.channelId&&I.channel_id!==t.channelId){I.channel_id=t.channelId;M=!0}M&&R()},r[c.ActionTypes.CHANNEL_SETTINGS_CLOSE]=function(){S=null;E=null;b=[];I=null;A=c.FormStates.CLOSED},r[c.ActionTypes.WEBHOOKS_UPDATE]=function(e){var t=e.guildId,n=e.channelId,r=e.webhooks;if(null==E||t!==E.id||null==S||n!==S.id||null==r||A===c.FormStates.SUBMITTING)return!1;T=!1;for(var a=function(e){var t=b[e];if(null!=n&&(null==t?void 0:t.channel_id)!==n)return"continue";var a=r.find((function(e){if(e.id===t.id)return!0}));if(null!=a){var o,i=g({},t,{},a);b[e]=i;M||(null===(o=I)||void 0===o?void 0:o.id)!==i.id||(I=i)}else{var u;(null===(u=I)||void 0===u?void 0:u.id)===t.id&&(I=null);b.splice(e,1)}},o=b.length-1;o>=0;o--)a(o);for(var i,u=function(){var e=i.value;null==b.find((function(t){if(t.id===e.id)return!0}))&&b.push(e)},l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r);!(i=l()).done;)u();b=m(b);R()},r[c.ActionTypes.INTEGRATION_SETTINGS_SUBMITTING]=function(){A=c.FormStates.SUBMITTING;C={}},r[c.ActionTypes.INTEGRATION_SETTINGS_SAVE_FAILURE]=function(e){var t;if(A!==c.FormStates.SUBMITTING)return!1;A=c.FormStates.OPEN;C=null!==(t=e.errors)&&void 0!==t?t:{}},r)),k=L;t.default=k},847583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=p(n(496486)),o=p(n(536211)),i=p(n(972247)),u=p(n(636602)),l=p(n(656016)),s=p(n(491462)),d=p(n(644263)),f=n(770348),c=n(739889);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var n=0;n<t.length;n++){
var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}var g,E,S=new Set,O=f.FormStates.CLOSED,b=!1,I=null,T=null,A=null,C=null,M=null,N=null,P=i.default.get(c.ADVANCED_MODE_ON_KEY)||!1;function R(e){var t=e.getGuildId(),n=h({},e.permissionOverwrites);null!=t&&null==n[t]&&(n[t]=l.default.makeEveryoneOverwrite(t));return n}function w(){A=s.default.getChannel();C=s.default.getCategory();if(null==A)return!1;var e=A.getGuildId();T=I=R(A);null==I[M]&&(M=e);E=null!=C;g=l.default.areChannelsLocked(A,C);N=null;b=!1;O=f.FormStates.CLOSED;S.clear()}function D(e){if(null==A||A.id!==e)return!1;if(null==(A=d.default.getChannel(e)))return!1;C=s.default.getCategory();var t=A.getGuildId();if(null==t)return!1;T=R(A);var n={};S.forEach((function(e){null!=I&&(n[e]=I[e])}))
;null==n[t]&&null==A.permissionOverwrites[t]&&(n[t]=l.default.makeEveryoneOverwrite(t));if(null==(I=h({},A.permissionOverwrites,{},n))[M])M=t;else if(null!=N&&null!=I[N]){M=N;N=null}g=l.default.areChannelsLocked(A,C);return!0}var L=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(s.default,d.default)};n.hasChanges=function(){return b};n.showNotice=function(){return this.hasChanges()};n.getPermissionOverwrite=function(e){var t;return null===(t=I)||void 0===t?void 0:t[e]};n.__getLocalVars=function(){return{editedPermissions:S,formState:O,hasChanges:b,locked:g,isLockable:E,permissionOverwrites:I,originalPermissionOverwrites:T,channel:A,category:C,selectedOverwriteId:M,queuedSelectedOverwriteId:N,advancedMode:P}};!function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{
key:"editedPermissionIds",get:function(){return Array.from(S)}},{key:"permissionOverwrites",get:function(){return I}},{key:"selectedOverwriteId",get:function(){return M}},{key:"formState",get:function(){return O}},{key:"isLockable",get:function(){return E}},{key:"locked",get:function(){return g}},{key:"channel",get:function(){return A}},{key:"category",get:function(){return C}},{key:"advancedMode",get:function(){return P}}]);return t}(o.default.Store);L.displayName="ChannelSettingsPermissionsStore";var k=new L(u.default,((r={})[f.ActionTypes.CHANNEL_SETTINGS_SET_SECTION]=function(e){var t=e.section;if(null!=A||t!==f.ChannelSettingsSections.PERMISSIONS)return!1;w()},r[f.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_INIT]=w,r[f.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION]=function(e){var t,n,r=e.id,o=e.allow,i=e.deny,u=null===(t=I)||void 0===t?void 0:t[r];if(null==u||null==A)return!1;u=h({},u,{allow:o,deny:i});I=h({},I,((n={})[r]=u,n));S.add(r);O=f.FormStates.OPEN
;b=!a.default.isEqual(I,T);g=l.default.areChannelsLocked(A,C)},r[f.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION]=function(e){var t=e.id;if(null!=I&&null!=I[t])M=t;else{if(null==A)return!1;N=t}},r[f.ActionTypes.CHANNEL_SETTINGS_CLOSE]=function(){O=f.FormStates.CLOSED;I=null;T=null;A=null;C=null;b=!1;S.clear();M=null;N=null},r[f.ActionTypes.CHANNEL_UPDATES]=function(e){var t=e.updates;if(null==A)return!1;for(var n,r=!1,a=m(t);!(n=a()).done;){!1!==D(n.value.channel.id)&&(r=!0)}return r},r[f.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING]=function(){O=f.FormStates.SUBMITTING},r[f.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS]=function(e){if(e.silent)O=f.FormStates.OPEN;else{O=f.FormStates.CLOSED;w()}},r[f.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE]=function(e){var t=e.advancedMode;P=t;i.default.set(c.ADVANCED_MODE_ON_KEY,t)},r));t.default=k},491462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=y(n(496486)),o=y(n(730381)),i=y(n(536211)),u=y(n(118915)),l=y(n(636602)),s=y(n(567186)),d=y(n(539563)),f=y(n(820068)),c=y(n(759027)),p=y(n(644263)),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}var E,S,O,b,I,T,A=v.FormStates.CLOSED,C={},M={},N=!1,P=!1,R=null,w=["name","type","topic","bitrate","userLimit","nsfw","flags","rateLimitPerUser","defaultAutoArchiveDuration","template","defaultReactionEmoji","rtcRegion","videoQualityMode","threadMetadata","banner"];function D(e){if(null==O||O.id!==e)return!1;if(O===b){var t=p.default.getChannel(e);if(null==t)return!1;b=O=t;I=p.default.getChannel(b.parent_id)}else{var n=p.default.getChannel(e);if(null==n)return!1;O=n;if(null!=b){
b=b.set("permissionOverwrites",O.permissionOverwrites);I=p.default.getChannel(b.parent_id)}}return!0}function L(e){var t,n=p.default.getChannel(e.channelId);if(null==n)return j();A=v.FormStates.OPEN;b=O=n;R="location"in e&&null!=e.location?e.location:null;S="subsection"in e?e.subsection:null;null!=b&&(b=b.set("nsfw",b.isNSFW()));I=p.default.getChannel(b.parent_id);T=b.getGuildId();C={};k({type:v.ActionTypes.CHANNEL_SETTINGS_SET_SECTION,section:null!==(t=E)&&void 0!==t?t:v.ChannelSettingsSections.OVERVIEW,subsection:S})}function k(e){E=e.section;S=e.subsection;if(null!=b&&E===v.ChannelSettingsSections.INSTANT_INVITES){N=!0;u.default.get({url:v.Endpoints.INSTANT_INVITES(b.id),oldFormErrors:!0}).then((function(e){N=!1;l.default.dispatch({type:v.ActionTypes.CHANNEL_SETTINGS_LOADED_INVITES,invites:e.body})}),(function(){return N=!1}))}}function j(){P=!1;A=v.FormStates.CLOSED;E=null;b=O=null;I=null;M={}}var U=a.default.debounce((function(){if(null==b||null==O)return!1
;var e=b.toJS(),t=O.toJS();if(w.every((function(n){return e[n]===t[n]}))&&b!==O){b=O;x.emitChange()}}),500);function G(e){return new f.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new c.default(e.inviter):null,channel:new s.default(e.channel),guild:null!=e.guild?new d.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,o.default)(e.created_at),type:e.type})}var F=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(p.default)};n.hasChanges=function(){return b!==O};n.isOpen=function(){return P};n.getSection=function(){return E};n.getInvites=function(){return{invites:M,loading:N}};n.showNotice=function(){return this.hasChanges()};n.getChannel=function(){return b};n.getFormState=function(){return A};n.getCategory=function(){return I};n.getProps=function(){return{
submitting:A===v.FormStates.SUBMITTING,errors:C,channel:b,section:E,subsection:S,invites:M,selectedOverwriteId:T,hasChanges:this.hasChanges(),analyticsLocation:R}};n.__getLocalVars=function(){return{formState:A,section:E,subsection:S,originalChannel:O,channel:b,category:I,errors:C,invites:M,selectedOverwriteId:T,loadingInvites:N,open:P,analyticsLocation:R,CHANNEL_PROPERTIES:w,validateUpdate:U,storeInstance:x}};return t}(i.default.Store);F.displayName="ChannelSettingsStore";var x=new F(l.default,((r={})[v.ActionTypes.CHANNEL_SETTINGS_INIT]=L,r[v.ActionTypes.CHANNEL_SETTINGS_OPEN]=function(e){P=!0;L(e)},r[v.ActionTypes.CHANNEL_SETTINGS_SUBMIT]=function(){A=v.FormStates.SUBMITTING;C={}},r[v.ActionTypes.CHANNEL_SETTINGS_SUBMIT_SUCCESS]=function(){O=b;A=v.FormStates.OPEN},r[v.ActionTypes.CHANNEL_SETTINGS_SUBMIT_FAILURE]=function(e){var t;A=v.FormStates.OPEN;C=null!==(t=e.errors)&&void 0!==t?t:{}},r[v.ActionTypes.CHANNEL_SETTINGS_CLOSE]=j,
r[v.ActionTypes.CHANNEL_SETTINGS_OVERWRITE_SELECT]=function(e){var t=e.overwriteId;T=t},r[v.ActionTypes.CHANNEL_SETTINGS_UPDATE]=function(e){var t=e.name,n=e.channelType,r=e.topic,a=e.bitrate,o=e.userLimit,i=e.nsfw,u=e.flags,l=e.rateLimitPerUser,s=e.autoArchiveDuration,d=e.locked,f=e.invitable,c=e.defaultAutoArchiveDuration,p=e.template,v=e.defaultReactionEmoji,y=e.rtcRegion,m=e.videoQualityMode,_=e.banner;if(null==b)return!1;null!=t&&(b=b.set("name",t));null!=r&&(b=b.set("topic",r));null!=a&&(b=b.set("bitrate",a));null!=o&&(b=b.set("userLimit",o));null!=i&&(b=b.set("nsfw",i));null!=u&&(b=b.set("flags",u));null!=l&&(b=b.set("rateLimitPerUser",l));null!=s&&(b=b.update("threadMetadata",{},(function(e){e.autoArchiveDuration=s;return e})));null!=d&&(b=b.update("threadMetadata",{},(function(e){e.locked=d;return e})));null!=f&&(b=b.update("threadMetadata",{},(function(e){e.invitable=f;return e})));null!=c&&(b=b.set("defaultAutoArchiveDuration",c));null!=p&&(b=b.set("template",p))
;null!=n&&(b=b.set("type",n));void 0!==y&&(b=b.set("rtcRegion",y));null!=m&&(b=b.set("videoQualityMode",m));void 0!==_&&(b=b.set("banner",_));void 0!==v&&(b=b.set("defaultReactionEmoji",v));U()},r[v.ActionTypes.CHANNEL_SETTINGS_SET_SECTION]=k,r[v.ActionTypes.CHANNEL_SETTINGS_LOADED_INVITES]=function(e){M={};e.invites.forEach((function(e){M[e.code]=G(e)}))},r[v.ActionTypes.CHANNEL_UPDATES]=function(e){var t=e.updates;if(null==b)return!1;for(var n,r=!1,a=_(t);!(n=a()).done;){if(D(n.value.channel.id)&&null!=b){null!=T&&null==b.permissionOverwrites[T]&&(T=b.getGuildId());r=!0}}return r},r[v.ActionTypes.CHANNEL_DELETE]=function(e){var t=e.channel.id;if(null==b)return!1;if(b.id!==t)return!1;A=v.FormStates.CLOSED},r[v.ActionTypes.INSTANT_INVITE_REVOKE_SUCCESS]=function(e){delete(M=g({},M))[e.code]},r[v.ActionTypes.INSTANT_INVITE_CREATE_SUCCESS]=function(e){var t;M=g({},M,((t={})[e.invite.code]=G(e.invite),t))},r)),B=x;t.default=B},762214:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.extractDisplayName=T;var r,a=p(n(496486)),o=p(n(536211)),i=p(n(636602)),u=p(n(740207)),l=n(864489),s=p(n(635014)),d=p(n(871778)),f=n(770348),c=n(376293);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var m={},_=m,h=!1,g={},E={},S={},O={id:null,justChanged:!1},b={id:null,justChanged:!1},I=/\(([^)]+)\)/;function T(e){if((0,l.getPlatform)()===l.PlatformTypes.WINDOWS){var t=e.name.match(I);if(null!=t)return t[1]}return e.name}function A(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n}:e.type===f.ConnectedDeviceType.INPUT&&n===f.ConnectedDeviceType.OUTPUT||e.type===f.ConnectedDeviceType.OUTPUT&&n===f.ConnectedDeviceType.INPUT?{displayName:t,
type:f.ConnectedDeviceType.INPUT_AND_OUTPUT}:e}var C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(s.default,d.default);_=null!=e?e:m};n.getUserAgnosticState=function(){return _};n.__getLocalVars=function(){return{initialState:m,state:_,initialized:h,inputDevices:g,outputDevices:E,lastDeviceConnected:S,lastInputSystemDevice:O,lastOutputSystemDevice:b,WINDOWS_DEVICE_NAME_REGEX:I}};!function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"initialized",get:function(){return h}},{key:"lastDeviceConnected",get:function(){return S}},{key:"inputDevices",get:function(){return g}},{key:"lastInputSystemDevice",get:function(){return O}},{key:"outputDevices",get:function(){return E}},{key:"lastOutputSystemDevice",get:function(){return b}}]);return t}(o.default.DeviceSettingsStore)
;C.displayName="ConnectedDeviceStore";C.persistKey="ConnectedDeviceStore";var M=new C(i.default,((r={})[f.ActionTypes.MEDIA_ENGINE_DEVICES]=function(e){var t=e.inputDevices,n=e.outputDevices,r={};O.justChanged=!1;t.forEach((function(e){r[T(e)]=e.id;if(e.id===c.DEFAULT_DEVICE_ID){var t,n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==O.id&&(O.justChanged=!0);O.id=n}}));var o={};b.justChanged=!1;n.forEach((function(e){o[T(e)]=e.id;if(e.id===c.DEFAULT_DEVICE_ID){var t,n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==b.id&&(b.justChanged=!0);b.id=n}}));if(h){var i=Object.keys(g),u=Object.keys(r),l=Object.keys(E),s=Object.keys(o),d=a.default.difference(i,u),p=a.default.difference(l,s);if(d.length>0||p.length>0)S={};else{a.default.difference(u,i).forEach((function(e){S[e]=A(S[e],e,f.ConnectedDeviceType.INPUT)}));a.default.difference(s,l).forEach((function(e){S[e]=A(S[e],e,f.ConnectedDeviceType.OUTPUT)}))}if(!a.default.isEqual(i,u)||!a.default.isEqual(l,s)){g=r;E=o
;return!0}return!1}g=r;E=o;h=!0},r[f.ActionTypes.CONNECTED_DEVICE_SET]=function(e){var t=e.displayName;!function(e,t,n){if(t===f.ConnectedDevicePreference.INPUT||t===f.ConnectedDevicePreference.INPUT_AND_OUTPUT){var r=g[e];null!=r&&i.default.wait((function(){return u.default.setInputDevice(r,n)}))}if(t===f.ConnectedDevicePreference.OUTPUT||t===f.ConnectedDevicePreference.INPUT_AND_OUTPUT){var a=E[e];i.default.wait((function(){return u.default.setOutputDevice(a,n)}))}}(t,e.connectedDevicePreference,e.location);delete S[t]},r[f.ActionTypes.CONNECTED_DEVICE_IGNORE]=function(e){var t=e.displayName;delete S[t]},r[f.ActionTypes.CONNECTED_DEVICE_NEVER_SHOW_MODAL]=function(){S={};_={neverShowModal:!0}},r));t.default=M},528429:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(536211)),o=s(n(636602)),i=n(229474),u=s(n(30098)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n]
;r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=864e5,p={},v=function(){p={guildAffinitiesByGuildId:{},guildAffinities:[],lastFetched:0}};v();var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(p=e);this.waitFor(u.default)};n.getState=function(){return p};n.getGuildAffinity=function(e){return p.guildAffinitiesByGuildId[e]};n.__getLocalVars=function(){return{AFFINITY_DATA_TTL:c,state:p,setDefaultState:v}};!function(e,t,n){t&&d(e.prototype,t);n&&d(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"affinities",get:function(){return p.guildAffinities}},{key:"hasRequestResolved",get:function(){return 0!==p.lastFetched}}]);return t}(a.default.PersistedStore)
;y.displayName="GuildAffinitiesStore";y.persistKey="GuildAffinitiesStore";var m=new y(o.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=function(){Date.now()-p.lastFetched>c&&(0,i.fetchGuildAffinities)();return!1},r[l.ActionTypes.LOAD_GUILD_AFFINITIES_SUCCESS]=function(e){var t=e.guildAffinities;p.guildAffinities=[];p.guildAffinitiesByGuildId={};p.lastFetched=Date.now();t.forEach((function(e,t){var n=e.affinity,r=e.guild_id,a={score:n,guildId:r,index:t};p.guildAffinitiesByGuildId[r]=a;p.guildAffinities.push(a)}))},r[l.ActionTypes.LOGOUT]=function(){v()},r));t.default=m},958698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=l(n(728429)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=null;var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e)
;function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getHouseMembership=function(){return d};n.__getLocalVars=function(){return{houseID:d}};return t}(a.default.Store);f.displayName="HypeSquadStore";var c=new f(o.default,((r={})[u.ActionTypes.CONNECTION_OPEN]=function(){var e=i.default.getCurrentUser();null!=e&&(e.hasFlag(u.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)?d=u.HypeSquadHouses.HOUSE_1:e.hasFlag(u.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)?d=u.HypeSquadHouses.HOUSE_2:e.hasFlag(u.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&(d=u.HypeSquadHouses.HOUSE_3))},r[u.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS]=function(){d=null},r[u.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS]=function(e){d=e.houseID},r));t.default=c},226720:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=p(n(496486)),i=p(n(536211)),u=p(n(636602)),l=p(n(614166)),s=p(n(423046)),d=p(n(319111)),f=p(n(635014)),c=n(770348);function p(e){
return e&&e.__esModule?e:{default:e}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var m={};function _(){o.default.forEach(m,(function(e,t){e.destroy();delete m[t]}))}function h(e,t,n){var r=m[e];return null!=r?t(r):n}function g(e){var t=e.lobbyId,n=m[t];if(null==n)return!1;n.destroy();delete m[t]}function E(){return!0}var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.forEach=function(e){o.default.each(m,e)};n.getState=function(e){return h(e,(function(e){return e.state}),c.RTCConnectionStates.DISCONNECTED)};n.isConnected=function(e){return this.getState(e)===c.RTCConnectionStates.RTC_CONNECTED}
;n.isDisconnected=function(e){return this.getState(e)===c.RTCConnectionStates.DISCONNECTED};n.getHostname=function(e){return h(e,(function(e){return e.hostname}),null)};n.getQuality=function(e){return h(e,(function(e){return e.quality}),c.RTCConnectionQuality.UNKNOWN)};n.getPings=function(e){return h(e,(function(e){return e.getPings()}),[])};n.getAveragePing=function(e){return h(e,(function(e){return e.getAveragePing()}),0)};n.getLastPing=function(e){return h(e,(function(e){return e.getLastPing()}),0)};n.getOutboundLossRate=function(e){return h(e,(function(e){return e.getOutboundLossRate()}),0)};n.getMediaSessionId=function(e){return h(e,(function(e){return e.getMediaSessionId()}),null)};n.getRTCConnectionId=function(e){return h(e,(function(e){return e.getRTCConnectionId()}),null)};n.getDuration=function(e){return h(e,(function(e){return e.getDuration()}),0)};n.__getLocalVars=function(){return{sessionId:a,rtcConnections:m}};return t}(i.default.Store);S.displayName="RTCConnectionStore"
;var O=new S(u.default,f.default.isSupported()?((r={})[c.ActionTypes.CONNECTION_OPEN]=function(e){a=e.sessionId;_()},r[c.ActionTypes.CONNECTION_CLOSED]=function(){a=null;_()},r[c.ActionTypes.RTC_CONNECTION_STATE]=E,r[c.ActionTypes.RTC_CONNECTION_PING]=E,r[c.ActionTypes.RTC_CONNECTION_LOSS_RATE]=E,r[c.ActionTypes.LOBBY_VOICE_STATE_UPDATE]=function(e){if(s.default.getId()!==e.userId)return!1;if(e.sessionId!==a)return!1;var t=m[e.lobbyId];if(null!=t&&null==e.channelId){t.destroy();delete m[e.lobbyId]}else if(null!=t)t.channelId=e.channelId;else if(null!=e.channelId){t=function(e,t){if(null==a)throw new Error("Creating RTCConnection without session.");var n=d.default.getLobby(e);if(null==n)throw new Error("Creating RTCConnection without lobby.");var r=n.application_id,o=new l.default({userId:s.default.getId(),sessionId:a,guildId:e,channelId:t,context:r});o.on("state",(function(t,n,r){u.default.dirtyDispatch(y({type:c.ActionTypes.RTC_CONNECTION_STATE,state:t,hostname:n},r,{lobbyId:e}))}))
;o.on("ping",(function(t,n){u.default.dispatch({type:c.ActionTypes.RTC_CONNECTION_PING,pings:t,quality:n,lobbyId:e})}));o.on("outboundlossrate",(function(t){u.default.dispatch({type:c.ActionTypes.RTC_CONNECTION_LOSS_RATE,lossRate:t,lobbyId:e})}));return o}(e.lobbyId,e.channelId);m[e.lobbyId]=t}},r[c.ActionTypes.LOBBY_VOICE_SERVER_UPDATE]=function(e){var t=m[e.lobbyId];if(null==t)return!1;t.connect(e.endpoint,e.token)},r[c.ActionTypes.LOBBY_DELETE]=g,r[c.ActionTypes.LOBBY_DISCONNECT]=g,r):{});t.default=O},218843:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(972247)),i=l(n(636602)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function f(){
f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}var c,p="PictureInPictureLocation",v=new Map,y=u.PictureInPicturePositions.BOTTOM_RIGHT,m={};var _=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){y=o.default.get(p,u.PictureInPicturePositions.BOTTOM_RIGHT)};n.isEmbeddedActivityHidden=function(){var e;return null==c||(null===(e=v.get(c))||void 0===e?void 0:e.component)!==u.PictureInPictureComponents.EMBED_IFRAME};n.getDockedRect=function(e){return m[e]};n.isOpen=function(e){return null!=e&&v.has(e)};n.__getLocalVars=function(){return{STORAGE_KEY:p,selectedWindow:c,openWindows:v,openPosition:y,dockedRects:m}};!function(e,t,n){t&&s(e.prototype,t);n&&s(e,n);Object.defineProperty(e,"prototype",{
writable:!1})}(t,[{key:"pipWindow",get:function(){return null==c?null:v.get(c)}},{key:"pipWindows",get:function(){return v}}]);return t}(a.default.Store);_.displayName="PictureInPictureStore";var h=new _(i.default,((r={})[u.ActionTypes.PICTURE_IN_PICTURE_OPEN]=function(e){var t,n,r=e.id,a=e.component,o=e.props;if(null==v.get(r)){var i={id:r,component:a,position:null!==(t=o.position)&&void 0!==t?t:y,props:o,docked:null!==(n=o.docked)&&void 0!==n&&n};v.set(r,i);null==c&&(c=r)}},r[u.ActionTypes.PICTURE_IN_PICTURE_CLOSE]=function(e){var t=e.id;if(!v.has(t))return!1;v.delete(t);if(c===t){var n=Array.from(v.keys());c=0===n.length?null:n[0]}},r[u.ActionTypes.PICTURE_IN_PICTURE_MOVE]=function(e){var t=e.id,n=e.position;if(null==c||c!==t)return!1;var r=new Map;v.forEach((function(e,t){r.set(t,f({},e,{position:n}))}));v=r;y=n;o.default.set(p,n)},r[u.ActionTypes.PICTURE_IN_PICTURE_HIDE]=function(e){var t=e.id;if(c!==t)return!1;var n=v.get(t);if(null==n)return!1;v.set(t,f({},n,{hidden:!0}))},
r[u.ActionTypes.PICTURE_IN_PICTURE_SHOW]=function(e){var t=e.id;if(c!==t)return!1;var n=v.get(t);if(null==n)return!1;v.set(t,f({},n,{hidden:!1}))},r[u.ActionTypes.PICTURE_IN_PICTURE_UPDATE_RECT]=function(e){var t=e.id,n=e.rect;m[t]=n},r[u.ActionTypes.PICTURE_IN_PICTURE_UPDATE_SELECTED_WINDOW]=function(e){var t=e.id;c=t},r[u.ActionTypes.LOGOUT]=function(){c=null;v=new Map},r));t.default=h},534930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(496486)),o=s(n(536211)),i=s(n(636602)),u=s(n(30098)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=null,c={};var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default)};n.getOptimalRegion=function(e){var t
;void 0===e&&(e=null);var n=this.getRegions(e);return null!=n?null!==(t=n.find((function(e){return e.optimal})))&&void 0!==t?t:a.default.sample(n):null};n.getOptimalRegionId=function(e){void 0===e&&(e=null);var t=this.getOptimalRegion(e);return null!=t?t.id:null};n.getRandomRegion=function(e){void 0===e&&(e=null);var t=this.getRegions(e);return null!=t?a.default.sample(t):null};n.getRandomRegionId=function(e){void 0===e&&(e=null);var t=this.getRandomRegion(e);return null!=t?t.id:null};n.getRegions=function(e){return null!=e?c[e]:f};n.__getLocalVars=function(){return{defaultRegions:f,guildRegions:c}};return t}(o.default.Store);p.displayName="RegionStore";var v=new p(i.default,((r={})[l.ActionTypes.LOAD_REGIONS]=function(e){var t=a.default.sortBy(e.regions,(function(e){return e.name}));null!=e.guildId?c[e.guildId]=t:f=t},r[l.ActionTypes.GUILD_DELETE]=function(e){delete c[e.guild.id]},r));t.default=v},52694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r=i(n(636602)),a=i(n(690445)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={init:function(){a.default.addChangeListener((function(){r.default.dirtyDispatch({type:o.ActionTypes.SELF_PRESENCE_STORE_UPDATE,status:a.default.getStatus(),activities:a.default.getActivities()})}))}};t.default=u},625424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(536211)),o=s(n(636602)),i=s(n(969226)),u=s(n(288356)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.__getLocalVars=function(){return{NOTIFICATION_ICON_SIZE:64}};return t}(a.default.Store);f.displayName="UserAchievementStore"
;var c=new f(o.default,((r={})[l.ActionTypes.USER_ACHIEVEMENT_UPDATE]=function(e){var t=e.userAchievement,n=t.application_id,r=t.achievement;if(100===t.percent_complete&&null!=r){var a=u.default.getGame(n),o=null!=a?a.getIconURL(64):null;i.default.showNotification(o,r.name,r.description,{notif_type:l.ActionTypes.USER_ACHIEVEMENT_UPDATE},{omitViewTracking:!0})}},r));t.default=c},816624:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s,d,f,c,p,v,y=i.FormStates.CLOSED,m={},_=!1;function h(){y=i.FormStates.OPEN;m={}}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getFormState=function(){return y};n.getErrors=function(){
return m};n.clearErrors=function(){m={}};n.showNotice=function(){return void 0!==s||void 0!==f||void 0!==c||void 0!==p||void 0!==v||void 0!==d};n.getPendingAvatar=function(){return s};n.getPendingBanner=function(){return f};n.getPendingBio=function(){return c};n.getPendingPronouns=function(){return p};n.getPendingAccentColor=function(){return v};n.getPendingAvatarDecoration=function(){return d};n.getAllPending=function(){return{pendingAvatar:s,pendingBanner:f,pendingBio:c,pendingPronouns:p,pendingAccentColor:v,pendingAvatarDecoration:d}};n.getIsDisableSubmit=function(){return _};n.__getLocalVars=function(){return{formState:y,errors:m,pendingAvatar:s,pendingAvatarDecoration:d,pendingBanner:f,pendingBio:c,pendingPronouns:p,pendingAccentColor:v,disableSubmit:_}};return t}(a.default.Store);g.displayName="UserSettingsAccountStore";var E=new g(o.default,((r={})[i.ActionTypes.USER_SETTINGS_ACCOUNT_INIT]=h,r[i.ActionTypes.USER_SETTINGS_MODAL_INIT]=h,
r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS]=h,r[i.ActionTypes.USER_SETTINGS_MODAL_SET_SECTION]=function(e){return e.section===i.UserSettingsSections.ACCOUNT&&h()},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_CLOSE]=function(){y=i.FormStates.CLOSED;m={}},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT]=function(){y=i.FormStates.SUBMITTING;m={}},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE]=function(e){var t;if(y!==i.FormStates.SUBMITTING)return!1;y=i.FormStates.OPEN;m=null!==(t=e.errors)&&void 0!==t?t:{}},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR]=function(e){var t=e.avatar;s=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR_DECORATION]=function(e){var t=e.avatarDecoration;d=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_BANNER]=function(e){var t=e.banner;f=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_BIO]=function(e){var t=e.bio;c=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_PRONOUNS]=function(e){var t=e.pronouns;p=t},
r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_ACCENT_COLOR]=function(e){var t=e.color;v=t},r[i.ActionTypes.USER_SETTINGS_RESET_ALL_PENDING]=function(){s=void 0;f=void 0;c=void 0;p=void 0;v=void 0;d=void 0;m={}},r[i.ActionTypes.LOGOUT]=function(){s=void 0},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_DISABLE_SUBMIT]=function(e){var t=e.disable;_=t},r));t.default=E},529688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i=_(n(496486)),u=_(n(536211)),l=_(n(636602)),s=_(n(825724)),d=n(747868),f=_(n(607209)),c=_(n(423046)),p=_(n(635014)),v=_(n(397228)),y=n(770348),m=n(859089);function _(e){return e&&e.__esModule?e:{default:e}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){void 0===e&&(e=!0);var t;if(null==a)t=null;else{var n;t=s.default.getSelectedParticipantId(a);var r=f.default.getLastActiveStream(),u=null!=t?s.default.getParticipant(a,t):null
;((null==u?void 0:u.type)===m.ParticipantTypes.ACTIVITY||(null==u?void 0:u.type)===m.ParticipantTypes.USER&&!(null===(n=u.voiceState)||void 0===n?void 0:n.selfVideo))&&(t=null);if(null!=r&&null==t){var l;t=null===(l=s.default.getParticipant(a,(0,d.encodeStreamKey)(r)))||void 0===l?void 0:l.id}if(null==t){var y,_=c.default.getId(),h=(0,i.default)(s.default.getVideoParticipants(a)).filter((function(e){return e.type===m.ParticipantTypes.USER&&e.user.id!==_&&!p.default.isLocalVideoDisabled(e.user.id)})),E=Date.now();if(null==(t=null===(y=h.map((function(e){return[e.user.id,v.default.getSpeakingDuration(e.user.id,E)]})).filter((function(e){var t=g(e,2);t[0];return 0!==t[1]})).maxBy((function(e){var t=g(e,2);t[0];return-t[1]})))||void 0===y?void 0:y[0]))if(null!=o)t=o;else{var S,O;t=null===(S=h.first())||void 0===S||null===(O=S.user)||void 0===O?void 0:O.id}}}if(o!==t){o=t;e&&T.emitChange()}}var O=i.default.debounce(S,300);function b(){O();return!1}var I=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(s.default,c.default,v.default,f.default,p.default);this.syncWith([s.default,f.default],b)};n.getSpeaker=function(e){var t;if(a!==e){a=e;S(!1)}return null!==(t=o)&&void 0!==t?t:c.default.getId()};n.__getLocalVars=function(){return{videoChannelId:a,videoSpeakerId:o,debouncedUpdateSpeaker:O,instance:T}};return t}(u.default.Store);I.displayName="VideoSpeakerStore";var T=new I(l.default,((r={})[y.ActionTypes.AUDIO_SET_LOCAL_VIDEO_DISABLED]=b,r)),A=T;t.default=A},474261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(636602)),o=d(n(913955)),i=d(n(644263)),u=d(n(211136)),l=d(n(686182)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(){!function(){var e=u.default.getVoiceChannelId(),t=o.default.bitrate;if(null!=e){var n=i.default.getChannel(e);null!=n&&t!==n.bitrate&&a.default.dispatch({type:"SET_CHANNEL_BITRATE",bitrate:n.bitrate})}}();!function(){
var e,t=u.default.getVoiceChannelId(),n=l.default.mode;if(null!=t){var r=i.default.getChannel(t);if(null!=r){var o=null!==(e=r.videoQualityMode)&&void 0!==e?e:s.VideoQualityMode.AUTO;n!==o&&a.default.dispatch({type:"SET_CHANNEL_VIDEO_QUALITY_MODE",mode:o})}}}()}function v(e){r=e.sessionId}function y(e){for(var t,n=f(e.updates);!(t=n()).done;){var r=t.value.channel;u.default.getVoiceChannelId()===r.id&&p()}}function m(e){e.voiceStates.forEach((function(e){r===e.sessionId&&p()}))}var _={init:function(){a.default.subscribe(s.ActionTypes.CONNECTION_OPEN,v);a.default.subscribe(s.ActionTypes.CHANNEL_UPDATES,y);a.default.subscribe(s.ActionTypes.VOICE_STATE_UPDATES,m)}};t.default=_},490931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=l(n(451646)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}
function d(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=[];function v(e){var t=e.payment,n=i.default.createFromServer(t),r=p.findIndex((function(e){return e.id===t.id}));if(-1===r){p.push(n);p.sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()}))}else p[r]=n;p=d(p)}
var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getPayment=function(e){return p.find((function(t){return t.id===e}))};n.getPayments=function(){return p};n.__getLocalVars=function(){return{payments:p}};return t}(a.default.Store);y.displayName="PaymentStore";var m=new y(o.default,((r={})[u.ActionTypes.BILLING_PAYMENTS_FETCH_SUCCESS]=function(e){for(var t,n=function(){var e=t.value,n=i.default.createFromServer(e),r=p.findIndex((function(t){return t.id===e.id}));-1!==r?p[r]=n:p.push(n)},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.payments);!(t=r()).done;)n();p.sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()}));p=d(p)},r[u.ActionTypes.PAYMENT_UPDATE]=v,r[u.ActionTypes.BILLING_PAYMENT_FETCH_SUCCESS]=v,r[u.ActionTypes.LOGOUT]=function(){p=[]},r));t.default=m},538647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(30098)),o=u(n(298698)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(a.default);this.syncWith([a.default],i.NOOP)}
;n.channelNoticePredicate=function(e,t){return!e.hasFeature(i.GuildFeatures.BANNER)&&Date.now()-t>=i.CHANNEL_NOTICE_SHOW_DELAY};return t}(o.default))(r.default);t.default=s},329669:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=n(682937),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var f={},c=function(){f={lastDismissedGracePeriods:{},isVisible:{}}};c();var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(f=e)}
;n.getLastDismissedGracePeriodForGuild=function(e){return null!=f.lastDismissedGracePeriods[e]?f.lastDismissedGracePeriods[e]:null};n.isVisible=function(e){return null!=e&&(null!=f.isVisible[e]&&f.isVisible[e])};n.getState=function(){return f};n.__getLocalVars=function(){return{state:f,setDefaultState:c}};return t}(a.default.PersistedStore);p.displayName="GuildBoostingGracePeriodNoticeStore";p.persistKey="PremiumGuildGracePeriodNoticeStore";p.migrations=[function(e){return d({},e,{lastDismissedGracePeriods:null!=e?d({},e.lastDismissedGracePeriods):{},isVisible:{}})}];var v=new p(o.default,((r={})[u.ActionTypes.GUILD_APPLIED_BOOSTS_FETCH_SUCCESS]=function(e){var t,n=e.guildId,r=e.appliedBoosts,a=null!=f.lastDismissedGracePeriods[n]?f.lastDismissedGracePeriods[n]:null,o=null!=a&&Date.now()-a<=u.GRACE_PERIOD_CHANNEL_NOTICE_SHOW_DELAY,l=null!=r&&!o&&(0,i.isInGracePeriod)(r,n);f=d({},f,{isVisible:d({},f.isVisible,(t={},t[n]=l,t))})},
r[u.ActionTypes.BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS]=function(e){var t,n,r=e.guildId;f=d({},f,{lastDismissedGracePeriods:d({},f.lastDismissedGracePeriods,(t={},t[r]=Date.now(),t)),isVisible:d({},f.isVisible,(n={},n[r]=!1,n))})},r));t.default=v},20446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(689389)),o=u(n(298698)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(a.default);this.syncWith([a.default],i.NOOP)};n.channelNoticePredicate=function(e,t){return Date.now()-t>=i.CHANNEL_NOTICE_SHOW_DELAY&&a.default.can(i.Permissions.MANAGE_GUILD,e)};return t}(o.default))(r.default);t.default=s},
535711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(536211)),o=s(n(636602)),i=s(n(517286)),u=s(n(728429)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=null;function c(){var e=u.default.getCurrentUser();if(null==e||e.mfaEnabled===f)return!1;f=e.mfaEnabled}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default,i.default);this.syncWith([u.default,i.default],c)};n.isVisible=function(e){return null!=e&&e.mfaLevel===l.MFALevels.ELEVATED&&!1===f&&i.default.hasElevatedPermissions(e.id)};n.__getLocalVars=function(){return{mfaEnabled:f}};return t}(a.default.Store);p.displayName="GuildMFAWarningStore"
;var v=new p(o.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=c,r[l.ActionTypes.GUILD_UPDATE]=function(){return!0},r));t.default=v},735653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(636602)),o=s(n(652566)),i=s(n(30098)),u=s(n(298698)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{
done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=!1;function v(e){var t=i.default.getGuild(e);if(null==t)return!1;if(!t.hasFeature(l.GuildFeatures.HUB))return!1;p=!0;return!0}function y(){return!0}var m=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(i.default,o.default);this.syncWith([o.default],y)};n.channelNoticePredicate=function(e){return!!e.hasFeature(l.GuildFeatures.LINKED_TO_HUB)&&!p};return t}(u.default))(a.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=function(e){for(var t,n=f(e.guilds);!(t=n()).done;){if(v(t.value.id))return!0}return!1},
r[l.ActionTypes.GUILD_CREATE]=function(e){return v(e.guild.id)},r));t.default=m},477566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(689389)),o=u(n(298698)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}function s(){return!0}var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(a.default);this.syncWith([a.default],s)};n.channelNoticePredicate=function(e,t){return Date.now()-t>=i.CHANNEL_NOTICE_SHOW_DELAY&&a.default.can(i.Permissions.ADMINISTRATOR,e)};return t}(o.default))(r.default);t.default=d},24e4:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=f(n(536211)),o=f(n(972247)),i=f(n(636602)),u=f(n(311492)),l=f(n(30098)),s=f(n(689389)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p={MAX_MEMBER_COUNT:new Set};var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e;this.waitFor(s.default,l.default,u.default);this.syncWith([s.default,l.default,u.default],d.NOOP);o.default.remove(d.ChannelNoticeTypes.MAX_MEMBER_COUNT_100);o.default.remove(d.ChannelNoticeTypes.MAX_MEMBER_COUNT_250);p[d.ChannelNoticeTypes.MAX_MEMBER_COUNT]=null!==(e=new Set(o.default.get(d.ChannelNoticeTypes.MAX_MEMBER_COUNT)))&&void 0!==e?e:new Set};n.isVisible=function(e){var t;if(null==e)return!1
;var n=null!==(t=u.default.getMemberCount(e.id))&&void 0!==t?t:0,r=s.default.can(d.Permissions.ADMINISTRATOR,e);return!p[d.ChannelNoticeTypes.MAX_MEMBER_COUNT].has(e.id)&&r&&e.maxMembers>0&&e.maxMembers-n<=1e4};n.__getLocalVars=function(){return{CHANNEL_MEMBER_CAP_THRESHOLD:1e4,guildIds:p}};return t}(a.default.Store);v.displayName="MaxMemberCountChannelNoticeStore";var y=new v(i.default,((r={})[d.ActionTypes.MAX_MEMBER_COUNT_NOTICE_DISMISS]=function(e){var t=e.guildId;if(!p[d.ChannelNoticeTypes.MAX_MEMBER_COUNT].has(t)){p[d.ChannelNoticeTypes.MAX_MEMBER_COUNT].add(t);o.default.set(d.ChannelNoticeTypes.MAX_MEMBER_COUNT,p[d.ChannelNoticeTypes.MAX_MEMBER_COUNT]);return!0}},r));t.default=y},905505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=l(n(86298)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}
function d(){return!0}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(i.default)};n.getExperimentAssignment=function(e,t){return i.default.getGuildExperimentDescriptor(t,e)};n.__getLocalVars=function(){return{}};return t}(a.default.Store);f.displayName="GuildExperimentStore";var c=new f(o.default,((r={})[u.ActionTypes.LOGOUT]=d,r[u.ActionTypes.LOGIN_SUCCESS]=d,r[u.ActionTypes.CONNECTION_OPEN]=d,r[u.ActionTypes.EXPERIMENTS_FETCH_SUCCESS]=d,r[u.ActionTypes.OVERLAY_INITIALIZE]=d,r[u.ActionTypes.CACHE_LOADED]=d,r[u.ActionTypes.EXPERIMENTS_FETCH_FAILURE]=d,r[u.ActionTypes.EXPERIMENT_REGISTER_LEGACY]=d,r[u.ActionTypes.EXPERIMENT_OVERRIDE_BUCKET]=d,r));t.default=c},106605:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.Rows=t.Row=void 0
;var r,a=_(n(496486)),o=_(n(536211)),i=_(n(636602)),u=_(n(237923)),l=_(n(821896)),s=_(n(677520)),d=_(n(607209)),f=_(n(876874)),c=_(n(30098)),p=_(n(788739)),v=_(n(290629)),y=_(n(728429)),m=n(770348);function _(e){return e&&e.__esModule?e:{default:e}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function E(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}function O(e){var t=y.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function b(e){return{status:p.default.getStatus(e),isMobile:p.default.isMobileOnline(e),
activities:p.default.getActivities(e),applicationStream:d.default.getStreamForUser(e)}}function I(e){var t=[];(0,a.default)(f.default.memberOf(e)).map(c.default.getGuild).sortBy((function(e){return null!=e?e.name.toLowerCase():null})).forEach((function(e){null!=e&&t.push(e)}));return{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,m.MAX_MUTUAL_GUILDS)}}var T=function(e){E(t,e);function t(t){var n;(n=e.call(this)||this).key=t.key;n.type=t.type;n.status=t.status;n.activities=t.activities;n.applicationStream=t.applicationStream;n.user=t.user;n.isMobile=t.isMobile;n.usernameLower=t.usernameLower;n.mutualGuildsLength=t.mutualGuildsLength;n.mutualGuilds=t.mutualGuilds;n.nickname=t.nickname;return n}!function(e,t,n){t&&g(e.prototype,t);n&&g(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"comparator",get:function(){var e,t;return[this.type,null!==(e=null===(t=this.nickname)||void 0===t?void 0:t.toLowerCase())&&void 0!==e?e:this.usernameLower]}}]);return t}(l.default)
;t.Row=T;var A=function(){function e(e){void 0===e&&(e=[]);this._rows=e}var t=e.prototype;t.reset=function(){var t=a.default.map(v.default.getRelationships(),(function(e,t){return new T(h({key:t,type:e,nickname:v.default.getNickname(t)},O(t),{},b(t),{},I(t)))})),n=a.default.map(s.default.getSuggestions(),(function(e){return new T(h({key:e.key,type:99,nickname:e.name},O(e.key),{},b(e.key),{},I(e.key)))}));return new e(a.default.concat(t,n))};t.clone=function(){return new e(this._rows)};t.update=function(e){for(var t=!1,n=0;n<this._rows.length;n++){var r=this._rows[n],a=r.merge(e(r.key));t=t||a!==r;this._rows[n]=a}return t};t.filter=function(e,t){return(0,a.default)(this._rows).filter((function(e){if(null==e.user)return!1;if(null!=t&&""!==t){var n=t.toLowerCase();return[e.usernameLower,e.nickname].map((function(e){return null==e?void 0:e.toLowerCase()})).some((function(e){return null==e?void 0:e.includes(n)}))}return!0})).filter((function(t){switch(e){case m.FriendsSections.ONLINE:
return t.type===m.RelationshipTypes.FRIEND&&t.status!==m.StatusTypes.OFFLINE;case m.FriendsSections.PENDING:return t.type===m.RelationshipTypes.PENDING_INCOMING||t.type===m.RelationshipTypes.PENDING_OUTGOING;case m.FriendsSections.SUGGESTIONS:return 99===t.type;case m.FriendsSections.BLOCKED:return t.type===m.RelationshipTypes.BLOCKED;case m.FriendsSections.ALL:default:return t.type===m.RelationshipTypes.FRIEND}})).sortBy((function(e){return e.comparator})).value()};t.getRelationshipCounts=function(){var e,t=((e={})[m.RelationshipTypes.FRIEND]=0,e[m.RelationshipTypes.PENDING_INCOMING]=0,e[m.RelationshipTypes.PENDING_OUTGOING]=0,e[99]=0,e[m.RelationshipTypes.BLOCKED]=0,e);this._rows.forEach((function(e){null!=e.user&&null!=t[e.type]&&t[e.type]++}));return t};return e}();t.Rows=A;var C=!0,M=!1,N=m.FriendsSections.ONLINE,P=new A,R=!0,w=!1;function D(e){void 0===e&&(e=!1);if(C&&(e||N!==m.FriendsSections.ONLINE&&N!==m.FriendsSections.ADD_FRIEND)&&!M){C=!1;M=!0;u.default.fetchRelationships()
}}function L(){C=!0;R?M=!1:D();P=P.reset();if(!w){var e=P.getRelationshipCounts();N=0===e[m.RelationshipTypes.FRIEND]?0!==e[m.RelationshipTypes.PENDING_INCOMING]?m.FriendsSections.PENDING:m.FriendsSections.ADD_FRIEND:m.FriendsSections.ONLINE}}function k(){P=R?new A:P.reset()}function j(e){return function(){if(R)return!1;if(P.update(e)){P=P.clone();return!0}return!1}}var U=function(e){E(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(v.default,p.default,y.default,c.default,f.default,d.default,s.default);this.syncWith([v.default],k);this.syncWith([s.default],k);this.syncWith([y.default],j(O));this.syncWith([p.default,d.default],j(b));L()};n.getState=function(){return{fetching:M,section:N,pendingCount:v.default.getPendingCount(),rows:P}};n.__getLocalVars=function(){return{SUGGESTION_TYPE:99,shouldFetch:C,fetching:M,section:N,rows:P,pause:R,initialSectionSet:w}};return t}(o.default.Store);U.displayName="FriendsStore"
;var G=new U(i.default,((r={})[m.ActionTypes.CONNECTION_OPEN]=function(){L()},r[m.ActionTypes.FRIENDS_SET_SECTION]=function(e){N=e.section;D()},r[m.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.channelId;R=null!=t;k();return!R},r[m.ActionTypes.LOAD_RELATIONSHIPS_SUCCESS]=function(){M=!1},r[m.ActionTypes.LOAD_RELATIONSHIPS_FAILURE]=function(){C=!0;M=!0},r[m.ActionTypes.DRAWER_SELECT_TAB]=function(e){var t=e.tab;R=t!==m.DrawerTabTypes.FRIENDS;k();return!R},r[m.ActionTypes.FRIENDS_SET_INITIAL_SECTION]=function(e){N=e.section;w=!0},r));t.default=G},730655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=k(n(496486)),o=k(n(536211)),i=k(n(636602)),u=k(n(234161)),l=k(n(206246)),s=k(n(762605)),d=k(n(969015)),f=k(n(460731)),c=k(n(319879)),p=k(n(814768)),v=L(n(101047)),y=n(336312),m=L(n(75300)),_=L(n(809204)),h=k(n(607209)),g=k(n(644263)),E=k(n(8549)),S=k(n(330445)),O=k(n(288356)),b=k(n(23535)),I=k(n(30098)),T=k(n(689389)),A=k(n(788739)),C=k(n(290629)),M=k(n(538983)),N=k(n(728429)),P=k(n(387692)),R=n(71246),w=n(770348);function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function k(e){return e&&e.__esModule?e:{default:e}}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function U(e,t){U=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return U(e,t)}function G(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=B(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function F(){F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return F.apply(this,arguments)}function x(e){return function(e){
if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V="party-",W="channel-",Y="user-",K=!1,z=!1,$=[],q=[],Q={},X={},Z=new Set,J=new Set;function ee(){var e=C.default.getFriendIDs();if(E.default.hasConsented(w.Consents.PERSONALIZATION)){var t=Array.from(M.default.getUserAffinitiesUserIds()).filter((function(e){
return!C.default.isBlocked(e)}));return new Set([].concat(x(t),x(e)))}return new Set(e)}function te(e){return A.default.findActivity(e,(function(e){return e.type!==w.ActivityTypes.CUSTOM_STATUS}))}function ne(e){if(null==Q[e]){var t;Q=F({},Q,((t={})[e]=new _.default({name:e}),t))}return Q[e]}function re(e){if(null==X[e]){var t;X=F({},X,((t={})[e]=new m.default({url:e}),t))}return X[e]}function ae(e){J.has(e)||Z.add(e)}function oe(e){if((0,d.default)(e))return y.SpotifyApplication;var t=null!=e.application_id?O.default.getGame(e.application_id):null;if(null!=t)return t;if((0,f.default)(e))return ne(e.name);if((0,c.default)(e)&&null!=e.url)return re(e.url);null!=e.application_id&&ae(e.application_id);return t}function ie(e){var t=P.default.getVoiceStateForUser(e);return null!=(null==t?void 0:t.channelId)&&T.default.canWithPartialContext(w.Permissions.VIEW_CHANNEL,{channelId:t.channelId})?t.channelId:null}function ue(e){return C.default.isFriend(e.id)}function le(e,t,n){
for(var r,o,i=t.map((function(e){return e.id})),u=t.filter((function(t){return e.has(t.id)})),d=!1,f=[],c=new Set,E=!1,b=[],C=function(){var e,n,o=r.value,i=h.default.getStreamForUser(o.id),u=te(o.id);null!=i&&b.push({stream:i,streamUser:o,activity:u});if(null==u)return"continue";if((0,s.default)(u)&&!(0,l.default)({user:o,activity:u,channelId:null===(e=P.default.getVoiceStateForUser(o.id))||void 0===e?void 0:e.channelId,ChannelStore:g.default,VoiceStateStore:P.default,PermissionStore:T.default,GuildStore:I.default}))return"continue";var A=null===(n=u.timestamps)||void 0===n?void 0:n.start;if(null==A&&!(0,s.default)(u))return"continue";var C=(0,p.default)(u);if(null==C)return"continue";E=C===y.SPOTIFY_APPLICATION_ID;if(!v.shouldShowActivity(u))return"continue";var M=function(e){var t=O.default.getGame(e);if(null!=t)return t;if(e===y.SPOTIFY_APPLICATION_ID)return y.SpotifyApplication;if(e.startsWith(_.XBOX_APPLICATION_ID_PREFIX))return ne(e.slice(_.XBOX_APPLICATION_ID_PREFIX.length))
;if(e.startsWith(m.TWITCH_APPLICATION_ID_PREFIX))return re(e.slice(m.TWITCH_APPLICATION_ID_PREFIX.length));ae(e);return null}(C);if(null==M||c.has(M.id))return"continue";var R=null!=u?oe(u):null;null!=R&&R.id===M.id||(u=null);var w=[];if(null!=u&&null!=u.party&&null!=u.party.id){var D,L=null!==(D=S.default.getParty(u.party.id))&&void 0!==D?D:[];w=Array.from(L).reduce((function(e,t){var n=N.default.getUser(t);null!=n&&e.push(n);return e}),[])}else w=t.filter((function(e){var t=te(e.id),n=null!=t?oe(t):null;return null!=n&&n.id===M.id}));(w=a.default.orderBy(w,[ue],["desc"])).length!==t.length&&(d=!0);c.add(M.id);f.push({game:M,activity:u,activityUser:o,startedPlayingTime:A,playingMembers:w})},M=G(t);!(r=M()).done;)C();for(var w,D,L,k=1===u.length,j=[],U=new Set,F=new Set,x=G(t);!(w=x()).done;){var B=ie(w.value.id),H=g.default.getChannel(B),V=null!=H?H.getGuildId():null,W=I.default.getGuild(V);if(F.has(V)&&U.has(B)||null==H||null==W||H.id===W.afkChannelId){if(null==H){o=null;k=!0}}else{
var Y=(0,a.default)(P.default.getVoiceStatesForChannel(H.id)).map((function(e){var t=e.userId;return N.default.getUser(t)})).filter(R.isNotNullish).orderBy([ue],["desc"]).value();Y.filter((function(e){return!i.includes(e.id)})).forEach((function(e){return t.push(e)}));if(k)F.has(V)||(o=null);else{o=W;k=!0}F.add(V);U.add(B);j.push({channel:H,guild:W,members:Y})}}return{id:n,voiceChannels:j,isSpotifyActivity:E,priorityMembers:u.map((function(e){return{user:e,status:A.default.getStatus(e.id)}})),partiedMembers:t,showPlayingMembers:d,guildContext:o,currentActivities:(D=f,L=function(e){var t;return null!==(t=e.startedPlayingTime)&&void 0!==t?t:0},(0,a.default)(D).orderBy([L,function(e){return e.game.name}],["desc","asc"])).value(),applicationStreams:b}}function se(){return K&&b.default.isConnected()}function de(){if(!se())return!1;Z.clear();var e,t,n,r,o=Array.from(ee()).reduce((function(e,t){var n=N.default.getUser(t);null==n||n.bot||e.push(n);return e}),[]),i=(e=o,(0,
a.default)(e).groupBy((function(e){var t,n=ie(e.id),r=te(e.id);return null!=n?"channel--"+n:null!=(null==r||null===(t=r.party)||void 0===t?void 0:t.id)?"party--"+r.party.id:"user--"+e.id}))),l=(t=i,n=ee(),r=le.bind(null,n),(0,a.default)(t).mapValues(r)),s=l.values().orderBy([function(e){return e.partiedMembers.length>1},function(e){return e.applicationStreams.length>0},function(e){return e.voiceChannels.length>0},function(e){return e.currentActivities.length>0},function(e){return e.isSpotifyActivity},function(e){return e.priorityMembers.map((function(e){return e.user.username.toLowerCase()})).join(" ")}],["desc","desc","desc","desc","asc","asc"]).value();$=function(e){return e.filter((function(e){return e.voiceChannels.length>=1||e.currentActivities.length>0||e.applicationStreams.length>0}))}(s);q=function(e){return e.map((function(e){return{type:w.ActivityCardTypes.USER,party:e}}))}($);!function(){if(Z.size>0){var e=Array.from(Z);u.default.fetchApplications(e);e.forEach((function(e){
return J.add(e)}));Z.clear()}}();z=!0}var fe=a.default.throttle((function(){de();ve.emitChange()}),1e3);function ce(){if(!se())return!1;fe();return!1}var pe=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;U(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.syncWith([N.default,O.default,A.default,S.default,P.default,h.default,C.default,E.default,M.default],ce);this.waitFor(b.default,I.default,O.default,N.default,M.default)};n.__getLocalVars=function(){return{PARTY_ID_START_PARTY:V,PARTY_ID_START_CHANNEL:W,PARTY_ID_START_USER:Y,RECOMPUTE_NOW_PLAYING_THROTTLE:1e3,isMounted:K,loaded:z,currentActivityParties:$,nowPlayingCards:q,xboxGames:Q,twitchRecords:X,applicationIdsToFetch:Z,applicationIdsFetched:J,throttledRecomputeNowPlaying:fe,instance:ve}};!function(e,t,n){t&&j(e.prototype,t);n&&j(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"currentActivityParties",
get:function(){return $}},{key:"nowPlayingCards",get:function(){return q}},{key:"isMounted",get:function(){return K}},{key:"loaded",get:function(){return z}}]);return t}(o.default.Store);pe.displayName="NowPlayingViewStore";var ve=new pe(i.default,((r={})[w.ActionTypes.LOGOUT]=function(){K=!1;$=[];q=[];Z.clear()},r[w.ActionTypes.NOW_PLAYING_MOUNTED]=function(){K=!0;fe()},r[w.ActionTypes.NOW_PLAYING_UNMOUNTED]=function(){K=!1},r)),ye=ve;t.default=ye},944537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;c(n(667294));var r,a=d(n(496486)),o=d(n(9056)),i=c(n(762214)),u=d(n(635014)),l=n(194322),s=n(376293);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){
v(o,r,a,i,u,"throw",e)}i(void 0)}))}}var m=new Set(["DisplayPort"]),_=!1;function h(){if(!_){var e=u.default.getInputDeviceId(),t=u.default.getOutputDeviceId();if(!i.default.getState().neverShowModal&&!a.default.isEmpty(i.default.lastDeviceConnected)){var r=(0,i.extractDisplayName)(u.default.getInputDevices()[e]),d=(0,i.extractDisplayName)(u.default.getOutputDevices()[t]),f=a.default.some(i.default.lastDeviceConnected,(function(e){return m.has(e.displayName)||e.displayName===r||e.displayName===d}));if(!f){var c=a.default.some(i.default.lastDeviceConnected,(function(e){return o.default.isCertified(i.default.inputDevices[e.displayName])||o.default.isCertified(i.default.outputDevices[e.displayName])}));if(!(e===s.DEFAULT_DEVICE_ID&&i.default.lastInputSystemDevice.justChanged||t===s.DEFAULT_DEVICE_ID&&i.default.lastOutputSystemDevice.justChanged)||c){var v=a.default.first(Object.keys(i.default.lastDeviceConnected)),h=null!=v&&""!==v?i.default.lastDeviceConnected[v]:null;if(null!=h){var g
;i.default.initialized&&null!=v&&(o.default.isCertified(i.default.inputDevices[v])?g=o.default.getCertifiedDevice(i.default.inputDevices[v]):o.default.isCertified(i.default.outputDevices[v])&&(g=o.default.getCertifiedDevice(i.default.outputDevices[v])));_=!0;(0,l.openModalLazy)(y(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(36672)]).then(n.bind(n,936672));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){var t=e.transitionState,n=e.onClose;return p(r,{device:h,certifiedDeviceMetadata:g,transitionState:t,onClose:function(){_=!1;return n()}})}));case 5:case"end":return e.stop()}}),e)}))))}}}}}}var g={init:function(){i.default.addChangeListener(h)}};t.default=g},931411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=f(n(536211)),o=f(n(972247)),i=f(n(636602)),u=f(n(423046)),l=f(n(644263)),s=f(n(690445)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p="IncomingCallStore",v={width:232,height:315},y=new Set,m=[],_=new Map,h=new Set,g=0,E=0,S=!1;!function(){0;var e=o.default.get(p);if(null!=e){g=+e.x;E=+e.y}else{var t=n(949898).default.windowSize();g=t.width/2-v.width/2;E=t.height/2-v.height/2}}();function O(e){if(null==e)return!1;if(null==_.get(e))return!1;_.delete(e);(h=new Set(h)).delete(e)}function b(e){var t=e.channelId,n=e.ringing.includes(u.default.getId());if(!h.has(t)&&n){var r=l.default.getChannel(t);if(null==r)return!1;var a=10*h.size;_.set(t,{channel:r,x:g+a,y:E+a});(h=new Set(h)).add(t)}else{if(!h.has(t)||n)return!1;O(t)}}function I(){S=s.default.getStatus()===d.StatusTypes.DND}var T=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default,s.default);this.syncWith([s.default],I)};n.getIncomingCalls=function(){return S?m:Array.from(_.values())};n.getIncomingCallChannelIds=function(){return S?y:h};n.getFirstIncomingCallId=function(){return S?null:h.values().next().value};n.hasIncomingCalls=function(){return!S&&h.size>0};n.__getLocalVars=function(){return{INCOMING_CALL_MODAL_POSITION:p,DIMENSIONS:v,MULTIPLE_MODAL_OFFSET:10,DND_ACTIVE_CALLS:y,NO_INCOMING_CALLS:m,incomingCalls:_,activeCalls:h,x:g,y:E,dnd:S}};return t}(a.default.Store);T.displayName="IncomingCallStore";var A=new T(i.default,((r={})[d.ActionTypes.CALL_CREATE]=b,r[d.ActionTypes.CALL_UPDATE]=b,r[d.ActionTypes.CALL_DELETE]=function(e){return O(e.channelId)},r[d.ActionTypes.VOICE_CHANNEL_SELECT]=function(e){return O(e.channelId)},r[d.ActionTypes.INCOMING_CALL_MOVE]=function(e){var t=e.x,n=e.y;g=t;E=n
;o.default.set(p,{x:g,y:E});return!1},r[d.ActionTypes.CHANNEL_DELETE]=function(e){return O(e.channel.id)},r));t.default=A},853068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=(r=n(636602))&&r.__esModule?r:{default:r},i=n(194322),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}var c=!1,p=null;var v={init:function(){o.default.subscribe(u.ActionTypes.CONNECTION_OPEN,(function(e){var t=e.pendingPayments;if(null!=t&&t.length>0){if(p===t[0])return;if(null==(p=t[0]))return;!function(e){if(!c){c=!0;(0,i.openModalLazy)(f(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){
case 0:t.next=2;return Promise.all([n.e(40532),n.e(23438)]).then(n.bind(n,123438));case 2:r=t.sent;a=r.default;return t.abrupt("return",(function(t){var n=t.transitionState,r=t.onClose;return s(a,{pendingPayment:e,transitionState:n,onClose:function(){c=!1;return r()}})}));case 5:case"end":return t.stop()}}),t)}))))}}(p)}}))}};t.default=v},542618:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(294184)),i=l(n(530250)),u=l(n(124047));function l(e){return e&&e.__esModule?e:{default:e}}
function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t=e.children,n=e.className,r=e.splashArtURL;return f(i.default,{className:(0,o.default)(u.default.header,n),align:i.default.Align.CENTER},void 0,f("div",{className:u.default.splashArt,style:null!=r?{backgroundImage:"url("+r+")"}:void 0}),t)};c.displayName="ActivityFeedCardHeader";var p=function(e){var t=e.children,n=e.className
;return f("div",{className:(0,o.default)(u.default.body,n)},void 0,t)};p.displayName="ActivityFeedCardBody";var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.onMouseEnter,a=e.onMouseLeave;return f("div",{className:(0,o.default)(u.default.card,n),onMouseEnter:r,onMouseLeave:a},void 0,t)};return t}(a.PureComponent);v.displayName="ActivityFeedCard";v.Header=c;v.Body=p;var y=v;t.default=y},558402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.Types=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(294184)),o=n(773336),i=l(n(66636)),u=["children","editable","type","className","outline"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c={PRIMARY:"cardPrimary",DANGER:"cardDanger",WARNING:"cardWarning",SUCCESS:"cardSuccess",BRAND:"cardBrand",CUSTOM:"card"};t.Types=c;var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}t.prototype.render=function(){var e,t=this.props,n=t.children,l=t.editable,s=t.type,f=t.className,p=t.outline,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,u);p?e="outline":s===c.PRIMARY&&l&&(e="editable");return r.createElement("div",d({className:(0,a.default)(f,(0,o.getClass)(i.default,s,e))},v),n)};return t}(r.PureComponent);p.displayName="Card";p.Types=c;p.defaultProps={type:c.PRIMARY,outline:!1,editable:!1};var v=p;t.default=v},168391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(294184)),o=s(n(16941)),i=n(645758),u=s(n(69405)),l=s(n(94480));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.options,n=e.onClick,r=e.className,s=e.optionClassName;return f("div",{className:(0,a.default)(l.default.root,r)},void 0,t.map((function(e,t){
return f(o.default,{onClick:function(){return n(e)},className:(0,a.default)(l.default.option,s)},t,f(i.Text,{className:l.default.text,color:"none",variant:"text-md/normal"},void 0,e.label),f(u.default,{className:l.default.caret,direction:u.default.Directions.RIGHT}))})))}c.displayName="ChoiceButtonList"},895108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(730977)),i=l(n(247001)),u=l(n(126388));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=Math.ceil(2*Math.PI*20);function p(e){return"rgb("+Math.round(-85*e+199)+", "+Math.round(-71*e+208)+", "+Math.round(-22*e+240)+")"}function v(e){return Math.floor(c*e)+", "+c}var y=function(e){
var t=e.total,n=e.used,r=Math.max(0,Math.min(1,n/t)),l=Math.floor(100*r)+"%";return f(o.default,{text:i.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:l})},void 0,(function(e){return a.createElement("div",d({className:u.default.wrapper,role:"progressbar","aria-label":i.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:l})},e),f("svg",{viewBox:"25 25 50 50",className:u.default.svg,"aria-hidden":!0},void 0,f("circle",{className:u.default.background,cx:"50",cy:"50",r:20}),f("circle",{className:u.default.foreground,cx:"50",cy:"50",r:20,stroke:p(r),strokeDasharray:v(r)})),f("aside",{className:u.default.usageInfo,"aria-hidden":!0},void 0,l))}))};y.displayName="DiskSpaceCircle";var m=y;t.default=m},222318:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(973935),i=(r=n(74854))&&r.__esModule?r:{default:r},u=n(659779),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=Math.pow(3,2),p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this)._height=0;n._width=0
;n._dragStart={x:0,y:0};n._offsetX=0;n._offsetY=0;n._removeListeners=function(){};n.handleSetRef=function(e){n._ref=e};n.handleMouseDown=function(e){var t=n.props,r=t.dragAnywhere,a=t.disabled,o=t.selector;if(!a){var i=n.state.position,u=e.target;if(e.button===l.MouseButtons.PRIMARY&&(r||null!=o&&u.matches(o))){n.grabDimensions();n._dragStart={x:e.clientX,y:e.clientY};n._offsetX=e.clientX-i.x._value;n._offsetY=e.clientY-i.y._value;var s=e.nativeEvent.view;n._removeListeners();s.addEventListener("mousemove",n.handleMouseMove);s.addEventListener("mouseup",n.handleMouseUp);n._removeListeners=function(){s.removeEventListener("mousemove",n.handleMouseMove);s.removeEventListener("mouseup",n.handleMouseUp)}}}};n.handleMouseMove=function(e){e.preventDefault();var t=n.props,r=t.onDragStart,a=t.onDrag;if(!t.disabled){var o,i,u,l,s,d,f=n.state,p=f.dragging,v=f.dragging;!p&&(o=n._dragStart,i={x:e.clientX,y:e.clientY},u=o.x,l=o.y,s=i.x,d=i.y,Math.pow(u-s,2)+Math.pow(l-d,2))>c&&(p=!0);if(p){
n.animateToPosition(e.clientX-n._offsetX,e.clientY-n._offsetY,{tension:80,friction:8},null,!1);n.setState({dragging:p},(function(){v||null==r||r(e.clientX,e.clientY);null==a||a(e.clientX,e.clientY)}))}}};n.handleMouseUp=function(e){n._removeListeners();n.state.dragging&&n.setState({dragging:!1},(function(){var t=n.props.onDragEnd;null==t||t(e.clientX,e.clientY)}))};var r=new i.default.Value(t.initialX),a=new i.default.Value(t.initialY);n.state={dragging:!1,position:new i.default.ValueXY({x:r,y:a})};return n}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.initialX,n=e.initialY;this.setPosition(t,n)};n.componentWillUnmount=function(){this._removeListeners()};n.animateToPosition=function(e,t,n,r,a){void 0===n&&(n={});void 0===a&&(a=!0);a&&this.grabDimensions();var o=this.translate(e,t);i.default.spring(this.state.position,d({toValue:{x:o.x,y:o.y}},n)).start(r)};n.setPosition=function(e,t,n){void 0===n&&(n=!0);n&&this.grabDimensions();var r=this.translate(e,t)
;this.state.position.setValue({x:r.x,y:r.y})};n.grabDimensions=function(){var e=(0,o.findDOMNode)(this._ref);if((0,u.isElement)(e)){this._height=e.clientHeight;this._width=e.clientWidth}};n.translate=function(e,t){var n=this.props,r=n.maxX,a=n.maxY;e<0?e=0:e>r-this._width&&(e=r-this._width);t<0?t=0:t>a-this._height&&(t=a-this._height);return{x:e,y:t}};n.render=function(){var e=this.state,t=e.dragging,n=e.position,r=this.props,o=r.className,u=r.children,l=[0,1],s=["0px","1px"],f=i.default.accelerate(d({pointerEvents:t?"none":"auto",transform:[{translateX:n.x.interpolate({inputRange:l,outputRange:s})},{translateY:n.y.interpolate({inputRange:l,outputRange:s})}]},this.props.style));return a.createElement(i.default.div,{ref:this.handleSetRef,className:o,onMouseDown:this.handleMouseDown,style:f},u)};return t}(a.PureComponent);p.displayName="Draggable";p.defaultProps={maxX:0,maxY:0,initialX:0,initialY:0,disabled:!1,dragAnywhere:!1};var v=p;t.default=v},784241:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=g(n(667294)),o=_(n(294184)),i=_(n(468811)),u=n(91817),l=g(n(956117)),s=_(n(279950)),d=n(688388),f=n(3400),c=n(770348),p=_(n(247001)),v=_(n(978607)),y=_(n(3066)),m=_(n(380203));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var T=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._animItem=null;t._timeout=new u.Timeout;t._headerId=i.default.v4();t.state={resent:!1,shouldClose:!1,email:"",password:""};t.setLottieRef=function(e){t._lottieRef=e}
;t.handleVerify=function(){(0,t.props.onVerify)(t.state.email,t.state.password)};t.handleResendEmail=function(){var e=t.props,n=e.onResend,r=e.onClose;n();if(!t.state.resent){t.setState({resent:!0,shouldClose:!0});t._timeout.start(3e3,(function(){t.state.shouldClose&&r()}))}};t.handleChangeEmailClick=function(){var e=t.props.onChangeEmailClick;t.setState({resent:!1,shouldClose:!1});e()};t.handleEmailChange=function(e){t.setState({email:e})};t.handlePasswordChange=function(e){t.setState({password:e})};t.handleKeyPress=function(e){var n=t.state,r=n.email,a=n.password;if(13===e.which&&r.length>0&&a.length>0){e.preventDefault();t.handleVerify()}};return t}var r=t.prototype;r.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(63266).then(n.t.bind(n,763266,19)),Promise.resolve().then(n.t.bind(n,211248,23))]);case 2:t=e.sent;r=S(t,2);a=r[0]
;o=r[1].default;this._animItem=o.loadAnimation({container:this._lottieRef,renderer:"svg",loop:!0,autoplay:!0,animationData:a});case 7:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();r.componentWillUnmount=function(){this._timeout.stop();if(null!=this._animItem){this._animItem.destroy();this._animItem=void 0}};r.renderInputs=function(){var e=this.props,t=e.emailError,n=e.passwordError,r=e.submitting,a=this.state,o=a.email,i=a.password;return E("div",{className:v.default.container},void 0,E(d.FormItem,{title:p.default.Messages.FORM_LABEL_EMAIL,className:m.default.marginBottom20},void 0,E(s.default,{value:o,error:t,onChange:this.handleEmailChange,onKeyPress:this.handleKeyPress,autoFocus:!0})),E(d.FormItem,{title:p.default.Messages.FORM_LABEL_PASSWORD,
className:m.default.marginBottom40},void 0,E(s.default,{type:"password",value:i,error:n,onChange:this.handlePasswordChange,onKeyPress:this.handleKeyPress})),E(l.default,{fullWidth:!0,size:l.default.Sizes.LARGE,onClick:this.handleVerify,submitting:r,disabled:0===o.length||0===i.length},void 0,p.default.Messages.VERIFY_ACCOUNT))};r.renderActions=function(){return E("div",{className:v.default.container},void 0,E(l.default,{className:m.default.marginTop20,fullWidth:!0,size:l.default.Sizes.LARGE,look:l.ButtonLooks.INVERTED,color:l.ButtonColors.PRIMARY,onClick:this.handleResendEmail},void 0,p.default.Messages.RESEND_EMAIL),E(l.default,{className:m.default.marginTop20,fullWidth:!0,size:l.default.Sizes.MEDIUM,look:l.ButtonLooks.LINK,color:l.ButtonColors.PRIMARY,onClick:this.handleChangeEmailClick},void 0,p.default.Messages.CHANGE_EMAIL))};r.render=function(){var e,t=this.state.resent,n=this.props,r=n.email,i=n.canResend,u=n.transitionState
;e=t&&null!=r?p.default.Messages.VERIFY_EMAIL_BODY_RESENT.format({email:r}):i?p.default.Messages.VERIFY_EMAIL_BODY:p.default.Messages.ENTER_EMAIL_BODY;return E(f.ModalRoot,{transitionState:u,"aria-labelledby":this._headerId,className:(0,o.default)(v.default.emailVerificationModal,y.default.vertical,y.default.alignCenter,y.default.justifyCenter,m.default.marginTop60)},void 0,a.createElement("div",{className:v.default.animationContainer,ref:this.setLottieRef}),E("div",{className:(0,o.default)(v.default.title,m.default.marginBottom8)},void 0,p.default.Messages.VERIFY_BY_EMAIL),E("div",{className:(0,o.default)(v.default.body,m.default.marginBottom20)},void 0,e),i?this.renderActions():this.renderInputs())};return t}(a.PureComponent);T.displayName="EmailVerificationModal";T.defaultProps={canResend:!1,onChangeEmailClick:c.NOOP,onVerify:function(e,t){},onResend:c.NOOP,onClose:c.NOOP};var A=T;t.default=A},737705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=t.EmptyStateText=t.EmptyStateImage=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=d(n(530250)),u=n(770348),l=d(n(643193)),s=d(n(380203));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var m=a.createContext(u.ThemeTypes.DARK),_=m.Provider,h=m.Consumer,g=function(e){v(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.lightSrc,n=e.darkSrc,r=e.width,a=e.height,d=e.offsetX,f=e.offsetY,v=e.style;return c(h,{},void 0,(function(e){return c(i.default.Child,{grow:0,className:(0,
o.default)(l.default.image,s.default.marginBottom40),style:p({},v,{width:r,height:a,marginLeft:d,marginTop:f,backgroundImage:"url("+(e===u.ThemeTypes.DARK?n:t)+")"})})}))};return t}(a.PureComponent);t.EmptyStateImage=g;g.displayName="EmptyStateImage";var E=function(e){var t=e.children,n=e.className,r=e.noteClassName,a=e.note,u=e.style;return c(i.default.Child,{grow:0,direction:i.default.Direction.VERTICAL,style:u},void 0,null!=t&&c("h4",{className:(0,o.default)(n,l.default.title)},void 0,t),null!=a?c("div",{className:(0,o.default)(r,l.default.text,s.default.marginTop8)},void 0,a):null)};t.EmptyStateText=E;E.displayName="EmptyStateText";var S=function(e){v(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.children,n=e.theme,r=e.className,a=e.style;return c(_,{value:n},void 0,c(i.default,{direction:i.default.Direction.VERTICAL,align:i.default.Align.CENTER,justify:i.default.Justify.CENTER,className:(0,o.default)(l.default.wrapper,r),
style:a},void 0,t))};return t}(a.PureComponent);t.default=S;S.displayName="EmptyState";S.Text=E;S.Image=g},358255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.NotchBackground=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(294184)),i=n(8916),u=n(770348),l=s(n(14573));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=(0,i.cssValueToNumber)(l.default.notchWidth),v=Object.freeze({BLACK:l.default.black,GRAY:l.default.gray});t.NotchBackground=v;var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={barWidth:0};t.sizerRef=a.createRef();t.computeBars=function(){var e=t.sizerRef.current;t.setState({
barWidth:null!=e?t.roundToNearestStep(e.clientWidth):0})};return t}var n=t.prototype;n.componentDidMount=function(){this.computeBars();window.addEventListener("resize",this.computeBars)};n.componentWillUnmount=function(){window.removeEventListener("resize",this.computeBars)};n.roundToNearestStep=function(e){return Math.round(e/p)*p};n.getProgressStyles=function(){var e=this.props.progress,t=100-Math.max(0,Math.min(100,e)),n=this.state.barWidth,r=n*t/100,a=this.roundToNearestStep(r);return{transform:"translateX("+Math.abs(a-n)+"px)"}};n.getGradientStyles=function(){var e=this.props,t=e.gradientEnd,n=e.gradientStart,r=e.progress;return{width:this.state.barWidth+"px",background:r<=0?"none":"linear-gradient(to right, "+n+", "+t+")"}};n.render=function(){var e=this.props,t=e.className,n=e.notchBackground;return a.createElement("div",{className:l.default.wrapper,ref:this.sizerRef},f("div",{className:(0,o.default)(l.default.container,t),style:this.getGradientStyles()},void 0,f("div",{
className:l.default.progress,style:this.getProgressStyles()}),f("div",{className:(0,o.default)(l.default.notches,n)})))};return t}(a.Component);y.displayName="GradientProgress";y.defaultProps={gradientStart:u.Colors.STATUS_YELLOW_400,gradientEnd:u.Colors.STATUS_GREEN_600};var m=y;t.default=m},2022:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=M(n(294184)),i=n(376871),u=n(378158),l=n(263996),s=n(523024),d=n(328092),f=M(n(886836)),c=n(800055),p=n(894826),v=M(n(692711)),y=n(465537),m=M(n(16941)),_=M(n(189950)),h=n(772575),g=M(n(80828)),E=n(645758),S=M(n(730977)),O=M(n(272544)),b=n(770348),I=M(n(247001)),T=M(n(976351)),A=M(n(860321)),C=M(n(145792));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(e,t){L=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return L(e,t)}var k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;L(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).state={loaded:!1,hasBeenSeen:!1,isVisible:!1,submitting:!1};t.handleClickView=function(){var e=D(regeneratorRuntime.mark((function e(n){var r,a,o,i
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.target;if(!r.className.includes("Menu")){e.next=3;break}return e.abrupt("return");case 3:a=t.props,o=a.onView,i=a.guild;n.stopPropagation();t.setState({submitting:!0});e.prev=6;e.t0=null!=o;if(!e.t0){e.next=11;break}e.next=11;return o(i.id);case 11:e.prev=11;t.setState({submitting:!1});return e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[6,,11,14]])})));return function(t){return e.apply(this,arguments)}}();t.handleVisibilityChange=function(e){var n=t.props,r=n.onGuildCardSeen,a=n.guild;if(null!=a&&!t.state.hasBeenSeen&&e){t.setState({hasBeenSeen:e});null!=r&&r(a.id)}};t.handleContextMenu=function(e){(0,u.openContextMenuLazy)(e,D(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,184767));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){
return a.createElement(o,R({},e,{guild:t.props.guild}))}));case 5:case"end":return e.stop()}}),e)}))))};t.setIsVisible=function(e){t.setState({isVisible:e})};return t}var r=t.prototype;r.getDefaultSplashURL=function(e){switch(e){case b.ThemeTypes.DARK:return A.default;case b.ThemeTypes.LIGHT:return C.default}};r.render=function(){var e,t,n,r=this,a=this.props,u=a.guild,b=a.className,A=a.theme,C=a.onTagClick,M=this.state,N=M.loaded,R=M.hasBeenSeen,w=M.isVisible,D=M.submitting,L=u.name,k=u.description,j=u.presenceCount,U=u.memberCount,G=u.keywords,F=v.default.getGuildDiscoverySplashURL({id:u.id,splash:u.discoverySplash,size:300*(0,c.getDevicePixelRatio)()}),x=null!=F?F:this.getDefaultSplashURL(A),B=v.default.getGuildIconURL({id:u.id,icon:u.icon,size:40});d.DiscoveryTagsExperiment.trackExposure({});var H=d.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayTags,V=s.DiscoveryInAppReportingExperiment.getCurrentConfig({}).canSeeInAppReportingButtons
;s.DiscoveryInAppReportingExperiment.trackExposure({});var W=p.DeveloperMode.getSetting()||V;return P(i.VisibilitySensor,{active:!w,onChange:this.setIsVisible,threshold:.1},void 0,w?P(i.VisibilitySensor,{onChange:this.handleVisibilityChange,active:!R,threshold:.55},void 0,P("div",{className:(0,o.default)(b,(e={},e[T.default.loaded]=N,e[T.default.loading]=!N,e))},void 0,D?P(g.default,{type:g.default.Type.PULSING_ELLIPSIS,className:T.default.spinner}):null,P(m.default,{onClick:this.handleClickView,className:(0,o.default)(T.default.card,(t={},t[T.default.submitting]=D,t[T.default.cardWithTags]=H,t)),onContextMenu:this.handleContextMenu},void 0,P("div",{className:T.default.cardHeader},void 0,P("div",{className:T.default.splash},void 0,P("img",{src:x,alt:"",className:T.default.splashImage,onLoad:function(){return r.setState({loaded:!0})}})),W?P("div",{className:T.default.actionButtons},void 0,P(f.default,{guild:u})):null,P("div",{className:T.default.guildIcon},void 0,P(O.default,{
mask:O.default.Masks.SQUIRCLE,width:48,height:48},void 0,P("div",{className:T.default.iconMask},void 0,P(O.default,{mask:O.default.Masks.SQUIRCLE,width:40,height:40},void 0,P("img",{src:B,alt:"",className:T.default.avatar})))))),P("div",{className:T.default.guildInfo},void 0,P("div",{className:T.default.title},void 0,P(_.default,{className:T.default.guildBadge,guild:u,tooltipColor:S.default.Colors.PRIMARY}),P(h.Heading,{variant:"heading-md/medium",className:T.default.guildName,level:4},void 0,L)),P(E.Text,{className:T.default.description,variant:"text-sm/normal",color:"header-secondary"},void 0,k),H&&G&&C&&P(l.DiscoveryTags,{tags:G,onTagClick:function(e){return C(e,u.id)},guildId:u.id,section:y.AnalyticsContexts.POPULAR}),P("div",{className:T.default.memberInfo},void 0,null!=j&&P("div",{className:T.default.memberCount},void 0,P("div",{className:T.default.dotOnline}),P(E.Text,{variant:"text-xs/normal",color:"header-secondary"
},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:j}))),null!=U&&P("div",{className:T.default.memberCount},void 0,P("div",{className:T.default.dotOffline}),P(E.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:U})))))))):P("div",{className:(0,o.default)(T.default.card,(n={},n[T.default.cardWithTags]=H,n))}))};return t}(a.PureComponent);k.displayName="GuildDiscoveryCard";k.Placeholder=function(e){return P("div",{className:(0,o.default)(e.className,T.default.cardPlaceholder)})};var j=k;t.default=j},618993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(294184)),i=l(n(776680)),u=["tag","children","hoverText","className","forceHover"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e,t=this.props,n=t.tag,r=t.children,l=t.hoverText,s=t.className,c=t.forceHover,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,u);return a.createElement("div",d({},p,{className:(0,o.default)(s,i.default.hoverRoll,(e={},e[i.default.disabled]=null==l,e[i.default.forceHover]=c,e))}),f(n,{className:i.default.hovered},void 0,l),f(n,{className:i.default.default},void 0,r))};return t}(a.PureComponent);p.displayName="HoverRoll";p.defaultProps={tag:"div",forceHover:!1};var v=p
;t.default=v},445308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.RecordModes=void 0;var r,a,o,i=h(n(667294)),u=m(n(294184)),l=m(n(238736)),s=m(n(496486)),d=m(n(314234)),f=n(339943),c=h(n(956117)),p=m(n(530250)),v=m(n(247001)),y=m(n(35282));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}t.RecordModes=o;!function(e){e.DEFAULT="DEFAULT";e.RECORDING="RECORDING"}(o||(t.RecordModes=o={}));var S=((r={})[o.DEFAULT]=y.default.default,r[o.RECORDING]=y.default.recording,r),O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._inputId=s.default.uniqueId("key-recorder-");t._unregisterNativeRecorder=null
;t._mousedownMode=null;t._inputRef=i.createRef();t._containerRef=i.createRef();t.setInputRef=function(e){t._input=e;t._inputRef.current=e};t.handleClick=function(e){e.stopPropagation();e.preventDefault();var n=t.props,r=n.onClick;n.disableOnClickWhileRecording&&t._mousedownMode===o.RECORDING||r()};t.handleMouseDown=function(){t._mousedownMode=t.props.mode};return t}var n=t.prototype;n.componentDidMount=function(){var e=this.props.onChange;if(null!=this.props.registerNativeRecorder&&null!=e)this._unregisterNativeRecorder=this.props.registerNativeRecorder(this._inputId,e);else if(null!=e&&null!=this._input){new l.default(this._input).handleKey=e}};n.componentWillUnmount=function(){null!=this._unregisterNativeRecorder&&this._unregisterNativeRecorder()};n.componentDidUpdate=function(e){var t=this.props.mode;if(e.mode!==t){var n=this._input;if(null!=n){var r=document.activeElement;t===o.DEFAULT&&n===r&&n.blur();t===o.RECORDING&&n!==r&&n.focus()}}};n.render=function(){
var e,t,n=this,r=this.props,a=r.mode,l=r.value,s=r.disabled,m=(0,f.toString)(l,!0);t=a===o.RECORDING?v.default.Messages.SHORTCUT_RECORDER_BUTTON_RECORDING:0===l.length?v.default.Messages.SHORTCUT_RECORDER_BUTTON:v.default.Messages.SHORTCUT_RECORDER_BUTTON_EDIT;var _=a===o.DEFAULT&&l.length>0;return g(d.default,{focusTarget:this._inputRef,ringTarget:this._containerRef},void 0,i.createElement("div",{onClick:this.handleClick,onMouseDown:this.handleMouseDown,ref:this._containerRef,className:(0,u.default)(y.default.container,S[a],(e={},e[y.default.hasValue]=_,e[y.default.disabled]=s,e))},g(p.default,{className:y.default.layout},void 0,g(p.default.Child,{className:y.default.input},void 0,i.createElement("input",{id:this._inputId,placeholder:v.default.Messages.SHORTCUT_RECORDER_NO_BIND,type:"text",ref:this.setInputRef,readOnly:!0,value:m,disabled:this.props.mode!==o.RECORDING||s})),g(p.default,{shrink:1,grow:0,style:{margin:0}},void 0,g(c.default,{className:y.default.button,disabled:s,
onClick:function(e){e.stopPropagation();e.preventDefault();n.handleClick(e)},size:c.default.Sizes.MIN,color:c.ButtonColors.PRIMARY},void 0,g("span",{className:y.default.text},void 0,t),g("span",{className:y.default.editIcon}))))))};return t}(i.PureComponent);O.displayName="KeyRecorder";var b=O;t.default=b},847015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=n(864489),u=(r=n(57097))&&r.__esModule?r:{default:r};function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return(0,i.isOSX)()?s("div",{className:u.default.macosHeaderDrag}):null};return t}(o.Component);f.displayName="MacOsHeaderDrag";var c=f;t.default=c},477797:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(16941)),u=c(n(916417)),l=c(n(863771)),s=c(n(247001)),d=c(n(282230)),f=["currentPageIndex","numPages","onChangePage","children","className","showPageCount"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=a.forwardRef((function(e,t){var n,r,c=e.currentPageIndex,p=e.numPages,m=e.onChangePage,_=e.children,h=e.className,g=e.showPageCount,E=void 0===g||g,S=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f),O=c<=0,b=c>=p-1;return a.createElement("div",v({className:(0,o.default)(d.default.paginator,h),ref:t},S),_,y("div",{className:d.default.pageActions
},void 0,y(i.default,{className:(0,o.default)(d.default.pageButtonPrev,(n={},n[d.default.disabled]=O,n)),tabIndex:O?-1:0,onClick:O?void 0:function(){return m(c-1)}},void 0,y(u.default,{className:d.default.pageButtonIcon,"aria-label":s.default.Messages.PAGINATION_PREVIOUS})),y("div",{className:d.default.pageIndicator},void 0,E?s.default.Messages.PAGINATOR_OF_PAGES.format({currentPage:c+1,numPages:p}):s.default.Messages.PAGINATOR_CURRENT_PAGE.format({currentPage:c+1})),y(i.default,{className:(0,o.default)(d.default.pageButtonNext,(r={},r[d.default.disabled]=b,r)),tabIndex:b?-1:0,onClick:b?void 0:function(){return m(c+1)}},void 0,y(l.default,{className:d.default.pageButtonIcon,"aria-label":s.default.Messages.PAGINATION_NEXT}))))}));t.default=m},365561:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PictureInPictureWindow=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=n(973935),u=n(864489),l=c(n(222318)),s=n(770348),d=c(n(347754)),f=c(n(480798));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var h=80,g=132,E=80,S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._width=0;t._height=0;t._velocityX=0;t._velocityY=0;t._lastMoveX=0;t._lastMoveY=0;t.ensureIsInPosition=function(){t.setPosition(t.props.position)};t.handleSetInnerDivRef=function(e){t._innerDiv=e
;var n=null==e?void 0:e.ownerDocument.defaultView;if(null!=e&&null!=n){var r;t._resizeObserver=new n.ResizeObserver(t.ensureIsInPosition);null===(r=t._resizeObserver)||void 0===r||r.observe(e)}};t.handleSetDraggableRef=function(e){t._draggable=e};t.handleDragStart=function(e,n){t._velocityX=0;t._velocityY=0;t._lastMoveX=e;t._lastMoveY=n;t._lastMoveTime=new Date};t.handleDrag=function(e,n){var r=new Date,a=Number(r)-Number(t._lastMoveTime);t._velocityX=(e-t._lastMoveX)/a;t._velocityY=(n-t._lastMoveY)/a;t._lastMoveX=e;t._lastMoveY=n;t._lastMoveTime=r};t.handleDragEnd=function(e,n){var r,a=t.props,o=a.maxX,i=a.maxY,u=t.calculateDecayingPosition(e,n,t._velocityX,t._velocityY),l=!0,d=!0;u.x>o/2&&(d=!1);u.y>i/2&&(l=!1);r=l&&d?s.PictureInPicturePositions.TOP_LEFT:l&&!d?s.PictureInPicturePositions.TOP_RIGHT:!l&&d?s.PictureInPicturePositions.BOTTOM_LEFT:s.PictureInPicturePositions.BOTTOM_RIGHT;t.animateToPosition(r,t.ensureIsInPosition);if(r!==t.props.position){var f=t.props,c=f.id,p=f.onMove
;null==p||p(c,r)}};return t}var n=t.prototype;n.componentDidMount=function(){this.setPosition(this.props.position)};n.componentDidUpdate=function(e){e.edgeOffsetTop===this.props.edgeOffsetTop&&e.edgeOffsetLeft===this.props.edgeOffsetLeft&&e.edgeOffsetBottom===this.props.edgeOffsetBottom&&e.edgeOffsetRight===this.props.edgeOffsetRight&&e.maxX===this.props.maxX&&e.maxY===this.props.maxY&&e.dockedRect===this.props.dockedRect||this.ensureIsInPosition()};n.componentWillUnmount=function(){var e;null===(e=this._resizeObserver)||void 0===e||e.disconnect()};n.getPosition=function(e){var t=(0,i.findDOMNode)(this._innerDiv);if(null!=t){var n=t.getBoundingClientRect();this._width=n.width;this._height=n.height}var r=this.props,a=r.edgeOffsetTop,o=r.edgeOffsetLeft,l=r.edgeOffsetBottom,d=r.edgeOffsetRight,f=r.maxX,c=r.maxY,p=r.dockedRect,v=a,y=c-l-this._height,m=o,_=f-d-this._width,h=(0,u.getPlatform)()!==u.PlatformTypes.WEB&&this.inPopout?22:0;if(null!=p){var g,E;return{
y:(null!==(g=null==p?void 0:p.y)&&void 0!==g?g:0)-h,x:null!==(E=null==p?void 0:p.x)&&void 0!==E?E:0}}switch(e){case s.PictureInPicturePositions.TOP_LEFT:return{y:v,x:m};case s.PictureInPicturePositions.BOTTOM_LEFT:return{y,x:m};case s.PictureInPicturePositions.TOP_RIGHT:return{y:v,x:_};default:return{y,x:_}}};n.setPosition=function(e){var t,n=this.getPosition(e),r=n.x,a=n.y;null===(t=this._draggable)||void 0===t||t.setPosition(r,a)};n.animateToPosition=function(e,t){var n,r=this.getPosition(e),a=r.x,o=r.y;null===(n=this._draggable)||void 0===n||n.animateToPosition(a,o,{},t)};n.calculateDecayingPosition=function(e,t,n,r){return{x:e+200*n,y:t+200*r}};n.getXOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetLeft,r=e.edgeOffsetRight;switch(t){case s.PictureInPicturePositions.TOP_LEFT:case s.PictureInPicturePositions.BOTTOM_LEFT:return-n;default:return r}};n.getYOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetTop,r=e.edgeOffsetBottom;switch(t){
case s.PictureInPicturePositions.TOP_LEFT:case s.PictureInPicturePositions.TOP_RIGHT:return-n;default:return r}};n.render=function(){var e,t=this.props,n=t.maxX,r=t.maxY,i=t.dockedRect,u=t.hidden,s={};null!=i&&(s={transform:"translate3d("+i.x+", "+i.y+", 0)",width:i.width,height:i.height});return a.createElement(l.default,{dragAnywhere:!0,ref:this.handleSetDraggableRef,className:(0,o.default)(d.default.pictureInPictureWindow,f.default.elevationHigh,(e={},e[d.default.hidden]=u,e)),maxX:n,maxY:r,disabled:null!=i,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd},a.createElement("div",{ref:this.handleSetInnerDivRef,style:s},this.props.children))};!function(e,t,n){t&&m(e.prototype,t);n&&m(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"inPopout",get:function(){return this.props.appContext===s.AppContext.POPOUT}}]);return t}(a.PureComponent);t.PictureInPictureWindow=S;S.displayName="PictureInPictureWindow";S.defaultProps={hidden:!1}
;var O=function(e){var t=e.selectedPIPWindow,n=e.pipWindows,r=e.maxX,o=e.maxY,i=e.onWindowMove,u=e.dockedRect,l=e.pictureInPictureComponents,f=e.appContext;return v("div",{className:d.default.pictureInPicture},void 0,function(){if(null==t)return null;var e=Array.from(n.values()).map((function(e){if(e.id!==t.id&&e.component!==s.PictureInPictureComponents.EMBED_IFRAME)return null;var n="string"==typeof e.component?l[e.component]:e.component;return a.createElement(n,y({key:"pipWindow-"+e.id},e.props))}));return v(S,{appContext:f,position:t.position,id:t.id,hidden:t.hidden,onMove:i,maxX:r,maxY:o,dockedRect:u,edgeOffsetTop:h,edgeOffsetBottom:g,edgeOffsetLeft:E,edgeOffsetRight:h},void 0,e)}())};O.displayName="PictureInPicture";var b=a.memo(O);t.default=b},638707:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=n(682937),u=f(n(365211)),l=f(n(596178)),s=n(770348),d=f(n(387070));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.renderIcon=function(e){return e===s.BoostedGuildTiers.NONE?p(l.default,{tier:s.BoostedGuildTiers.TIER_1,className:d.default.gemWithoutLabel}):p(l.default,{tier:e,className:d.default.gemWithLabel})};n.render=function(){var e=this.props,t=e.className,n=e.guildId,r=e.subscriberCount,a=(0,i.getGuildTierFromAppliedBoostCount)(r,n),l=(0,i.getNextGuildTierFromAppliedBoostCount)(r,n),s=null!=l?(0,i.getAppliedGuildBoostsRequired)(n)[l]:null,f=null!=s&&s>0?r/s*100:100;return p(u.default,{background:d.default.progressBackground,percent:f,strokeSize:u.default.StrokeSizes.SMALL,className:(0,o.default)(d.default.gemIndicatorProgressCircle,t)},void 0,p("div",{className:d.default.gemIndicatorContainer
},void 0,this.renderIcon(a),p("div",{className:d.default.tierLabel},void 0,(0,i.getTierName)(a))))};return t}(a.Component);y.displayName="PremiumGuildGemIndicator";var m=y;t.default=m},463922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(237745))&&r.__esModule?r:{default:r},i=n(770348);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s=function(e){return a.createElement(o.default,l({sitekey:i.RECAPTCHA_SITE_KEY},e))};s.displayName="Recaptcha";s.Themes={LIGHT:"light",DARK:"dark"};s.Sizes={COMPACT:"compact",NORMAL:"normal",INVISIBLE:"invisible"};var d=s;t.default=d},49465:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=l(n(131795)),i=l(n(74854)),u=l(n(23966));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function c(e){var t=function(e){return e.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})};return{transform:[{translateX:t(e.x)},{translateY:t(e.y)}]}}var p=d("defs",{},void 0,d("rect",{id:"search-index-foreground-mask-a",width:"80",
height:"80",rx:"40"})),v=d("g",{mask:"url(#search-index-foreground-mask-b)"},void 0,d("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),d("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),d("path",{fill:"#FFD773",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-15.0267 170.8361c0 6.311-5.116 11.427-11.428 11.427-6.31 0-11.426-5.116-11.426-11.427s5.116-11.427 11.426-11.427c6.312 0 11.428 5.116 11.428 11.427z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{fill:"#FFD773",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",
strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-12.39 165.5622c-6.311 0-11.427-5.116-11.427-11.427s5.116-11.427 11.427-11.427 11.427 5.116 11.427 11.427c0 2.727-.955 5.231-2.55 7.196",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{fill:"#FFD773",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-23.8168 129.5232c6.311 0 11.427 5.116 11.427 11.427s-5.116 11.427-11.427 11.427c-6.312 0-11.427-5.116-11.427-11.427",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),d("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),d("path",{fill:"#FFD773",
d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M110.2125-35.5789c.556 6.286-4.089 11.833-10.375 12.39-6.287.556-11.834-4.089-12.391-10.375-.555-6.286 4.089-11.834 10.376-12.39",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#C2FFF9",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671zm-18.6982 25.5654l33.402-19.788",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",
strokeWidth:"2",d:"M-93.1889 132.2868l23.272 20.241-6.571-30.135",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#C2FFF9",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M135.6949-69.0003l-.625 26.692 16.447-21.032m-27.3679 1.6701l31.645 11.319",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#E4E9F8",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532"}),d("path",{fill:"#7687B2",d:"M45.3502-64.8382c-.602-2.453-3.078-3.954-5.532-3.353l-102.171 25.056c-2.454.601-3.954 3.078-3.353 5.531l3.489 14.228 111.056-27.234-3.489-14.228z"}),d("path",{stroke:"#1E2126",
strokeWidth:"2",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532zM-62.2172-23.3763l111.057-27.234m-95.9164 3.7287l-8.367 21.844m30.0096-27.1517l-8.366 21.844m30.0096-27.1516l-8.366 21.844M17.8522-62.804L9.4862-40.96m30.0095-27.1516l-8.366 21.844",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FF7B78",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",
d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z"}),d("path",{fill:"#E4E9F8",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{
fill:"#FFF",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z"}),d("path",{fill:"#E4E9F8",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#5871B7",
d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123zM64.1588 1.2805h-43.147m21.5738-8.1114h-21.574m91.3894 0H49.816m33.9815-8.1118h-62.786",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055"}),d("path",{
fill:"#E4E9F8",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#5865f2",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-26.3637 22.2653h48.67M6.0826 30.3767h68.309m-100.7553 0h22.799m53.1942 8.1118h14.942m-24.3346 0h4.534m-71.1346 0h54.093m-54.093 8.1113h63.186",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#98AFED",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-60.6225 77.6657h99.433m-23.4398 8.1114h7.949m-19.6892 0h-64.253m0 8.1118h47.398m-47.398 8.1113h116.122",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#E4E9F8",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574"}),d("path",{fill:"#7687B2",d:"M42.4547-33.7181v-14.743c0-2.527-2.048-4.574-4.574-4.574h-105.198c-2.527 0-4.575 2.047-4.575 4.574v14.743h114.347z"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574zM-71.892-33.8123H42.455m-94.0442-19.2231l-13.328 19.223m35.6121-19.223l-13.328 19.223m35.6132-19.223l-13.328 19.223m35.6122-19.223l-13.328 19.223m35.6121-19.223l-13.328 19.223",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FF7B78",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M-26.6293-25.6136v33.584l31.445-16.792"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-26.6293-25.6136v33.584l31.445-16.792zM184.3375 8.3772v6.43m3.2149-3.2152h-6.43m-292.9079 79.082v6.43m3.2148-3.2151h-6.43M195.901-43.6692l-1.516 1.515m-6.0611 6.0621l-1.516 1.516m9.0931-.0004l-1.516-1.516m-6.0611-6.0616l-1.516-1.515M-88.642 168.9265l-1.516 1.516m-6.0621 6.0616l-1.516 1.515m9.0941.0001l-1.516-1.515m-6.0621-6.0621l-1.516-1.516M174.3463-8.8211c0 1.775-1.439 3.215-3.215 3.215-1.776 0-3.215-1.44-3.215-3.215s1.439-3.215 3.215-3.215c1.776 0 3.215 1.44 3.215 3.215z",strokeLinecap:"round",strokeLinejoin:"round"})),y=d("path",{fill:"#C9D2F0",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0"}),m=d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0z",strokeLinecap:"round",strokeLinejoin:"round"}),_=d("path",{fill:"#9F7373",
d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0"}),h=d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0z",strokeLinecap:"round",strokeLinejoin:"round"}),g=d("path",{fill:"#F3F9FF",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0m63.895-63.895c-19.667-19.667-51.554-19.667-71.221 0s-19.667 51.554 0 71.221 51.554 19.667 71.221 0 19.667-51.554 0-71.221"}),E=d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M196.0069 155.9708c-19.667 19.667-51.554 19.667-71.221 0s-19.667-51.554 0-71.221 51.554-19.667 71.221 0 19.667 51.554 0 71.221z",strokeLinecap:"round",strokeLinejoin:"round"}),S=d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0z",strokeLinecap:"round",strokeLinejoin:"round"}),O=d("path",{d:"M84 66h130v130H84z"}),b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={x:new i.default.Value(0),y:new i.default.Value(0)};t._isMounted=!1;t.shouldLoop=function(){return t._isMounted};return t}var n=t.prototype;n.componentDidMount=function(){this._isMounted=!0;var e=this.state,t=e.x,n=e.y;if("Firefox"!==o.default.name){i.default.animate(t,{
loop:!0,toValueMin:-74,toValueMax:95,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop});i.default.animate(n,{loop:!0,toValueMin:-59,toValueMax:75,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop})}};n.componentWillUnmount=function(){this._isMounted=!1};n.render=function(){return d("div",{className:u.default.searchIndexAnimation},void 0,d("div",{className:u.default.searchIndexBackground}),d("svg",{className:u.default.searchIndexForeground,width:"320",height:"280"},void 0,p,d("g",{fill:"none",fillRule:"evenodd"},void 0,d("g",{transform:"translate(120 80)"},void 0,d("mask",{id:"search-index-foreground-mask-b",fill:"#fff"},void 0,d(i.default.use,{style:c(this.state),className:u.default.mask,xlinkHref:"#search-index-foreground-mask-a"})),v),d(i.default.g,{className:u.default.magnifyingGlass,style:c(this.state)},void 0,y,m,_,h,g,E,S,O))))};return t}(a.Component);b.displayName="SearchIndexForeground";var I=b;t.default=I},427370:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.padded,n=void 0===t||t,l=e.inset,s=void 0!==l&&l,f=e.active,c=void 0!==f&&f,p=e.className,v=e.children,y=e.onClick,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);if(null!=y){var _;return r.createElement(o.default,d({onClick:y,tabIndex:null!=y?0:-1,className:(0,a.default)(p,(_={},_[i.default.outer]=!s,_[i.default.inset]=s,_[i.default.padded]=n,_[i.default.active]=c,_[i.default.interactive]=null!=y,_))},m),v)}var h;return r.createElement("div",d({className:(0,a.default)(p,(h={},h[i.default.outer]=!s,h[i.default.inset]=s,h[i.default.padded]=n,h[i.default.active]=c,h))},m),v)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(294184)),o=l(n(16941)),i=l(n(202133)),u=["padded","inset","active","className","children","onClick"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}},409236:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(667294)),o=l(n(496486)),i=d(n(925182)),u=l(n(531198));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){return function(e){
if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).canvas=a.createRef();t.updateAnimation=function(e){var n=t.canvas.current;if(null!=n){var r=t.props,a=r.data,o=r.updateInterval,u=r.color,l=r.numUpdatesToShow,s=r.lineWidth,d=r.animate,f=r.gradientStopColor;if(!(a.length<2)){var c=Math.max(Math.min((e-t.dataChangedAt)/o,1),0),p=n.getContext("2d"),v=t.maxValue;p.strokeStyle=u;p.lineWidth=s;var y=n.height-p.lineWidth,m=p.createLinearGradient(0,0,0,y);if(null!=f)m.addColorStop(0,f);else{var _=i.hexToRgb(u),h=_.r,g=_.g,E=_.b;m.addColorStop(0,"rgba("+h+", "+g+", "+E+", 0)")}m.addColorStop(1,t.fillColor);p.fillStyle=m;var S=a.length>=l?l:a.length;p.setTransform(1,0,0,-1,0,n.height);p.clearRect(0,0,n.width,n.height);p.translate(0,.5*p.lineWidth);var O,b,I=Math.floor(n.width/(S-3)),T=.5*I,A=I-I*c;p.translate(A,0);p.beginPath();var C=-I;a.forEach((function(e,t){O={x:C,y:y*e/v}
;0===t?p.moveTo(O.x,O.y):p.bezierCurveTo(b.x+T,b.y,O.x-T,O.y,O.x,O.y);b=O;C+=I}));p.stroke();p.lineTo(C-I,0);p.lineTo(0,0);p.fill();d&&c<1&&(t.animationFrameRequestId=window.requestAnimationFrame(t.updateAnimation))}}};return t}var n=t.prototype;n.onDataUpdate=function(e,t){var n=this.props,r=n.maxValue,a=n.data,u=n.animate,l=null==e||e.data!==t.data&&!o.default.isEqual(e.data,t.data);if(l){this.dataChangedAt=performance.now();this.maxValue=null!=r?r:Math.max.apply(Math,c(a))}if(l||null==e||!e.animate&&u||e.color!==this.props.color){var s=i.hexToRgb(this.props.color);this.fillColor="rgba("+s.r+", "+s.g+", "+s.b+", 0.5)";window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}};n.componentDidMount=function(){this.animationFrameRequestId=0;this.onDataUpdate(null,this.props)};n.componentDidUpdate=function(e){this.onDataUpdate(e,this.props)};n.componentWillUnmount=function(){
window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=0};n.render=function(){var e=this.props,t=e.className,n=e.pixelWidth,r=e.pixelHeight;return f("div",{className:t},void 0,a.createElement("canvas",{ref:this.canvas,className:u.default.canvas,width:n,height:r}))};return t}(a.PureComponent);y.displayName="SparkChart";y.defaultProps={animate:!0};var m=y;t.default=m},961664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a,o=s(n(294184)),i=s(n(496486)),u=n(770348),l=s(n(995071));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.XSMALL="xsmall";e.SMALL="small";e.LARGE="large"}(a||(a={}));var y=function(e){
var t=e.className,n=e.percents,r=e.size,s=void 0===r?a.SMALL:r,d=e.foregroundColors,v=void 0===d?[u.Colors.BRAND]:d,y=e.backgroundColor,m=void 0===y?"var(--background-modifier-active)":y,_=e.animate,h=void 0===_||_,g=i.default.zip(n,v).map((function(e,t){var n,r,a=p(e,2),i=a[0],u=a[1];r=Array.isArray(u)?{background:"linear-gradient(to right, "+u[0]+", "+u[1]+")"}:{backgroundColor:u};return f("div",{className:(0,o.default)(l.default.progressBar,l.default[s],(n={},n[l.default.animating]=h,n)),style:c({transform:"translate3d("+(Math.min(Math.max(0,i),100)-100)+"%, 0, 0)"},r)},t)})).reverse();return f("div",{className:(0,o.default)(t,l.default.progress,l.default[s]),style:{backgroundColor:m}},void 0,g)};y.displayName="StackedProgress";y.Sizes=a;var m=y;t.default=m},288800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=h(n(667294)),o=m(n(294184)),i=n(171236),u=h(n(224276)),l=m(n(550270)),s=m(n(956117)),d=m(n(530250)),f=m(n(463922)),c=n(770348),p=m(n(247001)),v=m(n(959665)),y=m(n(380203));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;null==n||n(e)};return t}var n=t.prototype;n.componentDidMount=function(){u.default.trackExposure({})};n.renderFields=function(){var e=this,t=this.props,n=t.type,r=t.captchaKey,a=t.theme,o=t.onCaptchaVerify;return n===c.VerificationTypes.CAPTCHA?g(f.default,{onVerify:o,theme:a},r):g(s.default,{onClick:function(){return e.handleClick(n)}
},void 0,p.default.Messages.START_VERIFICATION_BUTTON)};n.render=function(){var e,t=u.default.getCurrentConfig({}).enabled;return g(d.default,{className:v.default.verification,align:d.default.Align.CENTER,direction:d.default.Direction.VERTICAL},void 0,g(d.default,{className:(0,o.default)(v.default.container,(e={},e[v.default.isMobile]=i.isMobile,e)),direction:d.default.Direction.VERTICAL,align:d.default.Align.CENTER,justify:d.default.Justify.CENTER},void 0,g("div",{className:v.default.image}),g("div",{className:(0,o.default)(v.default.title,y.default.marginTop20)},void 0,p.default.Messages.VERIFICATION_TITLE),g("div",{className:(0,o.default)(v.default.body,y.default.marginTop4,y.default.marginBottom20)},void 0,t?p.default.Messages.VERIFICATION_BODY_WITH_HELP_LINK.format({helpCenterURL:u.HELP_CENTER_LINK}):p.default.Messages.VERIFICATION_BODY.format()),g(d.default,{grow:0,justify:d.default.Justify.CENTER},void 0,this.renderFields())),g("div",{className:(0,
o.default)(v.default.footer,y.default.marginTop20)},void 0,p.default.Messages.VERIFICATION_FOOTER),g(d.default,{className:(0,o.default)(y.default.marginTop4,y.default.marginBottom20),grow:0},void 0,g("div",{className:(0,o.default)(v.default.footer,v.default.footerAction)},void 0,p.default.Messages.VERIFICATION_FOOTER_SUPPORT.format({supportURL:l.default.getSubmitRequestURL()})),g("div",{className:(0,o.default)(v.default.footer,v.default.footerBullet)},void 0,"•"),g("div",{className:(0,o.default)(v.default.footer,v.default.footerAction)},void 0,p.default.Messages.VERIFICATION_FOOTER_LOGOUT.format({logoutOnClick:this.props.onLogout}))))};return t}(a.PureComponent);S.displayName="Verification";S.defaultProps={type:c.VerificationTypes.CAPTCHA,onCaptchaVerify:c.NOOP,onLogout:c.NOOP};var O=S;t.default=O},974286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.BackgroundTransition=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=p(n(294184)),u=p(n(74854)),l=n(91817),s=p(n(550024)),d=p(n(530250)),f=n(770348),c=p(n(913127));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var h=((r={})[f.ChannelLayouts.NORMAL]=c.default.normal,r[f.ChannelLayouts.MINIMUM]=c.default.minimum,r[f.ChannelLayouts.NO_CHAT]=c.default.noChat,r[f.ChannelLayouts.FULL_SCREEN]=c.default.fullScreen,r),g=function(e){m(t,e);function t(t){var n;(n=e.call(this,t)||this).state={animation:new u.default.Value(0)};return n}var n=t.prototype;n.componentDidAppear=function(){this.state.animation.setValue(1)};n.componentWillEnter=function(e){var t=this.state.animation;t.setValue(0);u.default.spring(t,{toValue:1,overshootClamping:!0}).start(e)};n.componentWillLeave=function(e){u.default.spring(this.state.animation,{toValue:0,overshootClamping:!0}).start(e)}
;n.render=function(){return y(u.default.div,{className:c.default.videoBackgroundTransition,style:{opacity:this.state.animation}},void 0,this.props.children)};return t}(o.PureComponent);t.BackgroundTransition=g;g.displayName="BackgroundTransition";var E=function(e){m(t,e);function t(t){var n;(n=e.call(this,t)||this)._timeout=new l.Timeout;n.handleMouseEvent=function(){var e=n.props.layout;if(e===f.ChannelLayouts.FULL_SCREEN||e===f.ChannelLayouts.NO_CHAT){n._timeout.start(3e3,(function(){return n.setState({idle:!0})}));n.state.idle&&n.setState({idle:!1})}};n.state={idle:!1,backgroundAnimation:new u.default.Value(0),layoutProp:t.layout};return n}var n=t.prototype;n.componentDidMount=function(){document.addEventListener("mousedown",this.handleMouseEvent,!0);document.addEventListener("mousemove",this.handleMouseEvent,!0)};n.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleMouseEvent,!0);document.removeEventListener("mousemove",this.handleMouseEvent,!0)
;this._timeout.stop()};t.getDerivedStateFromProps=function(e,t){return e.layout!==t.layoutProp?t.idle?{idle:!1,layoutProp:e.layout}:{layoutProp:e.layout}:null};n.componentDidUpdate=function(e){this.props.layout!==e.layout&&this._timeout.stop()};n.renderBackground=function(){var e=this.props,t=e.background,n=e.backgroundKey,r=e.layout+"-"+(null!=n?n:"");return y(s.default,{className:c.default.videoBackground,component:"div"},void 0,y(g,{},r,t))};n.renderContents=function(){var e,t,n=this.props,r=n.top,a=n.center,o=n.bottom,u=n.layout,l=n.focused,s=this.state.idle;return y(d.default,{className:(0,i.default)(c.default.video,h[u],(e={},e[c.default.idle]=s,e)),direction:d.default.Direction.VERTICAL,justify:d.default.Justify.CENTER},void 0,y(d.default,{className:c.default.videoWrapper,direction:d.default.Direction.VERTICAL},void 0,this.renderBackground(),y(d.default,{className:(0,i.default)(c.default.videoInner,(t={},t[c.default.focused]=l,t)),direction:d.default.Direction.VERTICAL,
justify:d.default.Justify.BETWEEN},void 0,y(d.default,{className:c.default.videoTop,grow:0},void 0,r),y(d.default,{className:c.default.videoCenter},void 0,a),y(d.default,{className:c.default.videoBottom,grow:0},void 0,o))))};n.render=function(){var e,t=this.props,n=t.layout,r=t.className,a=t.animated;return y("div",{className:(0,i.default)(c.default.videoHeight,h[n],r,(e={},e[c.default.animated]=a,e))},void 0,this.renderContents())};return t}(o.PureComponent);E.displayName="Video";E.defaultProps={layout:f.ChannelLayouts.MINIMUM,animated:!0};var S=E;t.default=S},275189:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(125478)),i=f(n(492626)),u=f(n(628551)),l=n(770348),s=f(n(114957)),d=["style","src","backgroundSrc","pulseSpeakingIndicator","speaking"];function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e){var t=e.style,n=e.src,r=e.backgroundSrc,f=e.pulseSpeakingIndicator,c=void 0!==f&&f,y=e.speaking,m=void 0!==y&&y,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d),h=null!=r?r:n,g=(0,o.default)(h,l.Colors.PRIMARY_DARK_800);if(null==n)return null;var E=a.createElement(u.default,v({className:s.default.avatarWrapper,src:n},_));return p("div",{style:v({},t,{backgroundColor:g}),className:s.default.background},void 0,c?p(i.default,{shouldAnimate:m},void 0,E):E)}y.displayName="VideoBackground";y.AvatarSizes=u.default.Sizes;var m=y;t.default=m},838696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(294184)),i=s(n(974661)),u=s(n(808988)),l=s(n(550542));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=16/9
;function y(e,t){return Math.floor((t-e)/(8+e))+1}function m(e,t,n){for(var r=t-e;r>0;){var a=e,o=Math.floor(r/2);if(n(a+=o)){e=a+1;r-=o+1}else r=o}return e}function _(e,t,n){var r,a=Math.floor(t/25),o=t;if(e>25)r=m(a,o,(function(e){var r=y(e,t),a=function(e,t){var n=e/v;return Math.ceil((t-n)/(8+n))+1}(e,n);return r*a>25}));else{r=m(a,o,(function(r){var a=y(r,t),o=function(e,t){var n=e/v;return Math.floor((t-n)/(8+n))+1}(r,n);return a*o>=e}));r-=1}var i=y(r,t),u=function(e,t){return Math.ceil(t/e)}(i,e);return{tileWidth:r,columns:Math.max(1,i),rows:u}}function h(e){var t,n=e.className,r=e.children,s=e.keyExtractor,d=e.paddingTop,p=void 0===d?0:d,y=e.paddingBottom,m=void 0===y?0:y,h=c(a.useState({width:0,height:0}),2),g=h[0],E=h[1],S=g.width,O=g.height,b=null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0,I=S-16,T=O-(p+m),A=a.useMemo((function(){return function(e,t,n){var r=_(e,t,n),a=r.rows,o=r.columns,i=r.tileWidth;return{tileStyle:{width:i},tileWidth:i,rows:a,columns:o}}(b,I,T)
}),[b,I,T]),C=A.tileStyle,M=A.tileWidth,N=A.rows,P=A.columns,R=P+1,w=R*M+8*(R-1)<=S,D=Math.floor(M/v)+8,L=Math.max(0,T-D*N)/2;return f(u.default,{fade:!0,className:n,listPadding:[p+L,0,m+L-8,8],renderRow:function(e){var t,n=e*P;return f("div",{className:l.default.row},e,null==r||null===(t=r.slice(n,n+P))||void 0===t?void 0:t.map((function(e,t){var r,a,u=n+t;return f("div",{style:C,className:(0,o.default)(l.default.tile,(a={},a[l.default.padColumn]=w,a[l.default.noVerticalMargin]=u>=(N-1)*P,a[l.default.noHorizontalMargin]=(u+1)%P==0||u===b-1,a))},null!==(r=null==s?void 0:s(u))&&void 0!==r?r:u,f(i.default,{className:l.default.tileSizer,aspectRatio:v},void 0,e(M)))})))},rowCount:N,rowCountBySection:[N],rowHeight:D,onResize:E})}h.displayName="Grid"},971146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.VideoStreamFit=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=f(n(294184)),u=n(773336),l=f(n(974661)),s=f(n(80828)),d=f(n(2329));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}t.VideoStreamFit=a;!function(e){e.CONTAIN="contain";e.COVER="cover"}(a||(t.VideoStreamFit=a={}));var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleReady=function(){n.state.loading&&n.setState({loading:!1})};n.state={loading:!0};return n}var n=t.prototype;n.renderPlaceholder=function(){var e=this.props.streamPreviewURL,t=null!=e?p("img",{src:e,alt:"",className:d.default.previewImage}):p(l.default,{aspectRatio:16/9,className:d.default.emptyPreviewWrapper},void 0,p("div",{className:d.default.emptyPreview}));return p(o.Fragment,{},void 0,t,p(s.default,{className:d.default.spinner}))};n.render=function(){var e,t,n=this.props,r=n.streamId,a=n.onResize,o=n.wrapperClassName,l=n.videoComponent,s=n.className,f=n.fit,c=n.mirror,v=n.paused,y=this.state.loading
;return p("div",{className:(0,i.default)(d.default.wrapper,o)},void 0,null!=r&&p(l,{className:(0,i.default)(d.default.video,(0,u.getClass)(d.default,"video",f),(e={},e[d.default.mirror]=c,e),s),streamId:r,onResize:a,onReady:this.handleReady,paused:v}),v?null:p("div",{className:(0,i.default)(d.default.previewWrapper,(t={},t[d.default.loading]=y,t))},void 0,y&&this.renderPlaceholder()))};return t}(o.PureComponent);y.displayName="VideoStream";y.Fit=a;y.defaultProps={fit:a.CONTAIN,mirror:!1,paused:!1};var m=y;t.default=m},510596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(667294)),o=n(354479),i=n(865229),u=d(n(662197)),l=["children","disabled","className","titleClassName","tag","required","style","title","error"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return c.apply(this,arguments)}var p=function(e){var t,n=e.children,r=e.disabled,s=void 0!==r&&r,d=e.className,p=e.titleClassName,v=e.tag,y=void 0===v?u.Tags.H5:v,m=e.required,_=void 0!==m&&m,h=e.style,g=e.title,E=e.error,S=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),O=(0,o.useUID)(),b=null!==(t=S.titleId)&&void 0!==t?t:O;return f("div",{className:null!=d?d:void 0,style:null!=h?h:void 0},void 0,null!=g||null!=E?a.createElement(u.default,c({tag:y,disabled:s,required:_,error:E,className:p,id:b},S),g):null,f(i.FormContextProvider,{titleId:b},void 0,n))};p.displayName="FormItem";p.Tags=u.Tags;var v=p;t.default=v},337322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("clipPath",{},void 0,d("path",{d:"m.000183 0h16v16h-16z"}));function c(e){var t=e.width,n=void 0===t?32:t,r=e.height,a=void 0===r?32:r,l=e.color,c=void 0===l?"currentColor":l,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 16 16",fill:"none"}),f,d("g",{clipPath:"url(#a)"},void 0,d("path",{d:"m7.90039 1c-3.9 0-6.999999 3.1-6.999999 7s3.099999 7 6.999999 7c3.90001 0 7.00001-3.1 7.00001-7s-3.2-7-7.00001-7zm0 2.3c.8 0 1.6.3 2.30001.7l-6.40001 6.4c-.3-.7-.6-1.5-.6-2.4 0-2.6 2.1-4.7 4.7-4.7zm0 9.4c-.9 0-1.7-.3-2.4-.7l6.40001-6.4c.4.7.7 1.5.7 2.4-.1 2.6-2.2 4.7-4.70001 4.7z",fill:c})))}c.displayName="Blocked"},989983:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){return"CloudDone-"+e}var p=d("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,m=e.gradientConfig,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),h=null;null!=m&&(h=a.createElement(o.default,f({},m,{color:v,id:c(m.id)})));return a.createElement("svg",f({},(0,i.default)(_),{width:n,height:l,viewBox:"0 0 24 24"
}),d("defs",{},void 0,h),p,d("path",{fill:null!=m?"url(#"+c(m.id)+")":v,className:y,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"}))}v.displayName="CloudDone"},635114:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){
return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){return"CloudDownload-"+e}var p=d("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){
var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,m=e.gradientConfig,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),h=null;null!=m&&(h=a.createElement(o.default,f({},m,{color:v,id:c(m.id)})));return a.createElement("svg",f({},(0,i.default)(_),{width:n,height:l,viewBox:"0 0 24 24"}),d("defs",{},void 0,h),p,d("path",{fill:null!=m?"url(#"+c(m.id)+")":v,className:y,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}))}v.displayName="CloudDownload"},809898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){return"CloudUpload-"+e}var p=d("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,m=e.gradientConfig,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),h=null;null!=m&&(h=a.createElement(o.default,f({},m,{color:v,id:c(m.id)})));return a.createElement("svg",f({},(0,i.default)(_),{width:n,height:l,viewBox:"0 0 24 24"}),d("defs",{},void 0,h),p,d("path",{fill:null!=m?"url(#"+c(m.id)+")":v,className:y,
d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}))}v.displayName="CloudUpload"},745216:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=["width","height","className","aria-label"];function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s=u("g",{"clip-path":"url(#clip0_198_5469)"},void 0,u("path",{"aria-hidden":!0,d:"M19.15 17C19.41 17.11 19.6 17 19.51 16.73L18.89 15.15L18.28 13.56C18.23 13.4421 18.1442 13.3429 18.0348 13.2765C17.9253 13.2101 17.7977 13.1798 17.67 13.19L13.67 14.28C13.4 14.36 13.56 14.79 13.92 14.93L19.15 17Z",fill:"#FF73FA"}),u("path",{"aria-hidden":!0,
d:"M9.80009 14L7.08009 8.67001L0.440092 18C0.351927 18.1221 0.299095 18.2662 0.287392 18.4163C0.275688 18.5665 0.305566 18.7169 0.373746 18.8512C0.441926 18.9855 0.545775 19.0985 0.673902 19.1776C0.802029 19.2568 0.949484 19.2991 1.10009 19.3H12.5201L9.80009 14Z",fill:"#8086FF"}),u("path",{"aria-hidden":!0,d:"M12.27 19C11.57 19 9.92997 17.31 8.52997 14.57C7.86795 13.3426 7.37674 12.0304 7.06997 10.67C6.83997 9.54999 6.99997 8.99999 7.19997 8.89999H7.32997C8.03997 8.89999 9.66997 10.59 11.07 13.32C12.68 16.46 12.93 18.76 12.4 19.03C12.3549 19.0306 12.3103 19.0203 12.27 19Z",fill:"#05124A"}),u("path",{"aria-hidden":!0,
d:"M7.33009 9.14999C7.86009 9.14999 9.42009 10.67 10.8301 13.43C12.4501 16.57 12.5201 18.55 12.2701 18.77C11.7401 18.77 10.1801 17.25 8.77009 14.49C7.15009 11.35 7.08009 9.35999 7.32009 9.14999H7.33009ZM7.32009 8.60999C7.233 8.60831 7.14693 8.62897 7.07009 8.66999C6.23009 9.08999 6.78009 11.81 8.28009 14.74C9.65009 17.4 11.3401 19.31 12.2801 19.31C12.3672 19.3117 12.4532 19.291 12.5301 19.25C13.3701 18.82 12.8301 16.11 11.3201 13.18C9.96009 10.52 8.26009 8.60999 7.32009 8.60999Z",fill:"#373BE1"}),u("path",{"aria-hidden":!0,d:"M3.53991 17.22C3.16017 16.4754 2.85534 15.6949 2.62991 14.89L1.40991 16.6C1.5797 17.0776 1.77669 17.545 1.99991 18C2.21943 18.4301 2.46316 18.8475 2.72991 19.25H4.84991C4.34607 18.6191 3.90718 17.939 3.53991 17.22Z",fill:"#373BE1"}),u("path",{"aria-hidden":!0,
d:"M6.83003 19.25H9.23003C8.09101 18.2623 7.1538 17.0636 6.47003 15.72C5.75671 14.3452 5.32173 12.8432 5.19003 11.3L3.78003 13.3C4.05054 14.4137 4.46044 15.4889 5.00003 16.5C5.49463 17.4884 6.10927 18.4121 6.83003 19.25Z",fill:"#373BE1"}),u("path",{"aria-hidden":!0,d:"M12.2699 18.77C11.7199 18.7 10.2699 17.3 8.7899 14.49C7.2499 11.49 7.1199 9.57 7.3199 9.19L6.9999 8.69C6.2199 9.19 6.7699 11.86 8.2499 14.74C9.5699 17.31 11.2499 19.19 12.1399 19.3C12.2557 19.3201 12.3748 19.3026 12.4799 19.25L12.2699 18.77Z",fill:"#373BE1"}),u("path",{"aria-hidden":!0,
d:"M15.5901 9.23L14.6201 8C14.5734 7.94051 14.5118 7.89439 14.4416 7.8663C14.3713 7.8382 14.2949 7.82913 14.2201 7.84L10.8601 8.28C10.786 8.29082 10.7158 8.32037 10.6563 8.36587C10.5968 8.41137 10.5499 8.47131 10.5201 8.54L9.22008 11.68C9.18969 11.7486 9.1792 11.8243 9.18981 11.8986C9.20042 11.9729 9.2317 12.0427 9.28008 12.1L10.2801 13.37C10.3268 13.4295 10.3884 13.4756 10.4586 13.5037C10.5288 13.5318 10.6052 13.5409 10.6801 13.53L14.0001 13.05C14.0742 13.0392 14.1443 13.0096 14.2038 12.9641C14.2633 12.9186 14.3102 12.8587 14.3401 12.79L15.6401 9.65C15.6718 9.58232 15.684 9.50709 15.6751 9.43285C15.6663 9.35862 15.6368 9.28834 15.5901 9.23Z",fill:"#FFD836"}),u("path",{"aria-hidden":!0,
d:"M12.6801 10.21L11.4101 9.74001C11.3617 9.72337 11.3182 9.69501 11.2834 9.65748C11.2487 9.61994 11.2238 9.57439 11.2109 9.52489C11.198 9.47539 11.1976 9.42347 11.2097 9.37376C11.2217 9.32405 11.2459 9.27811 11.2801 9.24001L14.7201 5.24001C14.7617 5.1903 14.8178 5.15488 14.8806 5.13873C14.9434 5.12259 15.0096 5.12653 15.0701 5.15001L16.3401 5.61001C16.3871 5.62978 16.4288 5.66018 16.4621 5.69881C16.4954 5.73745 16.5193 5.78327 16.5319 5.83268C16.5445 5.8821 16.5454 5.93376 16.5347 5.98361C16.524 6.03346 16.5019 6.08015 16.4701 6.12001L13.0301 10.12C12.9884 10.1697 12.9323 10.2051 12.8695 10.2213C12.8067 10.2374 12.7405 10.2335 12.6801 10.21Z",fill:"#AEC7FF"}),u("path",{"aria-hidden":!0,
d:"M11.61 17.25L11.35 16.33C11.3396 16.2949 11.3383 16.2577 11.346 16.2219C11.3537 16.1861 11.3702 16.1527 11.394 16.1249C11.4179 16.0971 11.4483 16.0757 11.4825 16.0626C11.5167 16.0495 11.5536 16.0452 11.59 16.05L15.31 16.37C15.3545 16.373 15.397 16.3901 15.4311 16.4189C15.4653 16.4477 15.4894 16.4866 15.5 16.53L15.76 17.45C15.7697 17.4856 15.7707 17.523 15.763 17.5591C15.7552 17.5952 15.7388 17.6289 15.7153 17.6574C15.6918 17.6858 15.6617 17.7082 15.6277 17.7225C15.5937 17.7369 15.5568 17.7429 15.52 17.74L11.8 17.42C11.7546 17.4149 11.7119 17.3958 11.6778 17.3653C11.6438 17.3349 11.6201 17.2946 11.61 17.25Z",fill:"#AEC7FF"}),u("path",{"aria-hidden":!0,
d:"M10.51 4.87L9.51004 4.8C9.47171 4.79882 9.43428 4.78808 9.40117 4.76875C9.36805 4.74942 9.34029 4.72212 9.32041 4.68932C9.30054 4.65653 9.28918 4.61928 9.28737 4.58098C9.28555 4.54268 9.29335 4.50453 9.31004 4.47L10.93 0.900003C10.9491 0.856352 10.9819 0.820078 11.0234 0.796634C11.0648 0.773191 11.1128 0.763846 11.16 0.770003L12.16 0.840003C12.1984 0.841182 12.2358 0.851926 12.2689 0.871256C12.302 0.890587 12.3298 0.917891 12.3497 0.950685C12.3695 0.98348 12.3809 1.02072 12.3827 1.05903C12.3845 1.09733 12.3767 1.13548 12.36 1.17L10.74 4.73C10.7213 4.77455 10.689 4.81205 10.6477 4.83718C10.6064 4.86231 10.5582 4.87379 10.51 4.87Z",fill:"#FF73FA"}),u("path",{"aria-hidden":!0,
d:"M9.11995 3.16L9.38995 3.89C9.40593 3.92181 9.43011 3.94877 9.46 3.96811C9.48988 3.98744 9.52439 3.99846 9.55995 4H10.3699C10.5599 4 10.6099 4.26 10.4499 4.41L9.76995 5.07C9.71086 5.13269 9.67549 5.21403 9.66995 5.3V6.13C9.66965 6.17649 9.6589 6.22232 9.63849 6.2641C9.61808 6.30587 9.58854 6.34252 9.55204 6.37133C9.51555 6.40013 9.47305 6.42037 9.42768 6.43052C9.38231 6.44068 9.33524 6.4405 9.28995 6.43L8.59995 6.1C8.56441 6.08159 8.52497 6.07198 8.48495 6.07198C8.44492 6.07198 8.40549 6.08159 8.36995 6.1L7.57995 6.57C7.38995 6.69 7.20995 6.57 7.26995 6.35L7.51995 5.49C7.53745 5.45777 7.54662 5.42168 7.54662 5.385C7.54662 5.34833 7.53745 5.31223 7.51995 5.28L6.99995 4.81C6.86995 4.68 6.99995 4.42 7.18995 4.37L7.99995 4.17C8.04629 4.1582 8.08971 4.13702 8.12755 4.10779C8.16539 4.07855 8.19684 4.04187 8.21995 4L8.68995 3.2C8.79995 3 9.05995 3 9.11995 3.16Z",fill:"#A5F7DE"}));function d(e){
var t=e.width,n=void 0===t?20:t,r=e.height,i=void 0===r?20:r,u=e.className,d=e["aria-label"],f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,o);return a.createElement("svg",l({width:n,height:i,className:u,"aria-label":d},f,{viewBox:"0 0 20 20"}),s)}d.displayName="ConfettiCannon"},877622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r
},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("rect",{width:"16",height:"16"});function c(e){
var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,c=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,width:n,height:a,viewBox:"0 0 16 16"},(0,i.default)(y)),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:v,fill:c,
d:"M0,1.99406028 C0,0.892771196 0.894513756,0 1.99406028,0 L14.0059397,0 C15.1072288,0 16,0.894513756 16,1.99406028 L16,14.0059397 C16,15.1072288 15.1054862,16 14.0059397,16 L1.99406028,16 C0.892771196,16 0,15.1054862 0,14.0059397 L0,1.99406028 Z M8.23182341,16 L10.3991764,16 L10.3991764,9.93141161 L12.5663127,9.93141161 L13,7.76405862 L10.3991764,7.76405862 L10.3246195,6.3468265 C10.3246195,5.66107601 10.5049432,5.17342158 11.4698488,5.17342158 L12.974642,5.17385505 L12.974642,3.12202197 C12.7618079,3.09319618 12.3142495,3 11.4644304,3 C9.69001851,3 8.18500859,4.20353112 8.18500859,6.23043964 L8.23182341,7.76405862 L6.06425368,7.76405862 L6.06425368,9.93141161 L8.23182341,9.93141161 L8.23182341,16 Z"}),f))}c.displayName="Facebook"},155084:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?22:t,r=e.height,a=void 0===r?20:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 22 20"}),d("path",{d:"M19.0013 3.27074L16.8648 1.13516L18 0L22 4L18 8L16.8648 6.86484L19.0013 4.72926H14V3.27074H19.0013Z",fill:f}),d("path",{d:"M13.9829 8.45686C14.4834 8.90823 15.0602 9.2765 15.6918 9.53993C15.1979 10.7194 14.1545 11.6141 12.8834 11.9017C12.8022 11.8683 12.7203 11.8358 12.6378 11.8042C13.3982 10.8786 13.8873 9.72194 13.9829 8.45686Z",fill:f}),d("path",{
d:"M12 8C12 10.205 10.206 12 8 12C5.795 12 4 10.205 4 8C4 5.795 5.794 4 8 4C10.206 4 12 5.795 12 8Z",fill:f}),d("path",{d:"M0 19C0 15.467 3.29 13 8 13C12.711 13 16 15.467 16 19V20H0V19Z",fill:f}),d("path",{d:"M20.0001 20H18.0001V19C18.0001 16.7999 17.0621 14.9067 15.5213 13.5292C18.2697 14.4355 20.0001 16.4373 20.0001 19V20Z",fill:f}))}f.displayName="GoToAudience"},622193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r)}(n(667294));function a(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i=function(e){var t=e.id,n=e.startColor,r=e.stopColor,a=e.color,i=e.stop;return o("linearGradient",{id:t},void 0,o("stop",{offset:"0",stopColor:n}),o("stop",{offset:i,stopColor:r}),o("stop",{offset:i,stopColor:a}),o("stop",{offset:"1",stopColor:a}))};i.displayName="Gradient";var u=i;t.default=u},852546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),d("rect",{className:c,x:"4",y:"4",width:"7",height:"7",rx:"1",fill:f}),d("rect",{className:c,x:"4",y:"13",width:"7",height:"7",rx:"1",fill:f}),d("rect",{className:c,x:"13",y:"4",width:"7",height:"7",rx:"1",fill:f}),d("rect",{className:c,x:"13",y:"13",width:"7",height:"7",rx:"1",fill:f}))}f.displayName="Grid"},670427:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),d("rect",{className:c,x:"3",y:"3",width:"18",height:"10",rx:"1",fill:f}),d("rect",{className:c,x:"3",y:"15",width:"8",height:"6",rx:"1",fill:f}),d("rect",{className:c,x:"13",y:"15",width:"8",height:"6",rx:"1",fill:f
}))}f.displayName="HorizontalVideoLayout"},170331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e
};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("rect",{width:"16",height:"16"});function c(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,c=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,xmlns:"http://www.w3.org/2000/svg",width:n,height:a,viewBox:"0 0 16 16"},(0,i.default)(y)),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:v,fill:c,
d:"M4.70012698,0.0531746 C3.84888888,0.092 3.2675238,0.22720635 2.7588254,0.42492063 C2.23292063,0.62926983 1.78692063,0.90273016 1.3422857,1.34733333 C0.89768254,1.79196825 0.62422222,2.23796825 0.41987302,2.76387303 C0.22215872,3.27257143 0.08695238,3.85393651 0.04812698,4.7051746 C0.00920635,5.55819048 0,5.83053968 0,8.00253968 C0,10.1745079 0.00920635,10.4468571 0.04812698,11.299873 C0.08695238,12.1511111 0.22215873,12.7324762 0.41987302,13.2411746 C0.62422222,13.7670794 0.89768254,14.2130794 1.34228572,14.6577143 C1.78692062,15.1023175 2.23292062,15.3757778 2.7588254,15.5801587 C3.2675238,15.7778413 3.8488889,15.9130476 4.70012698,15.951873 C5.55314286,15.9907937 5.82549206,16 7.99749206,16 C10.1694603,16 10.4418095,15.9907937 11.2948254,15.951873 C12.1460635,15.9130476 12.7274286,15.7778413 13.236127,15.5801587 C13.7620317,15.3757778 14.2080317,15.1023175 14.6526667,14.6577143 C15.0972698,14.2130794 15.3707302,13.7670794 15.5751111,13.2411746 C15.7727937,12.7324762 15.908,12.1511111 15.9468254,11.299873 C15.985746,10.4468571 15.9949524,10.1745079 15.9949524,8.00253968 C15.9949524,5.83053968 15.985746,5.55819048 15.9468254,4.7051746 C15.908,3.8539365 15.7727937,3.27257143 15.5751111,2.76387302 C15.3707302,2.23796825 15.0972698,1.79196825 14.6526667,1.34733332 C14.2080317,0.90273016 13.7620317,0.62926984 13.236127,0.42492064 C12.7274286,0.22720634 12.1460635,0.092 11.2948254,0.0531746 C10.4418095,0.01425397 10.1694603,0.00504762 7.99749206,0.00504762 C5.82549206,0.00504762 5.55314286,0.01425397 4.70012698,0.0531746 L4.70012698,0.0531746 Z M8.00001453,2.00504762 C9.95416635,2.00504762 10.185649,2.01251386 10.9573741,2.04772432 C11.6709381,2.08026206 12.0584565,2.19948958 12.3163471,2.29971739 C12.6579641,2.43248289 12.9017646,2.59107525 13.157854,2.84719363 C13.4139723,3.10328295 13.5725647,3.34708347 13.7053302,3.68870053 C13.805558,3.94659105 13.9247856,4.33410953 13.9573233,5.04767346 C13.9925338,5.8193986 14,6.05088127 14,8.00506213 C14,9.95921396 13.9925338,10.1906966 13.9573233,10.9624217 C13.9247856,11.6759857 13.805558,12.0635042 13.7053302,12.3213947 C13.5725647,12.6630117 13.4139723,12.9068123 13.157854,13.1629016 C12.9017646,13.41902 12.6579641,13.5776123 12.3163471,13.7103779 C12.0584565,13.8106057 11.6709381,13.9298332 10.9573741,13.9623709 C10.1857652,13.9975814 9.9543116,14.0050476 8.00001453,14.0050476 C6.04568839,14.0050476 5.81426383,13.9975814 5.04262587,13.9623709 C4.32906195,13.9298332 3.94154347,13.8106057 3.68365294,13.7103779 C3.34203588,13.5776123 3.09823536,13.41902 2.84214604,13.1629016 C2.58605671,12.9068123 2.42743531,12.6630117 2.29466977,12.3213947 C2.19444197,12.0635042 2.07521444,11.6759857 2.04267671,10.9624217 C2.00746628,10.1906966 2,9.95921395 2,8.00506212 C2,6.05088125 2.00746625,5.81939858 2.0426767,5.04767347 C2.07521444,4.33410953 2.19444196,3.94659104 2.29466977,3.68870052 C2.42743531,3.34708346 2.58602767,3.10328294 2.84214604,2.84719362 C3.09823536,2.59107524 3.34203588,2.43248288 3.68365294,2.29971735 C3.94154346,2.19948953 4.32906194,2.08026201 5.04262587,2.04772428 C5.81435097,2.01251381 6.04583365,2.00504758 8.00001453,2.00504758 L8.00001453,2.00504762 Z"
}),d("path",{className:v,fill:c,d:"M8.0000119,10 C6.89542535,10 6,9.10457466 6,8.0000119 C6,6.89542535 6.89542534,6 8.0000119,6 C9.10457467,6 10,6.89542534 10,8.0000119 C10,9.10457467 9.10457466,10 8.0000119,10 L8.0000119,10 Z M8.00001546,4 C5.7908468,4 4,5.7908468 4,8.00001546 C4,10.2091532 5.7908468,12 8.00001546,12 C10.2091532,12 12,10.2091532 12,8.00001546 C12,5.7908468 10.2091532,4 8.00001546,4 L8.00001546,4 Z M13,4.00001654 C13,4.55230644 12.5522734,5 11.9999835,5 C11.4477266,5 11,4.55230645 11,4.00001654 C11,3.44772664 11.4477266,3 11.9999835,3 C12.5522734,3 13,3.44772663 13,4.00001654 L13,4.00001654 Z"}),f))}c.displayName="Instagram"},434663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,d:"M18 2H7C5.897 2 5 2.898 5 4V11H12.59L10.293 8.708L11.706 7.292L16.414 11.991L11.708 16.706L10.292 15.294L12.582 13H5V20C5 21.103 5.897 22 7 22H18C19.103 22 20 21.103 20 20V4C20 2.898 19.103 2 18 2Z"}))}f.displayName="Logout"},814379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,d:"M16,8V3H14V8a2,2,0,0,0,2,2h5V8Z"}),d("path",{className:c,fill:f,d:"M14,16v5h2V16h5V14H16A2,2,0,0,0,14,16Z"}),d("path",{className:c,fill:f,d:"M8,8H3v2H8a2,2,0,0,0,2-2V3H8Z"}),d("path",{className:c,fill:f,d:"M8,14H3v2H8v5h2V16A2,2,0,0,0,8,14Z"}))}f.displayName="MinimizeScreen"},833837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24"}),d("g",{clipPath:"url(#clip0)"},void 0,d("path",{d:"M18.8648 1.13516L21.0013 3.27074H16V4.72926H21.0013L18.8648 6.86484L20 8L24 4L20 0L18.8648 1.13516Z",fill:f}),d("path",{d:"M12 2C12.4342 2 12.8466 2.0917 13.2188 2.25683C13.0759 2.81411 13 3.39819 13 4C13 5.90397 13.7601 7.6304 14.9935 8.89235L14.99 11C14.99 12.66 13.66 14 12 14C10.34 14 9 12.66 9 11V5C9 3.34 10.34 2 12 2Z",fill:f}),d("path",{
d:"M12 16.1C14.76 16.1 17.3 14 17.3 11H19C19 14.42 16.28 17.24 13 17.72V22H11V17.72C7.72 17.23 5 14.41 5 11H6.7C6.7 14 9.24 16.1 12 16.1Z",fill:f})),d("defs",{},void 0,d("clipPath",{id:"clip0"},void 0,d("rect",{width:"24",height:"24",fill:f}))))}f.displayName="MoveToSpeaker"},26285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u)
;return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}),d("path",{className:c,d:"M10.889 4C10.889 3.44772 11.3367 3 11.889 3H12.1112C12.6635 3 13.1112 3.44772 13.1112 4V20C13.1112 20.5523 12.6635 21 12.1112 21H11.889C11.3367 21 10.889 20.5523 10.889 20V4Z",fill:f}),d("path",{className:c,d:"M6.44439 6.25C6.44439 5.69772 6.89211 5.25 7.44439 5.25H7.66661C8.2189 5.25 8.66661 5.69772 8.66661 6.25V17.75C8.66661 18.3023 8.2189 18.75 7.66661 18.75H7.44439C6.89211 18.75 6.44439 18.3023 6.44439 17.75V6.25Z",fill:f}),d("path",{className:c,d:"M3.22222 15.375C3.77451 15.375 4.22222 14.9273 4.22222 14.375L4.22222 9.625C4.22222 9.07272 3.77451 8.625 3.22222 8.625H3C2.44772 8.625 2 9.07272 2 9.625V14.375C2 14.9273 2.44772 15.375 3 15.375H3.22222Z",fill:f}),d("path",{className:c,
d:"M22.0001 13.25C22.0001 13.8023 21.5523 14.25 21.0001 14.25H20.7778C20.2255 14.25 19.7778 13.8023 19.7778 13.25V10.75C19.7778 10.1977 20.2255 9.75 20.7778 9.75H21.0001C21.5523 9.75 22.0001 10.1977 22.0001 10.75V13.25Z",fill:f}),d("path",{className:c,d:"M16.3333 7.5C15.781 7.5 15.3333 7.94772 15.3333 8.5V15.5C15.3333 16.0523 15.781 16.5 16.3333 16.5H16.5555C17.1078 16.5 17.5555 16.0523 17.5555 15.5V8.5C17.5555 7.94772 17.1078 7.5 16.5555 7.5H16.3333Z",fill:f}))}f.displayName="NoiseCancellationActive"},400217:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){
var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),d("path",{d:"M30.6666 24.9644L35.1111 20.5199V31C35.1111 32.1046 34.2156 33 33.1111 33H32.6666C31.562 33 30.6666 32.1046 30.6666 31V24.9644Z",fill:f}),d("path",{d:"M26.2224 14.1463V8C26.2224 6.89543 25.327 6 24.2224 6H23.7779C22.6734 6 21.7779 6.89543 21.7779 8V18.5907L26.2224 14.1463Z",fill:f}),d("path",{d:"M21.7779 33.8543L21.9254 33.7056L26.2224 29.4086V40C26.2224 41.1046 25.327 42 24.2224 42H23.7779C22.6734 42 21.7779 41.1046 21.7779 40V33.8543Z",fill:f}),d("path",{
d:"M17.3332 23.0354L12.8888 27.4799V12.5C12.8888 11.3954 13.7842 10.5 14.8888 10.5H15.3332C16.4378 10.5 17.3332 11.3954 17.3332 12.5V23.0354Z",fill:f}),d("path",{d:"M8.44445 28.75C8.44445 29.8546 7.54902 30.75 6.44445 30.75H6C4.89543 30.75 4 29.8546 4 28.75V19.25C4 18.1454 4.89543 17.25 6 17.25H6.44445C7.54902 17.25 8.44445 18.1454 8.44445 19.25L8.44445 28.75Z",fill:f}),d("path",{d:"M44.0001 26.5C44.0001 27.6046 43.1047 28.5 42.0001 28.5H41.5557C40.4511 28.5 39.5557 27.6046 39.5557 26.5V21.5C39.5557 20.3954 40.4511 19.5 41.5557 19.5H42.0001C43.1047 19.5 44.0001 20.3954 44.0001 21.5V26.5Z",fill:f}),d("path",{d:"M42 8.54L39.46 6L6 39.46L8.54 42L16.92 33.64L19.38 31.16L22.7 27.84L29.98 20.56L42 8.54Z",fill:f,className:c}))}f.displayName="NoiseCancellationDisabled"},330998:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("rect",{x:"2",y:"20",width:"26",height:"2",transform:"rotate(-45 2 20)",fill:"#ed4245"});function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,p=e.foreground,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(v),{width:n,height:a,viewBox:"0 0 24 24"}),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:p,fill:c,
d:"M8.67872 19H11V21H7V23H17V21H13V19H20C21.103 19 22 18.104 22 17V6C22 5.89841 21.9924 5.79857 21.9777 5.70101L20 7.67872V15H12.6787L8.67872 19ZM13.1496 6H4V15H4.14961L2.00515 17.1445C2.00174 17.0967 2 17.0486 2 17V6C2 4.897 2.897 4 4 4H15.1496L13.1496 6Z"}),f))}c.displayName="OverlayOff"},523356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u)
;return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,fillRule:"evenodd",clipRule:"evenodd",d:"M20.2949 0.298996L21.7089 1.713L19.4169 4.006L21.7089 6.299L20.2949 7.713L18.0019 5.42L15.7099 7.713L14.2949 6.299L16.5879 4.006L14.2949 1.713L15.7099 0.298996L18.0019 2.592L20.2949 0.298996ZM8.00195 13.006C10.207 13.006 12.002 11.211 12.002 9.006C12.002 6.801 10.207 5.006 8.00195 5.006C5.79695 5.006 4.00195 6.801 4.00195 9.006C4.00195 11.211 5.79695 13.006 8.00195 13.006ZM8.00195 14.006C3.29095 14.006 0.00195312 16.473 0.00195312 20.006V21.006H16.002V20.006C16.002 16.473 12.713 14.006 8.00195 14.006Z"}))}f.displayName="PersonRemove"},303213:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 60 60"}),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:c,fill:f,
d:"M8.95185131,8.62650012 L8.92775494,8.65059649 C3.20486729,14.2891468 -0.0119979765,21.9758886 5.02080018e-05,29.9999795 C-0.0119979765,36.56624 2.14462705,42.9517778 6.13257613,48.1686417 C6.16872068,48.2168345 6.24100979,48.252979 6.28920253,48.2168345 C6.33739527,48.1806899 6.34944345,48.120449 6.32534708,48.0602081 C4.03619202,40.9879237 15.722931,23.8433572 21.7711196,16.6626392 C21.795216,16.6385428 21.8193124,16.6144465 21.8193124,16.5783019 C21.8193124,16.5421573 21.795216,16.5060128 21.7590715,16.4819164 C11.6024519,6.37348961 8.8795622,8.68674104 8.92775494,8.65059649 M51.048208,8.62650012 L51.0723044,8.65059649 C56.795192,14.2770987 60.0000091,21.9758886 59.9879609,29.9999795 C60.0000091,36.56624 57.8433841,42.9517778 53.855435,48.1686417 C53.8192905,48.2168345 53.7470014,48.252979 53.6988086,48.2168345 C53.6506159,48.1806899 53.6506159,48.120449 53.6626641,48.0602081 C55.9518191,40.9879237 44.2650801,23.831309 38.2289397,16.650591 C38.2048433,16.6264946 38.180747,16.6023983 38.180747,16.5662537 C38.180747,16.518061 38.2048433,16.4939646 38.2409879,16.4698682 C48.4096556,6.36144143 51.0964008,8.68674104 51.0602562,8.65059649 M30.0000297,0 C36.0482183,0 41.0361667,1.66264946 45.626525,4.38553917 C45.6867659,4.40963554 45.6988141,4.48192464 45.6747177,4.53011738 C45.6506214,4.57831012 45.5903804,4.5903583 45.5301395,4.57831012 C39.7229146,3.32529893 30.8915953,8.33734369 30.0602706,8.84336744 C30.0361742,8.85541562 30.024126,8.86746381 30.0000297,8.86746381 C29.9759333,8.86746381 29.9518369,8.85541562 29.9397887,8.84336744 C27.7229228,7.56625988 19.5663019,3.28915437 14.4217271,4.61445467 C14.3614862,4.62650286 14.3012452,4.61445467 14.2771489,4.56626193 C14.2530525,4.50602101 14.2771489,4.44578009 14.3253416,4.42168372 C18.9156999,1.66264946 23.9638892,0 30.0000297,0 M30.0000297,24.0602245 C30.0361742,24.0602245 30.0723188,24.0843209 30.0964151,24.1084172 C39.0723126,30.9397379 54.4337479,47.8071962 49.7470041,52.5782773 L49.7590523,52.5662291 L49.7590523,52.5782773 L49.7470041,52.5782773 C44.2771283,57.3734547 37.2650849,60.0120071 30.0000297,59.9999589 C22.7349744,60.0120071 15.7108828,57.3734547 10.2530552,52.5782773 L10.2410071,52.5662291 L10.2530552,52.5782773 C5.56631146,47.8071962 20.9277467,30.9276897 29.9036442,24.1084172 C29.9156924,24.0843209 29.9638851,24.0602245 30.0000297,24.0602245"
})))}f.displayName="PlatformXbox"},311591:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,d:"M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 11.99H19C18.47 16.11 15.72 19.78 12 20.93V12H5V6.3L12 3.19V11.99Z"}))
}f.displayName="PrivacyAndSafety"},924671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}
function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{
d:"M21.03 7.76998C20.955 7.60998 20.81 7.48998 20.635 7.44498C20.545 7.41998 20.445 7.39498 20.35 7.36998C19.805 7.22998 19.135 7.56498 18.85 8.11498L17.87 9.99998C17.585 10.55 17.225 10.51 17.07 9.90998L14.895 1.38498C14.74 0.779981 14.14 0.459981 13.55 0.664981C12.96 0.869981 12.595 1.52498 12.725 2.13498L13.995 7.95998C14.13 8.56998 14.075 9.11498 13.875 9.18498C13.675 9.25498 13.35 8.83498 13.15 8.24498L11.05 2.07498C10.85 1.48498 10.21 1.17498 9.62004 1.37998C9.03004 1.58498 8.71504 2.22998 8.91004 2.81998L10.97 8.99998C11.165 9.58998 11.165 10.125 10.965 10.195C10.765 10.265 10.385 9.86498 10.125 9.29998L7.77504 4.29998C7.51004 3.73998 6.82004 3.44498 6.23004 3.64998C5.64504 3.85498 5.37504 4.47498 5.64004 5.03998L8.60004 11.045C8.86004 11.61 8.91004 12.125 8.71004 12.195C8.51004 12.265 8.03004 11.93 7.64004 11.445L5.60504 8.82498C5.21504 8.33998 4.54004 8.07498 4.09504 8.22998C3.65504 8.38498 3.54004 8.94498 3.84504 9.48998L6.34504 13.865C6.40004 14.02 7.85504 16.8 7.96004 16.915C9.00004 18.565 10.645 19.51 12.73 18.79L14.91 18.035C16.145 17.605 17.095 16.735 17.63 15.7C17.64 15.69 20.15 10.205 21.03 8.28498C21.105 8.11498 21.105 7.92998 21.03 7.76998Z",
fill:f}),d("path",{d:"M21.3251 23.4001L19.1101 19.0301C18.8501 18.5201 18.2501 18.2851 17.7151 18.4851L12.3101 20.5101C12.0201 20.6201 11.7851 20.8451 11.6651 21.1351C11.5451 21.4251 11.5551 21.7501 11.6851 22.0301L12.3151 23.3951H21.3251V23.4001Z",fill:f}))}f.displayName="RaisedHand"},496709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u)
;return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24"}),d("g",{clipPath:"url(#clip0)"},void 0,d("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M20.53 7.76998C20.455 7.60998 20.31 7.48998 20.135 7.44498C20.075 7.42832 20.0106 7.41165 19.9462 7.39498L19.85 7.36998C19.305 7.22998 18.635 7.56498 18.35 8.11498L17.37 9.99998C17.085 10.55 16.725 10.51 16.57 9.90998L14.395 1.38498C14.24 0.779981 13.64 0.459981 13.05 0.664981C12.46 0.869981 12.095 1.52498 12.225 2.13498L13.495 7.95998C13.63 8.56998 13.575 9.11498 13.375 9.18498C13.175 9.25498 12.85 8.83498 12.65 8.24498L10.55 2.07498C10.35 1.48498 9.71004 1.17498 9.12004 1.37998C8.53004 1.58498 8.21504 2.22998 8.41004 2.81998L10.47 8.99998C10.665 9.58998 10.665 10.125 10.465 10.195C10.265 10.265 9.88504 9.86498 9.62504 9.29998L7.27504 4.29998C7.01004 3.73998 6.32004 3.44498 5.73004 3.64998C5.14504 3.85498 4.87504 4.47498 5.14004 5.03998L8.10004 11.045C8.36004 11.61 8.41004 12.125 8.21004 12.195C8.01004 12.265 7.53004 11.93 7.14004 11.445L5.10504 8.82498C4.71504 8.33998 4.04004 8.07498 3.59504 8.22998C3.15504 8.38498 3.04004 8.94498 3.34504 9.48998L5.84504 13.865C5.90004 14.02 7.35504 16.8 7.46004 16.915C8.50004 18.565 10.145 19.51 12.23 18.79L12.96 18.5372V15.84C12.96 14.2494 14.2494 12.96 15.84 12.96H18.3887C18.763 12.143 19.1735 11.2467 19.5492 10.4262L19.5592 10.4045L19.5647 10.3926L19.5648 10.3922L19.5702 10.3804L19.581 10.3569C19.9595 9.53048 20.3003 8.78624 20.53 8.28498C20.605 8.11498 20.605 7.92998 20.53 7.76998ZM11.81 20.51L12.96 20.0792V23.395H11.815L11.185 22.03C11.055 21.75 11.045 21.425 11.165 21.135C11.285 20.845 11.52 20.62 11.81 20.51ZM14.4 16.32C14.4 15.2596 15.2596 14.4 16.32 14.4H22.08C23.1404 14.4 24 15.2596 24 16.32V22.08C24 23.1404 23.1404 24 22.08 24H16.32C15.2596 24 14.4 23.1404 14.4 22.08V16.32ZM16.32 16.56H22.08V17.52H16.32V16.56ZM22.08 18.72H16.32V19.68H22.08V18.72ZM16.32 20.88H22.08V21.84H16.32V20.88Z",
fill:f})),d("defs",{},void 0,d("clipPath",{id:"clip0"},void 0,d("rect",{width:"24",height:"24",fill:f}))))}f.displayName="RaisedHandList"},675044:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,id:"a",
d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H8.9V6zM16 16h-3v3h-2v-3H8v-2h3v-3h2v3h3v2z"}))}f.displayName="SecureLock"},982244:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){
return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("path",{d:"M18 22.001H3a1 1 0 0 1-1-1v-15h2v14h14v2Z"}),c=d("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M21 2.001H7a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-14a1 1 0 0 0-1-1Zm-5.842 2.606a.619.619 0 0 0-.674.134L11.832 7.65H9.977a.62.62 0 0 0-.618.618v3.707c0 .34.278.618.618.618h1.854l2.652 2.908a.619.619 0 0 0 1.055-.436V5.178c0-.25-.15-.476-.381-.571Zm1.64 4.793V7.8c1.324 0 2.4 1.076 2.4 2.4 0 1.323-1.076 2.4-2.4 2.4V11c.442 0 .8-.36.8-.8 0-.44-.358-.8-.8-.8Z"}),p=d("defs",{},void 0,d("clipPath",{id:"a"},void 0,d("path",{fill:"#fff",d:"M0 0h24v24H0z"})));function v(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,v=void 0===l?"currentColor":l,y=e.foreground,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(m),{fill:"none",xmlns:"http://www.w3.org/2000/svg",width:n,height:a,viewBox:"0 0 24 24"}),d("g",{clipPath:"url(#a)",fill:v,className:y},void 0,f,c),p)}v.displayName="Soundboard"},926462:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=i;var r;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r)}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function i(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,i=e.color,u=void 0===i?"currentColor":i,l=e.className,s=e.foreground;return o("svg",{className:l,width:n,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},void 0,o("path",{className:s,fill:u,fillRule:"evenodd",clipRule:"evenodd",
d:"m22.154 11.322c-1.1922-0.647-2.2058-1.505-2.9714-2.5154-0.771-1.01-1.2719-2.1512-1.4672-3.3433l-0.7429-4.0845c-0.0182-0.09889-0.0736-0.19015-0.1578-0.26021-0.0401-0.0373-0.0888-0.06709-0.1432-0.08748-0.0543-0.02039-0.1131-0.03092-0.1725-0.03092-0.0595 0-0.1183 0.01053-0.1726 0.03092-0.0544 0.02039-0.1031 0.05018-0.1432 0.08748-0.0842 0.07006-0.1395 0.16132-0.1578 0.26021l-0.7429 4.0845c-0.2029 1.1892-0.7066 2.3271-1.4764 3.3354-0.7647 1.0105-1.7746 1.8708-2.9622 2.5233l-0.6407 0.3469c-0.0665 0.038-0.1207 0.0895-0.1579 0.1498-0.0141 0.0625-0.0141 0.1267 0 0.1893-0.0139 0.0651-0.0139 0.1319 0 0.1971 0.0396 0.0588 0.0934 0.1099 0.1579 0.1498l0.6407 0.3391c1.1876 0.6524 2.1975 1.5127 2.9622 2.5232 0.7707 1.0137 1.2743 2.1568 1.4764 3.3512l0.7429 4.0924c0.0181 0.0944 0.0738 0.1807 0.1578 0.2444 0.0893 0.0615 0.2008 0.095 0.3158 0.095 0.1149 0 0.2264-0.0335 0.3157-0.095 0.084-0.0637 0.1397-0.15 0.1578-0.2444l0.7429-4.0924c0.2025-1.1895 0.7036-2.3282 1.4694-3.339s1.7784-1.8701 2.9692-2.5197l0.6408-0.339c0.0644-0.04 0.1182-0.091 0.1578-0.1498 0.0296-0.0628 0.0453-0.1296 0.0464-0.1972-9e-4 -0.065-0.0167-0.1293-0.0464-0.1892-0.0372-0.0603-0.0914-0.1118-0.1578-0.1498l-0.6408-0.3627z"
}),o("path",{className:s,fill:u,fillRule:"evenodd",clipRule:"evenodd",
d:"m8.4786 6.63c-0.73571-0.3529-1.3612-0.82091-1.8336-1.372-0.47577-0.55089-0.78481-1.1734-0.90536-1.8236l-0.45841-2.2279c-0.01128-0.05395-0.04544-0.10372-0.09741-0.14194-0.0247-0.02034-0.05479-0.03659-0.08833-0.04771-0.03355-0.01112-0.06982-0.01687-0.10649-0.01687-0.03668 0-0.07295 0.00575-0.10649 0.01687-0.03355 0.01112-0.06364 0.02737-0.08834 0.04771-0.05197 0.03822-0.08613 0.08799-0.09741 0.14194l-0.45841 2.2279c-0.12524 0.64867-0.43605 1.2693-0.91108 1.8193-0.47184 0.5512-1.095 1.0204-1.8279 1.3763l-0.39537 0.18924c-0.04101 0.02075-0.07448 0.04884-0.09742 0.08172-0.008668 0.0341-0.008668 0.06912 0 0.10322-0.008592 0.03555-0.008592 0.07197 0 0.10752 0.02444 0.03209 0.05764 0.05994 0.09742 0.08172l0.39537 0.18495c0.73288 0.35588 1.3561 0.82511 1.8279 1.3763 0.47559 0.55292 0.78638 1.1765 0.91108 1.8279l0.45841 2.2323c0.01118 0.0515 0.04557 0.0985 0.09741 0.1333 0.05511 0.0335 0.12389 0.0518 0.19483 0.0518 0.07093 0 0.13971-0.0183 0.19482-0.0518 0.05185-0.0348 0.08623-0.0818 0.09741-0.1333l0.45841-2.2323c0.12495-0.64879 0.43417-1.2699 0.90672-1.8212 0.47255-0.55133 1.0974-1.02 1.8323-1.3743l0.39538-0.18494c0.03977-0.02179 0.07297-0.04964 0.09741-0.08172 0.01824-0.03422 0.02795-0.07067 0.02865-0.10753-6e-4 -0.03547-0.01033-0.07051-0.02865-0.10322-0.02293-0.03288-0.05641-0.06096-0.09741-0.08172l-0.39538-0.19784z"
}),o("path",{className:s,fill:u,fillRule:"evenodd",clipRule:"evenodd",
d:"m10.544 18.222c-0.6437-0.2646-1.191-0.6156-1.6044-1.029-0.4163-0.4131-0.68671-0.88-0.79219-1.3677l-0.4011-1.6709c-0.00987-0.0405-0.03976-0.0778-0.08524-0.1065-0.02161-0.0152-0.04794-0.0274-0.07729-0.0358-0.02935-0.0083-0.06109-0.0126-0.09318-0.0126s-0.06382 0.0043-0.09318 0.0126c-0.02935 0.0084-0.05568 0.0206-0.07729 0.0358-0.04547 0.0287-0.07537 0.066-0.08524 0.1065l-0.4011 1.6709c-0.10959 0.4865-0.38155 0.952-0.7972 1.3645-0.41286 0.4134-0.95815 0.7653-1.5994 1.0322l-0.34595 0.142c-0.03588 0.0155-0.06517 0.0366-0.08524 0.0613-0.00759 0.0255-0.00759 0.0518 0 0.0774-0.00752 0.0266-0.00752 0.054 0 0.0806 0.02139 0.0241 0.05043 0.045 0.08524 0.0613l0.34595 0.1387c0.64127 0.2669 1.1866 0.6188 1.5994 1.0322 0.41615 0.4147 0.68809 0.8824 0.7972 1.371l0.4011 1.6741c0.00979 0.0387 0.03988 0.074 0.08524 0.1 0.04822 0.0252 0.1084 0.0389 0.17047 0.0389s0.12225-0.0137 0.17047-0.0389c0.04537-0.026 0.07545-0.0613 0.08524-0.1l0.4011-1.6741c0.10933-0.4866 0.3799-0.9525 0.79338-1.366 0.41349-0.4135 0.96024-0.765 1.6032-1.0307l0.346-0.1387c0.0348-0.0164 0.0638-0.0373 0.0852-0.0613 0.016-0.0257 0.0245-0.053 0.0251-0.0807-5e-4 -0.0266-9e-3 -0.0529-0.0251-0.0774-0.02-0.0247-0.0493-0.0457-0.0852-0.0613l-0.346-0.1484z"
}))}i.displayName="Sparkles"},233121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,
d:"M13.5605 11L11.2646 8.706L12.6842 7.294L17.4023 12.009L12.6822 16.708L11.2656 15.292L13.5685 13H2C2.50429 18.045 6.7842 22 11.9744 22C17.5025 22 22 17.513 22 12C22 6.487 17.5025 2 11.9744 2C6.7842 2 2.50429 5.954 2 11H13.5605Z"}))}f.displayName="StageLeave"},980351:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?32:t,r=e.height,a=void 0===r?32:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{
width:n,height:a,viewBox:"0 0 32 32"}),d("rect",{width:"32",height:"32",rx:"16",fill:f}),d("path",{d:"M23 9.99995C19.56 9.99995 16.826 6.43495 16.799 6.39795C16.421 5.89795 15.579 5.89795 15.201 6.39795C15.174 6.43495 12.44 9.99995 9 9.99995C8.447 9.99995 8 10.4479 8 10.9999V17.9999C8 21.8069 14.764 25.4779 15.534 25.8839C15.68 25.9609 15.84 25.9979 16 25.9979C16.16 25.9979 16.32 25.9599 16.466 25.8839C17.236 25.4779 24 21.8069 24 17.9999V10.9999C24 10.4479 23.553 9.99995 23 9.99995ZM19 19.9999L16 17.9999L13 19.9999L14 16.9999L12 14.9999H15L16 11.9999L17 14.9999H20L18 16.9999L19 19.9999Z",className:c}))}f.displayName="StarBadge"},934297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?14:t,r=e.height,a=void 0===r?14:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 14 14"}),d("path",{fill:f,className:c,
d:"M6.99471698,9.67522659 C8.47108874,9.67522659 9.66792453,8.47748685 9.66792453,7 C9.66792453,5.52251315 8.47108874,4.32477341 6.99471698,4.32477341 C5.51834522,4.32477341 4.32150943,5.52251315 4.32150943,7 C4.32150943,8.47748685 5.51834522,9.67522659 6.99471698,9.67522659 Z M6.99471698,2.67522659 C8.18867925,2.67522659 9.26641509,3.16163142 10.0483019,3.94410876 L11.9396226,2.05135952 C10.6822642,0.782477341 8.92830189,0 6.99471698,0 C3.12754717,0 0,3.14048338 0,7 L2.67320755,7 C2.67320755,4.6102719 4.60679245,2.67522659 6.99471698,2.67522659 Z M11.3267925,7 C11.3267925,9.3897281 9.39320755,11.3247734 7.00528302,11.3247734 C5.81132075,11.3247734 4.73358491,10.8383686 3.94113208,10.0558912 L2.04981132,11.9486405 C3.31773585,13.2175227 5.06113208,14 6.99471698,14 C10.8618868,14 14,10.8595166 14,7 L11.3267925,7 Z"}))}f.displayName="Status"},526432:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({width:n,height:a},(0,i.default)(c),{viewBox:"0 0 24 24"}),d("path",{d:"M13.8003 3.59643V7.86267C13.8003 9.15683 14.8448 10.2011 16.1393 10.2011H20.4067C20.9334 10.2011 21.2012 9.56739 20.8263 9.19253L14.8091 3.17694C14.4341 2.80208 13.8003 3.06092 13.8003 3.59643Z",fill:f}),d("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M11.9727 7.88073C11.9727 10.1692 13.8304 12.0269 16.1189 12.0269H20.9471V19.2064C20.9471 20.1936 20.1394 21.0013 19.1523 21.0013H4.79318C3.80599 21.0013 2.99829 20.1936 2.99829 19.2064V4.84737C2.99829 3.86019 3.80599 3.05249 4.79318 3.05249H11.9727V7.88073ZM13.8 14C13.8 14.9941 12.9941 15.8 12 15.8C11.0059 15.8 10.2 14.9941 10.2 14H9C9 15.6569 10.3431 17 12 17C13.6569 17 15 15.6569 15 14H13.8ZM7 15C7 15.5523 6.55228 16 6 16C5.44772 16 5 15.5523 5 15C5 14.4477 5.44772 14 6 14C6.55228 14 7 14.4477 7 15ZM18 16C18.5523 16 19 15.5523 19 15C19 14.4477 18.5523 14 18 14C17.4477 14 17 14.4477 17 15C17 15.5523 17.4477 16 18 16Z",fill:f}))}f.displayName="StickerPadded"},485308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 16 16"}),d("path",{fill:f,className:c,d:"M2.66663 7.40747H7.40737H8.59255H8.66663H13.3333V8.59266H8.59255H7.40737H2.66663V7.40747Z"}))}f.displayName="Subtract"},12713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function f(e){var t=e.width,n=void 0===t?20:t,r=e.height,a=void 0===r?20:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),d("path",{
d:"M13.4996 0H6.72144C6.62254 1.34004e-06 6.52586 0.0293272 6.44363 0.0842743C6.36141 0.139221 6.29733 0.217322 6.25949 0.308693C6.22165 0.400063 6.21176 0.500602 6.23106 0.597595C6.25037 0.694589 6.298 0.783679 6.36794 0.8536L7.63564 2.1213C7.82317 2.30884 7.92853 2.56319 7.92853 2.8284C7.92853 3.09361 7.82317 3.34796 7.63564 3.5355L6.22144 4.9498C5.65884 5.51241 5.34277 6.27546 5.34277 7.0711C5.34277 7.86674 5.65884 8.62979 6.22144 9.1924C6.40897 9.37993 6.66331 9.48528 6.92853 9.48528C7.19374 9.48528 7.4481 9.37993 7.63564 9.1924L9.75703 7.0711C10.1321 6.69603 10.6408 6.48533 11.1712 6.48533C11.7017 6.48533 12.2104 6.69603 12.5854 7.0711L13.146 7.6317C13.2159 7.70164 13.305 7.74927 13.402 7.76858C13.499 7.78788 13.5996 7.77799 13.6909 7.74015C13.7823 7.70231 13.8604 7.63823 13.9154 7.556C13.9703 7.47377 13.9996 7.37709 13.9996 7.2782V0.5C13.9996 0.367392 13.9469 0.240214 13.8532 0.146446C13.7594 0.052678 13.6322 0 13.4996 0Z",fill:f}),d("path",{
d:"M4.5 17.9999H11.2782C11.3771 17.9999 11.4738 17.9706 11.556 17.9157C11.6382 17.8607 11.7023 17.7826 11.7401 17.6912C11.778 17.5999 11.7879 17.4993 11.7686 17.4023C11.7493 17.3053 11.7016 17.2163 11.6317 17.1463L10.364 15.8786C10.1765 15.6911 10.0711 15.4367 10.0711 15.1715C10.0711 14.9063 10.1765 14.652 10.364 14.4644L11.7782 13.0501C12.3408 12.4875 12.6569 11.7245 12.6569 10.9288C12.6569 10.1332 12.3408 9.37014 11.7782 8.80753C11.5907 8.62 11.3363 8.51465 11.0711 8.51465C10.8059 8.51465 10.5515 8.62 10.364 8.80753L8.2426 10.9288C7.86753 11.3039 7.35883 11.5146 6.8284 11.5146C6.29797 11.5146 5.78927 11.3039 5.4142 10.9288L4.85361 10.3682C4.78369 10.2983 4.69459 10.2507 4.5976 10.2314C4.5006 10.2121 4.40006 10.2219 4.30869 10.2598C4.21731 10.2976 4.13922 10.3617 4.08427 10.4439C4.02933 10.5262 4 10.6228 4 10.7217V17.4999C4 17.6325 4.05269 17.7597 4.14645 17.8535C4.24022 17.9473 4.36739 17.9999 4.5 17.9999Z",fill:f}))}f.displayName="SwitchAccountsIcon"},509765:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.className,p=e.foreground,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(v),{className:c,width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:p,fill:f,fillRule:"evenodd",clipRule:"evenodd",
d:"M17.722 3.00098H21C21.553 3.00098 22 3.44898 22 4.00098V8.00098C22 8.30498 21.861 8.59298 21.625 8.78198L16.696 12.724C15.794 13.86 14.49 14.659 13 14.911V16.001H15C15.553 16.001 16 16.449 16 17.001V19.001H8V17.001C8 16.449 8.447 16.001 9 16.001H11V14.911C9.51 14.659 8.206 13.86 7.304 12.724L2.375 8.78198C2.139 8.59298 2 8.30498 2 8.00098V4.00098C2 3.44898 2.447 3.00098 3 3.00098H6.278C6.625 2.40598 7.263 2.00098 8 2.00098H16C16.738 2.00098 17.375 2.40598 17.722 3.00098ZM4 5.00098V7.52098L6.006 9.12598C6.006 9.10435 6.00448 9.08348 6.00297 9.06274C6.00148 9.04224 6 9.02185 6 9.00098V5.00098H4ZM17.994 9.12698L20 7.52098V5.00098H18V9.00098C18 9.02173 17.9985 9.042 17.9971 9.0625C17.9955 9.08349 17.994 9.10472 17.994 9.12698ZM7 20.001H17V22.001H7V20.001Z"}))}f.displayName="Trophy"},637853:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("rect",{width:"20",height:"16"});function c(e){var t=e.width,n=void 0===t?20:t,r=e.height,a=void 0===r?16:r,l=e.color,c=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,width:n,height:a,viewBox:"0 0 20 16"},(0,i.default)(y)),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:v,fill:c,
d:"M1,14.1538462 L1.95,14.1538462 C3.73125,14.1538462 5.5125,13.5384615 6.81875,12.4307692 C5.15625,12.4307692 3.73125,11.2 3.1375,9.6 C3.375,9.6 3.6125,9.72307692 3.85,9.72307692 C4.20625,9.72307692 4.5625,9.72307692 4.91875,9.6 C3.1375,9.23076923 1.7125,7.63076923 1.7125,5.66153846 C2.1875,5.90769231 2.78125,6.15384615 3.49375,6.15384615 C2.425,5.41538462 1.83125,4.18461538 1.83125,2.70769231 C1.83125,1.96923077 2.06875,1.23076923 2.30625,0.615384615 C4.20625,3.07692308 7.05625,4.67692308 10.38125,4.8 C10.2625,4.67692308 10.2625,4.30769231 10.2625,4.06153846 C10.2625,1.84615385 12.04375,0 14.18125,0 C15.25,0 16.31875,0.492307692 17.03125,1.23076923 C17.8625,1.10769231 18.8125,0.738461538 19.525,0.246153846 C19.2875,1.23076923 18.575,1.96923077 17.8625,2.46153846 C18.575,2.46153846 19.2875,2.21538462 20,1.84615385 C19.525,2.70769231 18.8125,3.32307692 18.1,3.93846154 L18.1,4.43076923 C18.1,9.84615385 14.18125,16 6.9375,16 C4.68125,16 2.6625,15.3846154 1,14.1538462 Z"}),f))}
c.displayName="Twitter"},298408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}
function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{fill:f,
d:"M12 14C7.289 14 4 16.467 4 20V22H20V20C20 16.467 16.711 14 12 14ZM11 19C10.447 19 10 18.553 10 18C10 17.447 10.447 17 11 17C11.553 17 12 17.447 12 18C12 18.553 11.553 19 11 19ZM14 19C13.447 19 13 18.553 13 18C13 17.447 13.447 17 14 17C14.553 17 15 17.447 15 18C15 18.553 14.553 19 14 19Z"}),d("path",{fill:f,d:"M18 6H17.91C17.432 3.167 14.967 1 12 1C9.033 1 6.568 3.167 6.09 6H6C4.896 6 4 6.896 4 8V9C4 10.104 4.896 11 6 11C6 12.102 6.897 13 8 13H16C17.104 13 18 12.102 18 11C19.104 11 20 10.104 20 9V8C20 6.896 19.104 6 18 6ZM16 10H8V6H16V10Z"}))}f.displayName="UnknownUser"},950291:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),d("rect",{className:c,x:"1",y:"4",width:"13",height:"16",rx:"2",fill:f}),d("rect",{className:c,x:"16",y:"4",width:"7",height:"7",rx:"1",fill:f}),d("rect",{className:c,x:"16",y:"13",width:"7",height:"7",rx:"1",fill:f}))}f.displayName="VideoLayout"},251689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=O(n(294184)),i=O(n(441143)),u=O(n(711195)),l=O(n(530250)),s=O(n(160629)),d=O(n(730977)),f=O(n(167870)),c=O(n(259530)),p=O(n(347114)),v=O(n(628551)),y=O(n(550270)),m=O(n(139574)),_=O(n(902060)),h=O(n(683898)),g=n(770348),E=O(n(247001)),S=O(n(110854));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t){A=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return A(e,t)}var C=5,M=4,N=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;A(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];(t=e.call.apply(e,[this].concat(r))||this).renderPartyMember=function(e,n){if(null==e)return null;var r,l=t.props,f=l.host,c=l.renderUserPopout,p=l.onUserContextMenu;r=(null==f?void 0:f.id)===e.id?E.default.Messages.SPOTIFY_LISTEN_ALONG_HOST:E.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENER;return I(s.default,{preload:function(){return(0,
u.default)(e.id,e.getAvatarURL(void 0,80))},renderPopout:function(t){(0,i.default)(null!=e,"");return c(t,e)},position:s.default.Positions.TOP,align:s.default.Align.CENTER},e.id,(function(t){return I(d.default,{text:r},void 0,(function(r){var i=r.onMouseEnter,u=r.onMouseLeave;return a.createElement(v.default,T({},t,{key:e.id,src:e.getAvatarURL(void 0,24),size:v.default.Sizes.SIZE_24,className:(0,o.default)(S.default.avatar,n),"aria-label":e.username,onMouseEnter:i,onMouseLeave:u,onContextMenu:function(t){null!=e&&(null==p||p(t,e))}}))}))}))};t.renderPartyMemberOverflow=function(e,n,r){var i=t.props.renderOverflowPopout;return I(s.default,{renderPopout:i},r,(function(t){return I(d.default,{text:E.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENERS},void 0,(function(r){return a.createElement("div",T({className:(0,o.default)(S.default.overflow,n)},r,t),e)}))}))};return t}var n=t.prototype;n.isHost=function(){var e=this.props,t=e.currentUser,n=e.host;return t.id===(null==n?void 0:n.id)}
;n.renderTitle=function(){return I("div",{},void 0,I(h.default,{},void 0,this.isHost()?E.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_HOST.format({count:this.props.party.length}):E.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_LISTENER),I(_.default,{},void 0,E.default.Messages.SPOTIFY_LISTEN_ALONG_SUBTITLE_LISTENER))};n.renderStopListeningButton=function(){var e=this.props.onStopListening;return this.isHost()?null:I(m.default,{tooltipText:E.default.Messages.SPOTIFY_LISTEN_ALONG_STOP,onClick:e,icon:c.default})};n.renderHelpIcon=function(){if(!this.isHost())return null;return I(m.default,{tooltipText:E.default.Messages.SPOTIFY_LISTEN_ALONG_INFO,onClick:function(){window.open(y.default.getArticleURL(g.HelpdeskArticles.SPOTIFY_CONNECTION),"_blank")},icon:p.default})};n.render=function(){return I("div",{className:S.default.listeningAlong},void 0,this.renderTitle(),I(l.default,{justify:l.default.Justify.END,className:S.default.party},void 0,I(f.default,{users:this.props.party,
max:this.isHost()?C:M,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})),I("div",{className:S.default.icons},void 0,this.renderHelpIcon(),this.renderStopListeningButton()))};return t}(a.PureComponent);N.displayName="ListeningAlong";var P=N;t.default=P},57754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=v(n(667294)),i=c(n(294184)),u=c(n(324582)),l=c(n(287317)),s=v(n(272544)),d=n(942675),f=c(n(786588));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}!function(e){e[e.OUTGOING=0]="OUTGOING";e[e.INCOMING=1]="INCOMING"}(a||(a={}));var h=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.renderStatus=function(){var e=this.props,t=e.muted,n=e.deafen,r=n?u.default:l.default;return t||n?m(r,{className:f.default.status},"status"):null};n.renderBorder=function(){var e,t=this.props.speaking;return m("div",{className:(0,i.default)(f.default.border,(e={},e[f.default.speaking]=t,e))},"border")};n.renderVoiceCallAvatar=function(){var e,t=this.props,n=t.src,r=t.disabled,o=t.ringing,u=t.ringingType,l=t.avatarClassName,c=t.muted,p=t.deafen,v=t.size,y=t.renderIcon,_=(0,d.getAvatarSize)(v),h=m("img",{src:n,alt:" ",className:(0,i.default)(f.default.voiceAvatar,l,(e={},e[f.default.ringingOutgoing]=o&&u===a.OUTGOING,e))});if(r)return h;var g=s.MaskIDs.AVATAR_DEFAULT;null!=y?g=v===d.Sizes.SIZE_32?s.MaskIDs.AVATAR_CALL_ICON_32:s.MaskIDs.AVATAR_CALL_ICON:(c||p)&&(g=s.MaskIDs.AVATAR_VOICE_CALL_80);return m(s.default,{
className:f.default.callAvatarMask,width:_,height:_,mask:g},void 0,null==y?void 0:y(),h,c||p?this.renderStatus():this.renderBorder())};n.render=function(){var e,t=this.props,n=t.size,r=t.onClick,o=t.style,u=t.onContextMenu,l=t.className,s=t.ringingType,c=t.ringing,p=(0,i.default)(f.default.wrapper,((e={})[f.default.clickable]=null!=r,e[f.default.ringingOutgoing]=c&&s===a.OUTGOING,e[f.default.ringingIncoming]=c&&s===a.INCOMING,e),l),v=(0,d.getAvatarSize)(n);return m("div",{style:y({height:v,width:v},o),onContextMenu:u,className:p},void 0,this.renderVoiceCallAvatar())};return t}(o.PureComponent);h.displayName="CallAvatar";h.defaultProps={size:d.Sizes.SIZE_80,ringingType:a.OUTGOING,speaking:!1,soundsharing:!1,ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,disabled:!1,paused:!1};h.RingingType=a;var g=h;t.default=g},540671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getPartyMetadata=function(e){return{af_voice_chat:e.voiceChannels.length>0,
af_people_count:e.partiedMembers.length,af_rich_presence:e.currentActivities.some((function(e){var t=e.activity;return(0,a.default)(t)})),game_platform:e.currentActivities.length>0?(0,r.default)(e.currentActivities[0].activity):null}};var r=o(n(200738)),a=o(n(93392));function o(e){return e&&e.__esModule?e:{default:e}}},899984:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(120053))&&r.__esModule?r:{default:r};function o(){o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return o.apply(this,arguments)}var i,u=a.default.defaultRules.lheading,l=a.default.defaultRules.heading,s=a.default.defaultRules.link,d=a.default.defaultRules.image,f=a.default.defaultRules.list,c=a.default.defaultRules.blockQuote,p=a.default.defaultRules.paragraph,v=/\{(.+?)}/,y=/^\$(\w+?)\$/;i=n(222234);var m=function(e){
var t=e.transformUpperCase,n=void 0!==t&&t;return function(e,t,r){var o=v.exec(e[1]),i=e[1].replace(v,"");n&&(i=i.toUpperCase());return{className:null!=o?o[1]:null,level:"="===e[2]?1:2,content:a.default.parseInline(t,i,r)}}},_=function(e){return o({},i.baseRules,{image:o({},d,{},"function"==typeof i.customRules.image?i.customRules.image(e):i.customRules.image),link:o({},s,{},"function"==typeof i.customRules.link?i.customRules.link(e):i.customRules.link),list:o({},f,{},"function"==typeof i.customRules.list?i.customRules.list(e):i.customRules.list),interpolation:{order:a.default.defaultRules.text.order,match:function(e){return y.exec(e)},parse:function(e,t,n){var r=n.interpolations[e[1]];return null==r?{type:"text",content:e[0]}:{type:"interpolation",renderer:r}},react:function(e){return e.renderer()}},lheading:o({},u,{parse:m({transformUpperCase:!0})},"function"==typeof i.customRules.lheading?i.customRules.lheading(e):i.customRules.lheading),
heading:o({},l,{},"function"==typeof i.customRules.heading?i.customRules.heading(e):i.customRules.heading),blockQuote:o({},c,{},"function"==typeof i.customRules.blockQuote?i.customRules.blockQuote(e):i.customRules.blockQuote),paragraph:o({},p,{},"function"==typeof i.customRules.paragraph?i.customRules.paragraph(e):i.customRules.paragraph)})},h={getDefaultRules:function(e){return o({},_(e))},getSpecialRules:function(e){return o({},_(e),{},function(e){return{lheading:o({},u,{parse:m({transformUpperCase:!1})},"function"==typeof i.customRules.lheading?i.customRules.lheading(e):i.customRules.lheading)}}(e))}};t.default=h},581894:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.formatExpiration=r;var n=/[^0-9/]/g;function r(e){var t=e.replace(n,"").split("/"),r=t[0],a=t[1],o=[];parseInt(r,10)>12&&(r=r.substring(0,1));o.push(r);(parseInt(r,10)>1||2===r.length||null!=a&&""!==a)&&o.push("/");null!=a&&""!==a&&parseInt(a,10)>99&&(a=(a+"").substring(0,2))
;o.push(a);return o.join("")}var a={formatExpiration:r};t.default=a},35570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getRandomHouse=t.getQuestions=t.getHouseNameFromHouseID=void 0;var r=i(n(441143)),a=n(770348),o=i(n(247001));function i(e){return e&&e.__esModule?e:{default:e}}t.getRandomHouse=function(){var e=Object.keys(a.HypeSquadHouses);return e[Math.floor(Math.random()*e.length)]};t.getQuestions=function(){
var e=[a.HypeSquadHouses.HOUSE_1,a.HypeSquadHouses.HOUSE_2,a.HypeSquadHouses.HOUSE_3,a.RANDOM_HYPESQUAD_HOUSE],t=[o.default.Messages.HYPESQUAD_QUESTION_0_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_1_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_2_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_3_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_4_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_5_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_6_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_7_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_8_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_9_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_10_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_11_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_12_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_13_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_14_PROMPT],n=[[o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_D]]
;return function(){for(var e=[];e.length<5;){var t=Math.floor(15*Math.random());e.includes(t)||e.push(t)}return e}().map((function(a){var o=t[a],i=n[a];(0,r.default)(null!=o&&null!=i,"Invalid HypeSquad quiz question index");return{prompt:o,options:i.map((function(t,n){var a=e[n];(0,r.default)(null!==a,"Invalid HypeSquad quiz question option index");return{copy:t,house:a}}))}}))};t.getHouseNameFromHouseID=function(e){var t;return((t={})[a.HypeSquadHouses.HOUSE_1]=o.default.Messages.HYPESQUAD_HOUSE_1,t[a.HypeSquadHouses.HOUSE_2]=o.default.Messages.HYPESQUAD_HOUSE_2,t[a.HypeSquadHouses.HOUSE_3]=o.default.Messages.HYPESQUAD_HOUSE_3,t)[e]}},303763:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.RowTypes=void 0;t.generateRowsForQuery=function(e,t,n,r,a){var o=new Set,u=[],v={numFriends:0,numDms:0,numGroupDms:0,numGuildMembers:0};if(""===e){var y={omitUserIds:t,maxRowsWithoutQuery:r,guildId:a,shownUserIds:o,rows:u,counts:v};!function(e){
var t=e.omitUserIds,n=e.suggestedUserIds,r=e.maxRowsWithoutQuery,a=e.guildId,o=e.shownUserIds,i=e.rows,u=e.counts;if(null!=n)for(var l,s=_(n);!(l=s()).done;){var f=l.value;if(null!=r&&r>0&&i.length>=r)break;if(!t.has(f)){var c=d.default.getUser(f);if(null!=c&&!E(a,c.id)){o.add(c.id);i.push({type:g.FRIEND,item:c,isSuggested:!0});u.numFriends++}}}}(m({},y,{suggestedUserIds:n}));!function(e){for(var t,n=e.omitUserIds,r=e.maxRowsWithoutQuery,a=e.guildId,o=e.shownUserIds,u=e.rows,s=e.counts,c=e.includeGroupDms,v=_(f.default.getPrivateChannelIds());!(t=v()).done;){var y=t.value;if(null!=r&&r>0&&u.length>=r)break;var m=i.default.getChannel(y);if(null!=m)if(c&&m.type===p.ChannelTypes.GROUP_DM){u.push({type:g.GROUP_DM,item:m,isSuggested:!1});s.numGroupDms++}else{if(null!=l.default.lastMessageId(m.id)){var h=m.getRecipientId();if(null!=h&&!n.has(h)&&!o.has(h)){var S=d.default.getUser(h);if(null==S||S.bot||E(a,S.id))continue;o.add(S.id);u.push({type:g.DM,item:S,isSuggested:!1});s.numDms++}}}}
}(m({},y,{includeGroupDms:!0}));!function(e){for(var t,n=e.omitUserIds,r=e.maxRowsWithoutQuery,a=e.guildId,o=e.shownUserIds,i=e.rows,u=e.counts,l=_(s.default.getFriendIDs());!(t=l()).done;){var f=t.value;if(null!=r&&r>0&&i.length>=r)break;if(!n.has(f)&&!o.has(f)){var c=d.default.getUser(f);if(null!=c&&!E(a,c.id)){i.push({type:g.FRIEND,item:c,isSuggested:!1});u.numFriends++}}}}(y)}else{var h={query:e,rows:u,counts:v};!function(e){var t=e.query,n=e.omitUserIds,r=e.shownUserIds,a=e.rows,o=e.counts;c.default.queryDMUsers({query:t,limit:50}).forEach((function(e){var t=e.record;if(!n.has(t.id)){var u=i.default.getDMFromUserId(t.id);if(null!=u){if(null!=l.default.lastMessageId(u)){r.add(t.id);a.push({type:g.DM,item:t,isSuggested:!1});o.numDms++}}}}))}(m({},h,{omitUserIds:t,shownUserIds:o}));!function(e){var t=e.query,n=e.rows,r=e.counts;c.default.queryGroupDMs({query:t,limit:50,fuzzy:!1}).forEach((function(e){var t=e.record;n.push({type:g.GROUP_DM,item:t,isSuggested:!1});r.numGroupDms++}))
}(h);!function(e){var t=e.query,n=e.rows,r=e.counts,a=e.omitUserIds,o=e.shownUserIds;c.default.queryFriends({query:t,limit:500,_fuzzy:!1}).forEach((function(e){var t=e.record;if(!a.has(t.id)&&!o.has(t.id)){o.add(t.id);n.push({type:g.FRIEND,item:t,isSuggested:!1});r.numFriends++}}))}(m({},h,{omitUserIds:t,shownUserIds:o}))}return{rows:u,counts:v}};t.getMostRecentDMedUser=function(e,t){for(var n,r=_(f.default.getPrivateChannelIds());!(n=r()).done;){var a=n.value,o=i.default.getChannel(a);if(null!=o&&o.type===p.ChannelTypes.DM&&null!=l.default.lastMessageId(o.id)){var u=o.getRecipientId();if(null!=u&&!e.has(u)){var s=d.default.getUser(u);if(null==s||s.bot||E(t,s.id))continue;return s}}}return null};t.maxAgeString=function(e,t){var n=parseInt(t,10),r=0===n,a=T[e].value;switch(T[e].type){case S:return r?v.default.Messages.INVITE_EXPIRES_MINUTES:v.default.Messages.INVITE_EXPIRES_MINUTES_OR_USES.format({numUses:n});case O:return r?v.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:a
}):v.default.Messages.INVITE_EXPIRES_HOURS_OR_USES.format({numHours:a,numUses:n});case b:return r?v.default.Messages.INVITE_EXPIRES_DAYS_PLURAL.format({numDays:a}):v.default.Messages.INVITE_EXPIRES_DAYS_OR_USES_PLURAL.format({numDays:a,numUses:n});case I:return r?v.default.Messages.INVITE_EXPIRES_NEVER:v.default.Messages.INVITE_EXPIRES_USES.format({numUses:n});default:return""}};t.urgentShareMessageString=function(e,t){if(null==e)return v.default.Messages.INVITE_MESSAGE_PLACEHOLDER.format({link:t});var n=T[e].value;switch(T[e].type){case S:return v.default.Messages.INVITE_URGENT_MINUTES_PLACEHOLDER.format({numMinutes:n,link:t});case O:return v.default.Messages.INVITE_URGENT_HOURS_MESSAGE_PLACEHOLDER.format({numHours:n,link:t});case b:return v.default.Messages.INVITE_URGENT_DAYS_MESSAGE_PLACEHOLDER.format({numDays:n,link:t});default:return v.default.Messages.INVITE_MESSAGE_PLACEHOLDER.format({link:t})}}
;var r,a,o=y(n(213192)),i=y(n(644263)),u=y(n(876874)),l=y(n(191391)),s=y(n(290629)),d=y(n(728429)),f=y(n(417501)),c=y(n(424956)),p=n(770348),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}a=n(990054);var g=(0,o.default)({GROUP_DM:null,DM:null,FRIEND:null});t.RowTypes=g;var E=function(e,t){return null!=e&&u.default.isMember(e,t)};var S="minutes",O="hours",b="days",I="never",T=((r={})[a.INVITE_OPTIONS_30_MINUTES.value]={value:30,type:S},r[a.INVITE_OPTIONS_1_HOUR.value]={value:1,type:O},r[a.INVITE_OPTIONS_6_HOURS.value]={value:6,type:O},r[a.INVITE_OPTIONS_12_HOURS.value]={value:12,type:O},r[a.INVITE_OPTIONS_1_DAY.value]={value:1,type:b},r[a.INVITE_OPTIONS_7_DAYS.value]={value:7,type:b},r[a.INVITE_OPTIONS_FOREVER.value]={value:0,type:I},r);var A={getMaxAgeOptions:a.MAX_AGE_OPTIONS,getMaxUsesOptions:a.MAX_USES_OPTIONS,INVITE_OPTIONS_FOREVER:a.INVITE_OPTIONS_FOREVER,INVITE_OPTIONS_1_DAY:a.INVITE_OPTIONS_1_DAY,
INVITE_OPTIONS_7_DAYS:a.INVITE_OPTIONS_7_DAYS,INVITE_OPTIONS_12_HOURS:a.INVITE_OPTIONS_12_HOURS,INVITE_OPTIONS_6_HOURS:a.INVITE_OPTIONS_6_HOURS,INVITE_OPTIONS_1_HOUR:a.INVITE_OPTIONS_1_HOUR,INVITE_OPTIONS_30_MINUTES:a.INVITE_OPTIONS_30_MINUTES,INVITE_OPTIONS_UNLIMITED:a.INVITE_OPTIONS_UNLIMITED,INVITE_OPTIONS_ONCE:a.INVITE_OPTIONS_ONCE,INVITE_OPTIONS_5_TIMES:a.INVITE_OPTIONS_5_TIMES,INVITE_OPTIONS_10_TIMES:a.INVITE_OPTIONS_10_TIMES,INVITE_OPTIONS_25_TIMES:a.INVITE_OPTIONS_25_TIMES,INVITE_OPTIONS_50_TIMES:a.INVITE_OPTIONS_50_TIMES,INVITE_OPTIONS_100_TIMES:a.INVITE_OPTIONS_100_TIMES};t.default=A},86997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.resolveThunk=t.default=void 0;var r,a=(r=n(496486))&&r.__esModule?r:{default:r};var o=function(e){return"function"==typeof e?e():e};t.resolveThunk=o;var i=a.default.curry((function(e,t,n){return o(t)?e(n):n({})}));t.default=i},918922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(e){var t=u(r.useState(!1),2),n=t[0],o=t[1],l=u(r.useState(null),2),s=l[0],d=l[1],f=function(){var t,n=(t=regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o(!0);d(null);t.prev=2;t.next=5;return e();case 5:n=t.sent;o(!1);d(null);return t.abrupt("return",n);case 11:t.prev=11;t.t0=t.catch(2);r=new a.APIError(t.t0);d(r);o(!1);return t.abrupt("return",null);case 17:case"end":return t.stop()}}),t,null,[[2,11]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function u(e){i(o,r,a,u,l,"next",e)}function l(e){i(o,r,a,u,l,"throw",e)}u(void 0)}))});return function(){return n.apply(this,arguments)}}();return[f,{loading:n,error:s}]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(327269);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},40856:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=c(n(496486)),i=c(n(728429)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(86997)),l=["promiseFn","resolve","reject","code","mfaCodeHandler","isModalOpen"],s=["hooks"],d=["checkEnabled"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}var y=function(){throw new Error("updateModal has not been implemented.")},m=n(546331);r=m.showModal;y=m.updateModalProps;a=n(194322).closeModal;function _(){var e,t;return null!==(e=null===(t=i.default.getCurrentUser())||void 0===t?void 0:t.mfaEnabled)&&void 0!==e&&e}
function h(e){var t=e.promiseFn,n=e.resolve,o=e.reject,i=e.confirmModalProps,u=e.hooks.onEarlyClose;if(null!=r)var l=r(c,s,i);else u();function s(){null==u||u()}function d(e){a(l);n(e)}function f(e){a(l);o(e)}function c(e){y(l,c,s,v({},i,{isLoading:!0}));return g({promiseFn:t,resolve:d,reject:f,code:e,mfaCodeHandler:p,isModalOpen:!0})}function p(e){var t=e.res;y(l,c,s,v({},i,{error:t.body.message}))}}function g(e){var t=e.promiseFn,n=e.resolve,r=e.reject,a=e.code,o=e.mfaCodeHandler,i=void 0===o?h:o,u=e.isModalOpen,s=void 0!==u&&u,d=p(e,l);return t(null!=a?{code:a}:{}).then(n,(function(e){if(function(e,t){return e.body&&60008===e.body.code||t&&429===e.status}(e,s))return i(v({promiseFn:t,resolve:n,reject:r,res:e},d));r(e)}))}var E=o.default.curry((function(e,t,n){void 0===n&&(n={});var r=n,a=r.checkEnabled,o=void 0===a?_:a;return function(e,t){var n=e.hooks,r=void 0===n?{}:n,a=p(e,s);return(0,u.default)((function(e){return new Promise((function(n,o){((0,u.resolveThunk)(t)?h:g)(v({
promiseFn:e,resolve:n,reject:o,hooks:r},a))}))}),!0)}(v({confirmModalProps:e},p(r,d)),o)(t)}),2);t.default=E},135628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.encodeTotpSecret=d;t.encodeTotpSecretAsUrl=function(e,t,n){void 0===n&&(n="Discord");return"otpauth://totp/"+encodeURI(n)+":"+encodeURI(e)+"?secret="+d(t)+"&issuer="+encodeURIComponent(n)};t.generateTotpSecret=function(){return e=function(e){void 0===e&&(e=10);return l.getRandomValues(new Uint8Array(e))}(),u.default.encode(e).toString("utf8").replace(/=/g,"").toLowerCase().replace(/(\w{4})/g,"$1 ").trim();var e};t.hasCrypto=void 0;var r,a,o,i,u=(r=n(925017))&&r.__esModule?r:{default:r};var l=null!==(a=null===(o=window)||void 0===o?void 0:o.crypto)&&void 0!==a?a:null===(i=window)||void 0===i?void 0:i.msCrypto,s=null!=l&&"getRandomValues"in l&&"Uint8Array"in window;t.hasCrypto=s;function d(e){return e.replace(/[\s._-]+/g,"").toUpperCase()}},951530:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.getRecipients=function(e,t){return(0,a.default)(e).map(t.getUser).unshift(t.getCurrentUser()).filter(o.isNotNullish).sortBy((function(e){return e.username.toLowerCase()})).value()};var r,a=(r=n(496486))&&r.__esModule?r:{default:r},o=n(71246)},522731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showAcceptedNotification=function(e){f(e,s.default.Messages.NOTIFICATION_ACCEPTED_FRIEND_REQUEST,(function(){r.default.openPrivateChannel(e.id)}))};t.showPendingNotification=function(e){f(e,s.default.Messages.NOTIFICATION_PENDING_FRIEND_REQUEST,(function(){(0,n(910992).openUserProfileModal)({userId:e.id});(0,i.transitionTo)(l.Routes.FRIENDS);a.default.setSection(l.FriendsSections.PENDING)}))};var r=d(n(709403)),a=d(n(99694)),o=d(n(969226)),i=n(139982),u=d(n(692711)),l=n(770348),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){
o.default.showNotification(u.default.getUserAvatarURL(e),e.username,t,{},{omitViewTracking:!0,omitClickTracking:!0,tag:e.id,onClick:n})}},374699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.computeFlags=function(e){var t;if(e[u.FriendSourceFlagKeys.ALL]){var n;return(n={})[u.FriendSourceFlagKeys.ALL]=!0,n[u.FriendSourceFlagKeys.FRIENDS]=!0,n[u.FriendSourceFlagKeys.GUILDS]=!0,n}return(t={})[u.FriendSourceFlagKeys.ALL]=!1,t[u.FriendSourceFlagKeys.FRIENDS]=!!e[u.FriendSourceFlagKeys.FRIENDS],t[u.FriendSourceFlagKeys.GUILDS]=!!e[u.FriendSourceFlagKeys.GUILDS],t};t.getSanitizedRestrictedGuilds=function(){var e=o.default.restrictedGuilds;0===r.default.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=a.default.getGuild(e)})));return e};t.harvestDisabled=function(e,t){if(!t.verified)return!0;if(null==e)return!1;return s>Date.now()-new Date(e.created_at).getTime()};t.trackPaneViewed=function(e,t){i.default.track(u.AnalyticEvents.SETTINGS_PANE_VIEWED,{
settings_type:"user",destination_pane:e,source:t})};var r=l(n(250650)),a=l(n(30098)),o=l(n(871778)),i=l(n(308920)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var s=864e5*u.REQUEST_DATA_LIMIT_DAYS},222234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.customRules=t.baseRules=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(120053)),u=p(n(241165)),l=p(n(226800)),s=p(n(268389)),d=p(n(151097)),f=p(n(308920)),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=i.default.defaultRules.link,E={section:c.AnalyticsSections.SETTINGS_CHANGELOG};function S(e,t){return null==t?[]:t.split(" ").map((function(t){return e[t]}))}var O=function(e){var t=e.level,n=e.children,r=e.className,i=void 0===r?null:r,u=e.styleSheet,l=void 0===u?{}:u;return a.createElement("h"+t,{className:o.default.apply(void 0,_(S(l,i)))},n)},b=s.default.defaultRules;t.baseRules=b;var I={link:{parse:function(e,t,n){
var r,a=e[2],o=a.startsWith("https://discordapp.com/nitro")||a.startsWith("https://discord.com/nitro"),i=a.startsWith("https://discordapp.com/hypesquad")||a.startsWith("https://discord.com/hypesquad");r=o||i?function(e){f.default.track(c.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:E});o?l.default.open(c.UserSettingsSections.PREMIUM):i&&l.default.open(c.UserSettingsSections.HYPESQUAD_ONLINE);n.changeLog.track(c.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"nitro"});u.default.hideChangeLog();e.preventDefault()}:function(){n&&"function"==typeof n.onLinkClick&&n.onLinkClick(a);n.changeLog.track(c.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,m({},f.default.getCampaignParams(a)))};return m({},g.parse(e,t,n),{callToAction:r})},react:function(e,t,n){return y(d.default,{href:i.default.sanitizeUrl(e.target),title:e.title,onClick:e.callToAction,target:"_blank",className:e.callToAction?"cta":void 0},n.key,t(e.content,n))}},lheading:function(e){return{react:function(t,n,r){return y(O,{
level:t.level,className:t.className,styleSheet:e},r.key,n(t.content,r))}}},heading:{react:function(e,t,n){return y(O,{level:e.level},n.key,t(e.content,n))}},image:{react:function(e,t,r){var a=n(478717)("./"+e.target);return y("img",{alt:e.alt,src:a},r.key)}},blockQuote:{react:b.blockQuote.react},paragraph:{react:function(e,t,n){return y("p",{},n.key,t(e.content,n))}}};t.customRules=I},990054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_USES_OPTIONS=t.MAX_AGE_OPTIONS=t.INVITE_OPTIONS_UNLIMITED=t.INVITE_OPTIONS_ONCE=t.INVITE_OPTIONS_FOREVER=t.INVITE_OPTIONS_7_DAYS=t.INVITE_OPTIONS_6_HOURS=t.INVITE_OPTIONS_5_TIMES=t.INVITE_OPTIONS_50_TIMES=t.INVITE_OPTIONS_30_MINUTES=t.INVITE_OPTIONS_25_TIMES=t.INVITE_OPTIONS_1_HOUR=t.INVITE_OPTIONS_1_DAY=t.INVITE_OPTIONS_12_HOURS=t.INVITE_OPTIONS_10_TIMES=t.INVITE_OPTIONS_100_TIMES=void 0;var r,a=(r=n(247001))&&r.__esModule?r:{default:r};function o(e,t){return{value:e,get label(){return t()}}}var i=o(0,(function(){
return a.default.Messages.MAX_USES.format({maxUses:0})}));t.INVITE_OPTIONS_UNLIMITED=i;var u=o(1,(function(){return a.default.Messages.MAX_USES.format({maxUses:1})}));t.INVITE_OPTIONS_ONCE=u;var l=o(5,(function(){return a.default.Messages.MAX_USES.format({maxUses:5})}));t.INVITE_OPTIONS_5_TIMES=l;var s=o(10,(function(){return a.default.Messages.MAX_USES.format({maxUses:10})}));t.INVITE_OPTIONS_10_TIMES=s;var d=o(25,(function(){return a.default.Messages.MAX_USES.format({maxUses:25})}));t.INVITE_OPTIONS_25_TIMES=d;var f=o(50,(function(){return a.default.Messages.MAX_USES.format({maxUses:50})}));t.INVITE_OPTIONS_50_TIMES=f;var c=o(100,(function(){return a.default.Messages.MAX_USES.format({maxUses:100})}));t.INVITE_OPTIONS_100_TIMES=c;var p=[i,u,l,s,d,f,c];t.MAX_USES_OPTIONS=p;var v=o(1800,(function(){return a.default.Messages.DURATION_MINUTES.format({minutes:30})}));t.INVITE_OPTIONS_30_MINUTES=v;var y=o(3600,(function(){return a.default.Messages.DURATION_HOURS.format({hours:1})}))
;t.INVITE_OPTIONS_1_HOUR=y;var m=o(21600,(function(){return a.default.Messages.DURATION_HOURS.format({hours:6})}));t.INVITE_OPTIONS_6_HOURS=m;var _=o(43200,(function(){return a.default.Messages.DURATION_HOURS.format({hours:12})}));t.INVITE_OPTIONS_12_HOURS=_;var h=o(86400,(function(){return a.default.Messages.DURATION_DAYS.format({days:1})}));t.INVITE_OPTIONS_1_DAY=h;var g=o(604800,(function(){return a.default.Messages.DURATION_DAYS.format({days:7})}));t.INVITE_OPTIONS_7_DAYS=g;var E=o(0,(function(){return a.default.Messages.MAX_AGE_NEVER}));t.INVITE_OPTIONS_FOREVER=E;var S=[v,y,m,_,h,g,E];t.MAX_AGE_OPTIONS=S},546331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showModal=function(e,t,n){return(0,i.openModal)(s(e,t,n))};t.updateModalProps=function(e,t,n,r){return(0,i.updateModal)(e,s(t,n,r))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(410671))&&r.__esModule?r:{default:r},i=n(194322);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s=function(e,t,n){return function(r){return a.createElement(o.default,l({handleSubmit:e,handleEarlyClose:t},n,r))}}},145911:(e,t,n)=>{e.exports=n.p+"e92599c3548209f77ec833c649f8939a.svg"},697694:(e,t,n)=>{e.exports=n.p+"87f8416faec0691b96525d0bb3027809.svg"},684795:(e,t,n)=>{
e.exports=n.p+"dca6464b06c48b1fab5f2e8320446b32.mp4"},662325:(e,t,n)=>{e.exports=n.p+"ae046b62e28bb1ec1fbdde8185d32b9e.mp4"},15176:(e,t,n)=>{e.exports=n.p+"19ee7a767639c0af819b5976b493e9d8.png"},788557:(e,t,n)=>{e.exports=n.p+"230cd026d4bfdeb914b266938cc506a1.jpg"},22625:(e,t,n)=>{e.exports=n.p+"7f34e6e3da7d1403bad96e20b9b3a32c.mp4"},603628:(e,t,n)=>{e.exports=n.p+"7c2b742b0f9040988b4bb4e351fdedb9.mp4"},879334:(e,t,n)=>{e.exports=n.p+"7f73b3e68d81916d67cc58a3deeca567.mp4"},133650:(e,t,n)=>{e.exports=n.p+"abaa70ae2be9f361759c60b2ee85ff12.png"},631896:(e,t,n)=>{e.exports=n.p+"3522a06815d204da075ffda2431ef7f2.png"},931806:(e,t,n)=>{e.exports=n.p+"9acacf43b5dddb33196fa60a4a6c6b2f.jpg"},425058:(e,t,n)=>{e.exports=n.p+"d6a1cc0cb7f729ae421d609d72839816.mp4"},428915:(e,t,n)=>{e.exports=n.p+"1b9af825f3ccd5ffdf9580e338d4e5e7.png"},561323:(e,t,n)=>{e.exports=n.p+"bb867095876d3f6d81cc12e745ee9f58.png"},949223:(e,t,n)=>{e.exports=n.p+"8a5c84a9635d7e691e9276ff7ddfab31.svg"},412466:(e,t,n)=>{
e.exports=n.p+"6b1abb79089f84d154f8a248dfb90b46.svg"},226586:(e,t,n)=>{e.exports=n.p+"0251a4f9294a3617de380fe28c486932.svg"},373135:(e,t,n)=>{e.exports=n.p+"fbef95afb1a9c8cf52e941375c360491.svg"},361850:(e,t,n)=>{e.exports=n.p+"06d8e21539e634cbc0f2ecf38f1bb2bb.svg"},15808:(e,t,n)=>{e.exports=n.p+"fe875f7f2f0c4869d155e7e487f570f2.png"},227227:(e,t,n)=>{e.exports=n.p+"7f9b927507a1c9321da58ab0fafffcd0.png"},999455:(e,t,n)=>{e.exports=n.p+"1c3ba8528a8f16c8cf0c55e286010420.png"},678811:(e,t,n)=>{e.exports=n.p+"831ba24f72b89cc77c325317372b7239.png"},236340:(e,t,n)=>{e.exports=n.p+"3785e11ebe8fdcd64db5bb49f2e5299d.png"},359546:(e,t,n)=>{e.exports=n.p+"506bf478f5e1a271a27b673e6f25749a.png"},35448:(e,t,n)=>{e.exports=n.p+"07d9032e5d30865e0cc076396f0b027a.png"},404252:(e,t,n)=>{e.exports=n.p+"9d402086959fccbf418074a4b96f6d19.jpg"},123451:(e,t,n)=>{e.exports=n.p+"9f65387c814dd4cb5aff4e4e1e7e0446.svg"},16697:(e,t,n)=>{e.exports=n.p+"ed2007aab2da31a5436e70a28b4d59f9.svg"},105045:(e,t,n)=>{
e.exports=n.p+"7ad95b56788fc31c3e5eec667129ba68.svg"},128112:(e,t,n)=>{e.exports=n.p+"9ae90b4dd4d7e4ddd9c8935dae4e87c4.svg"},876406:(e,t,n)=>{e.exports=n.p+"a92681efceabc4ee91964a7cef2571cf.svg"},921912:(e,t,n)=>{e.exports=n.p+"350e1c6739823620f031d023a48ac9d4.svg"},964766:(e,t,n)=>{e.exports=n.p+"3123277eb2e7083fde983985dcd209a6.svg"},3874:(e,t,n)=>{e.exports=n.p+"c115d59ca13c0f942965a82a0f05bf01.svg"},302255:(e,t,n)=>{e.exports=n.p+"ad530d02033b87bb89752f915c2fbe3c.svg"},117399:(e,t,n)=>{e.exports=n.p+"f1e026332f1d6e902bcbbc07892bc849.svg"},408056:(e,t,n)=>{e.exports=n.p+"fd65da49c3073002049383baeb24e658.svg"},498913:(e,t,n)=>{e.exports=n.p+"beec347635d7597215747fcaf461e569.svg"},598150:(e,t,n)=>{e.exports=n.p+"9581653a5a4d0b7b56187044a9db301a.svg"},656470:(e,t,n)=>{e.exports=n.p+"12d9bda733d6432d605e8011c22c3e56.svg"},789885:(e,t,n)=>{e.exports=n.p+"8de4b17bb44ad5ef9f21f2f6f16aa8d1.svg"},937849:(e,t,n)=>{e.exports=n.p+"96ad9c7f6f636a7fb2028e2a07847776.svg"},772144:(e,t,n)=>{
e.exports=n.p+"ef3a1ed683cfcf029971b12a26462072.svg"},492623:(e,t,n)=>{e.exports=n.p+"8c998f8fb62016fcfb4901e424ff378b.svg"},399898:(e,t,n)=>{e.exports=n.p+"645df33d735507f39c78ce0cac7437f0.svg"},74700:(e,t,n)=>{e.exports=n.p+"b5eb2f7d6b3f8cc9b60be4a5dcf28015.svg"},607603:(e,t,n)=>{e.exports=n.p+"02625ee29f851ec588c2020a88d82665.svg"},376354:(e,t,n)=>{e.exports=n.p+"b36de980b174d7b798c89f35c116e5c6.svg"},688224:(e,t,n)=>{e.exports=n.p+"fd879a28807b66b38d54e7db6ea18a69.svg"},96972:(e,t,n)=>{e.exports=n.p+"b36c705f790dad253981f1893085015a.svg"},540579:(e,t,n)=>{e.exports=n.p+"36c9a2fb7d0593a581a92373121c2848.svg"},572274:(e,t,n)=>{e.exports=n.p+"c8aeec4a5ee16aa9214b994f7355fea0.svg"},709804:(e,t,n)=>{e.exports=n.p+"37cf72199c4e106407223a1edaf34460.svg"},392544:(e,t,n)=>{e.exports=n.p+"55b367aaef0b83c837ac6c3bfe01da4c.svg"},350672:(e,t,n)=>{e.exports=n.p+"6e97f6643e7df29b26571d96430e92f4.svg"},24264:(e,t,n)=>{e.exports=n.p+"55b941d7bba0d84f06c05db34b7c9aab.svg"},874638:(e,t,n)=>{
e.exports=n.p+"187bc0709ea0cecffe622a50993d012c.svg"},956863:(e,t,n)=>{e.exports=n.p+"c096c74c5685ce049b779f7ce3591bab.svg"},947079:(e,t,n)=>{e.exports=n.p+"3fba9b3d08682f3ce0344e289fe668cb.svg"},903049:(e,t,n)=>{e.exports=n.p+"d5d75eacea4086ed5f38048b74851f43.svg"},188374:(e,t,n)=>{e.exports=n.p+"42b60052f80abd9c2bdd8fc24cf97988.svg"},789621:(e,t,n)=>{e.exports=n.p+"9167182d6b74446a1c818615c135c289.svg"},273361:(e,t,n)=>{e.exports=n.p+"67430d140a79af95585a19d304731dc5.svg"},129428:(e,t,n)=>{e.exports=n.p+"d6779172ed9209b5ad49df923ea7820c.svg"},566300:(e,t,n)=>{e.exports=n.p+"c11b69c74029b5deaca9ca7ce1e987b1.svg"},235920:(e,t,n)=>{e.exports=n.p+"23e073eb0ee21f94de11e5d0a7eec50e.svg"},200824:(e,t,n)=>{e.exports=n.p+"f69210154879227d0ede0308465cf388.svg"},389515:(e,t,n)=>{e.exports=n.p+"816e71b3225c71bc105db7209fb4b796.svg"},785538:(e,t,n)=>{e.exports=n.p+"7866fb01d8b75b6fe9e6591373a0ddf2.svg"},534413:(e,t,n)=>{e.exports=n.p+"e73889dfe6cc46c9161dd9c1d19cc5ca.svg"},182105:(e,t,n)=>{
e.exports=n.p+"109dff8689b0dcedc5485a0b26c647f2.svg"},727869:(e,t,n)=>{e.exports=n.p+"5e690f4c63a19a36bff7f6364eaa6ea2.svg"},10439:(e,t,n)=>{e.exports=n.p+"fda43f574092d89177a4412046f51c44.svg"},680664:(e,t,n)=>{e.exports=n.p+"41a1814ec63404eb722ce88d1c28b4f4.png"},396448:(e,t,n)=>{e.exports=n.p+"8e5a6ee1fce31ef5c5800b7646a94d98.png"},755645:(e,t,n)=>{e.exports=n.p+"6f35b2fc488e26dc1d56b253d01c7b75.svg"},928793:(e,t,n)=>{e.exports=n.p+"99c599a00313a16fa4babba64d461f34.svg"},324752:(e,t,n)=>{e.exports=n.p+"6ac195d9605dfb0719e73f002fad38a8.svg"},655916:(e,t,n)=>{e.exports=n.p+"c998fecc59ff94fe8e8e7f3557586c07.svg"},315879:(e,t,n)=>{e.exports=n.p+"255b326a18a4f8a078c90e6c35f6013b.svg"},80210:(e,t,n)=>{e.exports=n.p+"3ed9c7cdbea131bc485afa998a5ec93e.svg"},333993:(e,t,n)=>{e.exports=n.p+"1a23068e966efce6fb32ca9fecc65eed.svg"},694111:(e,t,n)=>{e.exports=n.p+"4aebeb85413bf3414671b2c138463909.svg"},350115:(e,t,n)=>{e.exports=n.p+"d3bb5f3e5859cc8735a9d87121efb72a.svg"},942473:(e,t,n)=>{
e.exports=n.p+"887423e438a9b6dcb31a73d597c11a84.svg"},479307:(e,t,n)=>{e.exports=n.p+"53a7243150bf05759b81a208b87d3dc5.svg"},987601:(e,t,n)=>{e.exports=n.p+"d61d4aa409613f4dcfb6163ef0d739de.svg"},192941:(e,t,n)=>{e.exports=n.p+"0d16e62fc3a84fc7e76b06584b646df9.svg"},232353:(e,t,n)=>{e.exports=n.p+"acb954ff414b98380056308d56efcbfd.svg"},802566:(e,t,n)=>{e.exports=n.p+"16770cd8548bce331bed7218db02fb4f.svg"},484771:(e,t,n)=>{e.exports=n.p+"7de1e682a4fbf1483ad81f3872e5a9b2.png"},404024:(e,t,n)=>{e.exports=n.p+"ed28635ce7d107f1a8b04379d009dd41.svg"},764728:(e,t,n)=>{e.exports=n.p+"cc6c3c95c28acf328b6173383ddb3b61.svg"},934104:(e,t,n)=>{e.exports=n.p+"5113924998ee17c4f43a65b8cf2d0153.svg"},946137:(e,t,n)=>{e.exports=n.p+"a8007d2ecb3aec65119698bff7052451.svg"},692760:(e,t,n)=>{e.exports=n.p+"a50c50c963aab21b5c3d58e7fd06664e.svg"},698242:(e,t,n)=>{e.exports=n.p+"f3767d455e70dcdd1c8a3102e42c6d34.svg"},483683:(e,t,n)=>{e.exports=n.p+"72db7a1fbe5d3c861fe63c26f634b5d2.svg"},63685:(e,t,n)=>{
e.exports=n.p+"a4e25b25c89b862150e6eeb520e67dd5.svg"},634737:(e,t,n)=>{e.exports=n.p+"8d224aa39e763dff664f330fdadeda3e.svg"},302147:(e,t,n)=>{e.exports=n.p+"da49b3a1b7e3f163d69aff38bf33609d.svg"},691634:(e,t,n)=>{e.exports=n.p+"2ebbb7dbd17b154a625b58b33738fc85.svg"},998240:(e,t,n)=>{e.exports=n.p+"3224278ae6dc432b7fbc0fc90b54686e.svg"},705206:(e,t,n)=>{e.exports=n.p+"984b386302bacf7fb81985ab31c5beec.png"},567012:(e,t,n)=>{e.exports=n.p+"a9efd5e06b5616d39a6ee4232211f9b0.svg"},862470:(e,t,n)=>{e.exports=n.p+"dd1ac77c281d77cfa4061925981469e2.svg"},140577:(e,t,n)=>{e.exports=n.p+"f106eb8ea1d67c1028cb37db383c6f58.svg"},140561:(e,t,n)=>{e.exports=n.p+"eeacc28d3c62a7cf1154a2bc11968ad8.svg"},237018:(e,t,n)=>{e.exports=n.p+"6ac195d9605dfb0719e73f002fad38a8.svg"},172087:(e,t,n)=>{e.exports=n.p+"fc607b29b7d1dd57307a26b002c50674.svg"},20278:(e,t,n)=>{e.exports=n.p+"eb47171e918604c7f7e861e94708f19f.svg"},545292:(e,t,n)=>{e.exports=n.p+"3294183db720bd0985871f6aa43e6e28.png"},854794:(e,t,n)=>{
e.exports=n.p+"07de3733e48397a3e9086e37a9cb0dac.svg"},524268:(e,t,n)=>{e.exports=n.p+"2e16625f6f55b96572f79cc35682266f.png"},950737:(e,t,n)=>{e.exports=n.p+"3be860e37bf5f2df40ad15d2de5cee0e.png"},31890:(e,t,n)=>{e.exports=n.p+"c23a59030cd2583c8b8ae0e85bc99737.svg"},222917:(e,t,n)=>{e.exports=n.p+"ec499e7dcc451566caeda997fa9265db.svg"},153996:(e,t,n)=>{e.exports=n.p+"e3da44ce48e0ff29426d0cfb99c2580c.svg"},742918:(e,t,n)=>{e.exports=n.p+"05d41aa7d58d190b8f7944755540c09d.svg"},767779:e=>{"use strict"
;e.exports=JSON.parse('{"v":"5.9.0","fr":60,"ip":0,"op":240,"w":1080,"h":1080,"nm":"Animation","ddd":0,"assets":[{"id":"image_0","w":32,"h":32,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAABAAAAAQBPJcTWAAAAJHpUWHRDcmVhdG9yAAAImXNMyU9KVXBMK0ktUnBNS0tNLikGAEF6Bs5qehXFAAAGTElEQVRYhaWXfWxT1xXAf/f5PX/HduLEXhJI3NCEEEgIyRgLbTNgMFZR2q5i6kDTlE5bpzL2B1q7DU2LYFIV1GnatM92rKOtQKwqg1ZD07RVLbCOUgpFjI5QoISgdCQEO05C7Nh+fnd/2AmOP2KgR3p/PN17zvmdc8899164JQLoBB4DSvn04gJeASLAOWB1MYUfAkb6CwFbANNdOhfAa4DM+MaAewopWIDhLAUJvJGO5E7ls0Ayj73n0nA5UkMq8mwFCZwqKaH8DpwL4OcFbH0EKPmUKoB4PiVFIHdurjnS1RWw3iaAknaUY8tqVvT5c6kqRH0pn9Jvn64z5NEO2XewfTcF0pclPrLSLwRyw0qvcWHfkuTbv697KJt2Sg7NIBKw86lauflhvwAIlJu7Dj83b8ttACyaAlVNgkcfKJMn/9giX9vRIOqrrYrHWbIqH4AE/pw58Myman7wtapbEUv4QofvZy9tm39fEYC5qknw+OpyeXxXszzw7HzRVu+YttNa67g/HwDAe0AfwBPrfLLnOzWI7IRLLI90ul/pecpdsE90rfPNO/PyYvZ114v2ex05JkC2rm+vsucDkMDe9ctL5QtP14m8pQp4HKa6Hz1S+xsK1EPX2vLqphpbHsdpEWgbGvTF+QD45v3+3Xu2NyQ0U5Faczg2HtgxZ1O+ISnE7M1LQssXPUvyAvzpnaG+UFS+OLt3QCK+smrur7d+w1udPSQgVkw9PKE2M1Wo2ab/dXpiZ2C1uwtD2opAlP7k63Uvrl8891eKMjwi/dpIX78RdzuUcDGA1kbnggzgHBF9+1r3BqptG4sZIlU3qTwKkbImgaScfQ0Vhna8+W7V9u0YObW2dSvW8KSRk9oCIgCBgSApBboURZ2nsD1cCbggawmefBKte83SvR6n2nmbAHcnQpg9vrgfCM8A2PblhT/1ONVHp/5PnL/Jh1eifL7JSVPN7CVxLZTgn6dG8ZVqrGlzYyq0j9PS7Ld5ISMDW9e67g1UuL6PTNXF/qMhHu/+CMMATRUc7Glk3TJPXmPXwwmWPHGGoZEEAN962M8fnqlDyALepRTCavsM3NqGovt7jduQaKk/2H1oiEqvmcO/a6bCrfH8wcGCR9Ghf48wHNZ5qbuer670sufvw4QnkoXDl0ihGBXTGdj1rM/n8aibCNrhhgs8EcajBl8K1NMeXskvlnQwkPwfRmwcxRyfYUsPljIvVEdP6+dY77Yy1niMA0dCxPRC4acZksIP6W5/+tWF3251+l/g6AJBuog/njAoGWqZEbRim8T14BG0OYPIuMb4Wx3ELsy8ZSXMN+lv20+HswaCTvCOw4JPyF6Pw2dHn1/53XObFUCUqpYHCDmnnScm7biynAMYUSujh1ahBz2Mvr4mxzmAFney8OJDcNkHo3a47IdPynLmreiwlgJSAaj1WxZREp0ejIwWvoHJuEZ4/4MkBisKzomFvMjMFjOp5U6aMPuA9KGnCDdlN6HtMswJosfsuQqZEDHzrONIgR5P3+BMBvjzdGeppBpRemVSIFUjUB2Ck8tAzz4m7kxky1VwjkHpBNjiuRNMWAAUASAZzaQ3BwY+lXOERK2+ngoon3MAQ+qQjrx/cPJC5ph96X8Qqn7X/i3zrqI4osWmjUOqD8iRWPRkLZYNpFuNyT2OffVRBt6sImq6jpAmPHoDNmNm4RnohLRzxJQQqnTg1utwOK04VxwvCtl/LXJlCoC+Pv7WWkMPRgpg4FKUix+cImZ7H8UkkAZck8doiGzEmZwzbeRj218YU69gUgVJHQYsb+GrdNKEHWv+98eUyNC4cgaQKsBjP+7978g/2o67NPPys++Mcu3yJJ4KjeZON95KC/GYwfG/BhnWP8AZTQFElWHG1D4al7kINDmIRQ36eyP0fzjBsTcitK7yUOYvsFsUofefv/E6ZDw+V7Rab4z16huvX43RsLSERfe5cbhUhEjd78NBnUgIyhOp+2TENEjQ1MuiTjeapqBqAm+lGX/AxvBAjKu9EVzlGg5X1m4SyL6w9svlW86+Or0EAMETiXaLV7nUssITrazLfYUpAoulcmTCUf3+ZOz0wgpbyc2ENak4ZHL6RQ2A021i2bpyzrw9op5/d0za15ZFHG5TqqKTcuzgieCefe9d3DU1//+b0DlkUIJINgAAAABJRU5ErkJggg==","e":1}],"layers":[{"ddd":0,"ind":1,"ty":2,"nm":"639883910326779924.png","cl":"png","refId":"image_0","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":141,"s":[100]},{"t":200,"s":[0]}],"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":238,"s":[360]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[309.183,1445.362,0],"to":[38.501,-218.464,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":106.408,"s":[540.192,134.581,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":211,"s":[665.067,1436.858,0],"to":[0,0,0],"ti":[0,0,0]},{"t":217,"s":[641.067,1454.858,0]}],"ix":2,"l":2},"a":{"a":0,"k":[16,16,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":2,"nm":"639883910326779924.png","cl":"png","refId":"image_0","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":133,"s":[100]},{"t":180,"s":[0]}],"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":238,"s":[360]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":20,"s":[385.183,1435.362,0],"to":[38.501,-218.464,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":126.408,"s":[616.192,124.581,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":231,"s":[741.067,1426.858,0],"to":[0,0,0],"ti":[0,0,0]},{"t":237,"s":[717.067,1444.858,0]}],"ix":2,"l":2},"a":{"a":0,"k":[16,16,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":2,"nm":"639883910326779924.png","cl":"png","refId":"image_0","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":161,"s":[100]},{"t":195,"s":[0]}],"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":238,"s":[360]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":11,"s":[385.183,1435.362,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":116.762,"s":[556.192,130.581,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":222,"s":[741.067,1426.858,0],"to":[0,0,0],"ti":[0,0,0]},{"t":237,"s":[717.067,1444.858,0]}],"ix":2,"l":2},"a":{"a":0,"k":[16,16,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":240,"st":0,"bm":0}],"markers":[]}')
}}]);
//# sourceMappingURL=6c3e8b3e0ca315e9de92.js.map